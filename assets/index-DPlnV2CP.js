var rC=Object.defineProperty;var q_=u=>{throw TypeError(u)};var oC=(u,t,e)=>t in u?rC(u,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):u[t]=e;var xt=(u,t,e)=>oC(u,typeof t!="symbol"?t+"":t,e),eb=(u,t,e)=>t.has(u)||q_("Cannot "+e);var h=(u,t,e)=>(eb(u,t,"read from private field"),e?e.call(u):t.get(u)),x=(u,t,e)=>t.has(u)?q_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(u):t.set(u,e),E=(u,t,e,s)=>(eb(u,t,"write to private field"),s?s.call(u,e):t.set(u,e),e),w=(u,t,e)=>(eb(u,t,"access private method"),e);var En=(u,t,e,s)=>({set _(r){E(u,t,r,e)},get _(){return h(u,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function $E(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var nb={exports:{}},uh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function lC(){if(G_)return uh;G_=1;var u=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var d in r)d!=="key"&&(o[d]=r[d])}else o=r;return r=o.ref,{$$typeof:u,type:s,key:c,ref:r!==void 0?r:null,props:o}}return uh.Fragment=t,uh.jsx=e,uh.jsxs=e,uh}var V_;function cC(){return V_||(V_=1,nb.exports=lC()),nb.exports}var N=cC(),ib={exports:{}},Nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function uC(){if(X_)return Nt;X_=1;var u=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.iterator;function v(L){return L===null||typeof L!="object"?null:(L=b&&L[b]||L["@@iterator"],typeof L=="function"?L:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,T={};function C(L,Q,lt){this.props=L,this.context=Q,this.refs=T,this.updater=lt||S}C.prototype.isReactComponent={},C.prototype.setState=function(L,Q){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Q,"setState")},C.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function M(){}M.prototype=C.prototype;function O(L,Q,lt){this.props=L,this.context=Q,this.refs=T,this.updater=lt||S}var k=O.prototype=new M;k.constructor=O,_(k,C.prototype),k.isPureReactComponent=!0;var H=Array.isArray,j={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function I(L,Q,lt,at,st,_t){return lt=_t.ref,{$$typeof:u,type:L,key:Q,ref:lt!==void 0?lt:null,props:_t}}function X(L,Q){return I(L.type,Q,void 0,void 0,void 0,L.props)}function G(L){return typeof L=="object"&&L!==null&&L.$$typeof===u}function nt(L){var Q={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(lt){return Q[lt]})}var it=/\/+/g;function ut(L,Q){return typeof L=="object"&&L!==null&&L.key!=null?nt(""+L.key):Q.toString(36)}function ht(){}function dt(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(ht,ht):(L.status="pending",L.then(function(Q){L.status==="pending"&&(L.status="fulfilled",L.value=Q)},function(Q){L.status==="pending"&&(L.status="rejected",L.reason=Q)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function mt(L,Q,lt,at,st){var _t=typeof L;(_t==="undefined"||_t==="boolean")&&(L=null);var pt=!1;if(L===null)pt=!0;else switch(_t){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(L.$$typeof){case u:case t:pt=!0;break;case m:return pt=L._init,mt(pt(L._payload),Q,lt,at,st)}}if(pt)return st=st(L),pt=at===""?"."+ut(L,0):at,H(st)?(lt="",pt!=null&&(lt=pt.replace(it,"$&/")+"/"),mt(st,Q,lt,"",function(Vt){return Vt})):st!=null&&(G(st)&&(st=X(st,lt+(st.key==null||L&&L.key===st.key?"":(""+st.key).replace(it,"$&/")+"/")+pt)),Q.push(st)),1;pt=0;var Et=at===""?".":at+":";if(H(L))for(var Dt=0;Dt<L.length;Dt++)at=L[Dt],_t=Et+ut(at,Dt),pt+=mt(at,Q,lt,_t,st);else if(Dt=v(L),typeof Dt=="function")for(L=Dt.call(L),Dt=0;!(at=L.next()).done;)at=at.value,_t=Et+ut(at,Dt++),pt+=mt(at,Q,lt,_t,st);else if(_t==="object"){if(typeof L.then=="function")return mt(dt(L),Q,lt,at,st);throw Q=String(L),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return pt}function K(L,Q,lt){if(L==null)return L;var at=[],st=0;return mt(L,at,"","",function(_t){return Q.call(lt,_t,st++)}),at}function W(L){if(L._status===-1){var Q=L._result;Q=Q(),Q.then(function(lt){(L._status===0||L._status===-1)&&(L._status=1,L._result=lt)},function(lt){(L._status===0||L._status===-1)&&(L._status=2,L._result=lt)}),L._status===-1&&(L._status=0,L._result=Q)}if(L._status===1)return L._result.default;throw L._result}var tt=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Tt(){}return Nt.Children={map:K,forEach:function(L,Q,lt){K(L,function(){Q.apply(this,arguments)},lt)},count:function(L){var Q=0;return K(L,function(){Q++}),Q},toArray:function(L){return K(L,function(Q){return Q})||[]},only:function(L){if(!G(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Nt.Component=C,Nt.Fragment=e,Nt.Profiler=r,Nt.PureComponent=O,Nt.StrictMode=s,Nt.Suspense=p,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Nt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Nt.cache=function(L){return function(){return L.apply(null,arguments)}},Nt.cloneElement=function(L,Q,lt){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var at=_({},L.props),st=L.key,_t=void 0;if(Q!=null)for(pt in Q.ref!==void 0&&(_t=void 0),Q.key!==void 0&&(st=""+Q.key),Q)!B.call(Q,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&Q.ref===void 0||(at[pt]=Q[pt]);var pt=arguments.length-2;if(pt===1)at.children=lt;else if(1<pt){for(var Et=Array(pt),Dt=0;Dt<pt;Dt++)Et[Dt]=arguments[Dt+2];at.children=Et}return I(L.type,st,void 0,void 0,_t,at)},Nt.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},Nt.createElement=function(L,Q,lt){var at,st={},_t=null;if(Q!=null)for(at in Q.key!==void 0&&(_t=""+Q.key),Q)B.call(Q,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(st[at]=Q[at]);var pt=arguments.length-2;if(pt===1)st.children=lt;else if(1<pt){for(var Et=Array(pt),Dt=0;Dt<pt;Dt++)Et[Dt]=arguments[Dt+2];st.children=Et}if(L&&L.defaultProps)for(at in pt=L.defaultProps,pt)st[at]===void 0&&(st[at]=pt[at]);return I(L,_t,void 0,void 0,null,st)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(L){return{$$typeof:d,render:L}},Nt.isValidElement=G,Nt.lazy=function(L){return{$$typeof:m,_payload:{_status:-1,_result:L},_init:W}},Nt.memo=function(L,Q){return{$$typeof:g,type:L,compare:Q===void 0?null:Q}},Nt.startTransition=function(L){var Q=j.T,lt={};j.T=lt;try{var at=L(),st=j.S;st!==null&&st(lt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Tt,tt)}catch(_t){tt(_t)}finally{j.T=Q}},Nt.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Nt.use=function(L){return j.H.use(L)},Nt.useActionState=function(L,Q,lt){return j.H.useActionState(L,Q,lt)},Nt.useCallback=function(L,Q){return j.H.useCallback(L,Q)},Nt.useContext=function(L){return j.H.useContext(L)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(L,Q){return j.H.useDeferredValue(L,Q)},Nt.useEffect=function(L,Q){return j.H.useEffect(L,Q)},Nt.useId=function(){return j.H.useId()},Nt.useImperativeHandle=function(L,Q,lt){return j.H.useImperativeHandle(L,Q,lt)},Nt.useInsertionEffect=function(L,Q){return j.H.useInsertionEffect(L,Q)},Nt.useLayoutEffect=function(L,Q){return j.H.useLayoutEffect(L,Q)},Nt.useMemo=function(L,Q){return j.H.useMemo(L,Q)},Nt.useOptimistic=function(L,Q){return j.H.useOptimistic(L,Q)},Nt.useReducer=function(L,Q,lt){return j.H.useReducer(L,Q,lt)},Nt.useRef=function(L){return j.H.useRef(L)},Nt.useState=function(L){return j.H.useState(L)},Nt.useSyncExternalStore=function(L,Q,lt){return j.H.useSyncExternalStore(L,Q,lt)},Nt.useTransition=function(){return j.H.useTransition()},Nt.version="19.0.0",Nt}var Y_;function Cg(){return Y_||(Y_=1,ib.exports=uC()),ib.exports}var J=Cg(),sb={exports:{}},hh={},ab={exports:{}},rb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function hC(){return K_||(K_=1,function(u){function t(K,W){var tt=K.length;K.push(W);t:for(;0<tt;){var Tt=tt-1>>>1,L=K[Tt];if(0<r(L,W))K[Tt]=W,K[tt]=L,tt=Tt;else break t}}function e(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var W=K[0],tt=K.pop();if(tt!==W){K[0]=tt;t:for(var Tt=0,L=K.length,Q=L>>>1;Tt<Q;){var lt=2*(Tt+1)-1,at=K[lt],st=lt+1,_t=K[st];if(0>r(at,tt))st<L&&0>r(_t,at)?(K[Tt]=_t,K[st]=tt,Tt=st):(K[Tt]=at,K[lt]=tt,Tt=lt);else if(st<L&&0>r(_t,tt))K[Tt]=_t,K[st]=tt,Tt=st;else break t}}return W}function r(K,W){var tt=K.sortIndex-W.sortIndex;return tt!==0?tt:K.id-W.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;u.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();u.unstable_now=function(){return c.now()-d}}var p=[],g=[],m=1,b=null,v=3,S=!1,_=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function k(K){for(var W=e(g);W!==null;){if(W.callback===null)s(g);else if(W.startTime<=K)s(g),W.sortIndex=W.expirationTime,t(p,W);else break;W=e(g)}}function H(K){if(T=!1,k(K),!_)if(e(p)!==null)_=!0,dt();else{var W=e(g);W!==null&&mt(H,W.startTime-K)}}var j=!1,B=-1,I=5,X=-1;function G(){return!(u.unstable_now()-X<I)}function nt(){if(j){var K=u.unstable_now();X=K;var W=!0;try{t:{_=!1,T&&(T=!1,M(B),B=-1),S=!0;var tt=v;try{e:{for(k(K),b=e(p);b!==null&&!(b.expirationTime>K&&G());){var Tt=b.callback;if(typeof Tt=="function"){b.callback=null,v=b.priorityLevel;var L=Tt(b.expirationTime<=K);if(K=u.unstable_now(),typeof L=="function"){b.callback=L,k(K),W=!0;break e}b===e(p)&&s(p),k(K)}else s(p);b=e(p)}if(b!==null)W=!0;else{var Q=e(g);Q!==null&&mt(H,Q.startTime-K),W=!1}}break t}finally{b=null,v=tt,S=!1}W=void 0}}finally{W?it():j=!1}}}var it;if(typeof O=="function")it=function(){O(nt)};else if(typeof MessageChannel<"u"){var ut=new MessageChannel,ht=ut.port2;ut.port1.onmessage=nt,it=function(){ht.postMessage(null)}}else it=function(){C(nt,0)};function dt(){j||(j=!0,it())}function mt(K,W){B=C(function(){K(u.unstable_now())},W)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(K){K.callback=null},u.unstable_continueExecution=function(){_||S||(_=!0,dt())},u.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<K?Math.floor(1e3/K):5},u.unstable_getCurrentPriorityLevel=function(){return v},u.unstable_getFirstCallbackNode=function(){return e(p)},u.unstable_next=function(K){switch(v){case 1:case 2:case 3:var W=3;break;default:W=v}var tt=v;v=W;try{return K()}finally{v=tt}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(K,W){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var tt=v;v=K;try{return W()}finally{v=tt}},u.unstable_scheduleCallback=function(K,W,tt){var Tt=u.unstable_now();switch(typeof tt=="object"&&tt!==null?(tt=tt.delay,tt=typeof tt=="number"&&0<tt?Tt+tt:Tt):tt=Tt,K){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=tt+L,K={id:m++,callback:W,priorityLevel:K,startTime:tt,expirationTime:L,sortIndex:-1},tt>Tt?(K.sortIndex=tt,t(g,K),e(p)===null&&K===e(g)&&(T?(M(B),B=-1):T=!0,mt(H,tt-Tt))):(K.sortIndex=L,t(p,K),_||S||(_=!0,dt())),K},u.unstable_shouldYield=G,u.unstable_wrapCallback=function(K){var W=v;return function(){var tt=v;v=W;try{return K.apply(this,arguments)}finally{v=tt}}}}(rb)),rb}var $_;function dC(){return $_||($_=1,ab.exports=hC()),ab.exports}var ob={exports:{}},hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function fC(){if(W_)return hn;W_=1;var u=Cg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)g+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(p,g,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:p,containerInfo:g,implementation:m}}var c=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,hn.createPortal=function(p,g){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(p,g,null,m)},hn.flushSync=function(p){var g=c.T,m=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=m,s.d.f()}},hn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},hn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},hn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var m=g.as,b=d(m,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;m==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:S}):m==="script"&&s.d.X(p,{crossOrigin:b,integrity:v,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},hn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var m=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},hn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var m=g.as,b=d(m,g.crossOrigin);s.d.L(p,m,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},hn.preloadModule=function(p,g){if(typeof p=="string")if(g){var m=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},hn.requestFormReset=function(p){s.d.r(p)},hn.unstable_batchedUpdates=function(p,g){return p(g)},hn.useFormState=function(p,g,m){return c.H.useFormState(p,g,m)},hn.useFormStatus=function(){return c.H.useHostTransitionStatus()},hn.version="19.0.0",hn}var Q_;function pC(){if(Q_)return ob.exports;Q_=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(t){console.error(t)}}return u(),ob.exports=fC(),ob.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function gC(){if(Z_)return hh;Z_=1;var u=dC(),t=Cg(),e=pC();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var o=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),S=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),H=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=j&&n[j]||n["@@iterator"],typeof n=="function"?n:null)}var I=Symbol.for("react.client.reference");function X(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===I?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case d:return"Portal";case m:return"Profiler";case g:return"StrictMode";case T:return"Suspense";case C:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case S:return(n.displayName||"Context")+".Provider";case v:return(n._context.displayName||"Context")+".Consumer";case _:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return i=n.displayName||null,i!==null?i:X(n.type)||"Memo";case O:i=n._payload,n=n._init;try{return X(n(i))}catch{}}return null}var G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=Object.assign,it,ut;function ht(n){if(it===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);it=i&&i[1]||"",ut=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+n+ut}var dt=!1;function mt(n,i){if(!n||dt)return"";dt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Y){var q=Y}Reflect.construct(n,[],et)}else{try{et.call()}catch(Y){q=Y}n.call(et.prototype)}}else{try{throw Error()}catch(Y){q=Y}(et=n())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(Y){if(Y&&q&&typeof Y.stack=="string")return[Y.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=l.DetermineComponentFrameRoot(),A=y[0],R=y[1];if(A&&R){var D=A.split(`
`),P=R.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<P.length&&!P[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===P.length)for(l=D.length-1,f=P.length-1;1<=l&&0<=f&&D[l]!==P[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==P[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==P[f]){var $=`
`+D[l].replace(" at new "," at ");return n.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",n.displayName)),$}while(1<=l&&0<=f);break}}}finally{dt=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?ht(a):""}function K(n){switch(n.tag){case 26:case 27:case 5:return ht(n.type);case 16:return ht("Lazy");case 13:return ht("Suspense");case 19:return ht("SuspenseList");case 0:case 15:return n=mt(n.type,!1),n;case 11:return n=mt(n.type.render,!1),n;case 1:return n=mt(n.type,!0),n;default:return""}}function W(n){try{var i="";do i+=K(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tt(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function Tt(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function L(n){if(tt(n)!==n)throw Error(s(188))}function Q(n){var i=n.alternate;if(!i){if(i=tt(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var f=a.return;if(f===null)break;var y=f.alternate;if(y===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===a)return L(f),n;if(y===l)return L(f),i;y=y.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=y;else{for(var A=!1,R=f.child;R;){if(R===a){A=!0,a=f,l=y;break}if(R===l){A=!0,l=f,a=y;break}R=R.sibling}if(!A){for(R=y.child;R;){if(R===a){A=!0,a=y,l=f;break}if(R===l){A=!0,l=y,a=f;break}R=R.sibling}if(!A)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function lt(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=lt(n),i!==null)return i;n=n.sibling}return null}var at=Array.isArray,st=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_t={pending:!1,data:null,method:null,action:null},pt=[],Et=-1;function Dt(n){return{current:n}}function Vt(n){0>Et||(n.current=pt[Et],pt[Et]=null,Et--)}function gt(n,i){Et++,pt[Et]=n.current,n.current=i}var wt=Dt(null),qe=Dt(null),Pt=Dt(null),ce=Dt(null);function we(n,i){switch(gt(Pt,i),gt(qe,n),gt(wt,null),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?b_(i):0;break;default:if(n=n===8?i.parentNode:i,i=n.tagName,n=n.namespaceURI)n=b_(n),i=v_(n,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Vt(wt),gt(wt,i)}function ue(){Vt(wt),Vt(qe),Vt(Pt)}function Zi(n){n.memoizedState!==null&&gt(ce,n);var i=wt.current,a=v_(i,n.type);i!==a&&(gt(qe,n),gt(wt,a))}function Ji(n){qe.current===n&&(Vt(wt),Vt(qe)),ce.current===n&&(Vt(ce),ah._currentValue=_t)}var du=Object.prototype.hasOwnProperty,fu=u.unstable_scheduleCallback,Ta=u.unstable_cancelCallback,Yg=u.unstable_shouldYield,Kg=u.unstable_requestPaint,li=u.unstable_now,$g=u.unstable_getCurrentPriorityLevel,lf=u.unstable_ImmediatePriority,Ts=u.unstable_UserBlockingPriority,xs=u.unstable_NormalPriority,pl=u.unstable_LowPriority,gl=u.unstable_IdlePriority,IT=u.log,qT=u.unstable_setDisableYieldValue,pu=null,In=null;function GT(n){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(pu,n,void 0,(n.current.flags&128)===128)}catch{}}function xa(n){if(typeof IT=="function"&&qT(n),In&&typeof In.setStrictMode=="function")try{In.setStrictMode(pu,n)}catch{}}var qn=Math.clz32?Math.clz32:YT,VT=Math.log,XT=Math.LN2;function YT(n){return n>>>=0,n===0?32:31-(VT(n)/XT|0)|0}var cf=128,uf=4194304;function Dr(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function hf(n,i){var a=n.pendingLanes;if(a===0)return 0;var l=0,f=n.suspendedLanes,y=n.pingedLanes,A=n.warmLanes;n=n.finishedLanes!==0;var R=a&134217727;return R!==0?(a=R&~f,a!==0?l=Dr(a):(y&=R,y!==0?l=Dr(y):n||(A=R&~A,A!==0&&(l=Dr(A))))):(R=a&~f,R!==0?l=Dr(R):y!==0?l=Dr(y):n||(A=a&~A,A!==0&&(l=Dr(A)))),l===0?0:i!==0&&i!==l&&(i&f)===0&&(f=l&-l,A=i&-i,f>=A||f===32&&(A&4194176)!==0)?i:l}function gu(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function KT(n,i){switch(n){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function u0(){var n=cf;return cf<<=1,(cf&4194176)===0&&(cf=128),n}function h0(){var n=uf;return uf<<=1,(uf&62914560)===0&&(uf=4194304),n}function Wg(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function mu(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function $T(n,i,a,l,f,y){var A=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var R=n.entanglements,D=n.expirationTimes,P=n.hiddenUpdates;for(a=A&~a;0<a;){var $=31-qn(a),et=1<<$;R[$]=0,D[$]=-1;var q=P[$];if(q!==null)for(P[$]=null,$=0;$<q.length;$++){var Y=q[$];Y!==null&&(Y.lane&=-536870913)}a&=~et}l!==0&&d0(n,l,0),y!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=y&~(A&~i))}function d0(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-qn(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194218}function f0(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-qn(a),f=1<<l;f&i|n[l]&i&&(n[l]|=i),a&=~f}}function p0(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function g0(){var n=st.p;return n!==0?n:(n=window.event,n===void 0?32:H_(n.type))}function WT(n,i){var a=st.p;try{return st.p=n,i()}finally{st.p=a}}var Ra=Math.random().toString(36).slice(2),cn="__reactFiber$"+Ra,Dn="__reactProps$"+Ra,ml="__reactContainer$"+Ra,Qg="__reactEvents$"+Ra,QT="__reactListeners$"+Ra,ZT="__reactHandles$"+Ra,m0="__reactResources$"+Ra,yu="__reactMarker$"+Ra;function Zg(n){delete n[cn],delete n[Dn],delete n[Qg],delete n[QT],delete n[ZT]}function Or(n){var i=n[cn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[ml]||a[cn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=__(n);n!==null;){if(a=n[cn])return a;n=__(n)}return i}n=a,a=n.parentNode}return null}function yl(n){if(n=n[cn]||n[ml]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function bu(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function bl(n){var i=n[m0];return i||(i=n[m0]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ge(n){n[yu]=!0}var y0=new Set,b0={};function Lr(n,i){vl(n,i),vl(n+"Capture",i)}function vl(n,i){for(b0[n]=i,n=0;n<i.length;n++)y0.add(i[n])}var Rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),JT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),v0={},A0={};function tx(n){return du.call(A0,n)?!0:du.call(v0,n)?!1:JT.test(n)?A0[n]=!0:(v0[n]=!0,!1)}function df(n,i,a){if(tx(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function ff(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Cs(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}function ci(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function S0(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ex(n){var i=S0(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,y=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(A){l=""+A,y.call(this,A)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(A){l=""+A},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function pf(n){n._valueTracker||(n._valueTracker=ex(n))}function _0(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=S0(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function gf(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var nx=/[\n"\\]/g;function ui(n){return n.replace(nx,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Jg(n,i,a,l,f,y,A,R){n.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.type=A:n.removeAttribute("type"),i!=null?A==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+ci(i)):n.value!==""+ci(i)&&(n.value=""+ci(i)):A!=="submit"&&A!=="reset"||n.removeAttribute("value"),i!=null?tm(n,A,ci(i)):a!=null?tm(n,A,ci(a)):l!=null&&n.removeAttribute("value"),f==null&&y!=null&&(n.defaultChecked=!!y),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?n.name=""+ci(R):n.removeAttribute("name")}function E0(n,i,a,l,f,y,A,R){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),i!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||i!=null))return;a=a!=null?""+ci(a):"",i=i!=null?""+ci(i):a,R||i===n.value||(n.value=i),n.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=R?n.checked:!!l,n.defaultChecked=!!l,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(n.name=A)}function tm(n,i,a){i==="number"&&gf(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Al(n,i,a,l){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+ci(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function w0(n,i,a){if(i!=null&&(i=""+ci(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+ci(a):""}function T0(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(at(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=ci(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Sl(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var ix=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function x0(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||ix.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function R0(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&x0(n,f,l)}else for(var y in i)i.hasOwnProperty(y)&&x0(n,y,i[y])}function em(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ax=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mf(n){return ax.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var nm=null;function im(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var _l=null,El=null;function C0(n){var i=yl(n);if(i&&(n=i.stateNode)){var a=n[Dn]||null;t:switch(n=i.stateNode,i.type){case"input":if(Jg(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ui(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var f=l[Dn]||null;if(!f)throw Error(s(90));Jg(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&_0(l)}break t;case"textarea":w0(n,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Al(n,!!a.multiple,i,!1)}}}var sm=!1;function M0(n,i,a){if(sm)return n(i,a);sm=!0;try{var l=n(i);return l}finally{if(sm=!1,(_l!==null||El!==null)&&(Jf(),_l&&(i=_l,n=El,El=_l=null,C0(i),n)))for(i=0;i<n.length;i++)C0(n[i])}}function vu(n,i){var a=n.stateNode;if(a===null)return null;var l=a[Dn]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var am=!1;if(Rs)try{var Au={};Object.defineProperty(Au,"passive",{get:function(){am=!0}}),window.addEventListener("test",Au,Au),window.removeEventListener("test",Au,Au)}catch{am=!1}var Ca=null,rm=null,yf=null;function D0(){if(yf)return yf;var n,i=rm,a=i.length,l,f="value"in Ca?Ca.value:Ca.textContent,y=f.length;for(n=0;n<a&&i[n]===f[n];n++);var A=a-n;for(l=1;l<=A&&i[a-l]===f[y-l];l++);return yf=f.slice(n,1<l?1-l:void 0)}function bf(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function vf(){return!0}function O0(){return!1}function On(n){function i(a,l,f,y,A){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(a=n[R],this[R]=a?a(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?vf:O0,this.isPropagationStopped=O0,this}return nt(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=vf)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=vf)},persist:function(){},isPersistent:vf}),i}var Nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Af=On(Nr),Su=nt({},Nr,{view:0,detail:0}),rx=On(Su),om,lm,_u,Sf=nt({},Su,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:um,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==_u&&(_u&&n.type==="mousemove"?(om=n.screenX-_u.screenX,lm=n.screenY-_u.screenY):lm=om=0,_u=n),om)},movementY:function(n){return"movementY"in n?n.movementY:lm}}),L0=On(Sf),ox=nt({},Sf,{dataTransfer:0}),lx=On(ox),cx=nt({},Su,{relatedTarget:0}),cm=On(cx),ux=nt({},Nr,{animationName:0,elapsedTime:0,pseudoElement:0}),hx=On(ux),dx=nt({},Nr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),fx=On(dx),px=nt({},Nr,{data:0}),N0=On(px),gx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bx(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=yx[n])?!!i[n]:!1}function um(){return bx}var vx=nt({},Su,{key:function(n){if(n.key){var i=gx[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=bf(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?mx[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:um,charCode:function(n){return n.type==="keypress"?bf(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?bf(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ax=On(vx),Sx=nt({},Sf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k0=On(Sx),_x=nt({},Su,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:um}),Ex=On(_x),wx=nt({},Nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tx=On(wx),xx=nt({},Sf,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Rx=On(xx),Cx=nt({},Nr,{newState:0,oldState:0}),Mx=On(Cx),Dx=[9,13,27,32],hm=Rs&&"CompositionEvent"in window,Eu=null;Rs&&"documentMode"in document&&(Eu=document.documentMode);var Ox=Rs&&"TextEvent"in window&&!Eu,F0=Rs&&(!hm||Eu&&8<Eu&&11>=Eu),P0=" ",H0=!1;function j0(n,i){switch(n){case"keyup":return Dx.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z0(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var wl=!1;function Lx(n,i){switch(n){case"compositionend":return z0(i);case"keypress":return i.which!==32?null:(H0=!0,P0);case"textInput":return n=i.data,n===P0&&H0?null:n;default:return null}}function Nx(n,i){if(wl)return n==="compositionend"||!hm&&j0(n,i)?(n=D0(),yf=rm=Ca=null,wl=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return F0&&i.locale!=="ko"?null:i.data;default:return null}}var kx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U0(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!kx[n.type]:i==="textarea"}function B0(n,i,a,l){_l?El?El.push(l):El=[l]:_l=l,i=sp(i,"onChange"),0<i.length&&(a=new Af("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var wu=null,Tu=null;function Fx(n){f_(n,0)}function _f(n){var i=bu(n);if(_0(i))return n}function I0(n,i){if(n==="change")return i}var q0=!1;if(Rs){var dm;if(Rs){var fm="oninput"in document;if(!fm){var G0=document.createElement("div");G0.setAttribute("oninput","return;"),fm=typeof G0.oninput=="function"}dm=fm}else dm=!1;q0=dm&&(!document.documentMode||9<document.documentMode)}function V0(){wu&&(wu.detachEvent("onpropertychange",X0),Tu=wu=null)}function X0(n){if(n.propertyName==="value"&&_f(Tu)){var i=[];B0(i,Tu,n,im(n)),M0(Fx,i)}}function Px(n,i,a){n==="focusin"?(V0(),wu=i,Tu=a,wu.attachEvent("onpropertychange",X0)):n==="focusout"&&V0()}function Hx(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return _f(Tu)}function jx(n,i){if(n==="click")return _f(i)}function zx(n,i){if(n==="input"||n==="change")return _f(i)}function Ux(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Gn=typeof Object.is=="function"?Object.is:Ux;function xu(n,i){if(Gn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!du.call(i,f)||!Gn(n[f],i[f]))return!1}return!0}function Y0(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function K0(n,i){var a=Y0(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Y0(a)}}function $0(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?$0(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function W0(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=gf(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=gf(n.document)}return i}function pm(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function Bx(n,i){var a=W0(i);i=n.focusedElem;var l=n.selectionRange;if(a!==i&&i&&i.ownerDocument&&$0(i.ownerDocument.documentElement,i)){if(l!==null&&pm(i)){if(n=l.start,a=l.end,a===void 0&&(a=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(a,i.value.length);else if(a=(n=i.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=i.textContent.length,y=Math.min(l.start,f);l=l.end===void 0?y:Math.min(l.end,f),!a.extend&&y>l&&(f=l,l=y,y=f),f=K0(i,y);var A=K0(i,l);f&&A&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==A.node||a.focusOffset!==A.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),y>l?(a.addRange(n),a.extend(A.node,A.offset)):(n.setEnd(A.node,A.offset),a.addRange(n)))}}for(n=[],a=i;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)a=n[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Ix=Rs&&"documentMode"in document&&11>=document.documentMode,Tl=null,gm=null,Ru=null,mm=!1;function Q0(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;mm||Tl==null||Tl!==gf(l)||(l=Tl,"selectionStart"in l&&pm(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ru&&xu(Ru,l)||(Ru=l,l=sp(gm,"onSelect"),0<l.length&&(i=new Af("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=Tl)))}function kr(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var xl={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionrun:kr("Transition","TransitionRun"),transitionstart:kr("Transition","TransitionStart"),transitioncancel:kr("Transition","TransitionCancel"),transitionend:kr("Transition","TransitionEnd")},ym={},Z0={};Rs&&(Z0=document.createElement("div").style,"AnimationEvent"in window||(delete xl.animationend.animation,delete xl.animationiteration.animation,delete xl.animationstart.animation),"TransitionEvent"in window||delete xl.transitionend.transition);function Fr(n){if(ym[n])return ym[n];if(!xl[n])return n;var i=xl[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Z0)return ym[n]=i[a];return n}var J0=Fr("animationend"),tA=Fr("animationiteration"),eA=Fr("animationstart"),qx=Fr("transitionrun"),Gx=Fr("transitionstart"),Vx=Fr("transitioncancel"),nA=Fr("transitionend"),iA=new Map,sA="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Oi(n,i){iA.set(n,i),Lr(i,[n])}var hi=[],Rl=0,bm=0;function Ef(){for(var n=Rl,i=bm=Rl=0;i<n;){var a=hi[i];hi[i++]=null;var l=hi[i];hi[i++]=null;var f=hi[i];hi[i++]=null;var y=hi[i];if(hi[i++]=null,l!==null&&f!==null){var A=l.pending;A===null?f.next=f:(f.next=A.next,A.next=f),l.pending=f}y!==0&&aA(a,f,y)}}function wf(n,i,a,l){hi[Rl++]=n,hi[Rl++]=i,hi[Rl++]=a,hi[Rl++]=l,bm|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function vm(n,i,a,l){return wf(n,i,a,l),Tf(n)}function Ma(n,i){return wf(n,null,null,i),Tf(n)}function aA(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,y=n.return;y!==null;)y.childLanes|=a,l=y.alternate,l!==null&&(l.childLanes|=a),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(f=!0)),n=y,y=y.return;f&&i!==null&&n.tag===3&&(y=n.stateNode,f=31-qn(a),y=y.hiddenUpdates,n=y[f],n===null?y[f]=[i]:n.push(i),i.lane=a|536870912)}function Tf(n){if(50<Zu)throw Zu=0,Ty=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Cl={},rA=new WeakMap;function di(n,i){if(typeof n=="object"&&n!==null){var a=rA.get(n);return a!==void 0?a:(i={value:n,source:i,stack:W(i)},rA.set(n,i),i)}return{value:n,source:i,stack:W(i)}}var Ml=[],Dl=0,xf=null,Rf=0,fi=[],pi=0,Pr=null,Ms=1,Ds="";function Hr(n,i){Ml[Dl++]=Rf,Ml[Dl++]=xf,xf=n,Rf=i}function oA(n,i,a){fi[pi++]=Ms,fi[pi++]=Ds,fi[pi++]=Pr,Pr=n;var l=Ms;n=Ds;var f=32-qn(l)-1;l&=~(1<<f),a+=1;var y=32-qn(i)+f;if(30<y){var A=f-f%5;y=(l&(1<<A)-1).toString(32),l>>=A,f-=A,Ms=1<<32-qn(i)+f|a<<f|l,Ds=y+n}else Ms=1<<y|a<<f|l,Ds=n}function Am(n){n.return!==null&&(Hr(n,1),oA(n,1,0))}function Sm(n){for(;n===xf;)xf=Ml[--Dl],Ml[Dl]=null,Rf=Ml[--Dl],Ml[Dl]=null;for(;n===Pr;)Pr=fi[--pi],fi[pi]=null,Ds=fi[--pi],fi[pi]=null,Ms=fi[--pi],fi[pi]=null}var Sn=null,tn=null,Yt=!1,Li=null,ts=!1,_m=Error(s(519));function jr(n){var i=Error(s(418,""));throw Du(di(i,n)),_m}function lA(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[cn]=n,i[Dn]=l,a){case"dialog":qt("cancel",i),qt("close",i);break;case"iframe":case"object":case"embed":qt("load",i);break;case"video":case"audio":for(a=0;a<th.length;a++)qt(th[a],i);break;case"source":qt("error",i);break;case"img":case"image":case"link":qt("error",i),qt("load",i);break;case"details":qt("toggle",i);break;case"input":qt("invalid",i),E0(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),pf(i);break;case"select":qt("invalid",i);break;case"textarea":qt("invalid",i),T0(i,l.value,l.defaultValue,l.children),pf(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||y_(i.textContent,a)?(l.popover!=null&&(qt("beforetoggle",i),qt("toggle",i)),l.onScroll!=null&&qt("scroll",i),l.onScrollEnd!=null&&qt("scrollend",i),l.onClick!=null&&(i.onclick=ap),i=!0):i=!1,i||jr(n)}function cA(n){for(Sn=n.return;Sn;)switch(Sn.tag){case 3:case 27:ts=!0;return;case 5:case 13:ts=!1;return;default:Sn=Sn.return}}function Cu(n){if(n!==Sn)return!1;if(!Yt)return cA(n),Yt=!0,!1;var i=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Iy(n.type,n.memoizedProps)),a=!a),a&&(i=!0),i&&tn&&jr(n),cA(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));t:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){tn=ki(n.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}tn=null}}else tn=Sn?ki(n.stateNode.nextSibling):null;return!0}function Mu(){tn=Sn=null,Yt=!1}function Du(n){Li===null?Li=[n]:Li.push(n)}var Ou=Error(s(460)),uA=Error(s(474)),Em={then:function(){}};function hA(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Cf(){}function dA(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(Cf,Cf),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===Ou?Error(s(483)):n;default:if(typeof i.status=="string")i.then(Cf,Cf);else{if(n=re,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===Ou?Error(s(483)):n}throw Lu=i,Ou}}var Lu=null;function fA(){if(Lu===null)throw Error(s(459));var n=Lu;return Lu=null,n}var Ol=null,Nu=0;function Mf(n){var i=Nu;return Nu+=1,Ol===null&&(Ol=[]),dA(Ol,n,i)}function ku(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Df(n,i){throw i.$$typeof===o?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function pA(n){var i=n._init;return i(n._payload)}function gA(n){function i(z,F){if(n){var U=z.deletions;U===null?(z.deletions=[F],z.flags|=16):U.push(F)}}function a(z,F){if(!n)return null;for(;F!==null;)i(z,F),F=F.sibling;return null}function l(z){for(var F=new Map;z!==null;)z.key!==null?F.set(z.key,z):F.set(z.index,z),z=z.sibling;return F}function f(z,F){return z=Ba(z,F),z.index=0,z.sibling=null,z}function y(z,F,U){return z.index=U,n?(U=z.alternate,U!==null?(U=U.index,U<F?(z.flags|=33554434,F):U):(z.flags|=33554434,F)):(z.flags|=1048576,F)}function A(z){return n&&z.alternate===null&&(z.flags|=33554434),z}function R(z,F,U,Z){return F===null||F.tag!==6?(F=yy(U,z.mode,Z),F.return=z,F):(F=f(F,U),F.return=z,F)}function D(z,F,U,Z){var ft=U.type;return ft===p?$(z,F,U.props.children,Z,U.key):F!==null&&(F.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===O&&pA(ft)===F.type)?(F=f(F,U.props),ku(F,U),F.return=z,F):(F=Kf(U.type,U.key,U.props,null,z.mode,Z),ku(F,U),F.return=z,F)}function P(z,F,U,Z){return F===null||F.tag!==4||F.stateNode.containerInfo!==U.containerInfo||F.stateNode.implementation!==U.implementation?(F=by(U,z.mode,Z),F.return=z,F):(F=f(F,U.children||[]),F.return=z,F)}function $(z,F,U,Z,ft){return F===null||F.tag!==7?(F=Kr(U,z.mode,Z,ft),F.return=z,F):(F=f(F,U),F.return=z,F)}function et(z,F,U){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=yy(""+F,z.mode,U),F.return=z,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case c:return U=Kf(F.type,F.key,F.props,null,z.mode,U),ku(U,F),U.return=z,U;case d:return F=by(F,z.mode,U),F.return=z,F;case O:var Z=F._init;return F=Z(F._payload),et(z,F,U)}if(at(F)||B(F))return F=Kr(F,z.mode,U,null),F.return=z,F;if(typeof F.then=="function")return et(z,Mf(F),U);if(F.$$typeof===S)return et(z,Vf(z,F),U);Df(z,F)}return null}function q(z,F,U,Z){var ft=F!==null?F.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ft!==null?null:R(z,F,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case c:return U.key===ft?D(z,F,U,Z):null;case d:return U.key===ft?P(z,F,U,Z):null;case O:return ft=U._init,U=ft(U._payload),q(z,F,U,Z)}if(at(U)||B(U))return ft!==null?null:$(z,F,U,Z,null);if(typeof U.then=="function")return q(z,F,Mf(U),Z);if(U.$$typeof===S)return q(z,F,Vf(z,U),Z);Df(z,U)}return null}function Y(z,F,U,Z,ft){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(U)||null,R(F,z,""+Z,ft);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case c:return z=z.get(Z.key===null?U:Z.key)||null,D(F,z,Z,ft);case d:return z=z.get(Z.key===null?U:Z.key)||null,P(F,z,Z,ft);case O:var zt=Z._init;return Z=zt(Z._payload),Y(z,F,U,Z,ft)}if(at(Z)||B(Z))return z=z.get(U)||null,$(F,z,Z,ft,null);if(typeof Z.then=="function")return Y(z,F,U,Mf(Z),ft);if(Z.$$typeof===S)return Y(z,F,U,Vf(F,Z),ft);Df(F,Z)}return null}function yt(z,F,U,Z){for(var ft=null,zt=null,vt=F,St=F=0,Ye=null;vt!==null&&St<U.length;St++){vt.index>St?(Ye=vt,vt=null):Ye=vt.sibling;var Kt=q(z,vt,U[St],Z);if(Kt===null){vt===null&&(vt=Ye);break}n&&vt&&Kt.alternate===null&&i(z,vt),F=y(Kt,F,St),zt===null?ft=Kt:zt.sibling=Kt,zt=Kt,vt=Ye}if(St===U.length)return a(z,vt),Yt&&Hr(z,St),ft;if(vt===null){for(;St<U.length;St++)vt=et(z,U[St],Z),vt!==null&&(F=y(vt,F,St),zt===null?ft=vt:zt.sibling=vt,zt=vt);return Yt&&Hr(z,St),ft}for(vt=l(vt);St<U.length;St++)Ye=Y(vt,z,St,U[St],Z),Ye!==null&&(n&&Ye.alternate!==null&&vt.delete(Ye.key===null?St:Ye.key),F=y(Ye,F,St),zt===null?ft=Ye:zt.sibling=Ye,zt=Ye);return n&&vt.forEach(function(Ka){return i(z,Ka)}),Yt&&Hr(z,St),ft}function Ct(z,F,U,Z){if(U==null)throw Error(s(151));for(var ft=null,zt=null,vt=F,St=F=0,Ye=null,Kt=U.next();vt!==null&&!Kt.done;St++,Kt=U.next()){vt.index>St?(Ye=vt,vt=null):Ye=vt.sibling;var Ka=q(z,vt,Kt.value,Z);if(Ka===null){vt===null&&(vt=Ye);break}n&&vt&&Ka.alternate===null&&i(z,vt),F=y(Ka,F,St),zt===null?ft=Ka:zt.sibling=Ka,zt=Ka,vt=Ye}if(Kt.done)return a(z,vt),Yt&&Hr(z,St),ft;if(vt===null){for(;!Kt.done;St++,Kt=U.next())Kt=et(z,Kt.value,Z),Kt!==null&&(F=y(Kt,F,St),zt===null?ft=Kt:zt.sibling=Kt,zt=Kt);return Yt&&Hr(z,St),ft}for(vt=l(vt);!Kt.done;St++,Kt=U.next())Kt=Y(vt,z,St,Kt.value,Z),Kt!==null&&(n&&Kt.alternate!==null&&vt.delete(Kt.key===null?St:Kt.key),F=y(Kt,F,St),zt===null?ft=Kt:zt.sibling=Kt,zt=Kt);return n&&vt.forEach(function(aC){return i(z,aC)}),Yt&&Hr(z,St),ft}function Se(z,F,U,Z){if(typeof U=="object"&&U!==null&&U.type===p&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case c:t:{for(var ft=U.key;F!==null;){if(F.key===ft){if(ft=U.type,ft===p){if(F.tag===7){a(z,F.sibling),Z=f(F,U.props.children),Z.return=z,z=Z;break t}}else if(F.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===O&&pA(ft)===F.type){a(z,F.sibling),Z=f(F,U.props),ku(Z,U),Z.return=z,z=Z;break t}a(z,F);break}else i(z,F);F=F.sibling}U.type===p?(Z=Kr(U.props.children,z.mode,Z,U.key),Z.return=z,z=Z):(Z=Kf(U.type,U.key,U.props,null,z.mode,Z),ku(Z,U),Z.return=z,z=Z)}return A(z);case d:t:{for(ft=U.key;F!==null;){if(F.key===ft)if(F.tag===4&&F.stateNode.containerInfo===U.containerInfo&&F.stateNode.implementation===U.implementation){a(z,F.sibling),Z=f(F,U.children||[]),Z.return=z,z=Z;break t}else{a(z,F);break}else i(z,F);F=F.sibling}Z=by(U,z.mode,Z),Z.return=z,z=Z}return A(z);case O:return ft=U._init,U=ft(U._payload),Se(z,F,U,Z)}if(at(U))return yt(z,F,U,Z);if(B(U)){if(ft=B(U),typeof ft!="function")throw Error(s(150));return U=ft.call(U),Ct(z,F,U,Z)}if(typeof U.then=="function")return Se(z,F,Mf(U),Z);if(U.$$typeof===S)return Se(z,F,Vf(z,U),Z);Df(z,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,F!==null&&F.tag===6?(a(z,F.sibling),Z=f(F,U),Z.return=z,z=Z):(a(z,F),Z=yy(U,z.mode,Z),Z.return=z,z=Z),A(z)):a(z,F)}return function(z,F,U,Z){try{Nu=0;var ft=Se(z,F,U,Z);return Ol=null,ft}catch(vt){if(vt===Ou)throw vt;var zt=bi(29,vt,null,z.mode);return zt.lanes=Z,zt.return=z,zt}finally{}}}var zr=gA(!0),mA=gA(!1),Ll=Dt(null),Of=Dt(0);function yA(n,i){n=Bs,gt(Of,n),gt(Ll,i),Bs=n|i.baseLanes}function wm(){gt(Of,Bs),gt(Ll,Ll.current)}function Tm(){Bs=Of.current,Vt(Ll),Vt(Of)}var gi=Dt(null),es=null;function Da(n){var i=n.alternate;gt(Fe,Fe.current&1),gt(gi,n),es===null&&(i===null||Ll.current!==null||i.memoizedState!==null)&&(es=n)}function bA(n){if(n.tag===22){if(gt(Fe,Fe.current),gt(gi,n),es===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(es=n)}}else Oa()}function Oa(){gt(Fe,Fe.current),gt(gi,gi.current)}function Os(n){Vt(gi),es===n&&(es=null),Vt(Fe)}var Fe=Dt(0);function Lf(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Xx=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},Yx=u.unstable_scheduleCallback,Kx=u.unstable_NormalPriority,Pe={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xm(){return{controller:new Xx,data:new Map,refCount:0}}function Fu(n){n.refCount--,n.refCount===0&&Yx(Kx,function(){n.controller.abort()})}var Pu=null,Rm=0,Nl=0,kl=null;function $x(n,i){if(Pu===null){var a=Pu=[];Rm=0,Nl=Ny(),kl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Rm++,i.then(vA,vA),i}function vA(){if(--Rm===0&&Pu!==null){kl!==null&&(kl.status="fulfilled");var n=Pu;Pu=null,Nl=0,kl=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function Wx(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var AA=G.S;G.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&$x(n,i),AA!==null&&AA(n,i)};var Ur=Dt(null);function Cm(){var n=Ur.current;return n!==null?n:re.pooledCache}function Nf(n,i){i===null?gt(Ur,Ur.current):gt(Ur,i.pool)}function SA(){var n=Cm();return n===null?null:{parent:Pe._currentValue,pool:n}}var La=0,Ht=null,te=null,Me=null,kf=!1,Fl=!1,Br=!1,Ff=0,Hu=0,Pl=null,Qx=0;function Te(){throw Error(s(321))}function Mm(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Gn(n[a],i[a]))return!1;return!0}function Dm(n,i,a,l,f,y){return La=y,Ht=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=n===null||n.memoizedState===null?Ir:Na,Br=!1,y=a(l,f),Br=!1,Fl&&(y=EA(i,a,l,f)),_A(n),y}function _A(n){G.H=ns;var i=te!==null&&te.next!==null;if(La=0,Me=te=Ht=null,kf=!1,Hu=0,Pl=null,i)throw Error(s(300));n===null||Ve||(n=n.dependencies,n!==null&&Gf(n)&&(Ve=!0))}function EA(n,i,a,l){Ht=n;var f=0;do{if(Fl&&(Pl=null),Hu=0,Fl=!1,25<=f)throw Error(s(301));if(f+=1,Me=te=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}G.H=qr,y=i(a,l)}while(Fl);return y}function Zx(){var n=G.H,i=n.useState()[0];return i=typeof i.then=="function"?ju(i):i,n=n.useState()[0],(te!==null?te.memoizedState:null)!==n&&(Ht.flags|=1024),i}function Om(){var n=Ff!==0;return Ff=0,n}function Lm(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function Nm(n){if(kf){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}kf=!1}La=0,Me=te=Ht=null,Fl=!1,Hu=Ff=0,Pl=null}function Ln(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Ht.memoizedState=Me=n:Me=Me.next=n,Me}function De(){if(te===null){var n=Ht.alternate;n=n!==null?n.memoizedState:null}else n=te.next;var i=Me===null?Ht.memoizedState:Me.next;if(i!==null)Me=i,te=n;else{if(n===null)throw Ht.alternate===null?Error(s(467)):Error(s(310));te=n,n={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Me===null?Ht.memoizedState=Me=n:Me=Me.next=n}return Me}var Pf;Pf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ju(n){var i=Hu;return Hu+=1,Pl===null&&(Pl=[]),n=dA(Pl,n,i),i=Ht,(Me===null?i.memoizedState:Me.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?Ir:Na),n}function Hf(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ju(n);if(n.$$typeof===S)return un(n)}throw Error(s(438,String(n)))}function km(n){var i=null,a=Ht.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ht.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Pf(),Ht.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=H;return i.index++,a}function Ls(n,i){return typeof i=="function"?i(n):i}function jf(n){var i=De();return Fm(i,te,n)}function Fm(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,y=l.pending;if(y!==null){if(f!==null){var A=f.next;f.next=y.next,y.next=A}i.baseQueue=f=y,l.pending=null}if(y=n.baseState,f===null)n.memoizedState=y;else{i=f.next;var R=A=null,D=null,P=i,$=!1;do{var et=P.lane&-536870913;if(et!==P.lane?(Xt&et)===et:(La&et)===et){var q=P.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),et===Nl&&($=!0);else if((La&q)===q){P=P.next,q===Nl&&($=!0);continue}else et={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(R=D=et,A=y):D=D.next=et,Ht.lanes|=q,Ia|=q;et=P.action,Br&&a(y,et),y=P.hasEagerState?P.eagerState:a(y,et)}else q={lane:et,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(R=D=q,A=y):D=D.next=q,Ht.lanes|=et,Ia|=et;P=P.next}while(P!==null&&P!==i);if(D===null?A=y:D.next=R,!Gn(y,n.memoizedState)&&(Ve=!0,$&&(a=kl,a!==null)))throw a;n.memoizedState=y,n.baseState=A,n.baseQueue=D,l.lastRenderedState=y}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Pm(n){var i=De(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,y=i.memoizedState;if(f!==null){a.pending=null;var A=f=f.next;do y=n(y,A.action),A=A.next;while(A!==f);Gn(y,i.memoizedState)||(Ve=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),a.lastRenderedState=y}return[y,l]}function wA(n,i,a){var l=Ht,f=De(),y=Yt;if(y){if(a===void 0)throw Error(s(407));a=a()}else a=i();var A=!Gn((te||f).memoizedState,a);if(A&&(f.memoizedState=a,Ve=!0),f=f.queue,zm(RA.bind(null,l,f,n),[n]),f.getSnapshot!==i||A||Me!==null&&Me.memoizedState.tag&1){if(l.flags|=2048,Hl(9,xA.bind(null,l,f,a,i),{destroy:void 0},null),re===null)throw Error(s(349));y||(La&60)!==0||TA(l,i,a)}return a}function TA(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ht.updateQueue,i===null?(i=Pf(),Ht.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function xA(n,i,a,l){i.value=a,i.getSnapshot=l,CA(i)&&MA(n)}function RA(n,i,a){return a(function(){CA(i)&&MA(n)})}function CA(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Gn(n,a)}catch{return!0}}function MA(n){var i=Ma(n,2);i!==null&&_n(i,n,2)}function Hm(n){var i=Ln();if(typeof n=="function"){var a=n;if(n=a(),Br){xa(!0);try{a()}finally{xa(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:n},i}function DA(n,i,a,l){return n.baseState=a,Fm(n,te,typeof l=="function"?l:Ls)}function Jx(n,i,a,l,f){if(Bf(n))throw Error(s(485));if(n=i.action,n!==null){var y={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){y.listeners.push(A)}};G.T!==null?a(!0):y.isTransition=!1,l(y),a=i.pending,a===null?(y.next=i.pending=y,OA(i,y)):(y.next=a.next,i.pending=a.next=y)}}function OA(n,i){var a=i.action,l=i.payload,f=n.state;if(i.isTransition){var y=G.T,A={};G.T=A;try{var R=a(f,l),D=G.S;D!==null&&D(A,R),LA(n,i,R)}catch(P){jm(n,i,P)}finally{G.T=y}}else try{y=a(f,l),LA(n,i,y)}catch(P){jm(n,i,P)}}function LA(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){NA(n,i,l)},function(l){return jm(n,i,l)}):NA(n,i,a)}function NA(n,i,a){i.status="fulfilled",i.value=a,kA(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,OA(n,a)))}function jm(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,kA(i),i=i.next;while(i!==l)}n.action=null}function kA(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function FA(n,i){return i}function PA(n,i){if(Yt){var a=re.formState;if(a!==null){t:{var l=Ht;if(Yt){if(tn){e:{for(var f=tn,y=ts;f.nodeType!==8;){if(!y){f=null;break e}if(f=ki(f.nextSibling),f===null){f=null;break e}}y=f.data,f=y==="F!"||y==="F"?f:null}if(f){tn=ki(f.nextSibling),l=f.data==="F!";break t}}jr(l)}l=!1}l&&(i=a[0])}}return a=Ln(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:FA,lastRenderedState:i},a.queue=l,a=tS.bind(null,Ht,l),l.dispatch=a,l=Hm(!1),y=Gm.bind(null,Ht,!1,l.queue),l=Ln(),f={state:i,dispatch:null,action:n,pending:null},l.queue=f,a=Jx.bind(null,Ht,f,y,a),f.dispatch=a,l.memoizedState=n,[i,a,!1]}function HA(n){var i=De();return jA(i,te,n)}function jA(n,i,a){i=Fm(n,i,FA)[0],n=jf(Ls)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?ju(i):i;var l=De(),f=l.queue,y=f.dispatch;return a!==l.memoizedState&&(Ht.flags|=2048,Hl(9,tR.bind(null,f,a),{destroy:void 0},null)),[i,y,n]}function tR(n,i){n.action=i}function zA(n){var i=De(),a=te;if(a!==null)return jA(i,a,n);De(),i=i.memoizedState,a=De();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function Hl(n,i,a,l){return n={tag:n,create:i,inst:a,deps:l,next:null},i=Ht.updateQueue,i===null&&(i=Pf(),Ht.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function UA(){return De().memoizedState}function zf(n,i,a,l){var f=Ln();Ht.flags|=n,f.memoizedState=Hl(1|i,a,{destroy:void 0},l===void 0?null:l)}function Uf(n,i,a,l){var f=De();l=l===void 0?null:l;var y=f.memoizedState.inst;te!==null&&l!==null&&Mm(l,te.memoizedState.deps)?f.memoizedState=Hl(i,a,y,l):(Ht.flags|=n,f.memoizedState=Hl(1|i,a,y,l))}function BA(n,i){zf(8390656,8,n,i)}function zm(n,i){Uf(2048,8,n,i)}function IA(n,i){return Uf(4,2,n,i)}function qA(n,i){return Uf(4,4,n,i)}function GA(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function VA(n,i,a){a=a!=null?a.concat([n]):null,Uf(4,4,GA.bind(null,i,n),a)}function Um(){}function XA(n,i){var a=De();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Mm(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function YA(n,i){var a=De();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Mm(i,l[1]))return l[0];if(l=n(),Br){xa(!0);try{n()}finally{xa(!1)}}return a.memoizedState=[l,i],l}function Bm(n,i,a){return a===void 0||(La&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=$S(),Ht.lanes|=n,Ia|=n,a)}function KA(n,i,a,l){return Gn(a,i)?a:Ll.current!==null?(n=Bm(n,a,l),Gn(n,i)||(Ve=!0),n):(La&42)===0?(Ve=!0,n.memoizedState=a):(n=$S(),Ht.lanes|=n,Ia|=n,i)}function $A(n,i,a,l,f){var y=st.p;st.p=y!==0&&8>y?y:8;var A=G.T,R={};G.T=R,Gm(n,!1,i,a);try{var D=f(),P=G.S;if(P!==null&&P(R,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var $=Wx(D,l);zu(n,i,$,Kn(n))}else zu(n,i,l,Kn(n))}catch(et){zu(n,i,{then:function(){},status:"rejected",reason:et},Kn())}finally{st.p=y,G.T=A}}function eR(){}function Im(n,i,a,l){if(n.tag!==5)throw Error(s(476));var f=WA(n).queue;$A(n,f,i,_t,a===null?eR:function(){return QA(n),a(l)})}function WA(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:_t,baseState:_t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:_t},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function QA(n){var i=WA(n).next.queue;zu(n,i,{},Kn())}function qm(){return un(ah)}function ZA(){return De().memoizedState}function JA(){return De().memoizedState}function nR(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Kn();n=Pa(a);var l=Ha(i,n,a);l!==null&&(_n(l,i,a),Iu(l,i,a)),i={cache:xm()},n.payload=i;return}i=i.return}}function iR(n,i,a){var l=Kn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Bf(n)?eS(i,a):(a=vm(n,i,a,l),a!==null&&(_n(a,n,l),nS(a,i,l)))}function tS(n,i,a){var l=Kn();zu(n,i,a,l)}function zu(n,i,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Bf(n))eS(i,f);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var A=i.lastRenderedState,R=y(A,a);if(f.hasEagerState=!0,f.eagerState=R,Gn(R,A))return wf(n,i,f,0),re===null&&Ef(),!1}catch{}finally{}if(a=vm(n,i,f,l),a!==null)return _n(a,n,l),nS(a,i,l),!0}return!1}function Gm(n,i,a,l){if(l={lane:2,revertLane:Ny(),action:l,hasEagerState:!1,eagerState:null,next:null},Bf(n)){if(i)throw Error(s(479))}else i=vm(n,a,l,2),i!==null&&_n(i,n,2)}function Bf(n){var i=n.alternate;return n===Ht||i!==null&&i===Ht}function eS(n,i){Fl=kf=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function nS(n,i,a){if((a&4194176)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,f0(n,a)}}var ns={readContext:un,use:Hf,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te};ns.useCacheRefresh=Te,ns.useMemoCache=Te,ns.useHostTransitionStatus=Te,ns.useFormState=Te,ns.useActionState=Te,ns.useOptimistic=Te;var Ir={readContext:un,use:Hf,useCallback:function(n,i){return Ln().memoizedState=[n,i===void 0?null:i],n},useContext:un,useEffect:BA,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,zf(4194308,4,GA.bind(null,i,n),a)},useLayoutEffect:function(n,i){return zf(4194308,4,n,i)},useInsertionEffect:function(n,i){zf(4,2,n,i)},useMemo:function(n,i){var a=Ln();i=i===void 0?null:i;var l=n();if(Br){xa(!0);try{n()}finally{xa(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=Ln();if(a!==void 0){var f=a(i);if(Br){xa(!0);try{a(i)}finally{xa(!1)}}}else f=i;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=iR.bind(null,Ht,n),[l.memoizedState,n]},useRef:function(n){var i=Ln();return n={current:n},i.memoizedState=n},useState:function(n){n=Hm(n);var i=n.queue,a=tS.bind(null,Ht,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Um,useDeferredValue:function(n,i){var a=Ln();return Bm(a,n,i)},useTransition:function(){var n=Hm(!1);return n=$A.bind(null,Ht,n.queue,!0,!1),Ln().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Ht,f=Ln();if(Yt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),re===null)throw Error(s(349));(Xt&60)!==0||TA(l,i,a)}f.memoizedState=a;var y={value:a,getSnapshot:i};return f.queue=y,BA(RA.bind(null,l,y,n),[n]),l.flags|=2048,Hl(9,xA.bind(null,l,y,a,i),{destroy:void 0},null),a},useId:function(){var n=Ln(),i=re.identifierPrefix;if(Yt){var a=Ds,l=Ms;a=(l&~(1<<32-qn(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=Ff++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=Qx++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},useCacheRefresh:function(){return Ln().memoizedState=nR.bind(null,Ht)}};Ir.useMemoCache=km,Ir.useHostTransitionStatus=qm,Ir.useFormState=PA,Ir.useActionState=PA,Ir.useOptimistic=function(n){var i=Ln();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Gm.bind(null,Ht,!0,a),a.dispatch=i,[n,i]};var Na={readContext:un,use:Hf,useCallback:XA,useContext:un,useEffect:zm,useImperativeHandle:VA,useInsertionEffect:IA,useLayoutEffect:qA,useMemo:YA,useReducer:jf,useRef:UA,useState:function(){return jf(Ls)},useDebugValue:Um,useDeferredValue:function(n,i){var a=De();return KA(a,te.memoizedState,n,i)},useTransition:function(){var n=jf(Ls)[0],i=De().memoizedState;return[typeof n=="boolean"?n:ju(n),i]},useSyncExternalStore:wA,useId:ZA};Na.useCacheRefresh=JA,Na.useMemoCache=km,Na.useHostTransitionStatus=qm,Na.useFormState=HA,Na.useActionState=HA,Na.useOptimistic=function(n,i){var a=De();return DA(a,te,n,i)};var qr={readContext:un,use:Hf,useCallback:XA,useContext:un,useEffect:zm,useImperativeHandle:VA,useInsertionEffect:IA,useLayoutEffect:qA,useMemo:YA,useReducer:Pm,useRef:UA,useState:function(){return Pm(Ls)},useDebugValue:Um,useDeferredValue:function(n,i){var a=De();return te===null?Bm(a,n,i):KA(a,te.memoizedState,n,i)},useTransition:function(){var n=Pm(Ls)[0],i=De().memoizedState;return[typeof n=="boolean"?n:ju(n),i]},useSyncExternalStore:wA,useId:ZA};qr.useCacheRefresh=JA,qr.useMemoCache=km,qr.useHostTransitionStatus=qm,qr.useFormState=zA,qr.useActionState=zA,qr.useOptimistic=function(n,i){var a=De();return te!==null?DA(a,te,n,i):(a.baseState=n,[n,a.queue.dispatch])};function Vm(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:nt({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Xm={isMounted:function(n){return(n=n._reactInternals)?tt(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var l=Kn(),f=Pa(l);f.payload=i,a!=null&&(f.callback=a),i=Ha(n,f,l),i!==null&&(_n(i,n,l),Iu(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=Kn(),f=Pa(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Ha(n,f,l),i!==null&&(_n(i,n,l),Iu(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Kn(),l=Pa(a);l.tag=2,i!=null&&(l.callback=i),i=Ha(n,l,a),i!==null&&(_n(i,n,a),Iu(i,n,a))}};function iS(n,i,a,l,f,y,A){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,y,A):i.prototype&&i.prototype.isPureReactComponent?!xu(a,l)||!xu(f,y):!0}function sS(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&Xm.enqueueReplaceState(i,i.state,null)}function Gr(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=nt({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var If=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function aS(n){If(n)}function rS(n){console.error(n)}function oS(n){If(n)}function qf(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function lS(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ym(n,i,a){return a=Pa(a),a.tag=3,a.payload={element:null},a.callback=function(){qf(n,i)},a}function cS(n){return n=Pa(n),n.tag=3,n}function uS(n,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var y=l.value;n.payload=function(){return f(y)},n.callback=function(){lS(i,a,l)}}var A=a.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(n.callback=function(){lS(i,a,l),typeof f!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var R=l.stack;this.componentDidCatch(l.value,{componentStack:R!==null?R:""})})}function sR(n,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Bu(i,a,f,!0),a=gi.current,a!==null){switch(a.tag){case 13:return es===null?Cy():a.alternate===null&&Ae===0&&(Ae=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Em?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Dy(n,l,f)),!1;case 22:return a.flags|=65536,l===Em?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Dy(n,l,f)),!1}throw Error(s(435,a.tag))}return Dy(n,l,f),Cy(),!1}if(Yt)return i=gi.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==_m&&(n=Error(s(422),{cause:l}),Du(di(n,a)))):(l!==_m&&(i=Error(s(423),{cause:l}),Du(di(i,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=di(l,a),f=Ym(n.stateNode,l,f),ly(n,f),Ae!==4&&(Ae=2)),!1;var y=Error(s(520),{cause:l});if(y=di(y,a),Wu===null?Wu=[y]:Wu.push(y),Ae!==4&&(Ae=2),i===null)return!0;l=di(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Ym(a.stateNode,l,n),ly(a,n),!1;case 1:if(i=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(qa===null||!qa.has(y))))return a.flags|=65536,f&=-f,a.lanes|=f,f=cS(f),uS(f,n,a,l),ly(a,f),!1}a=a.return}while(a!==null);return!1}var hS=Error(s(461)),Ve=!1;function en(n,i,a,l){i.child=n===null?mA(i,null,a,l):zr(i,n.child,a,l)}function dS(n,i,a,l,f){a=a.render;var y=i.ref;if("ref"in l){var A={};for(var R in l)R!=="ref"&&(A[R]=l[R])}else A=l;return Xr(i),l=Dm(n,i,a,A,y,f),R=Om(),n!==null&&!Ve?(Lm(n,i,f),Ns(n,i,f)):(Yt&&R&&Am(i),i.flags|=1,en(n,i,l,f),i.child)}function fS(n,i,a,l,f){if(n===null){var y=a.type;return typeof y=="function"&&!my(y)&&y.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=y,pS(n,i,y,l,f)):(n=Kf(a.type,null,l,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(y=n.child,!ny(n,f)){var A=y.memoizedProps;if(a=a.compare,a=a!==null?a:xu,a(A,l)&&n.ref===i.ref)return Ns(n,i,f)}return i.flags|=1,n=Ba(y,l),n.ref=i.ref,n.return=i,i.child=n}function pS(n,i,a,l,f){if(n!==null){var y=n.memoizedProps;if(xu(y,l)&&n.ref===i.ref)if(Ve=!1,i.pendingProps=l=y,ny(n,f))(n.flags&131072)!==0&&(Ve=!0);else return i.lanes=n.lanes,Ns(n,i,f)}return Km(n,i,a,l,f)}function gS(n,i,a){var l=i.pendingProps,f=l.children,y=(i.stateNode._pendingVisibility&2)!==0,A=n!==null?n.memoizedState:null;if(Uu(n,i),l.mode==="hidden"||y){if((i.flags&128)!==0){if(l=A!==null?A.baseLanes|a:a,n!==null){for(f=i.child=n.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;i.childLanes=y&~l}else i.childLanes=0,i.child=null;return mS(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Nf(i,A!==null?A.cachePool:null),A!==null?yA(i,A):wm(),bA(i);else return i.lanes=i.childLanes=536870912,mS(n,i,A!==null?A.baseLanes|a:a,a)}else A!==null?(Nf(i,A.cachePool),yA(i,A),Oa(),i.memoizedState=null):(n!==null&&Nf(i,null),wm(),Oa());return en(n,i,f,a),i.child}function mS(n,i,a,l){var f=Cm();return f=f===null?null:{parent:Pe._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},n!==null&&Nf(i,null),wm(),bA(i),n!==null&&Bu(n,i,l,!0),null}function Uu(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=2097664)}}function Km(n,i,a,l,f){return Xr(i),a=Dm(n,i,a,l,void 0,f),l=Om(),n!==null&&!Ve?(Lm(n,i,f),Ns(n,i,f)):(Yt&&l&&Am(i),i.flags|=1,en(n,i,a,f),i.child)}function yS(n,i,a,l,f,y){return Xr(i),i.updateQueue=null,a=EA(i,l,a,f),_A(n),l=Om(),n!==null&&!Ve?(Lm(n,i,y),Ns(n,i,y)):(Yt&&l&&Am(i),i.flags|=1,en(n,i,a,y),i.child)}function bS(n,i,a,l,f){if(Xr(i),i.stateNode===null){var y=Cl,A=a.contextType;typeof A=="object"&&A!==null&&(y=un(A)),y=new a(l,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Xm,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=l,y.state=i.memoizedState,y.refs={},ry(i),A=a.contextType,y.context=typeof A=="object"&&A!==null?un(A):Cl,y.state=i.memoizedState,A=a.getDerivedStateFromProps,typeof A=="function"&&(Vm(i,a,A,l),y.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(A=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),A!==y.state&&Xm.enqueueReplaceState(y,y.state,null),Gu(i,l,y,f),qu(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){y=i.stateNode;var R=i.memoizedProps,D=Gr(a,R);y.props=D;var P=y.context,$=a.contextType;A=Cl,typeof $=="object"&&$!==null&&(A=un($));var et=a.getDerivedStateFromProps;$=typeof et=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=i.pendingProps!==R,$||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||P!==A)&&sS(i,y,l,A),Fa=!1;var q=i.memoizedState;y.state=q,Gu(i,l,y,f),qu(),P=i.memoizedState,R||q!==P||Fa?(typeof et=="function"&&(Vm(i,a,et,l),P=i.memoizedState),(D=Fa||iS(i,a,D,l,q,P,A))?($||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=P),y.props=l,y.state=P,y.context=A,l=D):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{y=i.stateNode,oy(n,i),A=i.memoizedProps,$=Gr(a,A),y.props=$,et=i.pendingProps,q=y.context,P=a.contextType,D=Cl,typeof P=="object"&&P!==null&&(D=un(P)),R=a.getDerivedStateFromProps,(P=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A!==et||q!==D)&&sS(i,y,l,D),Fa=!1,q=i.memoizedState,y.state=q,Gu(i,l,y,f),qu();var Y=i.memoizedState;A!==et||q!==Y||Fa||n!==null&&n.dependencies!==null&&Gf(n.dependencies)?(typeof R=="function"&&(Vm(i,a,R,l),Y=i.memoizedState),($=Fa||iS(i,a,$,l,q,Y,D)||n!==null&&n.dependencies!==null&&Gf(n.dependencies))?(P||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(l,Y,D),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(l,Y,D)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||A===n.memoizedProps&&q===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&q===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),y.props=l,y.state=Y,y.context=D,l=$):(typeof y.componentDidUpdate!="function"||A===n.memoizedProps&&q===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&q===n.memoizedState||(i.flags|=1024),l=!1)}return y=l,Uu(n,i),l=(i.flags&128)!==0,y||l?(y=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,n!==null&&l?(i.child=zr(i,n.child,null,f),i.child=zr(i,null,a,f)):en(n,i,a,f),i.memoizedState=y.state,n=i.child):n=Ns(n,i,f),n}function vS(n,i,a,l){return Mu(),i.flags|=256,en(n,i,a,l),i.child}var $m={dehydrated:null,treeContext:null,retryLane:0};function Wm(n){return{baseLanes:n,cachePool:SA()}}function Qm(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=vi),n}function AS(n,i,a){var l=i.pendingProps,f=!1,y=(i.flags&128)!==0,A;if((A=y)||(A=n!==null&&n.memoizedState===null?!1:(Fe.current&2)!==0),A&&(f=!0,i.flags&=-129),A=(i.flags&32)!==0,i.flags&=-33,n===null){if(Yt){if(f?Da(i):Oa(),Yt){var R=tn,D;if(D=R){t:{for(D=R,R=ts;D.nodeType!==8;){if(!R){R=null;break t}if(D=ki(D.nextSibling),D===null){R=null;break t}}R=D}R!==null?(i.memoizedState={dehydrated:R,treeContext:Pr!==null?{id:Ms,overflow:Ds}:null,retryLane:536870912},D=bi(18,null,null,0),D.stateNode=R,D.return=i,i.child=D,Sn=i,tn=null,D=!0):D=!1}D||jr(i)}if(R=i.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return R.data==="$!"?i.lanes=16:i.lanes=536870912,null;Os(i)}return R=l.children,l=l.fallback,f?(Oa(),f=i.mode,R=Jm({mode:"hidden",children:R},f),l=Kr(l,f,a,null),R.return=i,l.return=i,R.sibling=l,i.child=R,f=i.child,f.memoizedState=Wm(a),f.childLanes=Qm(n,A,a),i.memoizedState=$m,l):(Da(i),Zm(i,R))}if(D=n.memoizedState,D!==null&&(R=D.dehydrated,R!==null)){if(y)i.flags&256?(Da(i),i.flags&=-257,i=ty(n,i,a)):i.memoizedState!==null?(Oa(),i.child=n.child,i.flags|=128,i=null):(Oa(),f=l.fallback,R=i.mode,l=Jm({mode:"visible",children:l.children},R),f=Kr(f,R,a,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,zr(i,n.child,null,a),l=i.child,l.memoizedState=Wm(a),l.childLanes=Qm(n,A,a),i.memoizedState=$m,i=f);else if(Da(i),R.data==="$!"){if(A=R.nextSibling&&R.nextSibling.dataset,A)var P=A.dgst;A=P,l=Error(s(419)),l.stack="",l.digest=A,Du({value:l,source:null,stack:null}),i=ty(n,i,a)}else if(Ve||Bu(n,i,a,!1),A=(a&n.childLanes)!==0,Ve||A){if(A=re,A!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(A.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane)throw D.retryLane=l,Ma(n,l),_n(A,n,l),hS}R.data==="$?"||Cy(),i=ty(n,i,a)}else R.data==="$?"?(i.flags|=128,i.child=n.child,i=vR.bind(null,n),R._reactRetry=i,i=null):(n=D.treeContext,tn=ki(R.nextSibling),Sn=i,Yt=!0,Li=null,ts=!1,n!==null&&(fi[pi++]=Ms,fi[pi++]=Ds,fi[pi++]=Pr,Ms=n.id,Ds=n.overflow,Pr=i),i=Zm(i,l.children),i.flags|=4096);return i}return f?(Oa(),f=l.fallback,R=i.mode,D=n.child,P=D.sibling,l=Ba(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&31457280,P!==null?f=Ba(P,f):(f=Kr(f,R,a,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,R=n.child.memoizedState,R===null?R=Wm(a):(D=R.cachePool,D!==null?(P=Pe._currentValue,D=D.parent!==P?{parent:P,pool:P}:D):D=SA(),R={baseLanes:R.baseLanes|a,cachePool:D}),f.memoizedState=R,f.childLanes=Qm(n,A,a),i.memoizedState=$m,l):(Da(i),a=n.child,n=a.sibling,a=Ba(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(A=i.deletions,A===null?(i.deletions=[n],i.flags|=16):A.push(n)),i.child=a,i.memoizedState=null,a)}function Zm(n,i){return i=Jm({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Jm(n,i){return XS(n,i,0,null)}function ty(n,i,a){return zr(i,n.child,null,a),n=Zm(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function SS(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),sy(n.return,i,a)}function ey(n,i,a,l,f){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=f)}function _S(n,i,a){var l=i.pendingProps,f=l.revealOrder,y=l.tail;if(en(n,i,l.children,a),l=Fe.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&SS(n,a,i);else if(n.tag===19)SS(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(gt(Fe,l),f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&Lf(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),ey(i,!1,f,a,y);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Lf(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}ey(i,!0,a,null,y);break;case"together":ey(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ns(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Ia|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(Bu(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=Ba(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Ba(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function ny(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Gf(n)))}function aR(n,i,a){switch(i.tag){case 3:we(i,i.stateNode.containerInfo),ka(i,Pe,n.memoizedState.cache),Mu();break;case 27:case 5:Zi(i);break;case 4:we(i,i.stateNode.containerInfo);break;case 10:ka(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Da(i),i.flags|=128,null):(a&i.child.childLanes)!==0?AS(n,i,a):(Da(i),n=Ns(n,i,a),n!==null?n.sibling:null);Da(i);break;case 19:var f=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Bu(n,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return _S(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),gt(Fe,Fe.current),l)break;return null;case 22:case 23:return i.lanes=0,gS(n,i,a);case 24:ka(i,Pe,n.memoizedState.cache)}return Ns(n,i,a)}function ES(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Ve=!0;else{if(!ny(n,a)&&(i.flags&128)===0)return Ve=!1,aR(n,i,a);Ve=(n.flags&131072)!==0}else Ve=!1,Yt&&(i.flags&1048576)!==0&&oA(i,Rf,i.index);switch(i.lanes=0,i.tag){case 16:t:{n=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")my(l)?(n=Gr(l,n),i.tag=1,i=bS(null,i,l,n,a)):(i.tag=0,i=Km(null,i,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===_){i.tag=11,i=dS(null,i,l,n,a);break t}else if(f===M){i.tag=14,i=fS(null,i,l,n,a);break t}}throw i=X(l)||l,Error(s(306,i,""))}}return i;case 0:return Km(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Gr(l,i.pendingProps),bS(n,i,l,f,a);case 3:t:{if(we(i,i.stateNode.containerInfo),n===null)throw Error(s(387));var y=i.pendingProps;f=i.memoizedState,l=f.element,oy(n,i),Gu(i,y,null,a);var A=i.memoizedState;if(y=A.cache,ka(i,Pe,y),y!==f.cache&&ay(i,[Pe],a,!0),qu(),y=A.element,f.isDehydrated)if(f={element:y,isDehydrated:!1,cache:A.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=vS(n,i,y,a);break t}else if(y!==l){l=di(Error(s(424)),i),Du(l),i=vS(n,i,y,a);break t}else for(tn=ki(i.stateNode.containerInfo.firstChild),Sn=i,Yt=!0,Li=null,ts=!0,a=mA(i,null,y,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Mu(),y===l){i=Ns(n,i,a);break t}en(n,i,y,a)}i=i.child}return i;case 26:return Uu(n,i),n===null?(a=x_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Yt||(a=i.type,n=i.pendingProps,l=rp(Pt.current).createElement(a),l[cn]=i,l[Dn]=n,nn(l,a,n),Ge(l),i.stateNode=l):i.memoizedState=x_(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Zi(i),n===null&&Yt&&(l=i.stateNode=E_(i.type,i.pendingProps,Pt.current),Sn=i,ts=!0,tn=ki(l.firstChild)),l=i.pendingProps.children,n!==null||Yt?en(n,i,l,a):i.child=zr(i,null,l,a),Uu(n,i),i.child;case 5:return n===null&&Yt&&((f=l=tn)&&(l=FR(l,i.type,i.pendingProps,ts),l!==null?(i.stateNode=l,Sn=i,tn=ki(l.firstChild),ts=!1,f=!0):f=!1),f||jr(i)),Zi(i),f=i.type,y=i.pendingProps,A=n!==null?n.memoizedProps:null,l=y.children,Iy(f,y)?l=null:A!==null&&Iy(f,A)&&(i.flags|=32),i.memoizedState!==null&&(f=Dm(n,i,Zx,null,null,a),ah._currentValue=f),Uu(n,i),en(n,i,l,a),i.child;case 6:return n===null&&Yt&&((n=a=tn)&&(a=PR(a,i.pendingProps,ts),a!==null?(i.stateNode=a,Sn=i,tn=null,n=!0):n=!1),n||jr(i)),null;case 13:return AS(n,i,a);case 4:return we(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=zr(i,null,l,a):en(n,i,l,a),i.child;case 11:return dS(n,i,i.type,i.pendingProps,a);case 7:return en(n,i,i.pendingProps,a),i.child;case 8:return en(n,i,i.pendingProps.children,a),i.child;case 12:return en(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ka(i,i.type,l.value),en(n,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Xr(i),f=un(f),l=l(f),i.flags|=1,en(n,i,l,a),i.child;case 14:return fS(n,i,i.type,i.pendingProps,a);case 15:return pS(n,i,i.type,i.pendingProps,a);case 19:return _S(n,i,a);case 22:return gS(n,i,a);case 24:return Xr(i),l=un(Pe),n===null?(f=Cm(),f===null&&(f=re,y=xm(),f.pooledCache=y,y.refCount++,y!==null&&(f.pooledCacheLanes|=a),f=y),i.memoizedState={parent:l,cache:f},ry(i),ka(i,Pe,f)):((n.lanes&a)!==0&&(oy(n,i),Gu(i,null,null,a),qu()),f=n.memoizedState,y=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),ka(i,Pe,l)):(l=y.cache,ka(i,Pe,l),l!==f.cache&&ay(i,[Pe],a,!0))),en(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var iy=Dt(null),Vr=null,ks=null;function ka(n,i,a){gt(iy,i._currentValue),i._currentValue=a}function Fs(n){n._currentValue=iy.current,Vt(iy)}function sy(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function ay(n,i,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var y=f.dependencies;if(y!==null){var A=f.child;y=y.firstContext;t:for(;y!==null;){var R=y;y=f;for(var D=0;D<i.length;D++)if(R.context===i[D]){y.lanes|=a,R=y.alternate,R!==null&&(R.lanes|=a),sy(y.return,a,n),l||(A=null);break t}y=R.next}}else if(f.tag===18){if(A=f.return,A===null)throw Error(s(341));A.lanes|=a,y=A.alternate,y!==null&&(y.lanes|=a),sy(A,a,n),A=null}else A=f.child;if(A!==null)A.return=f;else for(A=f;A!==null;){if(A===n){A=null;break}if(f=A.sibling,f!==null){f.return=A.return,A=f;break}A=A.return}f=A}}function Bu(n,i,a,l){n=null;for(var f=i,y=!1;f!==null;){if(!y){if((f.flags&524288)!==0)y=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var A=f.alternate;if(A===null)throw Error(s(387));if(A=A.memoizedProps,A!==null){var R=f.type;Gn(f.pendingProps.value,A.value)||(n!==null?n.push(R):n=[R])}}else if(f===ce.current){if(A=f.alternate,A===null)throw Error(s(387));A.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(ah):n=[ah])}f=f.return}n!==null&&ay(i,n,a,l),i.flags|=262144}function Gf(n){for(n=n.firstContext;n!==null;){if(!Gn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Xr(n){Vr=n,ks=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function un(n){return wS(Vr,n)}function Vf(n,i){return Vr===null&&Xr(n),wS(n,i)}function wS(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ks===null){if(n===null)throw Error(s(308));ks=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else ks=ks.next=i;return a}var Fa=!1;function ry(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oy(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Pa(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ha(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(pe&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Tf(n),aA(n,null,a),i}return wf(n,l,i,a),Tf(n)}function Iu(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,f0(n,a)}}function ly(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var A={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?f=y=A:y=y.next=A,a=a.next}while(a!==null);y===null?f=y=i:y=y.next=i}else f=y=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var cy=!1;function qu(){if(cy){var n=kl;if(n!==null)throw n}}function Gu(n,i,a,l){cy=!1;var f=n.updateQueue;Fa=!1;var y=f.firstBaseUpdate,A=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var D=R,P=D.next;D.next=null,A===null?y=P:A.next=P,A=D;var $=n.alternate;$!==null&&($=$.updateQueue,R=$.lastBaseUpdate,R!==A&&(R===null?$.firstBaseUpdate=P:R.next=P,$.lastBaseUpdate=D))}if(y!==null){var et=f.baseState;A=0,$=P=D=null,R=y;do{var q=R.lane&-536870913,Y=q!==R.lane;if(Y?(Xt&q)===q:(l&q)===q){q!==0&&q===Nl&&(cy=!0),$!==null&&($=$.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var yt=n,Ct=R;q=i;var Se=a;switch(Ct.tag){case 1:if(yt=Ct.payload,typeof yt=="function"){et=yt.call(Se,et,q);break t}et=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=Ct.payload,q=typeof yt=="function"?yt.call(Se,et,q):yt,q==null)break t;et=nt({},et,q);break t;case 2:Fa=!0}}q=R.callback,q!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[q]:Y.push(q))}else Y={lane:q,tag:R.tag,payload:R.payload,callback:R.callback,next:null},$===null?(P=$=Y,D=et):$=$.next=Y,A|=q;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;Y=R,R=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);$===null&&(D=et),f.baseState=D,f.firstBaseUpdate=P,f.lastBaseUpdate=$,y===null&&(f.shared.lanes=0),Ia|=A,n.lanes=A,n.memoizedState=et}}function TS(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function xS(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)TS(a[n],i)}function Vu(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var y=a.create,A=a.inst;l=y(),A.destroy=l}a=a.next}while(a!==f)}}catch(R){se(i,i.return,R)}}function ja(n,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var y=f.next;l=y;do{if((l.tag&n)===n){var A=l.inst,R=A.destroy;if(R!==void 0){A.destroy=void 0,f=i;var D=a;try{R()}catch(P){se(f,D,P)}}}l=l.next}while(l!==y)}}catch(P){se(i,i.return,P)}}function RS(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{xS(i,a)}catch(l){se(n,n.return,l)}}}function CS(n,i,a){a.props=Gr(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){se(n,i,l)}}function Yr(n,i){try{var a=n.ref;if(a!==null){var l=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(y){se(n,i,y)}}function Vn(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){se(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){se(n,i,f)}else a.current=null}function MS(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){se(n,n.return,f)}}function DS(n,i,a){try{var l=n.stateNode;DR(l,n.type,a,i),l[Dn]=i}catch(f){se(n,n.return,f)}}function OS(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function uy(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||OS(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function hy(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ap));else if(l!==4&&l!==27&&(n=n.child,n!==null))for(hy(n,i,a),n=n.sibling;n!==null;)hy(n,i,a),n=n.sibling}function Xf(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Xf(n,i,a),n=n.sibling;n!==null;)Xf(n,i,a),n=n.sibling}var Ps=!1,ve=!1,dy=!1,LS=typeof WeakSet=="function"?WeakSet:Set,Xe=null,NS=!1;function rR(n,i){if(n=n.containerInfo,Uy=dp,n=W0(n),pm(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,y=l.focusNode;l=l.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break t}var A=0,R=-1,D=-1,P=0,$=0,et=n,q=null;e:for(;;){for(var Y;et!==a||f!==0&&et.nodeType!==3||(R=A+f),et!==y||l!==0&&et.nodeType!==3||(D=A+l),et.nodeType===3&&(A+=et.nodeValue.length),(Y=et.firstChild)!==null;)q=et,et=Y;for(;;){if(et===n)break e;if(q===a&&++P===f&&(R=A),q===y&&++$===l&&(D=A),(Y=et.nextSibling)!==null)break;et=q,q=et.parentNode}et=Y}a=R===-1||D===-1?null:{start:R,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(By={focusedElem:n,selectionRange:a},dp=!1,Xe=i;Xe!==null;)if(i=Xe,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Xe=n;else for(;Xe!==null;){switch(i=Xe,y=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,a=i,f=y.memoizedProps,y=y.memoizedState,l=a.stateNode;try{var yt=Gr(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(yt,y),l.__reactInternalSnapshotBeforeUpdate=n}catch(Ct){se(a,a.return,Ct)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)Vy(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Vy(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Xe=n;break}Xe=i.return}return yt=NS,NS=!1,yt}function kS(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:js(n,a),l&4&&Vu(5,a);break;case 1:if(js(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(R){se(a,a.return,R)}else{var f=Gr(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(R){se(a,a.return,R)}}l&64&&RS(a),l&512&&Yr(a,a.return);break;case 3:if(js(n,a),l&64&&(l=a.updateQueue,l!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{xS(l,n)}catch(R){se(a,a.return,R)}}break;case 26:js(n,a),l&512&&Yr(a,a.return);break;case 27:case 5:js(n,a),i===null&&l&4&&MS(a),l&512&&Yr(a,a.return);break;case 12:js(n,a);break;case 13:js(n,a),l&4&&HS(n,a);break;case 22:if(f=a.memoizedState!==null||Ps,!f){i=i!==null&&i.memoizedState!==null||ve;var y=Ps,A=ve;Ps=f,(ve=i)&&!A?za(n,a,(a.subtreeFlags&8772)!==0):js(n,a),Ps=y,ve=A}l&512&&(a.memoizedProps.mode==="manual"?Yr(a,a.return):Vn(a,a.return));break;default:js(n,a)}}function FS(n){var i=n.alternate;i!==null&&(n.alternate=null,FS(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Zg(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Oe=null,Xn=!1;function Hs(n,i,a){for(a=a.child;a!==null;)PS(n,i,a),a=a.sibling}function PS(n,i,a){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(pu,a)}catch{}switch(a.tag){case 26:ve||Vn(a,i),Hs(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ve||Vn(a,i);var l=Oe,f=Xn;for(Oe=a.stateNode,Hs(n,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Zg(a),Oe=l,Xn=f;break;case 5:ve||Vn(a,i);case 6:f=Oe;var y=Xn;if(Oe=null,Hs(n,i,a),Oe=f,Xn=y,Oe!==null)if(Xn)try{n=Oe,l=a.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)}catch(A){se(a,i,A)}else try{Oe.removeChild(a.stateNode)}catch(A){se(a,i,A)}break;case 18:Oe!==null&&(Xn?(i=Oe,a=a.stateNode,i.nodeType===8?Gy(i.parentNode,a):i.nodeType===1&&Gy(i,a),ch(i)):Gy(Oe,a.stateNode));break;case 4:l=Oe,f=Xn,Oe=a.stateNode.containerInfo,Xn=!0,Hs(n,i,a),Oe=l,Xn=f;break;case 0:case 11:case 14:case 15:ve||ja(2,a,i),ve||ja(4,a,i),Hs(n,i,a);break;case 1:ve||(Vn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&CS(a,i,l)),Hs(n,i,a);break;case 21:Hs(n,i,a);break;case 22:ve||Vn(a,i),ve=(l=ve)||a.memoizedState!==null,Hs(n,i,a),ve=l;break;default:Hs(n,i,a)}}function HS(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ch(n)}catch(a){se(i,i.return,a)}}function oR(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new LS),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new LS),i;default:throw Error(s(435,n.tag))}}function fy(n,i){var a=oR(n);i.forEach(function(l){var f=AR.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function mi(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],y=n,A=i,R=A;t:for(;R!==null;){switch(R.tag){case 27:case 5:Oe=R.stateNode,Xn=!1;break t;case 3:Oe=R.stateNode.containerInfo,Xn=!0;break t;case 4:Oe=R.stateNode.containerInfo,Xn=!0;break t}R=R.return}if(Oe===null)throw Error(s(160));PS(y,A,f),Oe=null,Xn=!1,y=f.alternate,y!==null&&(y.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)jS(i,n),i=i.sibling}var Ni=null;function jS(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:mi(i,n),yi(n),l&4&&(ja(3,n,n.return),Vu(3,n),ja(5,n,n.return));break;case 1:mi(i,n),yi(n),l&512&&(ve||a===null||Vn(a,a.return)),l&64&&Ps&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Ni;if(mi(i,n),yi(n),l&512&&(ve||a===null||Vn(a,a.return)),l&4){var y=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":y=f.getElementsByTagName("title")[0],(!y||y[yu]||y[cn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=f.createElement(l),f.head.insertBefore(y,f.querySelector("head > title"))),nn(y,l,a),y[cn]=n,Ge(y),l=y;break t;case"link":var A=M_("link","href",f).get(l+(a.href||""));if(A){for(var R=0;R<A.length;R++)if(y=A[R],y.getAttribute("href")===(a.href==null?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){A.splice(R,1);break e}}y=f.createElement(l),nn(y,l,a),f.head.appendChild(y);break;case"meta":if(A=M_("meta","content",f).get(l+(a.content||""))){for(R=0;R<A.length;R++)if(y=A[R],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){A.splice(R,1);break e}}y=f.createElement(l),nn(y,l,a),f.head.appendChild(y);break;default:throw Error(s(468,l))}y[cn]=n,Ge(y),l=y}n.stateNode=l}else D_(f,n.type,n.stateNode);else n.stateNode=C_(f,l,n.memoizedProps);else y!==l?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,l===null?D_(f,n.type,n.stateNode):C_(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&DS(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&n.alternate===null){f=n.stateNode,y=n.memoizedProps;try{for(var D=f.firstChild;D;){var P=D.nextSibling,$=D.nodeName;D[yu]||$==="HEAD"||$==="BODY"||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&D.rel.toLowerCase()==="stylesheet"||f.removeChild(D),D=P}for(var et=n.type,q=f.attributes;q.length;)f.removeAttributeNode(q[0]);nn(f,et,y),f[cn]=n,f[Dn]=y}catch(yt){se(n,n.return,yt)}}case 5:if(mi(i,n),yi(n),l&512&&(ve||a===null||Vn(a,a.return)),n.flags&32){f=n.stateNode;try{Sl(f,"")}catch(yt){se(n,n.return,yt)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,DS(n,f,a!==null?a.memoizedProps:f)),l&1024&&(dy=!0);break;case 6:if(mi(i,n),yi(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(yt){se(n,n.return,yt)}}break;case 3:if(cp=null,f=Ni,Ni=op(i.containerInfo),mi(i,n),Ni=f,yi(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ch(i.containerInfo)}catch(yt){se(n,n.return,yt)}dy&&(dy=!1,zS(n));break;case 4:l=Ni,Ni=op(n.stateNode.containerInfo),mi(i,n),yi(n),Ni=l;break;case 12:mi(i,n),yi(n);break;case 13:mi(i,n),yi(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_y=li()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,fy(n,l)));break;case 22:if(l&512&&(ve||a===null||Vn(a,a.return)),D=n.memoizedState!==null,P=a!==null&&a.memoizedState!==null,$=Ps,et=ve,Ps=$||D,ve=et||P,mi(i,n),ve=et,Ps=$,yi(n),i=n.stateNode,i._current=n,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=D?i._visibility&-2:i._visibility|1,D&&(i=Ps||ve,a===null||P||i||jl(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))t:for(a=null,i=n;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){P=a=i;try{if(f=P.stateNode,D)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{A=P.stateNode,R=P.memoizedProps.style;var Y=R!=null&&R.hasOwnProperty("display")?R.display:null;A.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(yt){se(P,P.return,yt)}}}else if(i.tag===6){if(a===null){P=i;try{P.stateNode.nodeValue=D?"":P.memoizedProps}catch(yt){se(P,P.return,yt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,fy(n,a))));break;case 19:mi(i,n),yi(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,fy(n,l)));break;case 21:break;default:mi(i,n),yi(n)}}function yi(n){var i=n.flags;if(i&2){try{if(n.tag!==27){t:{for(var a=n.return;a!==null;){if(OS(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var f=l.stateNode,y=uy(n);Xf(n,y,f);break;case 5:var A=l.stateNode;l.flags&32&&(Sl(A,""),l.flags&=-33);var R=uy(n);Xf(n,R,A);break;case 3:case 4:var D=l.stateNode.containerInfo,P=uy(n);hy(n,P,D);break;default:throw Error(s(161))}}}catch($){se(n,n.return,$)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function zS(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;zS(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function js(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)kS(n,i.alternate,i),i=i.sibling}function jl(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:ja(4,i,i.return),jl(i);break;case 1:Vn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&CS(i,i.return,a),jl(i);break;case 26:case 27:case 5:Vn(i,i.return),jl(i);break;case 22:Vn(i,i.return),i.memoizedState===null&&jl(i);break;default:jl(i)}n=n.sibling}}function za(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=n,y=i,A=y.flags;switch(y.tag){case 0:case 11:case 15:za(f,y,a),Vu(4,y);break;case 1:if(za(f,y,a),l=y,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(P){se(l,l.return,P)}if(l=y,f=l.updateQueue,f!==null){var R=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)TS(D[f],R)}catch(P){se(l,l.return,P)}}a&&A&64&&RS(y),Yr(y,y.return);break;case 26:case 27:case 5:za(f,y,a),a&&l===null&&A&4&&MS(y),Yr(y,y.return);break;case 12:za(f,y,a);break;case 13:za(f,y,a),a&&A&4&&HS(f,y);break;case 22:y.memoizedState===null&&za(f,y,a),Yr(y,y.return);break;default:za(f,y,a)}i=i.sibling}}function py(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Fu(a))}function gy(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Fu(n))}function Ua(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)US(n,i,a,l),i=i.sibling}function US(n,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Ua(n,i,a,l),f&2048&&Vu(9,i);break;case 3:Ua(n,i,a,l),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Fu(n)));break;case 12:if(f&2048){Ua(n,i,a,l),n=i.stateNode;try{var y=i.memoizedProps,A=y.id,R=y.onPostCommit;typeof R=="function"&&R(A,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){se(i,i.return,D)}}else Ua(n,i,a,l);break;case 23:break;case 22:y=i.stateNode,i.memoizedState!==null?y._visibility&4?Ua(n,i,a,l):Xu(n,i):y._visibility&4?Ua(n,i,a,l):(y._visibility|=4,zl(n,i,a,l,(i.subtreeFlags&10256)!==0)),f&2048&&py(i.alternate,i);break;case 24:Ua(n,i,a,l),f&2048&&gy(i.alternate,i);break;default:Ua(n,i,a,l)}}function zl(n,i,a,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var y=n,A=i,R=a,D=l,P=A.flags;switch(A.tag){case 0:case 11:case 15:zl(y,A,R,D,f),Vu(8,A);break;case 23:break;case 22:var $=A.stateNode;A.memoizedState!==null?$._visibility&4?zl(y,A,R,D,f):Xu(y,A):($._visibility|=4,zl(y,A,R,D,f)),f&&P&2048&&py(A.alternate,A);break;case 24:zl(y,A,R,D,f),f&&P&2048&&gy(A.alternate,A);break;default:zl(y,A,R,D,f)}i=i.sibling}}function Xu(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,f=l.flags;switch(l.tag){case 22:Xu(a,l),f&2048&&py(l.alternate,l);break;case 24:Xu(a,l),f&2048&&gy(l.alternate,l);break;default:Xu(a,l)}i=i.sibling}}var Yu=8192;function Ul(n){if(n.subtreeFlags&Yu)for(n=n.child;n!==null;)BS(n),n=n.sibling}function BS(n){switch(n.tag){case 26:Ul(n),n.flags&Yu&&n.memoizedState!==null&&$R(Ni,n.memoizedState,n.memoizedProps);break;case 5:Ul(n);break;case 3:case 4:var i=Ni;Ni=op(n.stateNode.containerInfo),Ul(n),Ni=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Yu,Yu=16777216,Ul(n),Yu=i):Ul(n));break;default:Ul(n)}}function IS(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Ku(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Xe=l,GS(l,n)}IS(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)qS(n),n=n.sibling}function qS(n){switch(n.tag){case 0:case 11:case 15:Ku(n),n.flags&2048&&ja(9,n,n.return);break;case 3:Ku(n);break;case 12:Ku(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&4&&(n.return===null||n.return.tag!==13)?(i._visibility&=-5,Yf(n)):Ku(n);break;default:Ku(n)}}function Yf(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Xe=l,GS(l,n)}IS(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:ja(8,i,i.return),Yf(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Yf(i));break;default:Yf(i)}n=n.sibling}}function GS(n,i){for(;Xe!==null;){var a=Xe;switch(a.tag){case 0:case 11:case 15:ja(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Fu(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Xe=l;else t:for(a=n;Xe!==null;){l=Xe;var f=l.sibling,y=l.return;if(FS(l),l===a){Xe=null;break t}if(f!==null){f.return=y,Xe=f;break t}Xe=y}}}function lR(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bi(n,i,a,l){return new lR(n,i,a,l)}function my(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ba(n,i){var a=n.alternate;return a===null?(a=bi(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function VS(n,i){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Kf(n,i,a,l,f,y){var A=0;if(l=n,typeof n=="function")my(n)&&(A=1);else if(typeof n=="string")A=YR(n,a,wt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case p:return Kr(a.children,f,y,i);case g:A=8,f|=24;break;case m:return n=bi(12,a,i,f|2),n.elementType=m,n.lanes=y,n;case T:return n=bi(13,a,i,f),n.elementType=T,n.lanes=y,n;case C:return n=bi(19,a,i,f),n.elementType=C,n.lanes=y,n;case k:return XS(a,f,y,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case b:case S:A=10;break t;case v:A=9;break t;case _:A=11;break t;case M:A=14;break t;case O:A=16,l=null;break t}A=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=bi(A,a,i,f),i.elementType=n,i.type=l,i.lanes=y,i}function Kr(n,i,a,l){return n=bi(7,n,l,i),n.lanes=a,n}function XS(n,i,a,l){n=bi(22,n,l,i),n.elementType=k,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=f._current;if(y===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var A=Ma(y,2);A!==null&&(f._pendingVisibility|=2,_n(A,y,2))}},attach:function(){var y=f._current;if(y===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var A=Ma(y,2);A!==null&&(f._pendingVisibility&=-3,_n(A,y,2))}}};return n.stateNode=f,n}function yy(n,i,a){return n=bi(6,n,null,i),n.lanes=a,n}function by(n,i,a){return i=bi(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function zs(n){n.flags|=4}function YS(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!O_(i)){if(i=gi.current,i!==null&&((Xt&4194176)===Xt?es!==null:(Xt&62914560)!==Xt&&(Xt&536870912)===0||i!==es))throw Lu=Em,uA;n.flags|=8192}}function $f(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?h0():536870912,n.lanes|=i,Il|=i)}function $u(n,i){if(!Yt)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function fe(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function cR(n,i,a){var l=i.pendingProps;switch(Sm(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(i),null;case 1:return fe(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Fs(Pe),ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Cu(i)?zs(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Li!==null&&(xy(Li),Li=null))),fe(i),null;case 26:return a=i.memoizedState,n===null?(zs(i),a!==null?(fe(i),YS(i,a)):(fe(i),i.flags&=-16777217)):a?a!==n.memoizedState?(zs(i),fe(i),YS(i,a)):(fe(i),i.flags&=-16777217):(n.memoizedProps!==l&&zs(i),fe(i),i.flags&=-16777217),null;case 27:Ji(i),a=Pt.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&zs(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return fe(i),null}n=wt.current,Cu(i)?lA(i):(n=E_(f,l,a),i.stateNode=n,zs(i))}return fe(i),null;case 5:if(Ji(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&zs(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return fe(i),null}if(n=wt.current,Cu(i))lA(i);else{switch(f=rp(Pt.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[cn]=i,n[Dn]=l;t:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break t;for(;f.sibling===null;){if(f.return===null||f.return===i)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;t:switch(nn(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&zs(i)}}return fe(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&zs(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=Pt.current,Cu(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,f=Sn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[cn]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||y_(n.nodeValue,a)),n||jr(i)}else n=rp(n).createTextNode(l),n[cn]=i,i.stateNode=n}return fe(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Cu(i),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[cn]=i}else Mu(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;fe(i),f=!1}else Li!==null&&(xy(Li),Li=null),f=!0;if(!f)return i.flags&256?(Os(i),i):(Os(i),null)}if(Os(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var y=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(y=l.memoizedState.cachePool.pool),y!==f&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),$f(i,i.updateQueue),fe(i),null;case 4:return ue(),n===null&&Hy(i.stateNode.containerInfo),fe(i),null;case 10:return Fs(i.type),fe(i),null;case 19:if(Vt(Fe),f=i.memoizedState,f===null)return fe(i),null;if(l=(i.flags&128)!==0,y=f.rendering,y===null)if(l)$u(f,!1);else{if(Ae!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(y=Lf(n),y!==null){for(i.flags|=128,$u(f,!1),n=y.updateQueue,i.updateQueue=n,$f(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)VS(a,n),a=a.sibling;return gt(Fe,Fe.current&1|2),i.child}n=n.sibling}f.tail!==null&&li()>Wf&&(i.flags|=128,l=!0,$u(f,!1),i.lanes=4194304)}else{if(!l)if(n=Lf(y),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,$f(i,n),$u(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!Yt)return fe(i),null}else 2*li()-f.renderingStartTime>Wf&&a!==536870912&&(i.flags|=128,l=!0,$u(f,!1),i.lanes=4194304);f.isBackwards?(y.sibling=i.child,i.child=y):(n=f.last,n!==null?n.sibling=y:i.child=y,f.last=y)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=li(),i.sibling=null,n=Fe.current,gt(Fe,l?n&1|2:n&1),i):(fe(i),null);case 22:case 23:return Os(i),Tm(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(fe(i),i.subtreeFlags&6&&(i.flags|=8192)):fe(i),a=i.updateQueue,a!==null&&$f(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&Vt(Ur),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Fs(Pe),fe(i),null;case 25:return null}throw Error(s(156,i.tag))}function uR(n,i){switch(Sm(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Fs(Pe),ue(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Ji(i),null;case 13:if(Os(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Mu()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Vt(Fe),null;case 4:return ue(),null;case 10:return Fs(i.type),null;case 22:case 23:return Os(i),Tm(),n!==null&&Vt(Ur),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Fs(Pe),null;case 25:return null;default:return null}}function KS(n,i){switch(Sm(i),i.tag){case 3:Fs(Pe),ue();break;case 26:case 27:case 5:Ji(i);break;case 4:ue();break;case 13:Os(i);break;case 19:Vt(Fe);break;case 10:Fs(i.type);break;case 22:case 23:Os(i),Tm(),n!==null&&Vt(Ur);break;case 24:Fs(Pe)}}var hR={getCacheForType:function(n){var i=un(Pe),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},dR=typeof WeakMap=="function"?WeakMap:Map,pe=0,re=null,Bt=null,Xt=0,oe=0,Yn=null,Us=!1,Bl=!1,vy=!1,Bs=0,Ae=0,Ia=0,$r=0,Ay=0,vi=0,Il=0,Wu=null,is=null,Sy=!1,_y=0,Wf=1/0,Qf=null,qa=null,Zf=!1,Wr=null,Qu=0,Ey=0,wy=null,Zu=0,Ty=null;function Kn(){if((pe&2)!==0&&Xt!==0)return Xt&-Xt;if(G.T!==null){var n=Nl;return n!==0?n:Ny()}return g0()}function $S(){vi===0&&(vi=(Xt&536870912)===0||Yt?u0():536870912);var n=gi.current;return n!==null&&(n.flags|=32),vi}function _n(n,i,a){(n===re&&oe===2||n.cancelPendingCommit!==null)&&(ql(n,0),Is(n,Xt,vi,!1)),mu(n,a),((pe&2)===0||n!==re)&&(n===re&&((pe&2)===0&&($r|=a),Ae===4&&Is(n,Xt,vi,!1)),ss(n))}function WS(n,i,a){if((pe&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&n.expiredLanes)===0||gu(n,i),f=l?gR(n,i):My(n,i,!0),y=l;do{if(f===0){Bl&&!l&&Is(n,i,0,!1);break}else if(f===6)Is(n,i,0,!Us);else{if(a=n.current.alternate,y&&!fR(a)){f=My(n,i,!1),y=!1;continue}if(f===2){if(y=i,n.errorRecoveryDisabledLanes&y)var A=0;else A=n.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){i=A;t:{var R=n;f=Wu;var D=R.current.memoizedState.isDehydrated;if(D&&(ql(R,A).flags|=256),A=My(R,A,!1),A!==2){if(vy&&!D){R.errorRecoveryDisabledLanes|=y,$r|=y,f=4;break t}y=is,is=f,y!==null&&xy(y)}f=A}if(y=!1,f!==2)continue}}if(f===1){ql(n,0),Is(n,i,0,!0);break}t:{switch(l=n,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Is(l,i,vi,!Us);break t}break;case 2:is=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(y=_y+300-li(),10<y)){if(Is(l,i,vi,!Us),hf(l,0)!==0)break t;l.timeoutHandle=A_(QS.bind(null,l,a,is,Qf,Sy,i,vi,$r,Il,Us,2,-0,0),y);break t}QS(l,a,is,Qf,Sy,i,vi,$r,Il,Us,0,-0,0)}}break}while(!0);ss(n)}function xy(n){is===null?is=n:is.push.apply(is,n)}function QS(n,i,a,l,f,y,A,R,D,P,$,et,q){var Y=i.subtreeFlags;if((Y&8192||(Y&16785408)===16785408)&&(sh={stylesheets:null,count:0,unsuspend:KR},BS(i),i=WR(),i!==null)){n.cancelPendingCommit=i(s_.bind(null,n,a,l,f,A,R,D,1,et,q)),Is(n,y,A,!P);return}s_(n,a,l,f,A,R,D,$,et,q)}function fR(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],y=f.getSnapshot;f=f.value;try{if(!Gn(y(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Is(n,i,a,l){i&=~Ay,i&=~$r,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var f=i;0<f;){var y=31-qn(f),A=1<<y;l[y]=-1,f&=~A}a!==0&&d0(n,a,i)}function Jf(){return(pe&6)===0?(Ju(0),!1):!0}function Ry(){if(Bt!==null){if(oe===0)var n=Bt.return;else n=Bt,ks=Vr=null,Nm(n),Ol=null,Nu=0,n=Bt;for(;n!==null;)KS(n.alternate,n),n=n.return;Bt=null}}function ql(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,LR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Ry(),re=n,Bt=a=Ba(n.current,null),Xt=i,oe=0,Yn=null,Us=!1,Bl=gu(n,i),vy=!1,Il=vi=Ay=$r=Ia=Ae=0,is=Wu=null,Sy=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var f=31-qn(l),y=1<<f;i|=n[f],l&=~y}return Bs=i,Ef(),a}function ZS(n,i){Ht=null,G.H=ns,i===Ou?(i=fA(),oe=3):i===uA?(i=fA(),oe=4):oe=i===hS?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Yn=i,Bt===null&&(Ae=1,qf(n,di(i,n.current)))}function JS(){var n=G.H;return G.H=ns,n===null?ns:n}function t_(){var n=G.A;return G.A=hR,n}function Cy(){Ae=4,Us||(Xt&4194176)!==Xt&&gi.current!==null||(Bl=!0),(Ia&134217727)===0&&($r&134217727)===0||re===null||Is(re,Xt,vi,!1)}function My(n,i,a){var l=pe;pe|=2;var f=JS(),y=t_();(re!==n||Xt!==i)&&(Qf=null,ql(n,i)),i=!1;var A=Ae;t:do try{if(oe!==0&&Bt!==null){var R=Bt,D=Yn;switch(oe){case 8:Ry(),A=6;break t;case 3:case 2:case 6:gi.current===null&&(i=!0);var P=oe;if(oe=0,Yn=null,Gl(n,R,D,P),a&&Bl){A=0;break t}break;default:P=oe,oe=0,Yn=null,Gl(n,R,D,P)}}pR(),A=Ae;break}catch($){ZS(n,$)}while(!0);return i&&n.shellSuspendCounter++,ks=Vr=null,pe=l,G.H=f,G.A=y,Bt===null&&(re=null,Xt=0,Ef()),A}function pR(){for(;Bt!==null;)e_(Bt)}function gR(n,i){var a=pe;pe|=2;var l=JS(),f=t_();re!==n||Xt!==i?(Qf=null,Wf=li()+500,ql(n,i)):Bl=gu(n,i);t:do try{if(oe!==0&&Bt!==null){i=Bt;var y=Yn;e:switch(oe){case 1:oe=0,Yn=null,Gl(n,i,y,1);break;case 2:if(hA(y)){oe=0,Yn=null,n_(i);break}i=function(){oe===2&&re===n&&(oe=7),ss(n)},y.then(i,i);break t;case 3:oe=7;break t;case 4:oe=5;break t;case 7:hA(y)?(oe=0,Yn=null,n_(i)):(oe=0,Yn=null,Gl(n,i,y,7));break;case 5:var A=null;switch(Bt.tag){case 26:A=Bt.memoizedState;case 5:case 27:var R=Bt;if(!A||O_(A)){oe=0,Yn=null;var D=R.sibling;if(D!==null)Bt=D;else{var P=R.return;P!==null?(Bt=P,tp(P)):Bt=null}break e}}oe=0,Yn=null,Gl(n,i,y,5);break;case 6:oe=0,Yn=null,Gl(n,i,y,6);break;case 8:Ry(),Ae=6;break t;default:throw Error(s(462))}}mR();break}catch($){ZS(n,$)}while(!0);return ks=Vr=null,G.H=l,G.A=f,pe=a,Bt!==null?0:(re=null,Xt=0,Ef(),Ae)}function mR(){for(;Bt!==null&&!Yg();)e_(Bt)}function e_(n){var i=ES(n.alternate,n,Bs);n.memoizedProps=n.pendingProps,i===null?tp(n):Bt=i}function n_(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=yS(a,i,i.pendingProps,i.type,void 0,Xt);break;case 11:i=yS(a,i,i.pendingProps,i.type.render,i.ref,Xt);break;case 5:Nm(i);default:KS(a,i),i=Bt=VS(i,Bs),i=ES(a,i,Bs)}n.memoizedProps=n.pendingProps,i===null?tp(n):Bt=i}function Gl(n,i,a,l){ks=Vr=null,Nm(i),Ol=null,Nu=0;var f=i.return;try{if(sR(n,f,i,a,Xt)){Ae=1,qf(n,di(a,n.current)),Bt=null;return}}catch(y){if(f!==null)throw Bt=f,y;Ae=1,qf(n,di(a,n.current)),Bt=null;return}i.flags&32768?(Yt||l===1?n=!0:Bl||(Xt&536870912)!==0?n=!1:(Us=n=!0,(l===2||l===3||l===6)&&(l=gi.current,l!==null&&l.tag===13&&(l.flags|=16384))),i_(i,n)):tp(i)}function tp(n){var i=n;do{if((i.flags&32768)!==0){i_(i,Us);return}n=i.return;var a=cR(i.alternate,i,Bs);if(a!==null){Bt=a;return}if(i=i.sibling,i!==null){Bt=i;return}Bt=i=n}while(i!==null);Ae===0&&(Ae=5)}function i_(n,i){do{var a=uR(n.alternate,n);if(a!==null){a.flags&=32767,Bt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Bt=n;return}Bt=n=a}while(n!==null);Ae=6,Bt=null}function s_(n,i,a,l,f,y,A,R,D,P){var $=G.T,et=st.p;try{st.p=2,G.T=null,yR(n,i,a,l,et,f,y,A,R,D,P)}finally{G.T=$,st.p=et}}function yR(n,i,a,l,f,y,A,R){do Vl();while(Wr!==null);if((pe&6)!==0)throw Error(s(327));var D=n.finishedWork;if(l=n.finishedLanes,D===null)return null;if(n.finishedWork=null,n.finishedLanes=0,D===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var P=D.lanes|D.childLanes;if(P|=bm,$T(n,l,P,y,A,R),n===re&&(Bt=re=null,Xt=0),(D.subtreeFlags&10256)===0&&(D.flags&10256)===0||Zf||(Zf=!0,Ey=P,wy=a,SR(xs,function(){return Vl(),null})),a=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||a?(a=G.T,G.T=null,y=st.p,st.p=2,A=pe,pe|=4,rR(n,D),jS(D,n),Bx(By,n.containerInfo),dp=!!Uy,By=Uy=null,n.current=D,kS(n,D.alternate,D),Kg(),pe=A,st.p=y,G.T=a):n.current=D,Zf?(Zf=!1,Wr=n,Qu=l):a_(n,P),P=n.pendingLanes,P===0&&(qa=null),GT(D.stateNode),ss(n),i!==null)for(f=n.onRecoverableError,D=0;D<i.length;D++)P=i[D],f(P.value,{componentStack:P.stack});return(Qu&3)!==0&&Vl(),P=n.pendingLanes,(l&4194218)!==0&&(P&42)!==0?n===Ty?Zu++:(Zu=0,Ty=n):Zu=0,Ju(0),null}function a_(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Fu(i)))}function Vl(){if(Wr!==null){var n=Wr,i=Ey;Ey=0;var a=p0(Qu),l=G.T,f=st.p;try{if(st.p=32>a?32:a,G.T=null,Wr===null)var y=!1;else{a=wy,wy=null;var A=Wr,R=Qu;if(Wr=null,Qu=0,(pe&6)!==0)throw Error(s(331));var D=pe;if(pe|=4,qS(A.current),US(A,A.current,R,a),pe=D,Ju(0,!1),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(pu,A)}catch{}y=!0}return y}finally{st.p=f,G.T=l,a_(n,i)}}return!1}function r_(n,i,a){i=di(a,i),i=Ym(n.stateNode,i,2),n=Ha(n,i,2),n!==null&&(mu(n,2),ss(n))}function se(n,i,a){if(n.tag===3)r_(n,n,a);else for(;i!==null;){if(i.tag===3){r_(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qa===null||!qa.has(l))){n=di(a,n),a=cS(2),l=Ha(i,a,2),l!==null&&(uS(a,l,i,n),mu(l,2),ss(l));break}}i=i.return}}function Dy(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new dR;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(vy=!0,f.add(a),n=bR.bind(null,n,i,a),i.then(n,n))}function bR(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,re===n&&(Xt&a)===a&&(Ae===4||Ae===3&&(Xt&62914560)===Xt&&300>li()-_y?(pe&2)===0&&ql(n,0):Ay|=a,Il===Xt&&(Il=0)),ss(n)}function o_(n,i){i===0&&(i=h0()),n=Ma(n,i),n!==null&&(mu(n,i),ss(n))}function vR(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),o_(n,a)}function AR(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),o_(n,a)}function SR(n,i){return fu(n,i)}var ep=null,Xl=null,Oy=!1,np=!1,Ly=!1,Qr=0;function ss(n){n!==Xl&&n.next===null&&(Xl===null?ep=Xl=n:Xl=Xl.next=n),np=!0,Oy||(Oy=!0,ER(_R))}function Ju(n,i){if(!Ly&&np){Ly=!0;do for(var a=!1,l=ep;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var y=0;else{var A=l.suspendedLanes,R=l.pingedLanes;y=(1<<31-qn(42|n)+1)-1,y&=f&~(A&~R),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(a=!0,u_(l,y))}else y=Xt,y=hf(l,l===re?y:0),(y&3)===0||gu(l,y)||(a=!0,u_(l,y));l=l.next}while(a);Ly=!1}}function _R(){np=Oy=!1;var n=0;Qr!==0&&(OR()&&(n=Qr),Qr=0);for(var i=li(),a=null,l=ep;l!==null;){var f=l.next,y=l_(l,i);y===0?(l.next=null,a===null?ep=f:a.next=f,f===null&&(Xl=a)):(a=l,(n!==0||(y&3)!==0)&&(np=!0)),l=f}Ju(n)}function l_(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var A=31-qn(y),R=1<<A,D=f[A];D===-1?((R&a)===0||(R&l)!==0)&&(f[A]=KT(R,i)):D<=i&&(n.expiredLanes|=R),y&=~R}if(i=re,a=Xt,a=hf(n,n===i?a:0),l=n.callbackNode,a===0||n===i&&oe===2||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Ta(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||gu(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&Ta(l),p0(a)){case 2:case 8:a=Ts;break;case 32:a=xs;break;case 268435456:a=gl;break;default:a=xs}return l=c_.bind(null,n),a=fu(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&Ta(l),n.callbackPriority=2,n.callbackNode=null,2}function c_(n,i){var a=n.callbackNode;if(Vl()&&n.callbackNode!==a)return null;var l=Xt;return l=hf(n,n===re?l:0),l===0?null:(WS(n,l,i),l_(n,li()),n.callbackNode!=null&&n.callbackNode===a?c_.bind(null,n):null)}function u_(n,i){if(Vl())return null;WS(n,i,!0)}function ER(n){NR(function(){(pe&6)!==0?fu(lf,n):n()})}function Ny(){return Qr===0&&(Qr=u0()),Qr}function h_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:mf(""+n)}function d_(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function wR(n,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var y=h_((f[Dn]||null).action),A=l.submitter;A&&(i=(i=A[Dn]||null)?h_(i.formAction):A.getAttribute("formAction"),i!==null&&(y=i,A=null));var R=new Af("action","action",null,l,f);n.push({event:R,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qr!==0){var D=A?d_(f,A):new FormData(f);Im(a,{pending:!0,data:D,method:f.method,action:y},null,D)}}else typeof y=="function"&&(R.preventDefault(),D=A?d_(f,A):new FormData(f),Im(a,{pending:!0,data:D,method:f.method,action:y},y,D))},currentTarget:f}]})}}for(var ky=0;ky<sA.length;ky++){var Fy=sA[ky],TR=Fy.toLowerCase(),xR=Fy[0].toUpperCase()+Fy.slice(1);Oi(TR,"on"+xR)}Oi(J0,"onAnimationEnd"),Oi(tA,"onAnimationIteration"),Oi(eA,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(qx,"onTransitionRun"),Oi(Gx,"onTransitionStart"),Oi(Vx,"onTransitionCancel"),Oi(nA,"onTransitionEnd"),vl("onMouseEnter",["mouseout","mouseover"]),vl("onMouseLeave",["mouseout","mouseover"]),vl("onPointerEnter",["pointerout","pointerover"]),vl("onPointerLeave",["pointerout","pointerover"]),Lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Lr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var th="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(th));function f_(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;t:{var y=void 0;if(i)for(var A=l.length-1;0<=A;A--){var R=l[A],D=R.instance,P=R.currentTarget;if(R=R.listener,D!==y&&f.isPropagationStopped())break t;y=R,f.currentTarget=P;try{y(f)}catch($){If($)}f.currentTarget=null,y=D}else for(A=0;A<l.length;A++){if(R=l[A],D=R.instance,P=R.currentTarget,R=R.listener,D!==y&&f.isPropagationStopped())break t;y=R,f.currentTarget=P;try{y(f)}catch($){If($)}f.currentTarget=null,y=D}}}}function qt(n,i){var a=i[Qg];a===void 0&&(a=i[Qg]=new Set);var l=n+"__bubble";a.has(l)||(p_(i,n,2,!1),a.add(l))}function Py(n,i,a){var l=0;i&&(l|=4),p_(a,n,l,i)}var ip="_reactListening"+Math.random().toString(36).slice(2);function Hy(n){if(!n[ip]){n[ip]=!0,y0.forEach(function(a){a!=="selectionchange"&&(RR.has(a)||Py(a,!1,n),Py(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[ip]||(i[ip]=!0,Py("selectionchange",!1,i))}}function p_(n,i,a,l){switch(H_(i)){case 2:var f=JR;break;case 8:f=tC;break;default:f=Wy}a=f.bind(null,i,a,n),f=void 0,!am||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function jy(n,i,a,l,f){var y=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var A=l.tag;if(A===3||A===4){var R=l.stateNode.containerInfo;if(R===f||R.nodeType===8&&R.parentNode===f)break;if(A===4)for(A=l.return;A!==null;){var D=A.tag;if((D===3||D===4)&&(D=A.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;A=A.return}for(;R!==null;){if(A=Or(R),A===null)return;if(D=A.tag,D===5||D===6||D===26||D===27){l=y=A;continue t}R=R.parentNode}}l=l.return}M0(function(){var P=y,$=im(a),et=[];t:{var q=iA.get(n);if(q!==void 0){var Y=Af,yt=n;switch(n){case"keypress":if(bf(a)===0)break t;case"keydown":case"keyup":Y=Ax;break;case"focusin":yt="focus",Y=cm;break;case"focusout":yt="blur",Y=cm;break;case"beforeblur":case"afterblur":Y=cm;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=L0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=lx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Ex;break;case J0:case tA:case eA:Y=hx;break;case nA:Y=Tx;break;case"scroll":case"scrollend":Y=rx;break;case"wheel":Y=Rx;break;case"copy":case"cut":case"paste":Y=fx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=k0;break;case"toggle":case"beforetoggle":Y=Mx}var Ct=(i&4)!==0,Se=!Ct&&(n==="scroll"||n==="scrollend"),z=Ct?q!==null?q+"Capture":null:q;Ct=[];for(var F=P,U;F!==null;){var Z=F;if(U=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||U===null||z===null||(Z=vu(F,z),Z!=null&&Ct.push(eh(F,Z,U))),Se)break;F=F.return}0<Ct.length&&(q=new Y(q,yt,null,a,$),et.push({event:q,listeners:Ct}))}}if((i&7)===0){t:{if(q=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",q&&a!==nm&&(yt=a.relatedTarget||a.fromElement)&&(Or(yt)||yt[ml]))break t;if((Y||q)&&(q=$.window===$?$:(q=$.ownerDocument)?q.defaultView||q.parentWindow:window,Y?(yt=a.relatedTarget||a.toElement,Y=P,yt=yt?Or(yt):null,yt!==null&&(Se=tt(yt),Ct=yt.tag,yt!==Se||Ct!==5&&Ct!==27&&Ct!==6)&&(yt=null)):(Y=null,yt=P),Y!==yt)){if(Ct=L0,Z="onMouseLeave",z="onMouseEnter",F="mouse",(n==="pointerout"||n==="pointerover")&&(Ct=k0,Z="onPointerLeave",z="onPointerEnter",F="pointer"),Se=Y==null?q:bu(Y),U=yt==null?q:bu(yt),q=new Ct(Z,F+"leave",Y,a,$),q.target=Se,q.relatedTarget=U,Z=null,Or($)===P&&(Ct=new Ct(z,F+"enter",yt,a,$),Ct.target=U,Ct.relatedTarget=Se,Z=Ct),Se=Z,Y&&yt)e:{for(Ct=Y,z=yt,F=0,U=Ct;U;U=Yl(U))F++;for(U=0,Z=z;Z;Z=Yl(Z))U++;for(;0<F-U;)Ct=Yl(Ct),F--;for(;0<U-F;)z=Yl(z),U--;for(;F--;){if(Ct===z||z!==null&&Ct===z.alternate)break e;Ct=Yl(Ct),z=Yl(z)}Ct=null}else Ct=null;Y!==null&&g_(et,q,Y,Ct,!1),yt!==null&&Se!==null&&g_(et,Se,yt,Ct,!0)}}t:{if(q=P?bu(P):window,Y=q.nodeName&&q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&q.type==="file")var ft=I0;else if(U0(q))if(q0)ft=zx;else{ft=Hx;var zt=Px}else Y=q.nodeName,!Y||Y.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?P&&em(P.elementType)&&(ft=I0):ft=jx;if(ft&&(ft=ft(n,P))){B0(et,ft,a,$);break t}zt&&zt(n,q,P),n==="focusout"&&P&&q.type==="number"&&P.memoizedProps.value!=null&&tm(q,"number",q.value)}switch(zt=P?bu(P):window,n){case"focusin":(U0(zt)||zt.contentEditable==="true")&&(Tl=zt,gm=P,Ru=null);break;case"focusout":Ru=gm=Tl=null;break;case"mousedown":mm=!0;break;case"contextmenu":case"mouseup":case"dragend":mm=!1,Q0(et,a,$);break;case"selectionchange":if(Ix)break;case"keydown":case"keyup":Q0(et,a,$)}var vt;if(hm)t:{switch(n){case"compositionstart":var St="onCompositionStart";break t;case"compositionend":St="onCompositionEnd";break t;case"compositionupdate":St="onCompositionUpdate";break t}St=void 0}else wl?j0(n,a)&&(St="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(St="onCompositionStart");St&&(F0&&a.locale!=="ko"&&(wl||St!=="onCompositionStart"?St==="onCompositionEnd"&&wl&&(vt=D0()):(Ca=$,rm="value"in Ca?Ca.value:Ca.textContent,wl=!0)),zt=sp(P,St),0<zt.length&&(St=new N0(St,n,null,a,$),et.push({event:St,listeners:zt}),vt?St.data=vt:(vt=z0(a),vt!==null&&(St.data=vt)))),(vt=Ox?Lx(n,a):Nx(n,a))&&(St=sp(P,"onBeforeInput"),0<St.length&&(zt=new N0("onBeforeInput","beforeinput",null,a,$),et.push({event:zt,listeners:St}),zt.data=vt)),wR(et,n,P,a,$)}f_(et,i)})}function eh(n,i,a){return{instance:n,listener:i,currentTarget:a}}function sp(n,i){for(var a=i+"Capture",l=[];n!==null;){var f=n,y=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||y===null||(f=vu(n,a),f!=null&&l.unshift(eh(n,f,y)),f=vu(n,i),f!=null&&l.push(eh(n,f,y))),n=n.return}return l}function Yl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function g_(n,i,a,l,f){for(var y=i._reactName,A=[];a!==null&&a!==l;){var R=a,D=R.alternate,P=R.stateNode;if(R=R.tag,D!==null&&D===l)break;R!==5&&R!==26&&R!==27||P===null||(D=P,f?(P=vu(a,y),P!=null&&A.unshift(eh(a,P,D))):f||(P=vu(a,y),P!=null&&A.push(eh(a,P,D)))),a=a.return}A.length!==0&&n.push({event:i,listeners:A})}var CR=/\r\n?/g,MR=/\u0000|\uFFFD/g;function m_(n){return(typeof n=="string"?n:""+n).replace(CR,`
`).replace(MR,"")}function y_(n,i){return i=m_(i),m_(n)===i}function ap(){}function ee(n,i,a,l,f,y){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Sl(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Sl(n,""+l);break;case"className":ff(n,"class",l);break;case"tabIndex":ff(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ff(n,a,l);break;case"style":R0(n,l,y);break;case"data":if(i!=="object"){ff(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=mf(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(i!=="input"&&ee(n,i,"name",f.name,f,null),ee(n,i,"formEncType",f.formEncType,f,null),ee(n,i,"formMethod",f.formMethod,f,null),ee(n,i,"formTarget",f.formTarget,f,null)):(ee(n,i,"encType",f.encType,f,null),ee(n,i,"method",f.method,f,null),ee(n,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=mf(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=ap);break;case"onScroll":l!=null&&qt("scroll",n);break;case"onScrollEnd":l!=null&&qt("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=mf(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":qt("beforetoggle",n),qt("toggle",n),df(n,"popover",l);break;case"xlinkActuate":Cs(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Cs(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Cs(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Cs(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Cs(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Cs(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Cs(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Cs(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Cs(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":df(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=sx.get(a)||a,df(n,a,l))}}function zy(n,i,a,l,f,y){switch(a){case"style":R0(n,l,y);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Sl(n,l):(typeof l=="number"||typeof l=="bigint")&&Sl(n,""+l);break;case"onScroll":l!=null&&qt("scroll",n);break;case"onScrollEnd":l!=null&&qt("scrollend",n);break;case"onClick":l!=null&&(n.onclick=ap);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!b0.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),y=n[Dn]||null,y=y!=null?y[a]:null,typeof y=="function"&&n.removeEventListener(i,y,f),typeof l=="function")){typeof y!="function"&&y!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,f);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):df(n,a,l)}}}function nn(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",n),qt("load",n);var l=!1,f=!1,y;for(y in a)if(a.hasOwnProperty(y)){var A=a[y];if(A!=null)switch(y){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ee(n,i,y,A,a,null)}}f&&ee(n,i,"srcSet",a.srcSet,a,null),l&&ee(n,i,"src",a.src,a,null);return;case"input":qt("invalid",n);var R=y=A=f=null,D=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":f=$;break;case"type":A=$;break;case"checked":D=$;break;case"defaultChecked":P=$;break;case"value":y=$;break;case"defaultValue":R=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:ee(n,i,l,$,a,null)}}E0(n,y,R,D,P,A,f,!1),pf(n);return;case"select":qt("invalid",n),l=A=y=null;for(f in a)if(a.hasOwnProperty(f)&&(R=a[f],R!=null))switch(f){case"value":y=R;break;case"defaultValue":A=R;break;case"multiple":l=R;default:ee(n,i,f,R,a,null)}i=y,a=A,n.multiple=!!l,i!=null?Al(n,!!l,i,!1):a!=null&&Al(n,!!l,a,!0);return;case"textarea":qt("invalid",n),y=f=l=null;for(A in a)if(a.hasOwnProperty(A)&&(R=a[A],R!=null))switch(A){case"value":l=R;break;case"defaultValue":f=R;break;case"children":y=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(s(91));break;default:ee(n,i,A,R,a,null)}T0(n,l,f,y),pf(n);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ee(n,i,D,l,a,null)}return;case"dialog":qt("cancel",n),qt("close",n);break;case"iframe":case"object":qt("load",n);break;case"video":case"audio":for(l=0;l<th.length;l++)qt(th[l],n);break;case"image":qt("error",n),qt("load",n);break;case"details":qt("toggle",n);break;case"embed":case"source":case"link":qt("error",n),qt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ee(n,i,P,l,a,null)}return;default:if(em(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&zy(n,i,$,l,a,void 0));return}}for(R in a)a.hasOwnProperty(R)&&(l=a[R],l!=null&&ee(n,i,R,l,a,null))}function DR(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,y=null,A=null,R=null,D=null,P=null,$=null;for(Y in a){var et=a[Y];if(a.hasOwnProperty(Y)&&et!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=et;default:l.hasOwnProperty(Y)||ee(n,i,Y,null,l,et)}}for(var q in l){var Y=l[q];if(et=a[q],l.hasOwnProperty(q)&&(Y!=null||et!=null))switch(q){case"type":y=Y;break;case"name":f=Y;break;case"checked":P=Y;break;case"defaultChecked":$=Y;break;case"value":A=Y;break;case"defaultValue":R=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==et&&ee(n,i,q,Y,l,et)}}Jg(n,A,R,D,P,$,y,f);return;case"select":Y=A=R=q=null;for(y in a)if(D=a[y],a.hasOwnProperty(y)&&D!=null)switch(y){case"value":break;case"multiple":Y=D;default:l.hasOwnProperty(y)||ee(n,i,y,null,l,D)}for(f in l)if(y=l[f],D=a[f],l.hasOwnProperty(f)&&(y!=null||D!=null))switch(f){case"value":q=y;break;case"defaultValue":R=y;break;case"multiple":A=y;default:y!==D&&ee(n,i,f,y,l,D)}i=R,a=A,l=Y,q!=null?Al(n,!!a,q,!1):!!l!=!!a&&(i!=null?Al(n,!!a,i,!0):Al(n,!!a,a?[]:"",!1));return;case"textarea":Y=q=null;for(R in a)if(f=a[R],a.hasOwnProperty(R)&&f!=null&&!l.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:ee(n,i,R,null,l,f)}for(A in l)if(f=l[A],y=a[A],l.hasOwnProperty(A)&&(f!=null||y!=null))switch(A){case"value":q=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==y&&ee(n,i,A,f,l,y)}w0(n,q,Y);return;case"option":for(var yt in a)if(q=a[yt],a.hasOwnProperty(yt)&&q!=null&&!l.hasOwnProperty(yt))switch(yt){case"selected":n.selected=!1;break;default:ee(n,i,yt,null,l,q)}for(D in l)if(q=l[D],Y=a[D],l.hasOwnProperty(D)&&q!==Y&&(q!=null||Y!=null))switch(D){case"selected":n.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:ee(n,i,D,q,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in a)q=a[Ct],a.hasOwnProperty(Ct)&&q!=null&&!l.hasOwnProperty(Ct)&&ee(n,i,Ct,null,l,q);for(P in l)if(q=l[P],Y=a[P],l.hasOwnProperty(P)&&q!==Y&&(q!=null||Y!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:ee(n,i,P,q,l,Y)}return;default:if(em(i)){for(var Se in a)q=a[Se],a.hasOwnProperty(Se)&&q!==void 0&&!l.hasOwnProperty(Se)&&zy(n,i,Se,void 0,l,q);for($ in l)q=l[$],Y=a[$],!l.hasOwnProperty($)||q===Y||q===void 0&&Y===void 0||zy(n,i,$,q,l,Y);return}}for(var z in a)q=a[z],a.hasOwnProperty(z)&&q!=null&&!l.hasOwnProperty(z)&&ee(n,i,z,null,l,q);for(et in l)q=l[et],Y=a[et],!l.hasOwnProperty(et)||q===Y||q==null&&Y==null||ee(n,i,et,q,l,Y)}var Uy=null,By=null;function rp(n){return n.nodeType===9?n:n.ownerDocument}function b_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Iy(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var qy=null;function OR(){var n=window.event;return n&&n.type==="popstate"?n===qy?!1:(qy=n,!0):(qy=null,!1)}var A_=typeof setTimeout=="function"?setTimeout:void 0,LR=typeof clearTimeout=="function"?clearTimeout:void 0,S_=typeof Promise=="function"?Promise:void 0,NR=typeof queueMicrotask=="function"?queueMicrotask:typeof S_<"u"?function(n){return S_.resolve(null).then(n).catch(kR)}:A_;function kR(n){setTimeout(function(){throw n})}function Gy(n,i){var a=i,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(l===0){n.removeChild(f),ch(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=f}while(a);ch(i)}function Vy(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vy(a),Zg(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function FR(n,i,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[yu])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var y=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=ki(n.nextSibling),n===null)break}return null}function PR(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ki(n.nextSibling),n===null))return null;return n}function ki(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}function __(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function E_(n,i,a){switch(i=rp(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var Ai=new Map,w_=new Set;function op(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var qs=st.d;st.d={f:HR,r:jR,D:zR,C:UR,L:BR,m:IR,X:GR,S:qR,M:VR};function HR(){var n=qs.f(),i=Jf();return n||i}function jR(n){var i=yl(n);i!==null&&i.tag===5&&i.type==="form"?QA(i):qs.r(n)}var Kl=typeof document>"u"?null:document;function T_(n,i,a){var l=Kl;if(l&&typeof i=="string"&&i){var f=ui(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),w_.has(f)||(w_.add(f),n={rel:n,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),nn(i,"link",n),Ge(i),l.head.appendChild(i)))}}function zR(n){qs.D(n),T_("dns-prefetch",n,null)}function UR(n,i){qs.C(n,i),T_("preconnect",n,i)}function BR(n,i,a){qs.L(n,i,a);var l=Kl;if(l&&n&&i){var f='link[rel="preload"][as="'+ui(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ui(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ui(a.imageSizes)+'"]')):f+='[href="'+ui(n)+'"]';var y=f;switch(i){case"style":y=$l(n);break;case"script":y=Wl(n)}Ai.has(y)||(n=nt({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Ai.set(y,n),l.querySelector(f)!==null||i==="style"&&l.querySelector(nh(y))||i==="script"&&l.querySelector(ih(y))||(i=l.createElement("link"),nn(i,"link",n),Ge(i),l.head.appendChild(i)))}}function IR(n,i){qs.m(n,i);var a=Kl;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+ui(l)+'"][href="'+ui(n)+'"]',y=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Wl(n)}if(!Ai.has(y)&&(n=nt({rel:"modulepreload",href:n},i),Ai.set(y,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ih(y)))return}l=a.createElement("link"),nn(l,"link",n),Ge(l),a.head.appendChild(l)}}}function qR(n,i,a){qs.S(n,i,a);var l=Kl;if(l&&n){var f=bl(l).hoistableStyles,y=$l(n);i=i||"default";var A=f.get(y);if(!A){var R={loading:0,preload:null};if(A=l.querySelector(nh(y)))R.loading=5;else{n=nt({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Ai.get(y))&&Xy(n,a);var D=A=l.createElement("link");Ge(D),nn(D,"link",n),D._p=new Promise(function(P,$){D.onload=P,D.onerror=$}),D.addEventListener("load",function(){R.loading|=1}),D.addEventListener("error",function(){R.loading|=2}),R.loading|=4,lp(A,i,l)}A={type:"stylesheet",instance:A,count:1,state:R},f.set(y,A)}}}function GR(n,i){qs.X(n,i);var a=Kl;if(a&&n){var l=bl(a).hoistableScripts,f=Wl(n),y=l.get(f);y||(y=a.querySelector(ih(f)),y||(n=nt({src:n,async:!0},i),(i=Ai.get(f))&&Yy(n,i),y=a.createElement("script"),Ge(y),nn(y,"link",n),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},l.set(f,y))}}function VR(n,i){qs.M(n,i);var a=Kl;if(a&&n){var l=bl(a).hoistableScripts,f=Wl(n),y=l.get(f);y||(y=a.querySelector(ih(f)),y||(n=nt({src:n,async:!0,type:"module"},i),(i=Ai.get(f))&&Yy(n,i),y=a.createElement("script"),Ge(y),nn(y,"link",n),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},l.set(f,y))}}function x_(n,i,a,l){var f=(f=Pt.current)?op(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=$l(a.href),a=bl(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=$l(a.href);var y=bl(f).hoistableStyles,A=y.get(n);if(A||(f=f.ownerDocument||f,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,A),(y=f.querySelector(nh(n)))&&!y._p&&(A.instance=y,A.state.loading=5),Ai.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ai.set(n,a),y||XR(f,n,a,A.state))),i&&l===null)throw Error(s(528,""));return A}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Wl(a),a=bl(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function $l(n){return'href="'+ui(n)+'"'}function nh(n){return'link[rel="stylesheet"]['+n+"]"}function R_(n){return nt({},n,{"data-precedence":n.precedence,precedence:null})}function XR(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),nn(i,"link",a),Ge(i),n.head.appendChild(i))}function Wl(n){return'[src="'+ui(n)+'"]'}function ih(n){return"script[async]"+n}function C_(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+ui(a.href)+'"]');if(l)return i.instance=l,Ge(l),l;var f=nt({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Ge(l),nn(l,"style",f),lp(l,a.precedence,n),i.instance=l;case"stylesheet":f=$l(a.href);var y=n.querySelector(nh(f));if(y)return i.state.loading|=4,i.instance=y,Ge(y),y;l=R_(a),(f=Ai.get(f))&&Xy(l,f),y=(n.ownerDocument||n).createElement("link"),Ge(y);var A=y;return A._p=new Promise(function(R,D){A.onload=R,A.onerror=D}),nn(y,"link",l),i.state.loading|=4,lp(y,a.precedence,n),i.instance=y;case"script":return y=Wl(a.src),(f=n.querySelector(ih(y)))?(i.instance=f,Ge(f),f):(l=a,(f=Ai.get(y))&&(l=nt({},a),Yy(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Ge(f),nn(f,"link",l),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,lp(l,a.precedence,n));return i.instance}function lp(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,y=f,A=0;A<l.length;A++){var R=l[A];if(R.dataset.precedence===i)y=R;else if(y!==f)break}y?y.parentNode.insertBefore(n,y.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Xy(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Yy(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var cp=null;function M_(n,i,a){if(cp===null){var l=new Map,f=cp=new Map;f.set(a,l)}else f=cp,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var y=a[f];if(!(y[yu]||y[cn]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var A=y.getAttribute(i)||"";A=n+A;var R=l.get(A);R?R.push(y):l.set(A,[y])}}return l}function D_(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function YR(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function O_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var sh=null;function KR(){}function $R(n,i,a){if(sh===null)throw Error(s(475));var l=sh;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=$l(a.href),y=n.querySelector(nh(f));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=up.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=y,Ge(y);return}y=n.ownerDocument||n,a=R_(a),(f=Ai.get(f))&&Xy(a,f),y=y.createElement("link"),Ge(y);var A=y;A._p=new Promise(function(R,D){A.onload=R,A.onerror=D}),nn(y,"link",a),i.instance=y}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=up.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function WR(){if(sh===null)throw Error(s(475));var n=sh;return n.stylesheets&&n.count===0&&Ky(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&Ky(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function up(){if(this.count--,this.count===0){if(this.stylesheets)Ky(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var hp=null;function Ky(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,hp=new Map,i.forEach(QR,n),hp=null,up.call(n))}function QR(n,i){if(!(i.state.loading&4)){var a=hp.get(n);if(a)var l=a.get(null);else{a=new Map,hp.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<f.length;y++){var A=f[y];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(a.set(A.dataset.precedence,A),l=A)}l&&a.set(null,l)}f=i.instance,A=f.getAttribute("data-precedence"),y=a.get(A)||l,y===l&&a.set(null,f),a.set(A,f),this.count++,l=up.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),y?y.parentNode.insertBefore(f,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var ah={$$typeof:S,Provider:null,Consumer:null,_currentValue:_t,_currentValue2:_t,_threadCount:0};function ZR(n,i,a,l,f,y,A,R){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wg(0),this.hiddenUpdates=Wg(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=y,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function L_(n,i,a,l,f,y,A,R,D,P,$,et){return n=new ZR(n,i,a,A,R,D,P,et),i=1,y===!0&&(i|=24),y=bi(3,null,null,i),n.current=y,y.stateNode=n,i=xm(),i.refCount++,n.pooledCache=i,i.refCount++,y.memoizedState={element:l,isDehydrated:a,cache:i},ry(y),n}function N_(n){return n?(n=Cl,n):Cl}function k_(n,i,a,l,f,y){f=N_(f),l.context===null?l.context=f:l.pendingContext=f,l=Pa(i),l.payload={element:a},y=y===void 0?null:y,y!==null&&(l.callback=y),a=Ha(n,l,i),a!==null&&(_n(a,n,i),Iu(a,n,i))}function F_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function $y(n,i){F_(n,i),(n=n.alternate)&&F_(n,i)}function P_(n){if(n.tag===13){var i=Ma(n,67108864);i!==null&&_n(i,n,67108864),$y(n,67108864)}}var dp=!0;function JR(n,i,a,l){var f=G.T;G.T=null;var y=st.p;try{st.p=2,Wy(n,i,a,l)}finally{st.p=y,G.T=f}}function tC(n,i,a,l){var f=G.T;G.T=null;var y=st.p;try{st.p=8,Wy(n,i,a,l)}finally{st.p=y,G.T=f}}function Wy(n,i,a,l){if(dp){var f=Qy(l);if(f===null)jy(n,i,l,fp,a),j_(n,l);else if(nC(f,n,i,a,l))l.stopPropagation();else if(j_(n,l),i&4&&-1<eC.indexOf(n)){for(;f!==null;){var y=yl(f);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var A=Dr(y.pendingLanes);if(A!==0){var R=y;for(R.pendingLanes|=2,R.entangledLanes|=2;A;){var D=1<<31-qn(A);R.entanglements[1]|=D,A&=~D}ss(y),(pe&6)===0&&(Wf=li()+500,Ju(0))}}break;case 13:R=Ma(y,2),R!==null&&_n(R,y,2),Jf(),$y(y,2)}if(y=Qy(l),y===null&&jy(n,i,l,fp,a),y===f)break;f=y}f!==null&&l.stopPropagation()}else jy(n,i,l,null,a)}}function Qy(n){return n=im(n),Zy(n)}var fp=null;function Zy(n){if(fp=null,n=Or(n),n!==null){var i=tt(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=Tt(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return fp=n,null}function H_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($g()){case lf:return 2;case Ts:return 8;case xs:case pl:return 32;case gl:return 268435456;default:return 32}default:return 32}}var Jy=!1,Ga=null,Va=null,Xa=null,rh=new Map,oh=new Map,Ya=[],eC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j_(n,i){switch(n){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":Va=null;break;case"mouseover":case"mouseout":Xa=null;break;case"pointerover":case"pointerout":rh.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":oh.delete(i.pointerId)}}function lh(n,i,a,l,f,y){return n===null||n.nativeEvent!==y?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:y,targetContainers:[f]},i!==null&&(i=yl(i),i!==null&&P_(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function nC(n,i,a,l,f){switch(i){case"focusin":return Ga=lh(Ga,n,i,a,l,f),!0;case"dragenter":return Va=lh(Va,n,i,a,l,f),!0;case"mouseover":return Xa=lh(Xa,n,i,a,l,f),!0;case"pointerover":var y=f.pointerId;return rh.set(y,lh(rh.get(y)||null,n,i,a,l,f)),!0;case"gotpointercapture":return y=f.pointerId,oh.set(y,lh(oh.get(y)||null,n,i,a,l,f)),!0}return!1}function z_(n){var i=Or(n.target);if(i!==null){var a=tt(i);if(a!==null){if(i=a.tag,i===13){if(i=Tt(a),i!==null){n.blockedOn=i,WT(n.priority,function(){if(a.tag===13){var l=Kn(),f=Ma(a,l);f!==null&&_n(f,a,l),$y(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function pp(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Qy(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);nm=l,a.target.dispatchEvent(l),nm=null}else return i=yl(a),i!==null&&P_(i),n.blockedOn=a,!1;i.shift()}return!0}function U_(n,i,a){pp(n)&&a.delete(i)}function iC(){Jy=!1,Ga!==null&&pp(Ga)&&(Ga=null),Va!==null&&pp(Va)&&(Va=null),Xa!==null&&pp(Xa)&&(Xa=null),rh.forEach(U_),oh.forEach(U_)}function gp(n,i){n.blockedOn===i&&(n.blockedOn=null,Jy||(Jy=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,iC)))}var mp=null;function B_(n){mp!==n&&(mp=n,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){mp===n&&(mp=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],f=n[i+2];if(typeof l!="function"){if(Zy(l||a)===null)continue;break}var y=yl(a);y!==null&&(n.splice(i,3),i-=3,Im(y,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function ch(n){function i(D){return gp(D,n)}Ga!==null&&gp(Ga,n),Va!==null&&gp(Va,n),Xa!==null&&gp(Xa,n),rh.forEach(i),oh.forEach(i);for(var a=0;a<Ya.length;a++){var l=Ya[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Ya.length&&(a=Ya[0],a.blockedOn===null);)z_(a),a.blockedOn===null&&Ya.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],y=a[l+1],A=f[Dn]||null;if(typeof y=="function")A||B_(a);else if(A){var R=null;if(y&&y.hasAttribute("formAction")){if(f=y,A=y[Dn]||null)R=A.formAction;else if(Zy(f)!==null)continue}else R=A.action;typeof R=="function"?a[l+1]=R:(a.splice(l,3),l-=3),B_(a)}}}function tb(n){this._internalRoot=n}yp.prototype.render=tb.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Kn();k_(a,l,n,i,null,null)},yp.prototype.unmount=tb.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;n.tag===0&&Vl(),k_(n.current,2,null,n,null,null),Jf(),i[ml]=null}};function yp(n){this._internalRoot=n}yp.prototype.unstable_scheduleHydration=function(n){if(n){var i=g0();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Ya.length&&i!==0&&i<Ya[a].priority;a++);Ya.splice(a,0,n),a===0&&z_(n)}};var I_=t.version;if(I_!=="19.0.0")throw Error(s(527,I_,"19.0.0"));st.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=Q(i),n=n!==null?lt(n):null,n=n===null?null:n.stateNode,n};var sC={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:G,findFiberByHostInstance:Or,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bp.isDisabled&&bp.supportsFiber)try{pu=bp.inject(sC),In=bp}catch{}}return hh.createRoot=function(n,i){if(!r(n))throw Error(s(299));var a=!1,l="",f=aS,y=rS,A=oS,R=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(A=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(R=i.unstable_transitionCallbacks)),i=L_(n,1,!1,null,null,a,l,f,y,A,R,null),n[ml]=i.current,Hy(n.nodeType===8?n.parentNode:n),new tb(i)},hh.hydrateRoot=function(n,i,a){if(!r(n))throw Error(s(299));var l=!1,f="",y=aS,A=rS,R=oS,D=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(A=a.onCaughtError),a.onRecoverableError!==void 0&&(R=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),i=L_(n,1,!0,i,a??null,l,f,y,A,R,D,P),i.context=N_(null),a=i.current,l=Kn(),f=Pa(l),f.callback=null,Ha(a,f,l),i.current.lanes=l,mu(i,l),ss(i),n[ml]=i.current,Hy(n),new yp(i)},hh.version="19.0.0",hh}var J_;function mC(){if(J_)return sb.exports;J_=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(t){console.error(t)}}return u(),sb.exports=gC(),sb.exports}var yC=mC();function WE(u,t){return function(){return u.apply(t,arguments)}}const{toString:bC}=Object.prototype,{getPrototypeOf:Gv}=Object,Mg=(u=>t=>{const e=bC.call(t);return u[e]||(u[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),Qi=u=>(u=u.toLowerCase(),t=>Mg(t)===u),Dg=u=>t=>typeof t===u,{isArray:uu}=Array,jh=Dg("undefined");function vC(u){return u!==null&&!jh(u)&&u.constructor!==null&&!jh(u.constructor)&&ri(u.constructor.isBuffer)&&u.constructor.isBuffer(u)}const QE=Qi("ArrayBuffer");function AC(u){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(u):t=u&&u.buffer&&QE(u.buffer),t}const SC=Dg("string"),ri=Dg("function"),ZE=Dg("number"),Og=u=>u!==null&&typeof u=="object",_C=u=>u===!0||u===!1,Tp=u=>{if(Mg(u)!=="object")return!1;const t=Gv(u);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in u)&&!(Symbol.iterator in u)},EC=Qi("Date"),wC=Qi("File"),TC=Qi("Blob"),xC=Qi("FileList"),RC=u=>Og(u)&&ri(u.pipe),CC=u=>{let t;return u&&(typeof FormData=="function"&&u instanceof FormData||ri(u.append)&&((t=Mg(u))==="formdata"||t==="object"&&ri(u.toString)&&u.toString()==="[object FormData]"))},MC=Qi("URLSearchParams"),[DC,OC,LC,NC]=["ReadableStream","Request","Response","Headers"].map(Qi),kC=u=>u.trim?u.trim():u.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ef(u,t,{allOwnKeys:e=!1}={}){if(u===null||typeof u>"u")return;let s,r;if(typeof u!="object"&&(u=[u]),uu(u))for(s=0,r=u.length;s<r;s++)t.call(null,u[s],s,u);else{const o=e?Object.getOwnPropertyNames(u):Object.keys(u),c=o.length;let d;for(s=0;s<c;s++)d=o[s],t.call(null,u[d],d,u)}}function JE(u,t){t=t.toLowerCase();const e=Object.keys(u);let s=e.length,r;for(;s-- >0;)if(r=e[s],t===r.toLowerCase())return r;return null}const ao=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tw=u=>!jh(u)&&u!==ao;function bb(){const{caseless:u}=tw(this)&&this||{},t={},e=(s,r)=>{const o=u&&JE(t,r)||r;Tp(t[o])&&Tp(s)?t[o]=bb(t[o],s):Tp(s)?t[o]=bb({},s):uu(s)?t[o]=s.slice():t[o]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&ef(arguments[s],e);return t}const FC=(u,t,e,{allOwnKeys:s}={})=>(ef(t,(r,o)=>{e&&ri(r)?u[o]=WE(r,e):u[o]=r},{allOwnKeys:s}),u),PC=u=>(u.charCodeAt(0)===65279&&(u=u.slice(1)),u),HC=(u,t,e,s)=>{u.prototype=Object.create(t.prototype,s),u.prototype.constructor=u,Object.defineProperty(u,"super",{value:t.prototype}),e&&Object.assign(u.prototype,e)},jC=(u,t,e,s)=>{let r,o,c;const d={};if(t=t||{},u==null)return t;do{for(r=Object.getOwnPropertyNames(u),o=r.length;o-- >0;)c=r[o],(!s||s(c,u,t))&&!d[c]&&(t[c]=u[c],d[c]=!0);u=e!==!1&&Gv(u)}while(u&&(!e||e(u,t))&&u!==Object.prototype);return t},zC=(u,t,e)=>{u=String(u),(e===void 0||e>u.length)&&(e=u.length),e-=t.length;const s=u.indexOf(t,e);return s!==-1&&s===e},UC=u=>{if(!u)return null;if(uu(u))return u;let t=u.length;if(!ZE(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=u[t];return e},BC=(u=>t=>u&&t instanceof u)(typeof Uint8Array<"u"&&Gv(Uint8Array)),IC=(u,t)=>{const s=(u&&u[Symbol.iterator]).call(u);let r;for(;(r=s.next())&&!r.done;){const o=r.value;t.call(u,o[0],o[1])}},qC=(u,t)=>{let e;const s=[];for(;(e=u.exec(t))!==null;)s.push(e);return s},GC=Qi("HTMLFormElement"),VC=u=>u.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,s,r){return s.toUpperCase()+r}),tE=(({hasOwnProperty:u})=>(t,e)=>u.call(t,e))(Object.prototype),XC=Qi("RegExp"),ew=(u,t)=>{const e=Object.getOwnPropertyDescriptors(u),s={};ef(e,(r,o)=>{let c;(c=t(r,o,u))!==!1&&(s[o]=c||r)}),Object.defineProperties(u,s)},YC=u=>{ew(u,(t,e)=>{if(ri(u)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const s=u[e];if(ri(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},KC=(u,t)=>{const e={},s=r=>{r.forEach(o=>{e[o]=!0})};return uu(u)?s(u):s(String(u).split(t)),e},$C=()=>{},WC=(u,t)=>u!=null&&Number.isFinite(u=+u)?u:t;function QC(u){return!!(u&&ri(u.append)&&u[Symbol.toStringTag]==="FormData"&&u[Symbol.iterator])}const ZC=u=>{const t=new Array(10),e=(s,r)=>{if(Og(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[r]=s;const o=uu(s)?[]:{};return ef(s,(c,d)=>{const p=e(c,r+1);!jh(p)&&(o[d]=p)}),t[r]=void 0,o}}return s};return e(u,0)},JC=Qi("AsyncFunction"),tM=u=>u&&(Og(u)||ri(u))&&ri(u.then)&&ri(u.catch),nw=((u,t)=>u?setImmediate:t?((e,s)=>(ao.addEventListener("message",({source:r,data:o})=>{r===ao&&o===e&&s.length&&s.shift()()},!1),r=>{s.push(r),ao.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",ri(ao.postMessage)),eM=typeof queueMicrotask<"u"?queueMicrotask.bind(ao):typeof process<"u"&&process.nextTick||nw,V={isArray:uu,isArrayBuffer:QE,isBuffer:vC,isFormData:CC,isArrayBufferView:AC,isString:SC,isNumber:ZE,isBoolean:_C,isObject:Og,isPlainObject:Tp,isReadableStream:DC,isRequest:OC,isResponse:LC,isHeaders:NC,isUndefined:jh,isDate:EC,isFile:wC,isBlob:TC,isRegExp:XC,isFunction:ri,isStream:RC,isURLSearchParams:MC,isTypedArray:BC,isFileList:xC,forEach:ef,merge:bb,extend:FC,trim:kC,stripBOM:PC,inherits:HC,toFlatObject:jC,kindOf:Mg,kindOfTest:Qi,endsWith:zC,toArray:UC,forEachEntry:IC,matchAll:qC,isHTMLForm:GC,hasOwnProperty:tE,hasOwnProp:tE,reduceDescriptors:ew,freezeMethods:YC,toObjectSet:KC,toCamelCase:VC,noop:$C,toFiniteNumber:WC,findKey:JE,global:ao,isContextDefined:tw,isSpecCompliantForm:QC,toJSONObject:ZC,isAsyncFn:JC,isThenable:tM,setImmediate:nw,asap:eM};function Ot(u,t,e,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=u,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}V.inherits(Ot,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const iw=Ot.prototype,sw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(u=>{sw[u]={value:u}});Object.defineProperties(Ot,sw);Object.defineProperty(iw,"isAxiosError",{value:!0});Ot.from=(u,t,e,s,r,o)=>{const c=Object.create(iw);return V.toFlatObject(u,c,function(p){return p!==Error.prototype},d=>d!=="isAxiosError"),Ot.call(c,u.message,t,e,s,r),c.cause=u,c.name=u.name,o&&Object.assign(c,o),c};const nM=null;function vb(u){return V.isPlainObject(u)||V.isArray(u)}function aw(u){return V.endsWith(u,"[]")?u.slice(0,-2):u}function eE(u,t,e){return u?u.concat(t).map(function(r,o){return r=aw(r),!e&&o?"["+r+"]":r}).join(e?".":""):t}function iM(u){return V.isArray(u)&&!u.some(vb)}const sM=V.toFlatObject(V,{},null,function(t){return/^is[A-Z]/.test(t)});function Lg(u,t,e){if(!V.isObject(u))throw new TypeError("target must be an object");t=t||new FormData,e=V.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,C){return!V.isUndefined(C[T])});const s=e.metaTokens,r=e.visitor||m,o=e.dots,c=e.indexes,p=(e.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(t);if(!V.isFunction(r))throw new TypeError("visitor must be a function");function g(_){if(_===null)return"";if(V.isDate(_))return _.toISOString();if(!p&&V.isBlob(_))throw new Ot("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(_)||V.isTypedArray(_)?p&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function m(_,T,C){let M=_;if(_&&!C&&typeof _=="object"){if(V.endsWith(T,"{}"))T=s?T:T.slice(0,-2),_=JSON.stringify(_);else if(V.isArray(_)&&iM(_)||(V.isFileList(_)||V.endsWith(T,"[]"))&&(M=V.toArray(_)))return T=aw(T),M.forEach(function(k,H){!(V.isUndefined(k)||k===null)&&t.append(c===!0?eE([T],H,o):c===null?T:T+"[]",g(k))}),!1}return vb(_)?!0:(t.append(eE(C,T,o),g(_)),!1)}const b=[],v=Object.assign(sM,{defaultVisitor:m,convertValue:g,isVisitable:vb});function S(_,T){if(!V.isUndefined(_)){if(b.indexOf(_)!==-1)throw Error("Circular reference detected in "+T.join("."));b.push(_),V.forEach(_,function(M,O){(!(V.isUndefined(M)||M===null)&&r.call(t,M,V.isString(O)?O.trim():O,T,v))===!0&&S(M,T?T.concat(O):[O])}),b.pop()}}if(!V.isObject(u))throw new TypeError("data must be an object");return S(u),t}function nE(u){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(u).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Vv(u,t){this._pairs=[],u&&Lg(u,this,t)}const rw=Vv.prototype;rw.append=function(t,e){this._pairs.push([t,e])};rw.toString=function(t){const e=t?function(s){return t.call(this,s,nE)}:nE;return this._pairs.map(function(r){return e(r[0])+"="+e(r[1])},"").join("&")};function aM(u){return encodeURIComponent(u).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ow(u,t,e){if(!t)return u;const s=e&&e.encode||aM;V.isFunction(e)&&(e={serialize:e});const r=e&&e.serialize;let o;if(r?o=r(t,e):o=V.isURLSearchParams(t)?t.toString():new Vv(t,e).toString(s),o){const c=u.indexOf("#");c!==-1&&(u=u.slice(0,c)),u+=(u.indexOf("?")===-1?"?":"&")+o}return u}class iE{constructor(){this.handlers=[]}use(t,e,s){return this.handlers.push({fulfilled:t,rejected:e,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){V.forEach(this.handlers,function(s){s!==null&&t(s)})}}const lw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rM=typeof URLSearchParams<"u"?URLSearchParams:Vv,oM=typeof FormData<"u"?FormData:null,lM=typeof Blob<"u"?Blob:null,cM={isBrowser:!0,classes:{URLSearchParams:rM,FormData:oM,Blob:lM},protocols:["http","https","file","blob","url","data"]},Xv=typeof window<"u"&&typeof document<"u",Ab=typeof navigator=="object"&&navigator||void 0,uM=Xv&&(!Ab||["ReactNative","NativeScript","NS"].indexOf(Ab.product)<0),hM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",dM=Xv&&window.location.href||"http://localhost",fM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xv,hasStandardBrowserEnv:uM,hasStandardBrowserWebWorkerEnv:hM,navigator:Ab,origin:dM},Symbol.toStringTag,{value:"Module"})),bn={...fM,...cM};function pM(u,t){return Lg(u,new bn.classes.URLSearchParams,Object.assign({visitor:function(e,s,r,o){return bn.isNode&&V.isBuffer(e)?(this.append(s,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function gM(u){return V.matchAll(/\w+|\[(\w*)]/g,u).map(t=>t[0]==="[]"?"":t[1]||t[0])}function mM(u){const t={},e=Object.keys(u);let s;const r=e.length;let o;for(s=0;s<r;s++)o=e[s],t[o]=u[o];return t}function cw(u){function t(e,s,r,o){let c=e[o++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),p=o>=e.length;return c=!c&&V.isArray(r)?r.length:c,p?(V.hasOwnProp(r,c)?r[c]=[r[c],s]:r[c]=s,!d):((!r[c]||!V.isObject(r[c]))&&(r[c]=[]),t(e,s,r[c],o)&&V.isArray(r[c])&&(r[c]=mM(r[c])),!d)}if(V.isFormData(u)&&V.isFunction(u.entries)){const e={};return V.forEachEntry(u,(s,r)=>{t(gM(s),r,e,0)}),e}return null}function yM(u,t,e){if(V.isString(u))try{return(t||JSON.parse)(u),V.trim(u)}catch(s){if(s.name!=="SyntaxError")throw s}return(e||JSON.stringify)(u)}const nf={transitional:lw,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const s=e.getContentType()||"",r=s.indexOf("application/json")>-1,o=V.isObject(t);if(o&&V.isHTMLForm(t)&&(t=new FormData(t)),V.isFormData(t))return r?JSON.stringify(cw(t)):t;if(V.isArrayBuffer(t)||V.isBuffer(t)||V.isStream(t)||V.isFile(t)||V.isBlob(t)||V.isReadableStream(t))return t;if(V.isArrayBufferView(t))return t.buffer;if(V.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return pM(t,this.formSerializer).toString();if((d=V.isFileList(t))||s.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Lg(d?{"files[]":t}:t,p&&new p,this.formSerializer)}}return o||r?(e.setContentType("application/json",!1),yM(t)):t}],transformResponse:[function(t){const e=this.transitional||nf.transitional,s=e&&e.forcedJSONParsing,r=this.responseType==="json";if(V.isResponse(t)||V.isReadableStream(t))return t;if(t&&V.isString(t)&&(s&&!this.responseType||r)){const c=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(d){if(c)throw d.name==="SyntaxError"?Ot.from(d,Ot.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bn.classes.FormData,Blob:bn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],u=>{nf.headers[u]={}});const bM=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vM=u=>{const t={};let e,s,r;return u&&u.split(`
`).forEach(function(c){r=c.indexOf(":"),e=c.substring(0,r).trim().toLowerCase(),s=c.substring(r+1).trim(),!(!e||t[e]&&bM[e])&&(e==="set-cookie"?t[e]?t[e].push(s):t[e]=[s]:t[e]=t[e]?t[e]+", "+s:s)}),t},sE=Symbol("internals");function dh(u){return u&&String(u).trim().toLowerCase()}function xp(u){return u===!1||u==null?u:V.isArray(u)?u.map(xp):String(u)}function AM(u){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=e.exec(u);)t[s[1]]=s[2];return t}const SM=u=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(u.trim());function lb(u,t,e,s,r){if(V.isFunction(s))return s.call(this,t,e);if(r&&(t=e),!!V.isString(t)){if(V.isString(s))return t.indexOf(s)!==-1;if(V.isRegExp(s))return s.test(t)}}function _M(u){return u.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,s)=>e.toUpperCase()+s)}function EM(u,t){const e=V.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(u,s+e,{value:function(r,o,c){return this[s].call(this,t,r,o,c)},configurable:!0})})}let Bn=class{constructor(t){t&&this.set(t)}set(t,e,s){const r=this;function o(d,p,g){const m=dh(p);if(!m)throw new Error("header name must be a non-empty string");const b=V.findKey(r,m);(!b||r[b]===void 0||g===!0||g===void 0&&r[b]!==!1)&&(r[b||p]=xp(d))}const c=(d,p)=>V.forEach(d,(g,m)=>o(g,m,p));if(V.isPlainObject(t)||t instanceof this.constructor)c(t,e);else if(V.isString(t)&&(t=t.trim())&&!SM(t))c(vM(t),e);else if(V.isHeaders(t))for(const[d,p]of t.entries())o(p,d,s);else t!=null&&o(e,t,s);return this}get(t,e){if(t=dh(t),t){const s=V.findKey(this,t);if(s){const r=this[s];if(!e)return r;if(e===!0)return AM(r);if(V.isFunction(e))return e.call(this,r,s);if(V.isRegExp(e))return e.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=dh(t),t){const s=V.findKey(this,t);return!!(s&&this[s]!==void 0&&(!e||lb(this,this[s],s,e)))}return!1}delete(t,e){const s=this;let r=!1;function o(c){if(c=dh(c),c){const d=V.findKey(s,c);d&&(!e||lb(s,s[d],d,e))&&(delete s[d],r=!0)}}return V.isArray(t)?t.forEach(o):o(t),r}clear(t){const e=Object.keys(this);let s=e.length,r=!1;for(;s--;){const o=e[s];(!t||lb(this,this[o],o,t,!0))&&(delete this[o],r=!0)}return r}normalize(t){const e=this,s={};return V.forEach(this,(r,o)=>{const c=V.findKey(s,o);if(c){e[c]=xp(r),delete e[o];return}const d=t?_M(o):String(o).trim();d!==o&&delete e[o],e[d]=xp(r),s[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return V.forEach(this,(s,r)=>{s!=null&&s!==!1&&(e[r]=t&&V.isArray(s)?s.join(", "):s)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const s=new this(t);return e.forEach(r=>s.set(r)),s}static accessor(t){const s=(this[sE]=this[sE]={accessors:{}}).accessors,r=this.prototype;function o(c){const d=dh(c);s[d]||(EM(r,c),s[d]=!0)}return V.isArray(t)?t.forEach(o):o(t),this}};Bn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(Bn.prototype,({value:u},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>u,set(s){this[e]=s}}});V.freezeMethods(Bn);function cb(u,t){const e=this||nf,s=t||e,r=Bn.from(s.headers);let o=s.data;return V.forEach(u,function(d){o=d.call(e,o,r.normalize(),t?t.status:void 0)}),r.normalize(),o}function uw(u){return!!(u&&u.__CANCEL__)}function hu(u,t,e){Ot.call(this,u??"canceled",Ot.ERR_CANCELED,t,e),this.name="CanceledError"}V.inherits(hu,Ot,{__CANCEL__:!0});function hw(u,t,e){const s=e.config.validateStatus;!e.status||!s||s(e.status)?u(e):t(new Ot("Request failed with status code "+e.status,[Ot.ERR_BAD_REQUEST,Ot.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function wM(u){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(u);return t&&t[1]||""}function TM(u,t){u=u||10;const e=new Array(u),s=new Array(u);let r=0,o=0,c;return t=t!==void 0?t:1e3,function(p){const g=Date.now(),m=s[o];c||(c=g),e[r]=p,s[r]=g;let b=o,v=0;for(;b!==r;)v+=e[b++],b=b%u;if(r=(r+1)%u,r===o&&(o=(o+1)%u),g-c<t)return;const S=m&&g-m;return S?Math.round(v*1e3/S):void 0}}function xM(u,t){let e=0,s=1e3/t,r,o;const c=(g,m=Date.now())=>{e=m,r=null,o&&(clearTimeout(o),o=null),u.apply(null,g)};return[(...g)=>{const m=Date.now(),b=m-e;b>=s?c(g,m):(r=g,o||(o=setTimeout(()=>{o=null,c(r)},s-b)))},()=>r&&c(r)]}const sg=(u,t,e=3)=>{let s=0;const r=TM(50,250);return xM(o=>{const c=o.loaded,d=o.lengthComputable?o.total:void 0,p=c-s,g=r(p),m=c<=d;s=c;const b={loaded:c,total:d,progress:d?c/d:void 0,bytes:p,rate:g||void 0,estimated:g&&d&&m?(d-c)/g:void 0,event:o,lengthComputable:d!=null,[t?"download":"upload"]:!0};u(b)},e)},aE=(u,t)=>{const e=u!=null;return[s=>t[0]({lengthComputable:e,total:u,loaded:s}),t[1]]},rE=u=>(...t)=>V.asap(()=>u(...t)),RM=bn.hasStandardBrowserEnv?((u,t)=>e=>(e=new URL(e,bn.origin),u.protocol===e.protocol&&u.host===e.host&&(t||u.port===e.port)))(new URL(bn.origin),bn.navigator&&/(msie|trident)/i.test(bn.navigator.userAgent)):()=>!0,CM=bn.hasStandardBrowserEnv?{write(u,t,e,s,r,o){const c=[u+"="+encodeURIComponent(t)];V.isNumber(e)&&c.push("expires="+new Date(e).toGMTString()),V.isString(s)&&c.push("path="+s),V.isString(r)&&c.push("domain="+r),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read(u){const t=document.cookie.match(new RegExp("(^|;\\s*)("+u+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(u){this.write(u,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function MM(u){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(u)}function DM(u,t){return t?u.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):u}function dw(u,t,e){let s=!MM(t);return u&&(s||e==!1)?DM(u,t):t}const oE=u=>u instanceof Bn?{...u}:u;function sl(u,t){t=t||{};const e={};function s(g,m,b,v){return V.isPlainObject(g)&&V.isPlainObject(m)?V.merge.call({caseless:v},g,m):V.isPlainObject(m)?V.merge({},m):V.isArray(m)?m.slice():m}function r(g,m,b,v){if(V.isUndefined(m)){if(!V.isUndefined(g))return s(void 0,g,b,v)}else return s(g,m,b,v)}function o(g,m){if(!V.isUndefined(m))return s(void 0,m)}function c(g,m){if(V.isUndefined(m)){if(!V.isUndefined(g))return s(void 0,g)}else return s(void 0,m)}function d(g,m,b){if(b in t)return s(g,m);if(b in u)return s(void 0,g)}const p={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(g,m,b)=>r(oE(g),oE(m),b,!0)};return V.forEach(Object.keys(Object.assign({},u,t)),function(m){const b=p[m]||r,v=b(u[m],t[m],m);V.isUndefined(v)&&b!==d||(e[m]=v)}),e}const fw=u=>{const t=sl({},u);let{data:e,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:o,headers:c,auth:d}=t;t.headers=c=Bn.from(c),t.url=ow(dw(t.baseURL,t.url,t.allowAbsoluteUrls),u.params,u.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let p;if(V.isFormData(e)){if(bn.hasStandardBrowserEnv||bn.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((p=c.getContentType())!==!1){const[g,...m]=p?p.split(";").map(b=>b.trim()).filter(Boolean):[];c.setContentType([g||"multipart/form-data",...m].join("; "))}}if(bn.hasStandardBrowserEnv&&(s&&V.isFunction(s)&&(s=s(t)),s||s!==!1&&RM(t.url))){const g=r&&o&&CM.read(o);g&&c.set(r,g)}return t},OM=typeof XMLHttpRequest<"u",LM=OM&&function(u){return new Promise(function(e,s){const r=fw(u);let o=r.data;const c=Bn.from(r.headers).normalize();let{responseType:d,onUploadProgress:p,onDownloadProgress:g}=r,m,b,v,S,_;function T(){S&&S(),_&&_(),r.cancelToken&&r.cancelToken.unsubscribe(m),r.signal&&r.signal.removeEventListener("abort",m)}let C=new XMLHttpRequest;C.open(r.method.toUpperCase(),r.url,!0),C.timeout=r.timeout;function M(){if(!C)return;const k=Bn.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),j={data:!d||d==="text"||d==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:k,config:u,request:C};hw(function(I){e(I),T()},function(I){s(I),T()},j),C=null}"onloadend"in C?C.onloadend=M:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(M)},C.onabort=function(){C&&(s(new Ot("Request aborted",Ot.ECONNABORTED,u,C)),C=null)},C.onerror=function(){s(new Ot("Network Error",Ot.ERR_NETWORK,u,C)),C=null},C.ontimeout=function(){let H=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const j=r.transitional||lw;r.timeoutErrorMessage&&(H=r.timeoutErrorMessage),s(new Ot(H,j.clarifyTimeoutError?Ot.ETIMEDOUT:Ot.ECONNABORTED,u,C)),C=null},o===void 0&&c.setContentType(null),"setRequestHeader"in C&&V.forEach(c.toJSON(),function(H,j){C.setRequestHeader(j,H)}),V.isUndefined(r.withCredentials)||(C.withCredentials=!!r.withCredentials),d&&d!=="json"&&(C.responseType=r.responseType),g&&([v,_]=sg(g,!0),C.addEventListener("progress",v)),p&&C.upload&&([b,S]=sg(p),C.upload.addEventListener("progress",b),C.upload.addEventListener("loadend",S)),(r.cancelToken||r.signal)&&(m=k=>{C&&(s(!k||k.type?new hu(null,u,C):k),C.abort(),C=null)},r.cancelToken&&r.cancelToken.subscribe(m),r.signal&&(r.signal.aborted?m():r.signal.addEventListener("abort",m)));const O=wM(r.url);if(O&&bn.protocols.indexOf(O)===-1){s(new Ot("Unsupported protocol "+O+":",Ot.ERR_BAD_REQUEST,u));return}C.send(o||null)})},NM=(u,t)=>{const{length:e}=u=u?u.filter(Boolean):[];if(t||e){let s=new AbortController,r;const o=function(g){if(!r){r=!0,d();const m=g instanceof Error?g:this.reason;s.abort(m instanceof Ot?m:new hu(m instanceof Error?m.message:m))}};let c=t&&setTimeout(()=>{c=null,o(new Ot(`timeout ${t} of ms exceeded`,Ot.ETIMEDOUT))},t);const d=()=>{u&&(c&&clearTimeout(c),c=null,u.forEach(g=>{g.unsubscribe?g.unsubscribe(o):g.removeEventListener("abort",o)}),u=null)};u.forEach(g=>g.addEventListener("abort",o));const{signal:p}=s;return p.unsubscribe=()=>V.asap(d),p}},kM=function*(u,t){let e=u.byteLength;if(e<t){yield u;return}let s=0,r;for(;s<e;)r=s+t,yield u.slice(s,r),s=r},FM=async function*(u,t){for await(const e of PM(u))yield*kM(e,t)},PM=async function*(u){if(u[Symbol.asyncIterator]){yield*u;return}const t=u.getReader();try{for(;;){const{done:e,value:s}=await t.read();if(e)break;yield s}}finally{await t.cancel()}},lE=(u,t,e,s)=>{const r=FM(u,t);let o=0,c,d=p=>{c||(c=!0,s&&s(p))};return new ReadableStream({async pull(p){try{const{done:g,value:m}=await r.next();if(g){d(),p.close();return}let b=m.byteLength;if(e){let v=o+=b;e(v)}p.enqueue(new Uint8Array(m))}catch(g){throw d(g),g}},cancel(p){return d(p),r.return()}},{highWaterMark:2})},Ng=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",pw=Ng&&typeof ReadableStream=="function",HM=Ng&&(typeof TextEncoder=="function"?(u=>t=>u.encode(t))(new TextEncoder):async u=>new Uint8Array(await new Response(u).arrayBuffer())),gw=(u,...t)=>{try{return!!u(...t)}catch{return!1}},jM=pw&&gw(()=>{let u=!1;const t=new Request(bn.origin,{body:new ReadableStream,method:"POST",get duplex(){return u=!0,"half"}}).headers.has("Content-Type");return u&&!t}),cE=64*1024,Sb=pw&&gw(()=>V.isReadableStream(new Response("").body)),ag={stream:Sb&&(u=>u.body)};Ng&&(u=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ag[t]&&(ag[t]=V.isFunction(u[t])?e=>e[t]():(e,s)=>{throw new Ot(`Response type '${t}' is not supported`,Ot.ERR_NOT_SUPPORT,s)})})})(new Response);const zM=async u=>{if(u==null)return 0;if(V.isBlob(u))return u.size;if(V.isSpecCompliantForm(u))return(await new Request(bn.origin,{method:"POST",body:u}).arrayBuffer()).byteLength;if(V.isArrayBufferView(u)||V.isArrayBuffer(u))return u.byteLength;if(V.isURLSearchParams(u)&&(u=u+""),V.isString(u))return(await HM(u)).byteLength},UM=async(u,t)=>{const e=V.toFiniteNumber(u.getContentLength());return e??zM(t)},BM=Ng&&(async u=>{let{url:t,method:e,data:s,signal:r,cancelToken:o,timeout:c,onDownloadProgress:d,onUploadProgress:p,responseType:g,headers:m,withCredentials:b="same-origin",fetchOptions:v}=fw(u);g=g?(g+"").toLowerCase():"text";let S=NM([r,o&&o.toAbortSignal()],c),_;const T=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let C;try{if(p&&jM&&e!=="get"&&e!=="head"&&(C=await UM(m,s))!==0){let j=new Request(t,{method:"POST",body:s,duplex:"half"}),B;if(V.isFormData(s)&&(B=j.headers.get("content-type"))&&m.setContentType(B),j.body){const[I,X]=aE(C,sg(rE(p)));s=lE(j.body,cE,I,X)}}V.isString(b)||(b=b?"include":"omit");const M="credentials"in Request.prototype;_=new Request(t,{...v,signal:S,method:e.toUpperCase(),headers:m.normalize().toJSON(),body:s,duplex:"half",credentials:M?b:void 0});let O=await fetch(_);const k=Sb&&(g==="stream"||g==="response");if(Sb&&(d||k&&T)){const j={};["status","statusText","headers"].forEach(G=>{j[G]=O[G]});const B=V.toFiniteNumber(O.headers.get("content-length")),[I,X]=d&&aE(B,sg(rE(d),!0))||[];O=new Response(lE(O.body,cE,I,()=>{X&&X(),T&&T()}),j)}g=g||"text";let H=await ag[V.findKey(ag,g)||"text"](O,u);return!k&&T&&T(),await new Promise((j,B)=>{hw(j,B,{data:H,headers:Bn.from(O.headers),status:O.status,statusText:O.statusText,config:u,request:_})})}catch(M){throw T&&T(),M&&M.name==="TypeError"&&/fetch/i.test(M.message)?Object.assign(new Ot("Network Error",Ot.ERR_NETWORK,u,_),{cause:M.cause||M}):Ot.from(M,M&&M.code,u,_)}}),_b={http:nM,xhr:LM,fetch:BM};V.forEach(_b,(u,t)=>{if(u){try{Object.defineProperty(u,"name",{value:t})}catch{}Object.defineProperty(u,"adapterName",{value:t})}});const uE=u=>`- ${u}`,IM=u=>V.isFunction(u)||u===null||u===!1,mw={getAdapter:u=>{u=V.isArray(u)?u:[u];const{length:t}=u;let e,s;const r={};for(let o=0;o<t;o++){e=u[o];let c;if(s=e,!IM(e)&&(s=_b[(c=String(e)).toLowerCase()],s===void 0))throw new Ot(`Unknown adapter '${c}'`);if(s)break;r[c||"#"+o]=s}if(!s){const o=Object.entries(r).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=t?o.length>1?`since :
`+o.map(uE).join(`
`):" "+uE(o[0]):"as no adapter specified";throw new Ot("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s},adapters:_b};function ub(u){if(u.cancelToken&&u.cancelToken.throwIfRequested(),u.signal&&u.signal.aborted)throw new hu(null,u)}function hE(u){return ub(u),u.headers=Bn.from(u.headers),u.data=cb.call(u,u.transformRequest),["post","put","patch"].indexOf(u.method)!==-1&&u.headers.setContentType("application/x-www-form-urlencoded",!1),mw.getAdapter(u.adapter||nf.adapter)(u).then(function(s){return ub(u),s.data=cb.call(u,u.transformResponse,s),s.headers=Bn.from(s.headers),s},function(s){return uw(s)||(ub(u),s&&s.response&&(s.response.data=cb.call(u,u.transformResponse,s.response),s.response.headers=Bn.from(s.response.headers))),Promise.reject(s)})}const yw="1.8.4",kg={};["object","boolean","number","function","string","symbol"].forEach((u,t)=>{kg[u]=function(s){return typeof s===u||"a"+(t<1?"n ":" ")+u}});const dE={};kg.transitional=function(t,e,s){function r(o,c){return"[Axios v"+yw+"] Transitional option '"+o+"'"+c+(s?". "+s:"")}return(o,c,d)=>{if(t===!1)throw new Ot(r(c," has been removed"+(e?" in "+e:"")),Ot.ERR_DEPRECATED);return e&&!dE[c]&&(dE[c]=!0,console.warn(r(c," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(o,c,d):!0}};kg.spelling=function(t){return(e,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function qM(u,t,e){if(typeof u!="object")throw new Ot("options must be an object",Ot.ERR_BAD_OPTION_VALUE);const s=Object.keys(u);let r=s.length;for(;r-- >0;){const o=s[r],c=t[o];if(c){const d=u[o],p=d===void 0||c(d,o,u);if(p!==!0)throw new Ot("option "+o+" must be "+p,Ot.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new Ot("Unknown option "+o,Ot.ERR_BAD_OPTION)}}const Rp={assertOptions:qM,validators:kg},as=Rp.validators;let il=class{constructor(t){this.defaults=t,this.interceptors={request:new iE,response:new iE}}async request(t,e){try{return await this._request(t,e)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=sl(this.defaults,e);const{transitional:s,paramsSerializer:r,headers:o}=e;s!==void 0&&Rp.assertOptions(s,{silentJSONParsing:as.transitional(as.boolean),forcedJSONParsing:as.transitional(as.boolean),clarifyTimeoutError:as.transitional(as.boolean)},!1),r!=null&&(V.isFunction(r)?e.paramsSerializer={serialize:r}:Rp.assertOptions(r,{encode:as.function,serialize:as.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),Rp.assertOptions(e,{baseUrl:as.spelling("baseURL"),withXsrfToken:as.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let c=o&&V.merge(o.common,o[e.method]);o&&V.forEach(["delete","get","head","post","put","patch","common"],_=>{delete o[_]}),e.headers=Bn.concat(c,o);const d=[];let p=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(e)===!1||(p=p&&T.synchronous,d.unshift(T.fulfilled,T.rejected))});const g=[];this.interceptors.response.forEach(function(T){g.push(T.fulfilled,T.rejected)});let m,b=0,v;if(!p){const _=[hE.bind(this),void 0];for(_.unshift.apply(_,d),_.push.apply(_,g),v=_.length,m=Promise.resolve(e);b<v;)m=m.then(_[b++],_[b++]);return m}v=d.length;let S=e;for(b=0;b<v;){const _=d[b++],T=d[b++];try{S=_(S)}catch(C){T.call(this,C);break}}try{m=hE.call(this,S)}catch(_){return Promise.reject(_)}for(b=0,v=g.length;b<v;)m=m.then(g[b++],g[b++]);return m}getUri(t){t=sl(this.defaults,t);const e=dw(t.baseURL,t.url,t.allowAbsoluteUrls);return ow(e,t.params,t.paramsSerializer)}};V.forEach(["delete","get","head","options"],function(t){il.prototype[t]=function(e,s){return this.request(sl(s||{},{method:t,url:e,data:(s||{}).data}))}});V.forEach(["post","put","patch"],function(t){function e(s){return function(o,c,d){return this.request(sl(d||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}il.prototype[t]=e(),il.prototype[t+"Form"]=e(!0)});let GM=class bw{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(o){e=o});const s=this;this.promise.then(r=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](r);s._listeners=null}),this.promise.then=r=>{let o;const c=new Promise(d=>{s.subscribe(d),o=d}).then(r);return c.cancel=function(){s.unsubscribe(o)},c},t(function(o,c,d){s.reason||(s.reason=new hu(o,c,d),e(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=s=>{t.abort(s)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new bw(function(r){t=r}),cancel:t}}};function VM(u){return function(e){return u.apply(null,e)}}function XM(u){return V.isObject(u)&&u.isAxiosError===!0}const Eb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Eb).forEach(([u,t])=>{Eb[t]=u});function vw(u){const t=new il(u),e=WE(il.prototype.request,t);return V.extend(e,il.prototype,t,{allOwnKeys:!0}),V.extend(e,t,null,{allOwnKeys:!0}),e.create=function(r){return vw(sl(u,r))},e}const Re=vw(nf);Re.Axios=il;Re.CanceledError=hu;Re.CancelToken=GM;Re.isCancel=uw;Re.VERSION=yw;Re.toFormData=Lg;Re.AxiosError=Ot;Re.Cancel=Re.CanceledError;Re.all=function(t){return Promise.all(t)};Re.spread=VM;Re.isAxiosError=XM;Re.mergeConfig=sl;Re.AxiosHeaders=Bn;Re.formToJSON=u=>cw(V.isHTMLForm(u)?new FormData(u):u);Re.getAdapter=mw.getAdapter;Re.HttpStatusCode=Eb;Re.default=Re;const{Axios:Y2,AxiosError:K2,CanceledError:$2,isCancel:W2,CancelToken:Q2,VERSION:Z2,all:J2,Cancel:tN,isAxiosError:eN,spread:nN,toFormData:iN,AxiosHeaders:sN,HttpStatusCode:aN,formToJSON:rN,getAdapter:oN,mergeConfig:lN}=Re;var Nn={},fh={},fE;function YM(){if(fE)return fh;fE=1,Object.defineProperty(fh,"__esModule",{value:!0}),fh.calculateRgba=void 0;var u;(function(s){s.maroon="#800000",s.red="#FF0000",s.orange="#FFA500",s.yellow="#FFFF00",s.olive="#808000",s.green="#008000",s.purple="#800080",s.fuchsia="#FF00FF",s.lime="#00FF00",s.teal="#008080",s.aqua="#00FFFF",s.blue="#0000FF",s.navy="#000080",s.black="#000000",s.gray="#808080",s.silver="#C0C0C0",s.white="#FFFFFF"})(u||(u={}));var t=function(s,r){if(s.includes("/"))return s.replace("rgb(","rgba(");var o=s.substring(s.startsWith("rgba(")?5:4,s.length-1).trim(),c=o.split(",");return c.length===4?s.replace("rgb(","rgba("):c.length===3?"rgba(".concat(o,", ").concat(r,")"):"rgba(".concat(o," / ").concat(r,")")},e=function(s,r){if(s.startsWith("rgb"))return t(s,r);if(Object.keys(u).includes(s)&&(s=u[s]),s[0]==="#"&&(s=s.slice(1)),s.length===3){var o="";s.split("").forEach(function(d){o+=d,o+=d}),s=o}var c=(s.match(/.{2}/g)||[]).map(function(d){return parseInt(d,16)}).join(", ");return"rgba(".concat(c,", ").concat(r,")")};return fh.calculateRgba=e,fh}var ph={},pE;function KM(){if(pE)return ph;pE=1,Object.defineProperty(ph,"__esModule",{value:!0}),ph.parseLengthAndUnit=t,ph.cssValue=e;var u={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function t(s){if(typeof s=="number")return{value:s,unit:"px"};var r,o=(s.match(/^[0-9.]*/)||"").toString();o.includes(".")?r=parseFloat(o):r=parseInt(o,10);var c=(s.match(/[^0-9]*$/)||"").toString();return u[c]?{value:r,unit:c}:(console.warn("React Spinners: ".concat(s," is not a valid css value. Defaulting to ").concat(r,"px.")),{value:r,unit:"px"})}function e(s){var r=t(s);return"".concat(r.value).concat(r.unit)}return ph}var gh={},gE;function $M(){if(gE)return gh;gE=1,Object.defineProperty(gh,"__esModule",{value:!0}),gh.createAnimation=void 0;var u=function(t,e,s){var r="react-spinners-".concat(t,"-").concat(s);if(typeof window>"u"||!window.document)return r;var o=document.createElement("style");document.head.appendChild(o);var c=o.sheet,d=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return c&&c.insertRule(d,0),r};return gh.createAnimation=u,gh}var mE;function WM(){if(mE)return Nn;mE=1;var u=Nn&&Nn.__assign||function(){return u=Object.assign||function(m){for(var b,v=1,S=arguments.length;v<S;v++){b=arguments[v];for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(m[_]=b[_])}return m},u.apply(this,arguments)},t=Nn&&Nn.__createBinding||(Object.create?function(m,b,v,S){S===void 0&&(S=v);var _=Object.getOwnPropertyDescriptor(b,v);(!_||("get"in _?!b.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return b[v]}}),Object.defineProperty(m,S,_)}:function(m,b,v,S){S===void 0&&(S=v),m[S]=b[v]}),e=Nn&&Nn.__setModuleDefault||(Object.create?function(m,b){Object.defineProperty(m,"default",{enumerable:!0,value:b})}:function(m,b){m.default=b}),s=Nn&&Nn.__importStar||function(m){if(m&&m.__esModule)return m;var b={};if(m!=null)for(var v in m)v!=="default"&&Object.prototype.hasOwnProperty.call(m,v)&&t(b,m,v);return e(b,m),b},r=Nn&&Nn.__rest||function(m,b){var v={};for(var S in m)Object.prototype.hasOwnProperty.call(m,S)&&b.indexOf(S)<0&&(v[S]=m[S]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,S=Object.getOwnPropertySymbols(m);_<S.length;_++)b.indexOf(S[_])<0&&Object.prototype.propertyIsEnumerable.call(m,S[_])&&(v[S[_]]=m[S[_]]);return v};Object.defineProperty(Nn,"__esModule",{value:!0});var o=s(Cg()),c=YM(),d=KM(),p=$M();function g(m){var b=m.loading,v=b===void 0?!0:b,S=m.color,_=S===void 0?"#000000":S,T=m.speedMultiplier,C=T===void 0?1:T,M=m.cssOverride,O=M===void 0?{}:M,k=m.size,H=k===void 0?50:k,j=r(m,["loading","color","speedMultiplier","cssOverride","size"]),B=(0,d.parseLengthAndUnit)(H),I=B.value,X=B.unit,G=u({display:"inherit",position:"relative",width:(0,d.cssValue)(H),height:(0,d.cssValue)(H),transform:"rotate(165deg)"},O),nt=I/5,it=(I-nt)/2,ut=it-nt,ht=(0,c.calculateRgba)(_,.75),dt=(0,p.createAnimation)("HashLoader","0% {width: ".concat(nt,"px; box-shadow: ").concat(it,"px ").concat(-ut,"px ").concat(ht,", ").concat(-it,"px ").concat(ut,"px ").concat(ht,`}
    35% {width: `).concat((0,d.cssValue)(H),"; box-shadow: 0 ").concat(-ut,"px ").concat(ht,", 0 ").concat(ut,"px ").concat(ht,`}
    70% {width: `).concat(nt,"px; box-shadow: ").concat(-it,"px ").concat(-ut,"px ").concat(ht,", ").concat(it,"px ").concat(ut,"px ").concat(ht,`}
    100% {box-shadow: `).concat(it,"px ").concat(-ut,"px ").concat(ht,", ").concat(-it,"px ").concat(ut,"px ").concat(ht,"}"),"before"),mt=(0,p.createAnimation)("HashLoader","0% {height: ".concat(nt,"px; box-shadow: ").concat(ut,"px ").concat(it,"px ").concat(_,", ").concat(-ut,"px ").concat(-it,"px ").concat(_,`}
    35% {height: `).concat((0,d.cssValue)(H),"; box-shadow: ").concat(ut,"px 0 ").concat(_,", ").concat(-ut,"px 0 ").concat(_,`}
    70% {height: `).concat(nt,"px; box-shadow: ").concat(ut,"px ").concat(-it,"px ").concat(_,", ").concat(-ut,"px ").concat(it,"px ").concat(_,`}
    100% {box-shadow: `).concat(ut,"px ").concat(it,"px ").concat(_,", ").concat(-ut,"px ").concat(-it,"px ").concat(_,"}"),"after"),K=function(W){return{position:"absolute",top:"50%",left:"50%",display:"block",width:"".concat(I/5).concat(X),height:"".concat(I/5).concat(X),borderRadius:"".concat(I/10).concat(X),transform:"translate(-50%, -50%)",animationFillMode:"none",animation:"".concat(W===1?dt:mt," ").concat(2/C,"s infinite")}};return v?o.createElement("span",u({style:G},j),o.createElement("span",{style:K(1)}),o.createElement("span",{style:K(2)})):null}return Nn.default=g,Nn}var QM=WM();const ZM=$E(QM);function lu({loading:u,message:t}){return N.jsxs("div",{className:"loading",children:[N.jsx(ZM,{color:"grey",loading:u,size:150}),u?N.jsx("p",{children:t}):null]})}const JM="modulepreload",tD=function(u){return"/radar_frontend/"+u},yE={},vp=function(t,e,s){let r=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));r=Promise.allSettled(e.map(p=>{if(p=tD(p),p in yE)return;yE[p]=!0;const g=p.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${m}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":JM,g||(b.as="script"),b.crossOrigin="",b.href=p,d&&b.setAttribute("nonce",d),document.head.appendChild(b),g)return new Promise((v,S)=>{b.addEventListener("load",v),b.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return r.then(c=>{for(const d of c||[])d.status==="rejected"&&o(d.reason);return t().catch(o)})};var Fh={};Fh.d=(u,t)=>{for(var e in t)Fh.o(t,e)&&!Fh.o(u,e)&&Object.defineProperty(u,e,{enumerable:!0,get:t[e]})};Fh.o=(u,t)=>Object.prototype.hasOwnProperty.call(u,t);var Mt=globalThis.pdfjsLib={};Fh.d(Mt,{AbortException:()=>dl,AnnotationEditorLayer:()=>Fv,AnnotationEditorParamsType:()=>Rt,AnnotationEditorType:()=>kt,AnnotationEditorUIManager:()=>rl,AnnotationLayer:()=>ZO,AnnotationMode:()=>Qa,ColorPicker:()=>cg,DOMSVGFactory:()=>s0,DrawLayer:()=>zv,FeatureTest:()=>Rn,GlobalWorkerOptions:()=>va,ImageKind:()=>Cp,InvalidPDFException:()=>Sw,MissingPDFException:()=>hl,OPS:()=>Pi,OutputScale:()=>Cb,PDFDataRangeTransport:()=>y1,PDFDateString:()=>Qv,PDFWorker:()=>oc,PasswordResponses:()=>sD,PermissionFlag:()=>iD,PixelsPerInch:()=>Tr,RenderingCancelledException:()=>$v,TextLayer:()=>nv,UnexpectedResponseException:()=>jg,Util:()=>bt,VerbosityLevel:()=>Fg,XfaLayer:()=>v1,build:()=>LO,createValidAbsoluteUrl:()=>lD,fetchData:()=>Ug,getDocument:()=>EO,getFilenameFromUrl:()=>yD,getPdfFilenameFromUrl:()=>bD,getXfaPageViewport:()=>vD,isDataScheme:()=>Bg,isPdfFile:()=>Wv,noContextMenu:()=>Di,normalizeUnicode:()=>pD,setLayerDimensions:()=>al,shadow:()=>Gt,version:()=>OO});const An=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Aw=[1,0,0,1,0,0],wb=[.001,0,0,.001,0,0],eD=1e7,hb=1.35,si={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Qa={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},nD="pdfjs_internal_editor_",kt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Rt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},iD={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},dn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Cp={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},He={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},mh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Fg={ERRORS:0,WARNINGS:1,INFOS:5},Pi={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},sD={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Pg=Fg.WARNINGS;function aD(u){Number.isInteger(u)&&(Pg=u)}function rD(){return Pg}function Hg(u){Pg>=Fg.INFOS&&console.log(`Info: ${u}`)}function jt(u){Pg>=Fg.WARNINGS&&console.log(`Warning: ${u}`)}function he(u){throw new Error(u)}function Be(u,t){u||he(t)}function oD(u){switch(u==null?void 0:u.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function lD(u,t=null,e=null){if(!u)return null;try{if(e&&typeof u=="string"){if(e.addDefaultProtocol&&u.startsWith("www.")){const r=u.match(/\./g);(r==null?void 0:r.length)>=2&&(u=`http://${u}`)}if(e.tryConvertEncoding)try{u=fD(u)}catch{}}const s=t?new URL(u,t):new URL(u);if(oD(s))return s}catch{}return null}function Gt(u,t,e,s=!1){return Object.defineProperty(u,t,{value:e,enumerable:!s,configurable:!0,writable:!1}),e}const Mr=function(){function t(e,s){this.message=e,this.name=s}return t.prototype=new Error,t.constructor=t,t}();class Tb extends Mr{constructor(t,e){super(t,"PasswordException"),this.code=e}}class xb extends Mr{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Sw extends Mr{constructor(t){super(t,"InvalidPDFException")}}class hl extends Mr{constructor(t){super(t,"MissingPDFException")}}class jg extends Mr{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class cD extends Mr{constructor(t){super(t,"FormatError")}}class dl extends Mr{constructor(t){super(t,"AbortException")}}function _w(u){(typeof u!="object"||(u==null?void 0:u.length)===void 0)&&he("Invalid argument for bytesToString");const t=u.length,e=8192;if(t<e)return String.fromCharCode.apply(null,u);const s=[];for(let r=0;r<t;r+=e){const o=Math.min(r+e,t),c=u.subarray(r,o);s.push(String.fromCharCode.apply(null,c))}return s.join("")}function zg(u){typeof u!="string"&&he("Invalid argument for stringToBytes");const t=u.length,e=new Uint8Array(t);for(let s=0;s<t;++s)e[s]=u.charCodeAt(s)&255;return e}function uD(u){return String.fromCharCode(u>>24&255,u>>16&255,u>>8&255,u&255)}function Yv(u){const t=Object.create(null);for(const[e,s]of u)t[e]=s;return t}function hD(){const u=new Uint8Array(4);return u[0]=1,new Uint32Array(u.buffer,0,1)[0]===1}function dD(){try{return new Function(""),!0}catch{return!1}}class Rn{static get isLittleEndian(){return Gt(this,"isLittleEndian",hD())}static get isEvalSupported(){return Gt(this,"isEvalSupported",dD())}static get isOffscreenCanvasSupported(){return Gt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Gt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Gt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return Gt(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const db=Array.from(Array(256).keys(),u=>u.toString(16).padStart(2,"0"));var Sa,Mp,Rb;class bt{static makeHexColor(t,e,s){return`#${db[t]}${db[e]}${db[s]}`}static scaleMinMax(t,e){let s;t[0]?(t[0]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[3],e[3]*=t[3]):(s=e[0],e[0]=e[1],e[1]=s,s=e[2],e[2]=e[3],e[3]=s,t[1]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const s=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];return[s,r]}static applyInverseTransform(t,e){const s=e[0]*e[3]-e[1]*e[2],r=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/s,o=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/s;return[r,o]}static getAxialAlignedBoundingBox(t,e){const s=this.applyTransform(t,e),r=this.applyTransform(t.slice(2,4),e),o=this.applyTransform([t[0],t[3]],e),c=this.applyTransform([t[2],t[1]],e);return[Math.min(s[0],r[0],o[0],c[0]),Math.min(s[1],r[1],o[1],c[1]),Math.max(s[0],r[0],o[0],c[0]),Math.max(s[1],r[1],o[1],c[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],s=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],o=t[2]*e[0]+t[3]*e[2],c=t[2]*e[1]+t[3]*e[3],d=(s+c)/2,p=Math.sqrt((s+c)**2-4*(s*c-o*r))/2,g=d+p||1,m=d-p||1;return[Math.sqrt(g),Math.sqrt(m)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const s=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(s>r)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),c=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return o>c?null:[s,o,r,c]}static bezierBoundingBox(t,e,s,r,o,c,d,p,g){return g?(g[0]=Math.min(g[0],t,d),g[1]=Math.min(g[1],e,p),g[2]=Math.max(g[2],t,d),g[3]=Math.max(g[3],e,p)):g=[Math.min(t,d),Math.min(e,p),Math.max(t,d),Math.max(e,p)],w(this,Sa,Rb).call(this,t,s,o,d,e,r,c,p,3*(-t+3*(s-o)+d),6*(t-2*s+o),3*(s-t),g),w(this,Sa,Rb).call(this,t,s,o,d,e,r,c,p,3*(-e+3*(r-c)+p),6*(e-2*r+c),3*(r-e),g),g}}Sa=new WeakSet,Mp=function(t,e,s,r,o,c,d,p,g,m){if(g<=0||g>=1)return;const b=1-g,v=g*g,S=v*g,_=b*(b*(b*t+3*g*e)+3*v*s)+S*r,T=b*(b*(b*o+3*g*c)+3*v*d)+S*p;m[0]=Math.min(m[0],_),m[1]=Math.min(m[1],T),m[2]=Math.max(m[2],_),m[3]=Math.max(m[3],T)},Rb=function(t,e,s,r,o,c,d,p,g,m,b,v){if(Math.abs(g)<1e-12){Math.abs(m)>=1e-12&&w(this,Sa,Mp).call(this,t,e,s,r,o,c,d,p,-b/m,v);return}const S=m**2-4*b*g;if(S<0)return;const _=Math.sqrt(S),T=2*g;w(this,Sa,Mp).call(this,t,e,s,r,o,c,d,p,(-m+_)/T,v),w(this,Sa,Mp).call(this,t,e,s,r,o,c,d,p,(-m-_)/T,v)},x(bt,Sa);function fD(u){return decodeURIComponent(escape(u))}let fb=null,bE=null;function pD(u){return fb||(fb=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,bE=new Map([["ﬅ","ſt"]])),u.replaceAll(fb,(t,e,s)=>e?e.normalize("NFKC"):bE.get(s))}function gD(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const u=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(u);else for(let t=0;t<32;t++)u[t]=Math.floor(Math.random()*255);return _w(u)}const Kv="pdfjs_internal_id_",Gs={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function mD(u){return Uint8Array.prototype.toBase64?u.toBase64():btoa(_w(u))}const Xs="http://www.w3.org/2000/svg",io=class io{};xt(io,"CSS",96),xt(io,"PDF",72),xt(io,"PDF_TO_CSS_UNITS",io.CSS/io.PDF);let Tr=io;async function Ug(u,t="text"){if(vh(u,document.baseURI)){const e=await fetch(u);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,s)=>{const r=new XMLHttpRequest;r.open("GET",u,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}s(new Error(r.statusText))}},r.send(null)})}class sf{constructor({viewBox:t,scale:e,rotation:s,offsetX:r=0,offsetY:o=0,dontFlip:c=!1}){this.viewBox=t,this.scale=e,this.rotation=s,this.offsetX=r,this.offsetY=o;const d=(t[2]+t[0])/2,p=(t[3]+t[1])/2;let g,m,b,v;switch(s%=360,s<0&&(s+=360),s){case 180:g=-1,m=0,b=0,v=1;break;case 90:g=0,m=1,b=1,v=0;break;case 270:g=0,m=-1,b=-1,v=0;break;case 0:g=1,m=0,b=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(b=-b,v=-v);let S,_,T,C;g===0?(S=Math.abs(p-t[1])*e+r,_=Math.abs(d-t[0])*e+o,T=(t[3]-t[1])*e,C=(t[2]-t[0])*e):(S=Math.abs(d-t[0])*e+r,_=Math.abs(p-t[1])*e+o,T=(t[2]-t[0])*e,C=(t[3]-t[1])*e),this.transform=[g*e,m*e,b*e,v*e,S-g*e*d-b*e*p,_-m*e*d-v*e*p],this.width=T,this.height=C}get rawDims(){const{viewBox:t}=this;return Gt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:s=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new sf({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:s,offsetY:r,dontFlip:o})}convertToViewportPoint(t,e){return bt.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=bt.applyTransform([t[0],t[1]],this.transform),s=bt.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],s[0],s[1]]}convertToPdfPoint(t,e){return bt.applyInverseTransform([t,e],this.transform)}}class $v extends Mr{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Bg(u){const t=u.length;let e=0;for(;e<t&&u[e].trim()==="";)e++;return u.substring(e,e+5).toLowerCase()==="data:"}function Wv(u){return typeof u=="string"&&/\.pdf$/i.test(u)}function yD(u){return[u]=u.split(/[#?]/,1),u.substring(u.lastIndexOf("/")+1)}function bD(u,t="document.pdf"){if(typeof u!="string")return t;if(Bg(u))return jt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=e.exec(u);let o=s.exec(r[1])||s.exec(r[2])||s.exec(r[3]);if(o&&(o=o[0],o.includes("%")))try{o=s.exec(decodeURIComponent(o))[0]}catch{}return o||t}class vE{constructor(){xt(this,"started",Object.create(null));xt(this,"times",[])}time(t){t in this.started&&jt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||jt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:s}of this.times)e=Math.max(s.length,e);for(const{name:s,start:r,end:o}of this.times)t.push(`${s.padEnd(e)} ${o-r}ms
`);return t.join("")}}function vh(u,t){try{const{protocol:e}=t?new URL(u,t):new URL(u);return e==="http:"||e==="https:"}catch{return!1}}function Di(u){u.preventDefault()}function AE(u){console.log("Deprecated API usage: "+u)}var Uh;class Qv{static toDateObject(t){if(!t||typeof t!="string")return null;h(this,Uh)||E(this,Uh,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=h(this,Uh).exec(t);if(!e)return null;const s=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(e[3],10);o=o>=1&&o<=31?o:1;let c=parseInt(e[4],10);c=c>=0&&c<=23?c:0;let d=parseInt(e[5],10);d=d>=0&&d<=59?d:0;let p=parseInt(e[6],10);p=p>=0&&p<=59?p:0;const g=e[7]||"Z";let m=parseInt(e[8],10);m=m>=0&&m<=23?m:0;let b=parseInt(e[9],10)||0;return b=b>=0&&b<=59?b:0,g==="-"?(c+=m,d+=b):g==="+"&&(c-=m,d-=b),new Date(Date.UTC(s,r,o,c,d,p))}}Uh=new WeakMap,x(Qv,Uh);function vD(u,{scale:t=1,rotation:e=0}){const{width:s,height:r}=u.attributes.style,o=[0,0,parseInt(s),parseInt(r)];return new sf({viewBox:o,scale:t,rotation:e})}function Zv(u){if(u.startsWith("#")){const t=parseInt(u.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return u.startsWith("rgb(")?u.slice(4,-1).split(",").map(t=>parseInt(t)):u.startsWith("rgba(")?u.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(jt(`Not a valid color format: "${u}"`),[0,0,0])}function AD(u){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of u.keys()){t.style.color=e;const s=window.getComputedStyle(t).color;u.set(e,Zv(s))}t.remove()}function be(u){const{a:t,b:e,c:s,d:r,e:o,f:c}=u.getTransform();return[t,e,s,r,o,c]}function Vs(u){const{a:t,b:e,c:s,d:r,e:o,f:c}=u.getTransform().invertSelf();return[t,e,s,r,o,c]}function al(u,t,e=!1,s=!0){if(t instanceof sf){const{pageWidth:r,pageHeight:o}=t.rawDims,{style:c}=u,d=Rn.isCSSRoundSupported,p=`var(--scale-factor) * ${r}px`,g=`var(--scale-factor) * ${o}px`,m=d?`round(down, ${p}, var(--scale-round-x, 1px))`:`calc(${p})`,b=d?`round(down, ${g}, var(--scale-round-y, 1px))`:`calc(${g})`;!e||t.rotation%180===0?(c.width=m,c.height=b):(c.width=b,c.height=m)}s&&u.setAttribute("data-main-rotation",t.rotation)}class Cb{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Za,ro,Hi,oo,Bh,Ih,hg,Ew,Cn,ww,Tw,Dp,xw,Db;const Ys=class Ys{constructor(t){x(this,Cn);x(this,Za,null);x(this,ro,null);x(this,Hi);x(this,oo,null);x(this,Bh,null);E(this,Hi,t),h(Ys,Ih)||E(Ys,Ih,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=E(this,Za,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=h(this,Hi)._uiManager._signal;t.addEventListener("contextmenu",Di,{signal:e}),t.addEventListener("pointerdown",w(Ys,hg,Ew),{signal:e});const s=E(this,oo,document.createElement("div"));s.className="buttons",t.append(s);const r=h(this,Hi).toolbarPosition;if(r){const{style:o}=t,c=h(this,Hi)._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*c}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return w(this,Cn,xw).call(this),t}get div(){return h(this,Za)}hide(){var t;h(this,Za).classList.add("hidden"),(t=h(this,ro))==null||t.hideDropdown()}show(){var t;h(this,Za).classList.remove("hidden"),(t=h(this,Bh))==null||t.shown()}async addAltText(t){const e=await t.render();w(this,Cn,Dp).call(this,e),h(this,oo).prepend(e,h(this,Cn,Db)),E(this,Bh,t)}addColorPicker(t){E(this,ro,t);const e=t.renderButton();w(this,Cn,Dp).call(this,e),h(this,oo).prepend(e,h(this,Cn,Db))}remove(){var t;h(this,Za).remove(),(t=h(this,ro))==null||t.destroy(),E(this,ro,null)}};Za=new WeakMap,ro=new WeakMap,Hi=new WeakMap,oo=new WeakMap,Bh=new WeakMap,Ih=new WeakMap,hg=new WeakSet,Ew=function(t){t.stopPropagation()},Cn=new WeakSet,ww=function(t){h(this,Hi)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},Tw=function(t){h(this,Hi)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},Dp=function(t){const e=h(this,Hi)._uiManager._signal;t.addEventListener("focusin",w(this,Cn,ww).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",w(this,Cn,Tw).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Di,{signal:e})},xw=function(){const{editorType:t,_uiManager:e}=h(this,Hi),s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",h(Ys,Ih)[t]),w(this,Cn,Dp).call(this,s),s.addEventListener("click",r=>{e.delete()},{signal:e._signal}),h(this,oo).append(s)},Db=function(){const t=document.createElement("div");return t.className="divider",t},x(Ys,hg),x(Ys,Ih,null);let Mb=Ys;var qh,lo,co,Rr,Rw,Cw,Mw;class SD{constructor(t){x(this,Rr);x(this,qh,null);x(this,lo,null);x(this,co);E(this,co,t)}show(t,e,s){const[r,o]=w(this,Rr,Cw).call(this,e,s),{style:c}=h(this,lo)||E(this,lo,w(this,Rr,Rw).call(this));t.append(h(this,lo)),c.insetInlineEnd=`${100*r}%`,c.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){h(this,lo).remove()}}qh=new WeakMap,lo=new WeakMap,co=new WeakMap,Rr=new WeakSet,Rw=function(){const t=E(this,lo,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Di,{signal:h(this,co)._signal});const e=E(this,qh,document.createElement("div"));return e.className="buttons",t.append(e),w(this,Rr,Mw).call(this),t},Cw=function(t,e){let s=0,r=0;for(const o of t){const c=o.y+o.height;if(c<s)continue;const d=o.x+(e?o.width:0);if(c>s){r=d,s=c;continue}e?d>r&&(r=d):d<r&&(r=d)}return[e?1-r:r,s]},Mw=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=h(this,co)._signal;t.addEventListener("contextmenu",Di,{signal:s}),t.addEventListener("click",()=>{h(this,co).highlightSelection("floating_button")},{signal:s}),h(this,qh).append(t)};function rg(u,t,e){for(const s of e)t.addEventListener(s,u[s].bind(u))}function _D(u){return Math.round(Math.min(255,Math.max(1,255*u))).toString(16).padStart(2,"0")}var dg;class ED{constructor(){x(this,dg,0)}get id(){return`${nD}${En(this,dg)._++}`}}dg=new WeakMap;var uc,Gh,pn,hc,Op;const o0=class o0{constructor(){x(this,hc);x(this,uc,gD());x(this,Gh,0);x(this,pn,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const o=r.decode().then(()=>(s.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return Gt(this,"_isSVGFittingCanvas",o)}async getFromFile(t){const{lastModified:e,name:s,size:r,type:o}=t;return w(this,hc,Op).call(this,`${e}_${s}_${r}_${o}`,t)}async getFromUrl(t){return w(this,hc,Op).call(this,t,t)}async getFromBlob(t,e){const s=await e;return w(this,hc,Op).call(this,t,s)}async getFromId(t){h(this,pn)||E(this,pn,new Map);const e=h(this,pn).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:s}=e;return delete e.blobPromise,this.getFromBlob(e.id,s)}return this.getFromUrl(e.url)}getFromCanvas(t,e){h(this,pn)||E(this,pn,new Map);let s=h(this,pn).get(t);if(s!=null&&s.bitmap)return s.refCounter+=1,s;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),s={bitmap:r.transferToImageBitmap(),id:`image_${h(this,uc)}_${En(this,Gh)._++}`,refCounter:1,isSvg:!1},h(this,pn).set(t,s),h(this,pn).set(s.id,s),s}getSvgUrl(t){const e=h(this,pn).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var r;h(this,pn)||E(this,pn,new Map);const e=h(this,pn).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:s}=e;if(!e.url&&!e.file){const o=new OffscreenCanvas(s.width,s.height);o.getContext("bitmaprenderer").transferFromImageBitmap(s),e.blobPromise=o.convertToBlob()}(r=s.close)==null||r.call(s),e.bitmap=null}isValidId(t){return t.startsWith(`image_${h(this,uc)}_`)}};uc=new WeakMap,Gh=new WeakMap,pn=new WeakMap,hc=new WeakSet,Op=async function(t,e){h(this,pn)||E(this,pn,new Map);let s=h(this,pn).get(t);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${h(this,uc)}_${En(this,Gh)._++}`,refCounter:0,isSvg:!1});let r;if(typeof e=="string"?(s.url=e,r=await Ug(e,"blob")):e instanceof File?r=s.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const o=o0._isSVGFittingCanvas,c=new FileReader,d=new Image,p=new Promise((g,m)=>{d.onload=()=>{s.bitmap=d,s.isSvg=!0,g()},c.onload=async()=>{const b=s.svgUrl=c.result;d.src=await o?`${b}#svgView(preserveAspectRatio(none))`:b},d.onerror=c.onerror=m});c.readAsDataURL(r),await p}else s.bitmap=await createImageBitmap(r);s.refCounter=1}catch(r){console.error(r),s=null}return h(this,pn).set(t,s),s&&h(this,pn).set(s.id,s),s};let Ob=o0;var $e,Ja,Vh,We;class wD{constructor(t=128){x(this,$e,[]);x(this,Ja,!1);x(this,Vh);x(this,We,-1);E(this,Vh,t)}add({cmd:t,undo:e,post:s,mustExec:r,type:o=NaN,overwriteIfSameType:c=!1,keepUndo:d=!1}){if(r&&t(),h(this,Ja))return;const p={cmd:t,undo:e,post:s,type:o};if(h(this,We)===-1){h(this,$e).length>0&&(h(this,$e).length=0),E(this,We,0),h(this,$e).push(p);return}if(c&&h(this,$e)[h(this,We)].type===o){d&&(p.undo=h(this,$e)[h(this,We)].undo),h(this,$e)[h(this,We)]=p;return}const g=h(this,We)+1;g===h(this,Vh)?h(this,$e).splice(0,1):(E(this,We,g),g<h(this,$e).length&&h(this,$e).splice(g)),h(this,$e).push(p)}undo(){if(h(this,We)===-1)return;E(this,Ja,!0);const{undo:t,post:e}=h(this,$e)[h(this,We)];t(),e==null||e(),E(this,Ja,!1),E(this,We,h(this,We)-1)}redo(){if(h(this,We)<h(this,$e).length-1){E(this,We,h(this,We)+1),E(this,Ja,!0);const{cmd:t,post:e}=h(this,$e)[h(this,We)];t(),e==null||e(),E(this,Ja,!1)}}hasSomethingToUndo(){return h(this,We)!==-1}hasSomethingToRedo(){return h(this,We)<h(this,$e).length-1}destroy(){E(this,$e,null)}}$e=new WeakMap,Ja=new WeakMap,Vh=new WeakMap,We=new WeakMap;var fg,Dw;class af{constructor(t){x(this,fg);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Rn.platform;for(const[s,r,o={}]of t)for(const c of s){const d=c.startsWith("mac+");e&&d?(this.callbacks.set(c.slice(4),{callback:r,options:o}),this.allKeys.add(c.split("+").at(-1))):!e&&!d&&(this.callbacks.set(c,{callback:r,options:o}),this.allKeys.add(c.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const s=this.callbacks.get(w(this,fg,Dw).call(this,e));if(!s)return;const{callback:r,options:{bubbles:o=!1,args:c=[],checker:d=null}}=s;d&&!d(t,e)||(r.bind(t,...c,e)(),o||(e.stopPropagation(),e.preventDefault()))}}fg=new WeakSet,Dw=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const pg=class pg{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return AD(t),Gt(this,"_colors",t)}convert(t){const e=Zv(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[s,r]of this._colors)if(r.every((o,c)=>o===e[c]))return pg._colorsMapping.get(s);return e}getHexCode(t){const e=this._colors.get(t);return e?bt.makeHexColor(...e):t}};xt(pg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Lb=pg;var dc,Wn,je,an,fc,$s,pc,ji,tr,gc,uo,os,zi,ho,Xh,Yh,mc,Kh,ls,er,yc,nr,cs,gg,ir,$h,sr,fo,Wh,Qh,Qe,Qt,Ws,po,Zh,Jh,ar,us,Qs,td,_i,ot,Lp,Nb,Ow,Lw,Np,Nw,kw,Fw,kb,Pw,Fb,Pb,Hw,wn,$a,jw,zw,Hb,Uw,Ah,jb;const ac=class ac{constructor(t,e,s,r,o,c,d,p,g,m,b){x(this,ot);x(this,dc,new AbortController);x(this,Wn,null);x(this,je,new Map);x(this,an,new Map);x(this,fc,null);x(this,$s,null);x(this,pc,null);x(this,ji,new wD);x(this,tr,null);x(this,gc,0);x(this,uo,new Set);x(this,os,null);x(this,zi,null);x(this,ho,new Set);x(this,Xh,!1);x(this,Yh,!1);x(this,mc,!1);x(this,Kh,null);x(this,ls,null);x(this,er,null);x(this,yc,null);x(this,nr,!1);x(this,cs,null);x(this,gg,new ED);x(this,ir,!1);x(this,$h,!1);x(this,sr,null);x(this,fo,null);x(this,Wh,null);x(this,Qh,null);x(this,Qe,kt.NONE);x(this,Qt,new Set);x(this,Ws,null);x(this,po,null);x(this,Zh,null);x(this,Jh,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});x(this,ar,[0,0]);x(this,us,null);x(this,Qs,null);x(this,td,null);x(this,_i,null);const v=this._signal=h(this,dc).signal;E(this,Qs,t),E(this,td,e),E(this,fc,s),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:v}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),r._on("setpreference",this.onSetPreference.bind(this),{signal:v}),r._on("switchannotationeditorparams",S=>this.updateParams(S.type,S.value),{signal:v}),w(this,ot,Nw).call(this),w(this,ot,Hw).call(this),w(this,ot,kb).call(this),E(this,$s,o.annotationStorage),E(this,Kh,o.filterFactory),E(this,po,c),E(this,yc,d||null),E(this,Xh,p),E(this,Yh,g),E(this,mc,m),E(this,Qh,b||null),this.viewParameters={realScale:Tr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=ac.prototype,e=c=>h(c,Qs).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),s=(c,{target:d})=>{if(d instanceof HTMLInputElement){const{type:p}=d;return p!=="text"&&p!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Gt(this,"_keyboardManager",new af([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],t.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:s}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:d})=>!(d instanceof HTMLButtonElement)&&h(c,Qs).contains(d)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:d})=>!(d instanceof HTMLButtonElement)&&h(c,Qs).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}]]))}destroy(){var t,e,s,r;(t=h(this,_i))==null||t.resolve(),E(this,_i,null),(e=h(this,dc))==null||e.abort(),E(this,dc,null),this._signal=null;for(const o of h(this,an).values())o.destroy();h(this,an).clear(),h(this,je).clear(),h(this,ho).clear(),E(this,Wn,null),h(this,Qt).clear(),h(this,ji).destroy(),(s=h(this,fc))==null||s.destroy(),(r=h(this,cs))==null||r.hide(),E(this,cs,null),h(this,ls)&&(clearTimeout(h(this,ls)),E(this,ls,null)),h(this,us)&&(clearTimeout(h(this,us)),E(this,us,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return h(this,Qh)}get useNewAltTextFlow(){return h(this,Yh)}get useNewAltTextWhenAddingImage(){return h(this,mc)}get hcmFilter(){return Gt(this,"hcmFilter",h(this,po)?h(this,Kh).addHCMFilter(h(this,po).foreground,h(this,po).background):"none")}get direction(){return Gt(this,"direction",getComputedStyle(h(this,Qs)).direction)}get highlightColors(){return Gt(this,"highlightColors",h(this,yc)?new Map(h(this,yc).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Gt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){E(this,Wh,t)}editAltText(t,e=!1){var s;(s=h(this,fc))==null||s.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":E(this,mc,e);break}}onPageChanging({pageNumber:t}){E(this,gc,t-1)}focusMainContainer(){h(this,Qs).focus()}findParent(t,e){for(const s of h(this,an).values()){const{x:r,y:o,width:c,height:d}=s.div.getBoundingClientRect();if(t>=r&&t<=r+c&&e>=o&&e<=o+d)return s}return null}disableUserSelect(t=!1){h(this,td).classList.toggle("noUserSelect",t)}addShouldRescale(t){h(this,ho).add(t)}removeShouldRescale(t){h(this,ho).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Tr.PDF_TO_CSS_UNITS;for(const e of h(this,ho))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:s,anchorOffset:r,focusNode:o,focusOffset:c}=e,d=e.toString(),g=w(this,ot,Lp).call(this,e).closest(".textLayer"),m=this.getSelectionBoxes(g);if(!m)return;e.empty();const b=w(this,ot,Nb).call(this,g),v=h(this,Qe)===kt.NONE,S=()=>{b==null||b.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:s,anchorOffset:r,focusNode:o,focusOffset:c,text:d}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(kt.HIGHLIGHT,S);return}S()}addToAnnotationStorage(t){!t.isEmpty()&&h(this,$s)&&!h(this,$s).has(t.id)&&h(this,$s).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,h(this,nr)&&(E(this,nr,!1),w(this,ot,Np).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of h(this,Qt))if(e.div.contains(t)){E(this,fo,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!h(this,fo))return;const[t,e]=h(this,fo);E(this,fo,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){w(this,ot,kb).call(this),w(this,ot,Fb).call(this)}removeEditListeners(){w(this,ot,Pw).call(this),w(this,ot,Pb).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const s of h(this,zi))if(s.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const s of h(this,zi))if(s.isHandlingMimeForPasting(e.type)){s.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var s;if(t.preventDefault(),(s=h(this,Wn))==null||s.commitOrRemove(),!this.hasSelection)return;const e=[];for(const r of h(this,Qt)){const o=r.serialize(!0);o&&e.push(o)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const o of e.items)for(const c of h(this,zi))if(c.isHandlingMimeForPasting(o.type)){c.paste(o,this.currentLayer);return}let s=e.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(o){jt(`paste: "${o.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const p of s){const g=await r.deserialize(p);if(!g)return;o.push(g)}const c=()=>{for(const p of o)w(this,ot,Hb).call(this,p);w(this,ot,jb).call(this,o)},d=()=>{for(const p of o)p.remove()};this.addCommands({cmd:c,undo:d,mustExec:!0})}catch(o){jt(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),h(this,Qe)!==kt.NONE&&!this.isEditorHandlingKeyboard&&ac._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,h(this,nr)&&(E(this,nr,!1),w(this,ot,Np).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(w(this,ot,kw).call(this),w(this,ot,Fb).call(this),w(this,ot,wn).call(this,{isEditing:h(this,Qe)!==kt.NONE,isEmpty:w(this,ot,Ah).call(this),hasSomethingToUndo:h(this,ji).hasSomethingToUndo(),hasSomethingToRedo:h(this,ji).hasSomethingToRedo(),hasSelectedEditor:!1})):(w(this,ot,Fw).call(this),w(this,ot,Pb).call(this),w(this,ot,wn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!h(this,zi)){E(this,zi,t);for(const e of h(this,zi))w(this,ot,$a).call(this,e.defaultPropertiesToUpdate)}}getId(){return h(this,gg).id}get currentLayer(){return h(this,an).get(h(this,gc))}getLayer(t){return h(this,an).get(t)}get currentPageIndex(){return h(this,gc)}addLayer(t){h(this,an).set(t.pageIndex,t),h(this,ir)?t.enable():t.disable()}removeLayer(t){h(this,an).delete(t.pageIndex)}async updateMode(t,e=null,s=!1){if(h(this,Qe)!==t&&!(h(this,_i)&&(await h(this,_i).promise,!h(this,_i)))){if(E(this,_i,Promise.withResolvers()),E(this,Qe,t),t===kt.NONE){this.setEditingState(!1),w(this,ot,zw).call(this),h(this,_i).resolve();return}this.setEditingState(!0),await w(this,ot,jw).call(this),this.unselectAll();for(const r of h(this,an).values())r.updateMode(t);if(!e){s&&this.addNewEditorFromKeyboard(),h(this,_i).resolve();return}for(const r of h(this,je).values())r.annotationElementId===e?(this.setSelected(r),r.enterInEditMode()):r.unselect();h(this,_i).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==h(this,Qe)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var s;if(h(this,zi)){switch(t){case Rt.CREATE:this.currentLayer.addNewEditor();return;case Rt.HIGHLIGHT_DEFAULT_COLOR:(s=h(this,Wh))==null||s.updateColor(e);break;case Rt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(h(this,Zh)||E(this,Zh,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const r of h(this,Qt))r.updateParams(t,e);for(const r of h(this,zi))r.updateDefaultParams(t,e)}}showAllEditors(t,e,s=!1){var o;for(const c of h(this,je).values())c.editorType===t&&c.show(e);(((o=h(this,Zh))==null?void 0:o.get(Rt.HIGHLIGHT_SHOW_ALL))??!0)!==e&&w(this,ot,$a).call(this,[[Rt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(h(this,$h)!==t){E(this,$h,t);for(const e of h(this,an).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const s of h(this,je).values())s.pageIndex===t&&e.push(s);return e}getEditor(t){return h(this,je).get(t)}addEditor(t){h(this,je).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(h(this,ls)&&clearTimeout(h(this,ls)),E(this,ls,setTimeout(()=>{this.focusMainContainer(),E(this,ls,null)},0))),h(this,je).delete(t.id),this.unselect(t),(!t.annotationElementId||!h(this,uo).has(t.annotationElementId))&&((e=h(this,$s))==null||e.remove(t.id))}addDeletedAnnotationElement(t){h(this,uo).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return h(this,uo).has(t)}removeDeletedAnnotationElement(t){h(this,uo).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){h(this,Wn)!==t&&(E(this,Wn,t),t&&w(this,ot,$a).call(this,t.propertiesToUpdate))}updateUI(t){h(this,ot,Uw)===t&&w(this,ot,$a).call(this,t.propertiesToUpdate)}toggleSelected(t){if(h(this,Qt).has(t)){h(this,Qt).delete(t),t.unselect(),w(this,ot,wn).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,Qt).add(t),t.select(),w(this,ot,$a).call(this,t.propertiesToUpdate),w(this,ot,wn).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of h(this,Qt))e!==t&&e.unselect();h(this,Qt).clear(),h(this,Qt).add(t),t.select(),w(this,ot,$a).call(this,t.propertiesToUpdate),w(this,ot,wn).call(this,{hasSelectedEditor:!0})}isSelected(t){return h(this,Qt).has(t)}get firstSelectedEditor(){return h(this,Qt).values().next().value}unselect(t){t.unselect(),h(this,Qt).delete(t),w(this,ot,wn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,Qt).size!==0}get isEnterHandled(){return h(this,Qt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){h(this,ji).undo(),w(this,ot,wn).call(this,{hasSomethingToUndo:h(this,ji).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:w(this,ot,Ah).call(this)})}redo(){h(this,ji).redo(),w(this,ot,wn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,ji).hasSomethingToRedo(),isEmpty:w(this,ot,Ah).call(this)})}addCommands(t){h(this,ji).add(t),w(this,ot,wn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:w(this,ot,Ah).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...h(this,Qt)],e=()=>{for(const r of t)r.remove()},s=()=>{for(const r of t)w(this,ot,Hb).call(this,r)};this.addCommands({cmd:e,undo:s,mustExec:!0})}commitOrRemove(){var t;(t=h(this,Wn))==null||t.commitOrRemove()}hasSomethingToControl(){return h(this,Wn)||this.hasSelection}selectAll(){for(const t of h(this,Qt))t.commit();w(this,ot,jb).call(this,h(this,je).values())}unselectAll(){if(!(h(this,Wn)&&(h(this,Wn).commitOrRemove(),h(this,Qe)!==kt.NONE))&&this.hasSelection){for(const t of h(this,Qt))t.unselect();h(this,Qt).clear(),w(this,ot,wn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;h(this,ar)[0]+=t,h(this,ar)[1]+=e;const[r,o]=h(this,ar),c=[...h(this,Qt)],d=1e3;h(this,us)&&clearTimeout(h(this,us)),E(this,us,setTimeout(()=>{E(this,us,null),h(this,ar)[0]=h(this,ar)[1]=0,this.addCommands({cmd:()=>{for(const p of c)h(this,je).has(p.id)&&p.translateInPage(r,o)},undo:()=>{for(const p of c)h(this,je).has(p.id)&&p.translateInPage(-r,-o)},mustExec:!1})},d));for(const p of c)p.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),E(this,os,new Map);for(const t of h(this,Qt))h(this,os).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!h(this,os))return!1;this.disableUserSelect(!1);const t=h(this,os);E(this,os,null);let e=!1;for(const[{x:r,y:o,pageIndex:c},d]of t)d.newX=r,d.newY=o,d.newPageIndex=c,e||(e=r!==d.savedX||o!==d.savedY||c!==d.savedPageIndex);if(!e)return!1;const s=(r,o,c,d)=>{if(h(this,je).has(r.id)){const p=h(this,an).get(d);p?r._setParentAndPosition(p,o,c):(r.pageIndex=d,r.x=o,r.y=c)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:c,newPageIndex:d}]of t)s(r,o,c,d)},undo:()=>{for(const[r,{savedX:o,savedY:c,savedPageIndex:d}]of t)s(r,o,c,d)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(h(this,os))for(const s of h(this,os).keys())s.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||h(this,Qt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return h(this,Wn)===t}getActive(){return h(this,Wn)}getMode(){return h(this,Qe)}get imageManager(){return Gt(this,"imageManager",new Ob)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let g=0,m=e.rangeCount;g<m;g++)if(!t.contains(e.getRangeAt(g).commonAncestorContainer))return null;const{x:s,y:r,width:o,height:c}=t.getBoundingClientRect();let d;switch(t.getAttribute("data-main-rotation")){case"90":d=(g,m,b,v)=>({x:(m-r)/c,y:1-(g+b-s)/o,width:v/c,height:b/o});break;case"180":d=(g,m,b,v)=>({x:1-(g+b-s)/o,y:1-(m+v-r)/c,width:b/o,height:v/c});break;case"270":d=(g,m,b,v)=>({x:1-(m+v-r)/c,y:(g-s)/o,width:v/c,height:b/o});break;default:d=(g,m,b,v)=>({x:(g-s)/o,y:(m-r)/c,width:b/o,height:v/c});break}const p=[];for(let g=0,m=e.rangeCount;g<m;g++){const b=e.getRangeAt(g);if(!b.collapsed)for(const{x:v,y:S,width:_,height:T}of b.getClientRects())_===0||T===0||p.push(d(v,S,_,T))}return p.length===0?null:p}addChangedExistingAnnotation({annotationElementId:t,id:e}){(h(this,pc)||E(this,pc,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=h(this,pc))==null||e.delete(t)}renderAnnotationElement(t){var r;const e=(r=h(this,pc))==null?void 0:r.get(t.data.id);if(!e)return;const s=h(this,$s).getRawValue(e);s&&(h(this,Qe)===kt.NONE&&!s.hasBeenModified||s.renderAnnotationElement(t))}};dc=new WeakMap,Wn=new WeakMap,je=new WeakMap,an=new WeakMap,fc=new WeakMap,$s=new WeakMap,pc=new WeakMap,ji=new WeakMap,tr=new WeakMap,gc=new WeakMap,uo=new WeakMap,os=new WeakMap,zi=new WeakMap,ho=new WeakMap,Xh=new WeakMap,Yh=new WeakMap,mc=new WeakMap,Kh=new WeakMap,ls=new WeakMap,er=new WeakMap,yc=new WeakMap,nr=new WeakMap,cs=new WeakMap,gg=new WeakMap,ir=new WeakMap,$h=new WeakMap,sr=new WeakMap,fo=new WeakMap,Wh=new WeakMap,Qh=new WeakMap,Qe=new WeakMap,Qt=new WeakMap,Ws=new WeakMap,po=new WeakMap,Zh=new WeakMap,Jh=new WeakMap,ar=new WeakMap,us=new WeakMap,Qs=new WeakMap,td=new WeakMap,_i=new WeakMap,ot=new WeakSet,Lp=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},Nb=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const s of h(this,an).values())if(s.hasTextLayer(t))return s;return null},Ow=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const s=w(this,ot,Lp).call(this,t).closest(".textLayer"),r=this.getSelectionBoxes(s);r&&(h(this,cs)||E(this,cs,new SD(this)),h(this,cs).show(s,r,this.direction==="ltr"))},Lw=function(){var o,c,d;const t=document.getSelection();if(!t||t.isCollapsed){h(this,Ws)&&((o=h(this,cs))==null||o.hide(),E(this,Ws,null),w(this,ot,wn).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===h(this,Ws))return;const r=w(this,ot,Lp).call(this,t).closest(".textLayer");if(!r){h(this,Ws)&&((c=h(this,cs))==null||c.hide(),E(this,Ws,null),w(this,ot,wn).call(this,{hasSelectedText:!1}));return}if((d=h(this,cs))==null||d.hide(),E(this,Ws,e),w(this,ot,wn).call(this,{hasSelectedText:!0}),!(h(this,Qe)!==kt.HIGHLIGHT&&h(this,Qe)!==kt.NONE)&&(h(this,Qe)===kt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),E(this,nr,this.isShiftKeyDown),!this.isShiftKeyDown)){const p=h(this,Qe)===kt.HIGHLIGHT?w(this,ot,Nb).call(this,r):null;p==null||p.toggleDrawing();const g=new AbortController,m=this.combinedSignal(g),b=v=>{v.type==="pointerup"&&v.button!==0||(g.abort(),p==null||p.toggleDrawing(!0),v.type==="pointerup"&&w(this,ot,Np).call(this,"main_toolbar"))};window.addEventListener("pointerup",b,{signal:m}),window.addEventListener("blur",b,{signal:m})}},Np=function(t=""){h(this,Qe)===kt.HIGHLIGHT?this.highlightSelection(t):h(this,Xh)&&w(this,ot,Ow).call(this)},Nw=function(){document.addEventListener("selectionchange",w(this,ot,Lw).bind(this),{signal:this._signal})},kw=function(){if(h(this,er))return;E(this,er,new AbortController);const t=this.combinedSignal(h(this,er));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},Fw=function(){var t;(t=h(this,er))==null||t.abort(),E(this,er,null)},kb=function(){if(h(this,sr))return;E(this,sr,new AbortController);const t=this.combinedSignal(h(this,sr));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},Pw=function(){var t;(t=h(this,sr))==null||t.abort(),E(this,sr,null)},Fb=function(){if(h(this,tr))return;E(this,tr,new AbortController);const t=this.combinedSignal(h(this,tr));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},Pb=function(){var t;(t=h(this,tr))==null||t.abort(),E(this,tr,null)},Hw=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},wn=function(t){Object.entries(t).some(([s,r])=>h(this,Jh)[s]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,Jh),t)}),h(this,Qe)===kt.HIGHLIGHT&&t.hasSelectedEditor===!1&&w(this,ot,$a).call(this,[[Rt.HIGHLIGHT_FREE,!0]]))},$a=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},jw=async function(){if(!h(this,ir)){E(this,ir,!0);const t=[];for(const e of h(this,an).values())t.push(e.enable());await Promise.all(t);for(const e of h(this,je).values())e.enable()}},zw=function(){if(this.unselectAll(),h(this,ir)){E(this,ir,!1);for(const t of h(this,an).values())t.disable();for(const t of h(this,je).values())t.disable()}},Hb=function(t){const e=h(this,an).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},Uw=function(){let t=null;for(t of h(this,Qt));return t},Ah=function(){if(h(this,je).size===0)return!0;if(h(this,je).size===1)for(const t of h(this,je).values())return t.isEmpty();return!1},jb=function(t){for(const e of h(this,Qt))e.unselect();h(this,Qt).clear();for(const e of t)e.isEmpty()||(h(this,Qt).add(e),e.select());w(this,ot,wn).call(this,{hasSelectedEditor:this.hasSelection})},xt(ac,"TRANSLATE_SMALL",1),xt(ac,"TRANSLATE_BIG",10);let rl=ac;var Ze,hs,Ui,bc,ds,Qn,vc,fs,Pn,Zs,go,ps,rr,Wi,Sh,kp;const Tn=class Tn{constructor(t){x(this,Wi);x(this,Ze,null);x(this,hs,!1);x(this,Ui,null);x(this,bc,null);x(this,ds,null);x(this,Qn,null);x(this,vc,!1);x(this,fs,null);x(this,Pn,null);x(this,Zs,null);x(this,go,null);x(this,ps,!1);E(this,Pn,t),E(this,ps,t._uiManager.useNewAltTextFlow),h(Tn,rr)||E(Tn,rr,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){Tn._l10n??(Tn._l10n=t)}async render(){const t=E(this,Ui,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=E(this,bc,document.createElement("span"));t.append(e),h(this,ps)?(t.classList.add("new"),t.setAttribute("data-l10n-id",h(Tn,rr).missing),e.setAttribute("data-l10n-id",h(Tn,rr)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=h(this,Pn)._uiManager._signal;t.addEventListener("contextmenu",Di,{signal:s}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:s});const r=o=>{o.preventDefault(),h(this,Pn)._uiManager.editAltText(h(this,Pn)),h(this,ps)&&h(this,Pn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:h(this,Wi,Sh)}})};return t.addEventListener("click",r,{capture:!0,signal:s}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(E(this,vc,!0),r(o))},{signal:s}),await w(this,Wi,kp).call(this),t}finish(){h(this,Ui)&&(h(this,Ui).focus({focusVisible:h(this,vc)}),E(this,vc,!1))}isEmpty(){return h(this,ps)?h(this,Ze)===null:!h(this,Ze)&&!h(this,hs)}hasData(){return h(this,ps)?h(this,Ze)!==null||!!h(this,Zs):this.isEmpty()}get guessedText(){return h(this,Zs)}async setGuessedText(t){h(this,Ze)===null&&(E(this,Zs,t),E(this,go,await Tn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),w(this,Wi,kp).call(this))}toggleAltTextBadge(t=!1){var e;if(!h(this,ps)||h(this,Ze)){(e=h(this,fs))==null||e.remove(),E(this,fs,null);return}if(!h(this,fs)){const s=E(this,fs,document.createElement("div"));s.className="noAltTextBadge",h(this,Pn).div.append(s)}h(this,fs).classList.toggle("hidden",!t)}serialize(t){let e=h(this,Ze);return!t&&h(this,Zs)===e&&(e=h(this,go)),{altText:e,decorative:h(this,hs),guessedText:h(this,Zs),textWithDisclaimer:h(this,go)}}get data(){return{altText:h(this,Ze),decorative:h(this,hs)}}set data({altText:t,decorative:e,guessedText:s,textWithDisclaimer:r,cancel:o=!1}){s&&(E(this,Zs,s),E(this,go,r)),!(h(this,Ze)===t&&h(this,hs)===e)&&(o||(E(this,Ze,t),E(this,hs,e)),w(this,Wi,kp).call(this))}toggle(t=!1){h(this,Ui)&&(!t&&h(this,Qn)&&(clearTimeout(h(this,Qn)),E(this,Qn,null)),h(this,Ui).disabled=!t)}shown(){h(this,Pn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:h(this,Wi,Sh)}})}destroy(){var t,e;(t=h(this,Ui))==null||t.remove(),E(this,Ui,null),E(this,bc,null),E(this,ds,null),(e=h(this,fs))==null||e.remove(),E(this,fs,null)}};Ze=new WeakMap,hs=new WeakMap,Ui=new WeakMap,bc=new WeakMap,ds=new WeakMap,Qn=new WeakMap,vc=new WeakMap,fs=new WeakMap,Pn=new WeakMap,Zs=new WeakMap,go=new WeakMap,ps=new WeakMap,rr=new WeakMap,Wi=new WeakSet,Sh=function(){return h(this,Ze)&&"added"||h(this,Ze)===null&&this.guessedText&&"review"||"missing"},kp=async function(){var r,o,c;const t=h(this,Ui);if(!t)return;if(h(this,ps)){if(t.classList.toggle("done",!!h(this,Ze)),t.setAttribute("data-l10n-id",h(Tn,rr)[h(this,Wi,Sh)]),(r=h(this,bc))==null||r.setAttribute("data-l10n-id",h(Tn,rr)[`${h(this,Wi,Sh)}-label`]),!h(this,Ze)){(o=h(this,ds))==null||o.remove();return}}else{if(!h(this,Ze)&&!h(this,hs)){t.classList.remove("done"),(c=h(this,ds))==null||c.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=h(this,ds);if(!e){E(this,ds,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${h(this,Pn).id}`;const d=100,p=h(this,Pn)._uiManager._signal;p.addEventListener("abort",()=>{clearTimeout(h(this,Qn)),E(this,Qn,null)},{once:!0}),t.addEventListener("mouseenter",()=>{E(this,Qn,setTimeout(()=>{E(this,Qn,null),h(this,ds).classList.add("show"),h(this,Pn)._reportTelemetry({action:"alt_text_tooltip"})},d))},{signal:p}),t.addEventListener("mouseleave",()=>{var g;h(this,Qn)&&(clearTimeout(h(this,Qn)),E(this,Qn,null)),(g=h(this,ds))==null||g.classList.remove("show")},{signal:p})}h(this,hs)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=h(this,Ze)),e.parentNode||t.append(e);const s=h(this,Pn).getImageForAltText();s==null||s.setAttribute("aria-describedby",e.id)},x(Tn,rr,null),xt(Tn,"_l10n",null);let og=Tn;var mo,Bi,me,Ac,yo,rn,bo,or,ed,vo,lr,nd,Ao,Js,gs,Sc,_c,Ei,id,mg,Ft,zb,sd,Ub,Bb,Bw,Iw,Ib,qb,Gb,qw,Vb,Gw,Vw,Xw,Xb,_h;const Wt=class Wt{constructor(t){x(this,Ft);x(this,mo,null);x(this,Bi,null);x(this,me,null);x(this,Ac,!1);x(this,yo,!1);x(this,rn,null);x(this,bo,null);x(this,or,null);x(this,ed,"");x(this,vo,!1);x(this,lr,null);x(this,nd,!1);x(this,Ao,!1);x(this,Js,!1);x(this,gs,null);x(this,Sc,0);x(this,_c,0);x(this,Ei,null);xt(this,"_editToolbar",null);xt(this,"_initialOptions",Object.create(null));xt(this,"_initialData",null);xt(this,"_isVisible",!0);xt(this,"_uiManager",null);xt(this,"_focusEventsAllowed",!0);x(this,id,!1);x(this,mg,Wt._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:s,pageHeight:r,pageX:o,pageY:c}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,r],this.pageTranslation=[o,c];const[d,p]=this.parentDimensions;this.x=t.x/d,this.y=t.y/p,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=Wt.prototype._resizeWithKeyboard,e=rl.TRANSLATE_SMALL,s=rl.TRANSLATE_BIG;return Gt(this,"_resizerKeyboardManager",new af([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,s]}],[["Escape","mac+Escape"],Wt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Gt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new TD({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Wt._l10n??(Wt._l10n=t),Wt._l10nResizer||(Wt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Wt._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);Wt._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){he("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return h(this,id)}set _isDraggable(t){var e;E(this,id,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=h(this,mg)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):w(this,Ft,_h).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(h(this,vo)?E(this,vo,!1):this.parent.setSelected(this))}focusout(t){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,s,r){const[o,c]=this.parentDimensions;[s,r]=this.screenToPageTranslation(s,r),this.x=(t+s)/o,this.y=(e+r)/c,this.fixAndSetPosition()}translate(t,e){w(this,Ft,zb).call(this,this.parentDimensions,t,e)}translateInPage(t,e){h(this,lr)||E(this,lr,[this.x,this.y]),w(this,Ft,zb).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){h(this,lr)||E(this,lr,[this.x,this.y]);const[s,r]=this.parentDimensions;if(this.x+=t/s,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:c}=this;const[d,p]=this.getBaseTranslation();o+=d,c+=p,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*c).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!h(this,lr)&&(h(this,lr)[0]!==this.x||h(this,lr)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:s}=Wt,r=s/t,o=s/e;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,s]=this.pageDimensions;let{x:r,y:o,width:c,height:d}=this;if(c*=e,d*=s,r*=e,o*=s,this._mustFixPosition)switch(t){case 0:r=Math.max(0,Math.min(e-c,r)),o=Math.max(0,Math.min(s-d,o));break;case 90:r=Math.max(0,Math.min(e-d,r)),o=Math.min(s,Math.max(c,o));break;case 180:r=Math.min(e,Math.max(c,r)),o=Math.min(s,Math.max(d,o));break;case 270:r=Math.min(e,Math.max(d,r)),o=Math.max(0,Math.min(s-c,o));break}this.x=r/=e,this.y=o/=s;const[p,g]=this.getBaseTranslation();r+=p,o+=g;const{style:m}=this.div;m.left=`${(100*r).toFixed(2)}%`,m.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var s;return w(s=Wt,sd,Ub).call(s,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var s;return w(s=Wt,sd,Ub).call(s,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,s]}=this;return[e*t,s*t]}setDims(t,e){const[s,r]=this.parentDimensions;this.div.style.width=`${(100*t/s).toFixed(2)}%`,h(this,yo)||(this.div.style.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:s}=t,r=s.endsWith("%"),o=!h(this,yo)&&e.endsWith("%");if(r&&o)return;const[c,d]=this.parentDimensions;r||(t.width=`${(100*parseFloat(s)/c).toFixed(2)}%`),!h(this,yo)&&!o&&(t.height=`${(100*parseFloat(e)/d).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=h(this,me))==null||t.finish()}async addEditToolbar(){return this._editToolbar||h(this,Ao)?this._editToolbar:(this._editToolbar=new Mb(this),this.div.append(this._editToolbar.render()),h(this,me)&&await this._editToolbar.addAltText(h(this,me)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=h(this,me))==null||t.destroy())}addContainer(t){var s;const e=(s=this._editToolbar)==null?void 0:s.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){h(this,me)||(og.initialize(Wt._l10n),E(this,me,new og(this)),h(this,mo)&&(h(this,me).data=h(this,mo),E(this,mo,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=h(this,me))==null?void 0:t.data}set altTextData(t){h(this,me)&&(h(this,me).data=t)}get guessedAltText(){var t;return(t=h(this,me))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=h(this,me))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=h(this,me))==null?void 0:e.serialize(t)}hasAltText(){return!!h(this,me)&&!h(this,me).isEmpty()}hasAltTextData(){var t;return((t=h(this,me))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=h(this,Ac)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),w(this,Ft,Vb).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),rg(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=Rn.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(E(this,vo,!0),this._isDraggable){w(this,Ft,qw).call(this,t);return}w(this,Ft,Gb).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){h(this,gs)&&clearTimeout(h(this,gs)),E(this,gs,setTimeout(()=>{var t;E(this,gs,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,s){t.changeParent(this),this.x=e,this.y=s,this.fixAndSetPosition()}getRect(t,e,s=this.rotation){const r=this.parentScale,[o,c]=this.pageDimensions,[d,p]=this.pageTranslation,g=t/r,m=e/r,b=this.x*o,v=this.y*c,S=this.width*o,_=this.height*c;switch(s){case 0:return[b+g+d,c-v-m-_+p,b+g+S+d,c-v-m+p];case 90:return[b+m+d,c-v+g+p,b+m+_+d,c-v+g+S+p];case 180:return[b-g-S+d,c-v+m+p,b-g+d,c-v+m+_+p];case 270:return[b-m-_+d,c-v-g-S+p,b-m+d,c-v-g+p];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[s,r,o,c]=t,d=o-s,p=c-r;switch(this.rotation){case 0:return[s,e-c,d,p];case 90:return[s,e-r,p,d];case 180:return[o,e-r,d,p];case 270:return[o,e-c,p,d];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){E(this,Ao,!0)}disableEditMode(){E(this,Ao,!1)}isInEditMode(){return h(this,Ao)}shouldGetKeyboardEvents(){return h(this,Js)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){w(this,Ft,Vb).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){he("An editor must be serializable")}static async deserialize(t,e,s){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:s});r.rotation=t.rotation,E(r,mo,t.accessibilityData);const[o,c]=r.pageDimensions,[d,p,g,m]=r.getRectInCurrentCoords(t.rect,c);return r.x=d/o,r.y=p/c,r.width=g/o,r.height=m/c,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=h(this,or))==null||t.abort(),E(this,or,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),h(this,gs)&&(clearTimeout(h(this,gs)),E(this,gs,null)),w(this,Ft,_h).call(this),this.removeEditToolbar(),h(this,Ei)){for(const e of h(this,Ei).values())clearTimeout(e);E(this,Ei,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(w(this,Ft,Bw).call(this),h(this,rn).classList.remove("hidden"),rg(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),E(this,bo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=h(this,rn).children;if(!h(this,Bi)){E(this,Bi,Array.from(e));const c=w(this,Ft,Gw).bind(this),d=w(this,Ft,Vw).bind(this),p=this._uiManager._signal;for(const g of h(this,Bi)){const m=g.getAttribute("data-resizer-name");g.setAttribute("role","spinbutton"),g.addEventListener("keydown",c,{signal:p}),g.addEventListener("blur",d,{signal:p}),g.addEventListener("focus",w(this,Ft,Xw).bind(this,m),{signal:p}),g.setAttribute("data-l10n-id",Wt._l10nResizer[m])}}const s=h(this,Bi)[0];let r=0;for(const c of e){if(c===s)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(h(this,Bi).length/4);if(o!==r){if(o<r)for(let d=0;d<r-o;d++)h(this,rn).append(h(this,rn).firstChild);else if(o>r)for(let d=0;d<o-r;d++)h(this,rn).firstChild.before(h(this,rn).lastChild);let c=0;for(const d of e){const g=h(this,Bi)[c++].getAttribute("data-resizer-name");d.setAttribute("data-l10n-id",Wt._l10nResizer[g])}}w(this,Ft,Xb).call(this,0),E(this,Js,!0),h(this,rn).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){h(this,Js)&&w(this,Ft,qb).call(this,h(this,ed),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){w(this,Ft,_h).call(this),this.div.focus()}select(){var t,e,s;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,o;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(e=this._editToolbar)==null||e.show(),(s=h(this,me))==null||s.toggleAltTextBadge(!1)}unselect(){var t,e,s,r,o;(t=h(this,rn))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(o=h(this,me))==null||o.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return h(this,nd)}set isEditing(t){E(this,nd,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){E(this,yo,!0);const s=t/e,{style:r}=this.div;r.aspectRatio=s,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){h(this,Ei)||E(this,Ei,new Map);const{action:s}=t;let r=h(this,Ei).get(s);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),h(this,Ei).delete(s),h(this,Ei).size===0&&E(this,Ei,null)},Wt._telemetryTimeout),h(this,Ei).set(s,r);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),E(this,Ac,!1)}disable(){this.div&&(this.div.tabIndex=-1),E(this,Ac,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const s=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),s.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};mo=new WeakMap,Bi=new WeakMap,me=new WeakMap,Ac=new WeakMap,yo=new WeakMap,rn=new WeakMap,bo=new WeakMap,or=new WeakMap,ed=new WeakMap,vo=new WeakMap,lr=new WeakMap,nd=new WeakMap,Ao=new WeakMap,Js=new WeakMap,gs=new WeakMap,Sc=new WeakMap,_c=new WeakMap,Ei=new WeakMap,id=new WeakMap,mg=new WeakMap,Ft=new WeakSet,zb=function([t,e],s,r){[s,r]=this.screenToPageTranslation(s,r),this.x+=s/t,this.y+=r/e,this.fixAndSetPosition()},sd=new WeakSet,Ub=function(t,e,s){switch(s){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},Bb=function(t){switch(t){case 90:{const[e,s]=this.pageDimensions;return[0,-e/s,s/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,s]=this.pageDimensions;return[0,e/s,-s/e,0]}default:return[1,0,0,1]}},Bw=function(){if(h(this,rn))return;E(this,rn,document.createElement("div")),h(this,rn).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const s of t){const r=document.createElement("div");h(this,rn).append(r),r.classList.add("resizer",s),r.setAttribute("data-resizer-name",s),r.addEventListener("pointerdown",w(this,Ft,Iw).bind(this,s),{signal:e}),r.addEventListener("contextmenu",Di,{signal:e}),r.tabIndex=-1}this.div.prepend(h(this,rn))},Iw=function(t,e){var _;e.preventDefault();const{isMac:s}=Rn.platform;if(e.button!==0||e.ctrlKey&&s)return;(_=h(this,me))==null||_.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const o=new AbortController,c=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",w(this,Ft,qb).bind(this,t),{passive:!0,capture:!0,signal:c}),window.addEventListener("contextmenu",Di,{signal:c});const d=this.x,p=this.y,g=this.width,m=this.height,b=this.parent.div.style.cursor,v=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const S=()=>{var T;o.abort(),this.parent.togglePointerEvents(!0),(T=h(this,me))==null||T.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=b,this.div.style.cursor=v,w(this,Ft,Ib).call(this,d,p,g,m)};window.addEventListener("pointerup",S,{signal:c}),window.addEventListener("blur",S,{signal:c})},Ib=function(t,e,s,r){const o=this.x,c=this.y,d=this.width,p=this.height;o===t&&c===e&&d===s&&p===r||this.addCommands({cmd:()=>{this.width=d,this.height=p,this.x=o,this.y=c;const[g,m]=this.parentDimensions;this.setDims(g*d,m*p),this.fixAndSetPosition()},undo:()=>{this.width=s,this.height=r,this.x=t,this.y=e;const[g,m]=this.parentDimensions;this.setDims(g*s,m*r),this.fixAndSetPosition()},mustExec:!0})},qb=function(t,e){const[s,r]=this.parentDimensions,o=this.x,c=this.y,d=this.width,p=this.height,g=Wt.MIN_SIZE/s,m=Wt.MIN_SIZE/r,b=W=>Math.round(W*1e4)/1e4,v=w(this,Ft,Bb).call(this,this.rotation),S=(W,tt)=>[v[0]*W+v[2]*tt,v[1]*W+v[3]*tt],_=w(this,Ft,Bb).call(this,360-this.rotation),T=(W,tt)=>[_[0]*W+_[2]*tt,_[1]*W+_[3]*tt];let C,M,O=!1,k=!1;switch(t){case"topLeft":O=!0,C=(W,tt)=>[0,0],M=(W,tt)=>[W,tt];break;case"topMiddle":C=(W,tt)=>[W/2,0],M=(W,tt)=>[W/2,tt];break;case"topRight":O=!0,C=(W,tt)=>[W,0],M=(W,tt)=>[0,tt];break;case"middleRight":k=!0,C=(W,tt)=>[W,tt/2],M=(W,tt)=>[0,tt/2];break;case"bottomRight":O=!0,C=(W,tt)=>[W,tt],M=(W,tt)=>[0,0];break;case"bottomMiddle":C=(W,tt)=>[W/2,tt],M=(W,tt)=>[W/2,0];break;case"bottomLeft":O=!0,C=(W,tt)=>[0,tt],M=(W,tt)=>[W,0];break;case"middleLeft":k=!0,C=(W,tt)=>[0,tt/2],M=(W,tt)=>[W,tt/2];break}const H=C(d,p),j=M(d,p);let B=S(...j);const I=b(o+B[0]),X=b(c+B[1]);let G=1,nt=1,[it,ut]=this.screenToPageTranslation(e.movementX,e.movementY);if([it,ut]=T(it/s,ut/r),O){const W=Math.hypot(d,p);G=nt=Math.max(Math.min(Math.hypot(j[0]-H[0]-it,j[1]-H[1]-ut)/W,1/d,1/p),g/d,m/p)}else k?G=Math.max(g,Math.min(1,Math.abs(j[0]-H[0]-it)))/d:nt=Math.max(m,Math.min(1,Math.abs(j[1]-H[1]-ut)))/p;const ht=b(d*G),dt=b(p*nt);B=S(...M(ht,dt));const mt=I-B[0],K=X-B[1];this.width=ht,this.height=dt,this.x=mt,this.y=K,this.setDims(s*ht,r*dt),this.fixAndSetPosition()},Gb=function(t){const{isMac:e}=Rn.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},qw=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const s=new AbortController,r=this._uiManager.combinedSignal(s);if(e){this.div.classList.add("moving"),E(this,Sc,t.clientX),E(this,_c,t.clientY);const c=d=>{const{clientX:p,clientY:g}=d,[m,b]=this.screenToPageTranslation(p-h(this,Sc),g-h(this,_c));E(this,Sc,p),E(this,_c,g),this._uiManager.dragSelectedEditors(m,b)};window.addEventListener("pointermove",c,{passive:!0,capture:!0,signal:r})}const o=()=>{s.abort(),e&&this.div.classList.remove("moving"),E(this,vo,!1),this._uiManager.endDragSession()||w(this,Ft,Gb).call(this,t)};window.addEventListener("pointerup",o,{signal:r}),window.addEventListener("blur",o,{signal:r})},Vb=function(){if(h(this,or)||!this.div)return;E(this,or,new AbortController);const t=this._uiManager.combinedSignal(h(this,or));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},Gw=function(t){Wt._resizerKeyboardManager.exec(this,t)},Vw=function(t){var e;h(this,Js)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==h(this,rn)&&w(this,Ft,_h).call(this)},Xw=function(t){E(this,ed,h(this,Js)?t:"")},Xb=function(t){if(h(this,Bi))for(const e of h(this,Bi))e.tabIndex=t},_h=function(){if(E(this,Js,!1),w(this,Ft,Xb).call(this,-1),h(this,bo)){const{savedX:t,savedY:e,savedWidth:s,savedHeight:r}=h(this,bo);w(this,Ft,Ib).call(this,t,e,s,r),E(this,bo,null)}},x(Wt,sd),xt(Wt,"_l10n",null),xt(Wt,"_l10nResizer",null),xt(Wt,"_borderLineWidth",-1),xt(Wt,"_colorManager",new Lb),xt(Wt,"_zIndex",1),xt(Wt,"_telemetryTimeout",1e3);let Jt=Wt;class TD extends Jt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const SE=3285377520,Si=4294901760,rs=65535;class Yw{constructor(t){this.h1=t?t&4294967295:SE,this.h2=t?t&4294967295:SE}update(t){let e,s;if(typeof t=="string"){e=new Uint8Array(t.length*2),s=0;for(let T=0,C=t.length;T<C;T++){const M=t.charCodeAt(T);M<=255?e[s++]=M:(e[s++]=M>>>8,e[s++]=M&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),s=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=s>>2,o=s-r*4,c=new Uint32Array(e.buffer,0,r);let d=0,p=0,g=this.h1,m=this.h2;const b=3432918353,v=461845907,S=b&rs,_=v&rs;for(let T=0;T<r;T++)T&1?(d=c[T],d=d*b&Si|d*S&rs,d=d<<15|d>>>17,d=d*v&Si|d*_&rs,g^=d,g=g<<13|g>>>19,g=g*5+3864292196):(p=c[T],p=p*b&Si|p*S&rs,p=p<<15|p>>>17,p=p*v&Si|p*_&rs,m^=p,m=m<<13|m>>>19,m=m*5+3864292196);switch(d=0,o){case 3:d^=e[r*4+2]<<16;case 2:d^=e[r*4+1]<<8;case 1:d^=e[r*4],d=d*b&Si|d*S&rs,d=d<<15|d>>>17,d=d*v&Si|d*_&rs,r&1?g^=d:m^=d}this.h1=g,this.h2=m}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Si|t*36045&rs,e=e*4283543511&Si|((e<<16|t>>>16)*2950163797&Si)>>>16,t^=e>>>1,t=t*444984403&Si|t*60499&rs,e=e*3301882366&Si|((e<<16|t>>>16)*3120437893&Si)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Yb=Object.freeze({map:null,hash:"",transfer:void 0});var So,_o,Je,yg,Kw;class Jv{constructor(){x(this,yg);x(this,So,!1);x(this,_o,null);x(this,Je,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const s=h(this,Je).get(t);return s===void 0?e:Object.assign(e,s)}getRawValue(t){return h(this,Je).get(t)}remove(t){if(h(this,Je).delete(t),h(this,Je).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of h(this,Je).values())if(e instanceof Jt)return;this.onAnnotationEditor(null)}}setValue(t,e){const s=h(this,Je).get(t);let r=!1;if(s!==void 0)for(const[o,c]of Object.entries(e))s[o]!==c&&(r=!0,s[o]=c);else r=!0,h(this,Je).set(t,e);r&&w(this,yg,Kw).call(this),e instanceof Jt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return h(this,Je).has(t)}getAll(){return h(this,Je).size>0?Yv(h(this,Je)):null}setAll(t){for(const[e,s]of Object.entries(t))this.setValue(e,s)}get size(){return h(this,Je).size}resetModified(){h(this,So)&&(E(this,So,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new $w(this)}get serializable(){if(h(this,Je).size===0)return Yb;const t=new Map,e=new Yw,s=[],r=Object.create(null);let o=!1;for(const[c,d]of h(this,Je)){const p=d instanceof Jt?d.serialize(!1,r):d;p&&(t.set(c,p),e.update(`${c}:${JSON.stringify(p)}`),o||(o=!!p.bitmap))}if(o)for(const c of t.values())c.bitmap&&s.push(c.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:s}:Yb}get editorStats(){let t=null;const e=new Map;for(const s of h(this,Je).values()){if(!(s instanceof Jt))continue;const r=s.telemetryFinalData;if(!r)continue;const{type:o}=r;e.has(o)||e.set(o,Object.getPrototypeOf(s).constructor),t||(t=Object.create(null));const c=t[o]||(t[o]=new Map);for(const[d,p]of Object.entries(r)){if(d==="type")continue;let g=c.get(d);g||(g=new Map,c.set(d,g));const m=g.get(p)??0;g.set(p,m+1)}}for(const[s,r]of e)t[s]=r.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){E(this,_o,null)}get modifiedIds(){if(h(this,_o))return h(this,_o);const t=[];for(const e of h(this,Je).values())!(e instanceof Jt)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return E(this,_o,{ids:new Set(t),hash:t.join(",")})}}So=new WeakMap,_o=new WeakMap,Je=new WeakMap,yg=new WeakSet,Kw=function(){h(this,So)||(E(this,So,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var ad;class $w extends Jv{constructor(e){super();x(this,ad);const{map:s,hash:r,transfer:o}=e.serializable,c=structuredClone(s,o?{transfer:o}:null);E(this,ad,{map:c,hash:r,transfer:o})}get print(){he("Should not call PrintAnnotationStorage.print")}get serializable(){return h(this,ad)}get modifiedIds(){return Gt(this,"modifiedIds",{ids:new Set,hash:""})}}ad=new WeakMap;var Ec;class xD{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){x(this,Ec,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),h(this,Ec).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||h(this,Ec).has(t.loadedName))){if(Be(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:o}=t,c=new FontFace(s,r,o);this.addNativeFontFace(c);try{await c.load(),h(this,Ec).add(s),e==null||e(t)}catch{jt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}he("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const s=t.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(r){throw jt(`Failed to load font '${s.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const r=this._queueLoadingCallback(s);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return Gt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(An||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Gt(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(Be(!r.done,"completeRequest() cannot be called twice."),r.done=!0;s.length>0&&s[0].done;){const o=s.shift();setTimeout(o.callback,0)}}const{loadingRequests:s}=this,r={done:!1,complete:e,callback:t};return s.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Gt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function s(H,j){return H.charCodeAt(j)<<24|H.charCodeAt(j+1)<<16|H.charCodeAt(j+2)<<8|H.charCodeAt(j+3)&255}function r(H,j,B,I){const X=H.substring(0,j),G=H.substring(j+B);return X+I+G}let o,c;const d=this._document.createElement("canvas");d.width=1,d.height=1;const p=d.getContext("2d");let g=0;function m(H,j){if(++g>30){jt("Load test font never loaded."),j();return}if(p.font="30px "+H,p.fillText(".",0,20),p.getImageData(0,0,1,1).data[3]>0){j();return}setTimeout(m.bind(null,H,j))}const b=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=r(v,976,b.length,b);const _=16,T=1482184792;let C=s(v,_);for(o=0,c=b.length-3;o<c;o+=4)C=C-T+s(b,o)|0;o<b.length&&(C=C-T+s(b+"XXX",o)|0),v=r(v,_,4,uD(C));const M=`url(data:font/opentype;base64,${btoa(v)});`,O=`@font-face {font-family:"${b}";src:${M}}`;this.insertRule(O);const k=this._document.createElement("div");k.style.visibility="hidden",k.style.width=k.style.height="10px",k.style.position="absolute",k.style.top=k.style.left="0px";for(const H of[t.loadedName,b]){const j=this._document.createElement("span");j.textContent="Hi",j.style.fontFamily=H,k.append(j)}this._document.body.append(k),m(b,()=>{k.remove(),e.complete()})}}Ec=new WeakMap;class RD{constructor(t,{disableFontFace:e=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(const r in t)this[r]=t[r];this.disableFontFace=e===!0,this._inspectFont=s}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${mD(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(s=this._inspectFont)==null||s.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let s;try{s=t.get(this.loadedName+"_path_"+e)}catch(o){jt(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(s)||s.length===0)return this.compiledGlyphs[e]=function(o,c){};const r=[];for(let o=0,c=s.length;o<c;)switch(s[o++]){case Gs.BEZIER_CURVE_TO:{const[d,p,g,m,b,v]=s.slice(o,o+6);r.push(S=>S.bezierCurveTo(d,p,g,m,b,v)),o+=6}break;case Gs.MOVE_TO:{const[d,p]=s.slice(o,o+2);r.push(g=>g.moveTo(d,p)),o+=2}break;case Gs.LINE_TO:{const[d,p]=s.slice(o,o+2);r.push(g=>g.lineTo(d,p)),o+=2}break;case Gs.QUADRATIC_CURVE_TO:{const[d,p,g,m]=s.slice(o,o+4);r.push(b=>b.quadraticCurveTo(d,p,g,m)),o+=4}break;case Gs.RESTORE:r.push(d=>d.restore());break;case Gs.SAVE:r.push(d=>d.save());break;case Gs.SCALE:Be(r.length===2,"Scale command is only valid at the third position.");break;case Gs.TRANSFORM:{const[d,p,g,m,b,v]=s.slice(o,o+6);r.push(S=>S.transform(d,p,g,m,b,v)),o+=6}break;case Gs.TRANSLATE:{const[d,p]=s.slice(o,o+2);r.push(g=>g.translate(d,p)),o+=2}break}return this.compiledGlyphs[e]=function(c,d){r[0](c),r[1](c),c.scale(d,-d);for(let p=2,g=r.length;p<g;p++)r[p](c)}}}var rd;class Ww{constructor({enableHWA:t=!1}){x(this,rd,!1);E(this,rd,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(t,e);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!h(this,rd)})}}reset(t,e,s){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||s<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=s}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){he("Abstract method `_createCanvas` called.")}}rd=new WeakMap;class CD extends Ww{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const s=this._document.createElement("canvas");return s.width=t,s.height=e,s}}class Qw{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){he("Abstract method `_fetch` called.")}}class Zw extends Qw{async _fetch(t){const e=await Ug(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):zg(e)}}class Jw{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,s,r,o){return"none"}destroy(t=!1){}}var Eo,wo,ms,ta,gn,bg,To,ct,fn,Ql,Zl,Fp,Jl,t1,Kb,tc,Eh,wh,$b,Th;class MD extends Jw{constructor({docId:e,ownerDocument:s=globalThis.document}){super();x(this,ct);x(this,Eo);x(this,wo);x(this,ms);x(this,ta);x(this,gn);x(this,bg);x(this,To,0);E(this,ta,e),E(this,gn,s)}addFilter(e){if(!e)return"none";let s=h(this,ct,fn).get(e);if(s)return s;const[r,o,c]=w(this,ct,Fp).call(this,e),d=e.length===1?r:`${r}${o}${c}`;if(s=h(this,ct,fn).get(d),s)return h(this,ct,fn).set(e,s),s;const p=`g_${h(this,ta)}_transfer_map_${En(this,To)._++}`,g=w(this,ct,Jl).call(this,p);h(this,ct,fn).set(e,g),h(this,ct,fn).set(d,g);const m=w(this,ct,tc).call(this,p);return w(this,ct,wh).call(this,r,o,c,m),g}addHCMFilter(e,s){var _;const r=`${e}-${s}`,o="base";let c=h(this,ct,Ql).get(o);if((c==null?void 0:c.key)===r||(c?((_=c.filter)==null||_.remove(),c.key=r,c.url="none",c.filter=null):(c={key:r,url:"none",filter:null},h(this,ct,Ql).set(o,c)),!e||!s))return c.url;const d=w(this,ct,Th).call(this,e);e=bt.makeHexColor(...d);const p=w(this,ct,Th).call(this,s);if(s=bt.makeHexColor(...p),h(this,ct,Zl).style.color="",e==="#000000"&&s==="#ffffff"||e===s)return c.url;const g=new Array(256);for(let T=0;T<=255;T++){const C=T/255;g[T]=C<=.03928?C/12.92:((C+.055)/1.055)**2.4}const m=g.join(","),b=`g_${h(this,ta)}_hcm_filter`,v=c.filter=w(this,ct,tc).call(this,b);w(this,ct,wh).call(this,m,m,m,v),w(this,ct,Kb).call(this,v);const S=(T,C)=>{const M=d[T]/255,O=p[T]/255,k=new Array(C+1);for(let H=0;H<=C;H++)k[H]=M+H/C*(O-M);return k.join(",")};return w(this,ct,wh).call(this,S(0,5),S(1,5),S(2,5),v),c.url=w(this,ct,Jl).call(this,b),c.url}addAlphaFilter(e){let s=h(this,ct,fn).get(e);if(s)return s;const[r]=w(this,ct,Fp).call(this,[e]),o=`alpha_${r}`;if(s=h(this,ct,fn).get(o),s)return h(this,ct,fn).set(e,s),s;const c=`g_${h(this,ta)}_alpha_map_${En(this,To)._++}`,d=w(this,ct,Jl).call(this,c);h(this,ct,fn).set(e,d),h(this,ct,fn).set(o,d);const p=w(this,ct,tc).call(this,c);return w(this,ct,$b).call(this,r,p),d}addLuminosityFilter(e){let s=h(this,ct,fn).get(e||"luminosity");if(s)return s;let r,o;if(e?([r]=w(this,ct,Fp).call(this,[e]),o=`luminosity_${r}`):o="luminosity",s=h(this,ct,fn).get(o),s)return h(this,ct,fn).set(e,s),s;const c=`g_${h(this,ta)}_luminosity_map_${En(this,To)._++}`,d=w(this,ct,Jl).call(this,c);h(this,ct,fn).set(e,d),h(this,ct,fn).set(o,d);const p=w(this,ct,tc).call(this,c);return w(this,ct,t1).call(this,p),e&&w(this,ct,$b).call(this,r,p),d}addHighlightHCMFilter(e,s,r,o,c){var O;const d=`${s}-${r}-${o}-${c}`;let p=h(this,ct,Ql).get(e);if((p==null?void 0:p.key)===d||(p?((O=p.filter)==null||O.remove(),p.key=d,p.url="none",p.filter=null):(p={key:d,url:"none",filter:null},h(this,ct,Ql).set(e,p)),!s||!r))return p.url;const[g,m]=[s,r].map(w(this,ct,Th).bind(this));let b=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),v=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),[S,_]=[o,c].map(w(this,ct,Th).bind(this));v<b&&([b,v,S,_]=[v,b,_,S]),h(this,ct,Zl).style.color="";const T=(k,H,j)=>{const B=new Array(256),I=(v-b)/j,X=k/255,G=(H-k)/(255*j);let nt=0;for(let it=0;it<=j;it++){const ut=Math.round(b+it*I),ht=X+it*G;for(let dt=nt;dt<=ut;dt++)B[dt]=ht;nt=ut+1}for(let it=nt;it<256;it++)B[it]=B[nt-1];return B.join(",")},C=`g_${h(this,ta)}_hcm_${e}_filter`,M=p.filter=w(this,ct,tc).call(this,C);return w(this,ct,Kb).call(this,M),w(this,ct,wh).call(this,T(S[0],_[0],5),T(S[1],_[1],5),T(S[2],_[2],5),M),p.url=w(this,ct,Jl).call(this,C),p.url}destroy(e=!1){e&&h(this,ct,Ql).size!==0||(h(this,ms)&&(h(this,ms).parentNode.parentNode.remove(),E(this,ms,null)),h(this,wo)&&(h(this,wo).clear(),E(this,wo,null)),E(this,To,0))}}Eo=new WeakMap,wo=new WeakMap,ms=new WeakMap,ta=new WeakMap,gn=new WeakMap,bg=new WeakMap,To=new WeakMap,ct=new WeakSet,fn=function(){return h(this,wo)||E(this,wo,new Map)},Ql=function(){return h(this,bg)||E(this,bg,new Map)},Zl=function(){if(!h(this,ms)){const e=h(this,gn).createElement("div"),{style:s}=e;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const r=h(this,gn).createElementNS(Xs,"svg");r.setAttribute("width",0),r.setAttribute("height",0),E(this,ms,h(this,gn).createElementNS(Xs,"defs")),e.append(r),r.append(h(this,ms)),h(this,gn).body.append(e)}return h(this,ms)},Fp=function(e){if(e.length===1){const g=e[0],m=new Array(256);for(let v=0;v<256;v++)m[v]=g[v]/255;const b=m.join(",");return[b,b,b]}const[s,r,o]=e,c=new Array(256),d=new Array(256),p=new Array(256);for(let g=0;g<256;g++)c[g]=s[g]/255,d[g]=r[g]/255,p[g]=o[g]/255;return[c.join(","),d.join(","),p.join(",")]},Jl=function(e){if(h(this,Eo)===void 0){E(this,Eo,"");const s=h(this,gn).URL;s!==h(this,gn).baseURI&&(Bg(s)?jt('#createUrl: ignore "data:"-URL for performance reasons.'):E(this,Eo,s.split("#",1)[0]))}return`url(${h(this,Eo)}#${e})`},t1=function(e){const s=h(this,gn).createElementNS(Xs,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(s)},Kb=function(e){const s=h(this,gn).createElementNS(Xs,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(s)},tc=function(e){const s=h(this,gn).createElementNS(Xs,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",e),h(this,ct,Zl).append(s),s},Eh=function(e,s,r){const o=h(this,gn).createElementNS(Xs,s);o.setAttribute("type","discrete"),o.setAttribute("tableValues",r),e.append(o)},wh=function(e,s,r,o){const c=h(this,gn).createElementNS(Xs,"feComponentTransfer");o.append(c),w(this,ct,Eh).call(this,c,"feFuncR",e),w(this,ct,Eh).call(this,c,"feFuncG",s),w(this,ct,Eh).call(this,c,"feFuncB",r)},$b=function(e,s){const r=h(this,gn).createElementNS(Xs,"feComponentTransfer");s.append(r),w(this,ct,Eh).call(this,r,"feFuncA",e)},Th=function(e){return h(this,ct,Zl).style.color=e,Zv(getComputedStyle(h(this,ct,Zl)).getPropertyValue("color"))};class e1{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(s=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){he("Abstract method `_fetch` called.")}}class n1 extends e1{async _fetch(t){const e=await Ug(t,"arraybuffer");return new Uint8Array(e)}}if(An){var Wb=Promise.withResolvers(),Ph=null;(async()=>{const t=await vp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await vp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await vp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await vp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let o,c;return new Map(Object.entries({fs:t,http:e,https:s,url:r,canvas:o,path2d:c}))})().then(t=>{Ph=t,Wb.resolve()},t=>{jt(`loadPackages: ${t}`),Ph=new Map,Wb.resolve()})}class xr{static get promise(){return Wb.promise}static get(t){return Ph==null?void 0:Ph.get(t)}}async function i1(u){const e=await xr.get("fs").promises.readFile(u);return new Uint8Array(e)}class DD extends Jw{}class OD extends Ww{_createCanvas(t,e){return xr.get("canvas").createCanvas(t,e)}}class LD extends Qw{async _fetch(t){return i1(t)}}class ND extends e1{async _fetch(t){return i1(t)}}const xn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Qb(u,t){if(!t)return;const e=t[2]-t[0],s=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,s),u.clip(r)}class t0{getPattern(){he("Abstract method `getPattern` called.")}}class kD extends t0{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)e.addColorStop(s[0],s[1]);return e}getPattern(t,e,s,r){let o;if(r===xn.STROKE||r===xn.FILL){const c=e.current.getClippedPathBoundingBox(r,be(t))||[0,0,0,0],d=Math.ceil(c[2]-c[0])||1,p=Math.ceil(c[3]-c[1])||1,g=e.cachedCanvases.getCanvas("pattern",d,p),m=g.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-c[0],-c[1]),s=bt.transform(s,[1,0,0,1,c[0],c[1]]),m.transform(...e.baseTransform),this.matrix&&m.transform(...this.matrix),Qb(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),o=t.createPattern(g.canvas,"no-repeat");const b=new DOMMatrix(s);o.setTransform(b)}else Qb(t,this._bbox),o=this._createGradient(t);return o}}function pb(u,t,e,s,r,o,c,d){const p=t.coords,g=t.colors,m=u.data,b=u.width*4;let v;p[e+1]>p[s+1]&&(v=e,e=s,s=v,v=o,o=c,c=v),p[s+1]>p[r+1]&&(v=s,s=r,r=v,v=c,c=d,d=v),p[e+1]>p[s+1]&&(v=e,e=s,s=v,v=o,o=c,c=v);const S=(p[e]+t.offsetX)*t.scaleX,_=(p[e+1]+t.offsetY)*t.scaleY,T=(p[s]+t.offsetX)*t.scaleX,C=(p[s+1]+t.offsetY)*t.scaleY,M=(p[r]+t.offsetX)*t.scaleX,O=(p[r+1]+t.offsetY)*t.scaleY;if(_>=O)return;const k=g[o],H=g[o+1],j=g[o+2],B=g[c],I=g[c+1],X=g[c+2],G=g[d],nt=g[d+1],it=g[d+2],ut=Math.round(_),ht=Math.round(O);let dt,mt,K,W,tt,Tt,L,Q;for(let lt=ut;lt<=ht;lt++){if(lt<C){const Et=lt<_?0:(_-lt)/(_-C);dt=S-(S-T)*Et,mt=k-(k-B)*Et,K=H-(H-I)*Et,W=j-(j-X)*Et}else{let Et;lt>O?Et=1:C===O?Et=0:Et=(C-lt)/(C-O),dt=T-(T-M)*Et,mt=B-(B-G)*Et,K=I-(I-nt)*Et,W=X-(X-it)*Et}let at;lt<_?at=0:lt>O?at=1:at=(_-lt)/(_-O),tt=S-(S-M)*at,Tt=k-(k-G)*at,L=H-(H-nt)*at,Q=j-(j-it)*at;const st=Math.round(Math.min(dt,tt)),_t=Math.round(Math.max(dt,tt));let pt=b*lt+st*4;for(let Et=st;Et<=_t;Et++)at=(dt-Et)/(dt-tt),at<0?at=0:at>1&&(at=1),m[pt++]=mt-(mt-Tt)*at|0,m[pt++]=K-(K-L)*at|0,m[pt++]=W-(W-Q)*at|0,m[pt++]=255}}function FD(u,t,e){const s=t.coords,r=t.colors;let o,c;switch(t.type){case"lattice":const d=t.verticesPerRow,p=Math.floor(s.length/d)-1,g=d-1;for(o=0;o<p;o++){let m=o*d;for(let b=0;b<g;b++,m++)pb(u,e,s[m],s[m+1],s[m+d],r[m],r[m+1],r[m+d]),pb(u,e,s[m+d+1],s[m+1],s[m+d],r[m+d+1],r[m+1],r[m+d])}break;case"triangles":for(o=0,c=s.length;o<c;o+=3)pb(u,e,s[o],s[o+1],s[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class PD extends t0{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,s){const d=Math.floor(this._bounds[0]),p=Math.floor(this._bounds[1]),g=Math.ceil(this._bounds[2])-d,m=Math.ceil(this._bounds[3])-p,b=Math.min(Math.ceil(Math.abs(g*t[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(m*t[1]*1.1)),3e3),S=g/b,_=m/v,T={coords:this._coords,colors:this._colors,offsetX:-d,offsetY:-p,scaleX:1/S,scaleY:1/_},C=b+2*2,M=v+2*2,O=s.getCanvas("mesh",C,M),k=O.context,H=k.createImageData(b,v);if(e){const B=H.data;for(let I=0,X=B.length;I<X;I+=4)B[I]=e[0],B[I+1]=e[1],B[I+2]=e[2],B[I+3]=255}for(const B of this._figures)FD(H,B,T);return k.putImageData(H,2,2),{canvas:O.canvas,offsetX:d-2*S,offsetY:p-2*_,scaleX:S,scaleY:_}}getPattern(t,e,s,r){Qb(t,this._bbox);let o;if(r===xn.SHADING)o=bt.singularValueDecompose2dScale(be(t));else if(o=bt.singularValueDecompose2dScale(e.baseTransform),this.matrix){const d=bt.singularValueDecompose2dScale(this.matrix);o=[o[0]*d[0],o[1]*d[1]]}const c=this._createMeshCanvas(o,r===xn.SHADING?null:this._background,e.cachedCanvases);return r!==xn.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class HD extends t0{getPattern(){return"hotpink"}}function jD(u){switch(u[0]){case"RadialAxial":return new kD(u);case"Mesh":return new PD(u);case"Dummy":return new HD}throw new Error(`Unknown IR type: ${u[0]}`)}const _E={COLORED:1,UNCOLORED:2},vg=class vg{constructor(t,e,s,r,o){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=s,this.canvasGraphicsFactory=r,this.baseTransform=o}createPatternCanvas(t){const{bbox:e,operatorList:s,paintType:r,tilingType:o,color:c,canvasGraphicsFactory:d}=this;let{xstep:p,ystep:g}=this;p=Math.abs(p),g=Math.abs(g),Hg("TilingType: "+o);const m=e[0],b=e[1],v=e[2],S=e[3],_=v-m,T=S-b,C=bt.singularValueDecompose2dScale(this.matrix),M=bt.singularValueDecompose2dScale(this.baseTransform),O=C[0]*M[0],k=C[1]*M[1];let H=_,j=T,B=!1,I=!1;const X=Math.ceil(p*O),G=Math.ceil(g*k),nt=Math.ceil(_*O),it=Math.ceil(T*k);X>=nt?H=p:B=!0,G>=it?j=g:I=!0;const ut=this.getSizeAndScale(H,this.ctx.canvas.width,O),ht=this.getSizeAndScale(j,this.ctx.canvas.height,k),dt=t.cachedCanvases.getCanvas("pattern",ut.size,ht.size),mt=dt.context,K=d.createCanvasGraphics(mt);if(K.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(K,r,c),mt.translate(-ut.scale*m,-ht.scale*b),K.transform(ut.scale,0,0,ht.scale,0,0),mt.save(),this.clipBbox(K,m,b,v,S),K.baseTransform=be(K.ctx),K.executeOperatorList(s),K.endDrawing(),mt.restore(),B||I){const W=dt.canvas;B&&(H=p),I&&(j=g);const tt=this.getSizeAndScale(H,this.ctx.canvas.width,O),Tt=this.getSizeAndScale(j,this.ctx.canvas.height,k),L=tt.size,Q=Tt.size,lt=t.cachedCanvases.getCanvas("pattern-workaround",L,Q),at=lt.context,st=B?Math.floor(_/p):0,_t=I?Math.floor(T/g):0;for(let pt=0;pt<=st;pt++)for(let Et=0;Et<=_t;Et++)at.drawImage(W,L*pt,Q*Et,L,Q,0,0,L,Q);return{canvas:lt.canvas,scaleX:tt.scale,scaleY:Tt.scale,offsetX:m,offsetY:b}}return{canvas:dt.canvas,scaleX:ut.scale,scaleY:ht.scale,offsetX:m,offsetY:b}}getSizeAndScale(t,e,s){const r=Math.max(vg.MAX_PATTERN_SIZE,e);let o=Math.ceil(t*s);return o>=r?o=r:s=o/t,{scale:s,size:o}}clipBbox(t,e,s,r,o){const c=r-e,d=o-s;t.ctx.rect(e,s,c,d),t.current.updateRectMinMax(be(t.ctx),[e,s,r,o]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,s){const r=t.ctx,o=t.current;switch(e){case _E.COLORED:const c=this.ctx;r.fillStyle=c.fillStyle,r.strokeStyle=c.strokeStyle,o.fillColor=c.fillStyle,o.strokeColor=c.strokeStyle;break;case _E.UNCOLORED:const d=bt.makeHexColor(s[0],s[1],s[2]);r.fillStyle=d,r.strokeStyle=d,o.fillColor=d,o.strokeColor=d;break;default:throw new cD(`Unsupported paint type: ${e}`)}}getPattern(t,e,s,r){let o=s;r!==xn.SHADING&&(o=bt.transform(o,e.baseTransform),this.matrix&&(o=bt.transform(o,this.matrix)));const c=this.createPatternCanvas(e);let d=new DOMMatrix(o);d=d.translate(c.offsetX,c.offsetY),d=d.scale(1/c.scaleX,1/c.scaleY);const p=t.createPattern(c.canvas,"repeat");return p.setTransform(d),p}};xt(vg,"MAX_PATTERN_SIZE",3e3);let Zb=vg;function zD({src:u,srcPos:t=0,dest:e,width:s,height:r,nonBlackColor:o=4294967295,inverseDecode:c=!1}){const d=Rn.isLittleEndian?4278190080:255,[p,g]=c?[o,d]:[d,o],m=s>>3,b=s&7,v=u.length;e=new Uint32Array(e.buffer);let S=0;for(let _=0;_<r;_++){for(const C=t+m;t<C;t++){const M=t<v?u[t]:255;e[S++]=M&128?g:p,e[S++]=M&64?g:p,e[S++]=M&32?g:p,e[S++]=M&16?g:p,e[S++]=M&8?g:p,e[S++]=M&4?g:p,e[S++]=M&2?g:p,e[S++]=M&1?g:p}if(b===0)continue;const T=t<v?u[t++]:255;for(let C=0;C<b;C++)e[S++]=T&1<<7-C?g:p}return{srcPos:t,destPos:S}}const EE=16,wE=100,UD=15,TE=10,xE=1e3,zn=16;function BD(u,t){if(u._removeMirroring)throw new Error("Context is already forwarding operations.");u.__originalSave=u.save,u.__originalRestore=u.restore,u.__originalRotate=u.rotate,u.__originalScale=u.scale,u.__originalTranslate=u.translate,u.__originalTransform=u.transform,u.__originalSetTransform=u.setTransform,u.__originalResetTransform=u.resetTransform,u.__originalClip=u.clip,u.__originalMoveTo=u.moveTo,u.__originalLineTo=u.lineTo,u.__originalBezierCurveTo=u.bezierCurveTo,u.__originalRect=u.rect,u.__originalClosePath=u.closePath,u.__originalBeginPath=u.beginPath,u._removeMirroring=()=>{u.save=u.__originalSave,u.restore=u.__originalRestore,u.rotate=u.__originalRotate,u.scale=u.__originalScale,u.translate=u.__originalTranslate,u.transform=u.__originalTransform,u.setTransform=u.__originalSetTransform,u.resetTransform=u.__originalResetTransform,u.clip=u.__originalClip,u.moveTo=u.__originalMoveTo,u.lineTo=u.__originalLineTo,u.bezierCurveTo=u.__originalBezierCurveTo,u.rect=u.__originalRect,u.closePath=u.__originalClosePath,u.beginPath=u.__originalBeginPath,delete u._removeMirroring},u.save=function(){t.save(),this.__originalSave()},u.restore=function(){t.restore(),this.__originalRestore()},u.translate=function(s,r){t.translate(s,r),this.__originalTranslate(s,r)},u.scale=function(s,r){t.scale(s,r),this.__originalScale(s,r)},u.transform=function(s,r,o,c,d,p){t.transform(s,r,o,c,d,p),this.__originalTransform(s,r,o,c,d,p)},u.setTransform=function(s,r,o,c,d,p){t.setTransform(s,r,o,c,d,p),this.__originalSetTransform(s,r,o,c,d,p)},u.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},u.rotate=function(s){t.rotate(s),this.__originalRotate(s)},u.clip=function(s){t.clip(s),this.__originalClip(s)},u.moveTo=function(e,s){t.moveTo(e,s),this.__originalMoveTo(e,s)},u.lineTo=function(e,s){t.lineTo(e,s),this.__originalLineTo(e,s)},u.bezierCurveTo=function(e,s,r,o,c,d){t.bezierCurveTo(e,s,r,o,c,d),this.__originalBezierCurveTo(e,s,r,o,c,d)},u.rect=function(e,s,r,o){t.rect(e,s,r,o),this.__originalRect(e,s,r,o)},u.closePath=function(){t.closePath(),this.__originalClosePath()},u.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class ID{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,s){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,s)):(r=this.canvasFactory.create(e,s),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Ap(u,t,e,s,r,o,c,d,p,g){const[m,b,v,S,_,T]=be(u);if(b===0&&v===0){const O=c*m+_,k=Math.round(O),H=d*S+T,j=Math.round(H),B=(c+p)*m+_,I=Math.abs(Math.round(B)-k)||1,X=(d+g)*S+T,G=Math.abs(Math.round(X)-j)||1;return u.setTransform(Math.sign(m),0,0,Math.sign(S),k,j),u.drawImage(t,e,s,r,o,0,0,I,G),u.setTransform(m,b,v,S,_,T),[I,G]}if(m===0&&S===0){const O=d*v+_,k=Math.round(O),H=c*b+T,j=Math.round(H),B=(d+g)*v+_,I=Math.abs(Math.round(B)-k)||1,X=(c+p)*b+T,G=Math.abs(Math.round(X)-j)||1;return u.setTransform(0,Math.sign(b),Math.sign(v),0,k,j),u.drawImage(t,e,s,r,o,0,0,G,I),u.setTransform(m,b,v,S,_,T),[G,I]}u.drawImage(t,e,s,r,o,c,d,p,g);const C=Math.hypot(m,b),M=Math.hypot(v,S);return[C*p,M*g]}function qD(u){const{width:t,height:e}=u;if(t>xE||e>xE)return null;const s=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=t+1;let c=new Uint8Array(o*(e+1)),d,p,g;const m=t+7&-8;let b=new Uint8Array(m*e),v=0;for(const M of u.data){let O=128;for(;O>0;)b[v++]=M&O?0:255,O>>=1}let S=0;for(v=0,b[v]!==0&&(c[0]=1,++S),p=1;p<t;p++)b[v]!==b[v+1]&&(c[p]=b[v]?2:1,++S),v++;for(b[v]!==0&&(c[p]=2,++S),d=1;d<e;d++){v=d*m,g=d*o,b[v-m]!==b[v]&&(c[g]=b[v]?1:8,++S);let M=(b[v]?4:0)+(b[v-m]?8:0);for(p=1;p<t;p++)M=(M>>2)+(b[v+1]?4:0)+(b[v-m+1]?8:0),r[M]&&(c[g+p]=r[M],++S),v++;if(b[v-m]!==b[v]&&(c[g+p]=b[v]?2:4,++S),S>s)return null}for(v=m*(e-1),g=d*o,b[v]!==0&&(c[g]=8,++S),p=1;p<t;p++)b[v]!==b[v+1]&&(c[g+p]=b[v]?4:8,++S),v++;if(b[v]!==0&&(c[g+p]=4,++S),S>s)return null;const _=new Int32Array([0,o,-1,0,-o,0,0,0,1]),T=new Path2D;for(d=0;S&&d<=e;d++){let M=d*o;const O=M+t;for(;M<O&&!c[M];)M++;if(M===O)continue;T.moveTo(M%o,d);const k=M;let H=c[M];do{const j=_[H];do M+=j;while(!c[M]);const B=c[M];B!==5&&B!==10?(H=B,c[M]=0):(H=B&51*H>>4,c[M]&=H>>2|H<<2),T.lineTo(M%o,M/o|0),c[M]||--S}while(k!==M);--d}return b=null,c=null,function(M){M.save(),M.scale(1/t,-1/e),M.translate(0,-e),M.fill(T),M.beginPath(),M.restore()}}class RE{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Aw,this.textMatrixScale=1,this.fontMatrix=wb,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=dn.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,s){[e,s]=bt.applyTransform([e,s],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(t,e){const s=bt.applyTransform(e,t),r=bt.applyTransform(e.slice(2),t),o=bt.applyTransform([e[0],e[3]],t),c=bt.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,s[0],r[0],o[0],c[0]),this.minY=Math.min(this.minY,s[1],r[1],o[1],c[1]),this.maxX=Math.max(this.maxX,s[0],r[0],o[0],c[0]),this.maxY=Math.max(this.maxY,s[1],r[1],o[1],c[1])}updateScalingPathMinMax(t,e){bt.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,s,r,o,c,d,p,g,m){const b=bt.bezierBoundingBox(e,s,r,o,c,d,p,g,m);m||this.updateRectMinMax(t,b)}getPathBoundingBox(t=xn.FILL,e=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(t===xn.STROKE){e||he("Stroke bounding box must include transform.");const r=bt.singularValueDecompose2dScale(e),o=r[0]*this.lineWidth/2,c=r[1]*this.lineWidth/2;s[0]-=o,s[1]-=c,s[2]+=o,s[3]+=c}return s}updateClipFromPath(){const t=bt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=xn.FILL,e=null){return bt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function CE(u,t){if(typeof ImageData<"u"&&t instanceof ImageData){u.putImageData(t,0,0);return}const e=t.height,s=t.width,r=e%zn,o=(e-r)/zn,c=r===0?o:o+1,d=u.createImageData(s,zn);let p=0,g;const m=t.data,b=d.data;let v,S,_,T;if(t.kind===Cp.GRAYSCALE_1BPP){const C=m.byteLength,M=new Uint32Array(b.buffer,0,b.byteLength>>2),O=M.length,k=s+7>>3,H=4294967295,j=Rn.isLittleEndian?4278190080:255;for(v=0;v<c;v++){for(_=v<o?zn:r,g=0,S=0;S<_;S++){const B=C-p;let I=0;const X=B>k?s:B*8-7,G=X&-8;let nt=0,it=0;for(;I<G;I+=8)it=m[p++],M[g++]=it&128?H:j,M[g++]=it&64?H:j,M[g++]=it&32?H:j,M[g++]=it&16?H:j,M[g++]=it&8?H:j,M[g++]=it&4?H:j,M[g++]=it&2?H:j,M[g++]=it&1?H:j;for(;I<X;I++)nt===0&&(it=m[p++],nt=128),M[g++]=it&nt?H:j,nt>>=1}for(;g<O;)M[g++]=0;u.putImageData(d,0,v*zn)}}else if(t.kind===Cp.RGBA_32BPP){for(S=0,T=s*zn*4,v=0;v<o;v++)b.set(m.subarray(p,p+T)),p+=T,u.putImageData(d,0,S),S+=zn;v<c&&(T=s*r*4,b.set(m.subarray(p,p+T)),u.putImageData(d,0,S))}else if(t.kind===Cp.RGB_24BPP)for(_=zn,T=s*_,v=0;v<c;v++){for(v>=o&&(_=r,T=s*_),g=0,S=T;S--;)b[g++]=m[p++],b[g++]=m[p++],b[g++]=m[p++],b[g++]=255;u.putImageData(d,0,v*zn)}else throw new Error(`bad image kind: ${t.kind}`)}function ME(u,t){if(t.bitmap){u.drawImage(t.bitmap,0,0);return}const e=t.height,s=t.width,r=e%zn,o=(e-r)/zn,c=r===0?o:o+1,d=u.createImageData(s,zn);let p=0;const g=t.data,m=d.data;for(let b=0;b<c;b++){const v=b<o?zn:r;({srcPos:p}=zD({src:g,srcPos:p,dest:m,width:s,height:v,nonBlackColor:0})),u.putImageData(d,0,b*zn)}}function yh(u,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of e)u[s]!==void 0&&(t[s]=u[s]);u.setLineDash!==void 0&&(t.setLineDash(u.getLineDash()),t.lineDashOffset=u.lineDashOffset)}function Sp(u){if(u.strokeStyle=u.fillStyle="#000000",u.fillRule="nonzero",u.globalAlpha=1,u.lineWidth=1,u.lineCap="butt",u.lineJoin="miter",u.miterLimit=10,u.globalCompositeOperation="source-over",u.font="10px sans-serif",u.setLineDash!==void 0&&(u.setLineDash([]),u.lineDashOffset=0),!An){const{filter:t}=u;t!=="none"&&t!==""&&(u.filter="none")}}function DE(u,t){if(t)return!0;const e=bt.singularValueDecompose2dScale(u);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*Tr.PDF_TO_CSS_UNITS);return e[0]<=s&&e[1]<=s}const GD=["butt","round","square"],VD=["miter","round","bevel"],XD={},OE={};var Cr,Jb,tv;const l0=class l0{constructor(t,e,s,r,o,{optionalContentConfig:c,markedContentStack:d=null},p,g){x(this,Cr);this.ctx=t,this.current=new RE(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=s,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=c,this.cachedCanvases=new ID(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=p,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=g,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:s=!1,background:r=null}){const o=this.ctx.canvas.width,c=this.ctx.canvas.height,d=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,c),this.ctx.fillStyle=d,s){const p=this.cachedCanvases.getCanvas("transparent",o,c);this.compositeCtx=this.ctx,this.transparentCanvas=p.canvas,this.ctx=p.context,this.ctx.save(),this.ctx.transform(...be(this.compositeCtx))}this.ctx.save(),Sp(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=be(this.ctx)}executeOperatorList(t,e,s,r){const o=t.argsArray,c=t.fnArray;let d=e||0;const p=o.length;if(p===d)return d;const g=p-d>TE&&typeof s=="function",m=g?Date.now()+UD:0;let b=0;const v=this.commonObjs,S=this.objs;let _;for(;;){if(r!==void 0&&d===r.nextBreakPoint)return r.breakIt(d,s),d;if(_=c[d],_!==Pi.dependency)this[_].apply(this,o[d]);else for(const T of o[d]){const C=T.startsWith("g_")?v:S;if(!C.has(T))return C.get(T,s),d}if(d++,d===p)return d;if(g&&++b>TE){if(Date.now()>m)return s(),d;b=0}}}endDrawing(){w(this,Cr,Jb).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),w(this,Cr,tv).call(this)}_scaleImage(t,e){const s=t.width??t.displayWidth,r=t.height??t.displayHeight;let o=Math.max(Math.hypot(e[0],e[1]),1),c=Math.max(Math.hypot(e[2],e[3]),1),d=s,p=r,g="prescale1",m,b;for(;o>2&&d>1||c>2&&p>1;){let v=d,S=p;o>2&&d>1&&(v=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),o/=d/v),c>2&&p>1&&(S=p>=16384?Math.floor(p/2)-1||1:Math.ceil(p)/2,c/=p/S),m=this.cachedCanvases.getCanvas(g,v,S),b=m.context,b.clearRect(0,0,v,S),b.drawImage(t,0,0,d,p,0,0,v,S),t=m.canvas,d=v,p=S,g=g==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:d,paintHeight:p}}_createMaskCanvas(t){const e=this.ctx,{width:s,height:r}=t,o=this.current.fillColor,c=this.current.patternFill,d=be(e);let p,g,m,b;if((t.bitmap||t.data)&&t.count>1){const X=t.bitmap||t.data.buffer;g=JSON.stringify(c?d:[d.slice(0,4),o]),p=this._cachedBitmapsMap.get(X),p||(p=new Map,this._cachedBitmapsMap.set(X,p));const G=p.get(g);if(G&&!c){const nt=Math.round(Math.min(d[0],d[2])+d[4]),it=Math.round(Math.min(d[1],d[3])+d[5]);return{canvas:G,offsetX:nt,offsetY:it}}m=G}m||(b=this.cachedCanvases.getCanvas("maskCanvas",s,r),ME(b.context,t));let v=bt.transform(d,[1/s,0,0,-1/r,0,0]);v=bt.transform(v,[1,0,0,1,0,-r]);const[S,_,T,C]=bt.getAxialAlignedBoundingBox([0,0,s,r],v),M=Math.round(T-S)||1,O=Math.round(C-_)||1,k=this.cachedCanvases.getCanvas("fillCanvas",M,O),H=k.context,j=S,B=_;H.translate(-j,-B),H.transform(...v),m||(m=this._scaleImage(b.canvas,Vs(H)),m=m.img,p&&c&&p.set(g,m)),H.imageSmoothingEnabled=DE(be(H),t.interpolate),Ap(H,m,0,0,m.width,m.height,0,0,s,r),H.globalCompositeOperation="source-in";const I=bt.transform(Vs(H),[1,0,0,1,-j,-B]);return H.fillStyle=c?o.getPattern(e,this,I,xn.FILL):o,H.fillRect(0,0,s,r),p&&!c&&(this.cachedCanvases.delete("fillCanvas"),p.set(g,k.canvas)),{canvas:k.canvas,offsetX:Math.round(j),offsetY:Math.round(B)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=GD[t]}setLineJoin(t){this.ctx.lineJoin=VD[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(t),s.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,s]of t)switch(e){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.current.fillAlpha=s,this.ctx.globalAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(s,t,e);this.suspendedCtx=this.ctx,this.ctx=r.context;const o=this.ctx;o.setTransform(...be(this.suspendedCtx)),yh(this.suspendedCtx,o),BD(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),yh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,s,r){const o=r[0],c=r[1],d=r[2]-o,p=r[3]-c;d===0||p===0||(this.genericComposeSMask(e.context,s,d,p,e.subtype,e.backdrop,e.transferMap,o,c,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(s.canvas,0,0),t.restore())}genericComposeSMask(t,e,s,r,o,c,d,p,g,m,b){let v=t.canvas,S=p-m,_=g-b;if(c){const C=bt.makeHexColor(...c);if(S<0||_<0||S+s>v.width||_+r>v.height){const M=this.cachedCanvases.getCanvas("maskExtension",s,r),O=M.context;O.drawImage(v,-S,-_),O.globalCompositeOperation="destination-atop",O.fillStyle=C,O.fillRect(0,0,s,r),O.globalCompositeOperation="source-over",v=M.canvas,S=_=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const M=new Path2D;M.rect(S,_,s,r),t.clip(M),t.globalCompositeOperation="destination-atop",t.fillStyle=C,t.fillRect(S,_,s,r),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),o==="Alpha"&&d?e.filter=this.filterFactory.addAlphaFilter(d):o==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(d));const T=new Path2D;T.rect(p,g,s,r),e.clip(T),e.globalCompositeOperation="destination-in",e.drawImage(v,S,_,s,r,p,g,s,r),e.restore()}save(){this.inSMaskMode?(yh(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),yh(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,s,r,o,c){this.ctx.transform(t,e,s,r,o,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,s){const r=this.ctx,o=this.current;let c=o.x,d=o.y,p,g;const m=be(r),b=m[0]===0&&m[3]===0||m[1]===0&&m[2]===0,v=b?s.slice(0):null;for(let S=0,_=0,T=t.length;S<T;S++)switch(t[S]|0){case Pi.rectangle:c=e[_++],d=e[_++];const C=e[_++],M=e[_++],O=c+C,k=d+M;r.moveTo(c,d),C===0||M===0?r.lineTo(O,k):(r.lineTo(O,d),r.lineTo(O,k),r.lineTo(c,k)),b||o.updateRectMinMax(m,[c,d,O,k]),r.closePath();break;case Pi.moveTo:c=e[_++],d=e[_++],r.moveTo(c,d),b||o.updatePathMinMax(m,c,d);break;case Pi.lineTo:c=e[_++],d=e[_++],r.lineTo(c,d),b||o.updatePathMinMax(m,c,d);break;case Pi.curveTo:p=c,g=d,c=e[_+4],d=e[_+5],r.bezierCurveTo(e[_],e[_+1],e[_+2],e[_+3],c,d),o.updateCurvePathMinMax(m,p,g,e[_],e[_+1],e[_+2],e[_+3],c,d,v),_+=6;break;case Pi.curveTo2:p=c,g=d,r.bezierCurveTo(c,d,e[_],e[_+1],e[_+2],e[_+3]),o.updateCurvePathMinMax(m,p,g,c,d,e[_],e[_+1],e[_+2],e[_+3],v),c=e[_+2],d=e[_+3],_+=4;break;case Pi.curveTo3:p=c,g=d,c=e[_+2],d=e[_+3],r.bezierCurveTo(e[_],e[_+1],c,d,c,d),o.updateCurvePathMinMax(m,p,g,e[_],e[_+1],c,d,c,d,v),_+=4;break;case Pi.closePath:r.closePath();break}b&&o.updateScalingPathMinMax(m,v),o.setCurrentPoint(c,d)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,s=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof s=="object"&&(s!=null&&s.getPattern)?(e.save(),e.strokeStyle=s.getPattern(e,this,Vs(e),xn.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,s=this.current.fillColor,r=this.current.patternFill;let o=!1;r&&(e.save(),e.fillStyle=s.getPattern(e,this,Vs(e),xn.FILL),o=!0);const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),o&&e.restore(),t&&this.consumePath(c)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=XD}eoClip(){this.pendingClip=OE}beginText(){this.current.textMatrix=Aw,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const s of t)e.setTransform(...s.transform),e.translate(s.x,s.y),s.addToPath(e,s.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var m;const s=this.commonObjs.get(t),r=this.current;if(!s)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=s.fontMatrix||wb,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&jt("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=e,s.isType3Font)return;const o=s.loadedName||"sans-serif",c=((m=s.systemFontInfo)==null?void 0:m.css)||`"${o}", ${s.fallbackName}`;let d="normal";s.black?d="900":s.bold&&(d="bold");const p=s.italic?"italic":"normal";let g=e;e<EE?g=EE:e>wE&&(g=wE),this.current.fontSizeScale=e/g,this.ctx.font=`${p} ${d} ${g}px ${c}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,s,r,o,c){this.current.textMatrix=[t,e,s,r,o,c],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,s,r){const o=this.ctx,c=this.current,d=c.font,p=c.textRenderingMode,g=c.fontSize/c.fontSizeScale,m=p&dn.FILL_STROKE_MASK,b=!!(p&dn.ADD_TO_PATH_FLAG),v=c.patternFill&&!d.missingFile;let S;(d.disableFontFace||b||v)&&(S=d.getPathGenerator(this.commonObjs,t)),d.disableFontFace||v?(o.save(),o.translate(e,s),o.beginPath(),S(o,g),r&&o.setTransform(...r),(m===dn.FILL||m===dn.FILL_STROKE)&&o.fill(),(m===dn.STROKE||m===dn.FILL_STROKE)&&o.stroke(),o.restore()):((m===dn.FILL||m===dn.FILL_STROKE)&&o.fillText(t,e,s),(m===dn.STROKE||m===dn.FILL_STROKE)&&o.strokeText(t,e,s)),b&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:be(o),x:e,y:s,fontSize:g,addToPath:S})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let s=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){s=!0;break}return Gt(this,"isFontSubpixelAAEnabled",s)}showText(t){const e=this.current,s=e.font;if(s.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const o=this.ctx,c=e.fontSizeScale,d=e.charSpacing,p=e.wordSpacing,g=e.fontDirection,m=e.textHScale*g,b=t.length,v=s.vertical,S=v?1:-1,_=s.defaultVMetrics,T=r*e.fontMatrix[0],C=e.textRenderingMode===dn.FILL&&!s.disableFontFace&&!e.patternFill;o.save(),o.transform(...e.textMatrix),o.translate(e.x,e.y+e.textRise),g>0?o.scale(m,-1):o.scale(m,1);let M;if(e.patternFill){o.save();const B=e.fillColor.getPattern(o,this,Vs(o),xn.FILL);M=be(o),o.restore(),o.fillStyle=B}let O=e.lineWidth;const k=e.textMatrixScale;if(k===0||O===0){const B=e.textRenderingMode&dn.FILL_STROKE_MASK;(B===dn.STROKE||B===dn.FILL_STROKE)&&(O=this.getSinglePixelWidth())}else O/=k;if(c!==1&&(o.scale(c,c),O/=c),o.lineWidth=O,s.isInvalidPDFjsFont){const B=[];let I=0;for(const X of t)B.push(X.unicode),I+=X.width;o.fillText(B.join(""),0,0),e.x+=I*T*m,o.restore(),this.compose();return}let H=0,j;for(j=0;j<b;++j){const B=t[j];if(typeof B=="number"){H+=S*B*r/1e3;continue}let I=!1;const X=(B.isSpace?p:0)+d,G=B.fontChar,nt=B.accent;let it,ut,ht=B.width;if(v){const mt=B.vmetric||_,K=-(B.vmetric?mt[1]:ht*.5)*T,W=mt[2]*T;ht=mt?-mt[0]:ht,it=K/c,ut=(H+W)/c}else it=H/c,ut=0;if(s.remeasure&&ht>0){const mt=o.measureText(G).width*1e3/r*c;if(ht<mt&&this.isFontSubpixelAAEnabled){const K=ht/mt;I=!0,o.save(),o.scale(K,1),it/=K}else ht!==mt&&(it+=(ht-mt)/2e3*r/c)}if(this.contentVisible&&(B.isInFont||s.missingFile)){if(C&&!nt)o.fillText(G,it,ut);else if(this.paintChar(G,it,ut,M),nt){const mt=it+r*nt.offset.x/c,K=ut-r*nt.offset.y/c;this.paintChar(nt.fontChar,mt,K,M)}}const dt=v?ht*T-X*g:ht*T+X*g;H+=dt,I&&o.restore()}v?e.y-=H:e.x+=H*m,o.restore(),this.compose()}showType3Text(t){const e=this.ctx,s=this.current,r=s.font,o=s.fontSize,c=s.fontDirection,d=r.vertical?1:-1,p=s.charSpacing,g=s.wordSpacing,m=s.textHScale*c,b=s.fontMatrix||wb,v=t.length,S=s.textRenderingMode===dn.INVISIBLE;let _,T,C,M;if(!(S||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...s.textMatrix),e.translate(s.x,s.y),e.scale(m,c),_=0;_<v;++_){if(T=t[_],typeof T=="number"){M=d*T*o/1e3,this.ctx.translate(M,0),s.x+=M*m;continue}const O=(T.isSpace?g:0)+p,k=r.charProcOperatorList[T.operatorListId];if(!k){jt(`Type3 character "${T.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=T,this.save(),e.scale(o,o),e.transform(...b),this.executeOperatorList(k),this.restore()),C=bt.applyTransform([T.width,0],b)[0]*o+O,e.translate(C,0),s.x+=C*m}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,s,r,o,c){this.ctx.rect(s,r,o-s,c-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const s=t[1],r=this.baseTransform||be(this.ctx),o={createCanvasGraphics:c=>new l0(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Zb(t,s,this.ctx,o,r)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,s){this.ctx.strokeStyle=this.current.strokeColor=bt.makeHexColor(t,e,s)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,s){this.ctx.fillStyle=this.current.fillColor=bt.makeHexColor(t,e,s),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let s;return this.cachedPatterns.has(t)?s=this.cachedPatterns.get(t):(s=jD(this.getObject(t)),this.cachedPatterns.set(t,s)),e&&(s.matrix=e),s}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const s=this._getPattern(t);e.fillStyle=s.getPattern(e,this,Vs(e),xn.SHADING);const r=Vs(e);if(r){const{width:o,height:c}=e.canvas,[d,p,g,m]=bt.getAxialAlignedBoundingBox([0,0,o,c],r);this.ctx.fillRect(d,p,g-d,m-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){he("Should not call beginInlineImage")}beginImageData(){he("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=be(this.ctx),e)){const s=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],s,r),this.current.updateRectMinMax(be(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Hg("TODO: Support non-isolated groups."),t.knockout&&jt("Knockout groups not supported.");const s=be(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=bt.getAxialAlignedBoundingBox(t.bbox,be(e));const o=[0,0,e.canvas.width,e.canvas.height];r=bt.intersect(r,o)||[0,0,0,0];const c=Math.floor(r[0]),d=Math.floor(r[1]),p=Math.max(Math.ceil(r[2])-c,1),g=Math.max(Math.ceil(r[3])-d,1);this.current.startNewPathAndClipBox([0,0,p,g]);let m="groupAt"+this.groupLevel;t.smask&&(m+="_smask_"+this.smaskCounter++%2);const b=this.cachedCanvases.getCanvas(m,p,g),v=b.context;v.translate(-c,-d),v.transform(...s),t.smask?this.smaskStack.push({canvas:b.canvas,context:v,offsetX:c,offsetY:d,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(c,d),e.save()),yh(e,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=be(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const o=bt.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(t,e,s,r,o){if(w(this,Cr,Jb).call(this),Sp(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const c=e[2]-e[0],d=e[3]-e[1];if(o&&this.annotationCanvasMap){s=s.slice(),s[4]-=e[0],s[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=c,e[3]=d;const[p,g]=bt.singularValueDecompose2dScale(be(this.ctx)),{viewportScale:m}=this,b=Math.ceil(c*this.outputScaleX*m),v=Math.ceil(d*this.outputScaleY*m);this.annotationCanvas=this.canvasFactory.create(b,v);const{canvas:S,context:_}=this.annotationCanvas;this.annotationCanvasMap.set(t,S),this.annotationCanvas.savedCtx=this.ctx,this.ctx=_,this.ctx.save(),this.ctx.setTransform(p,0,0,-g,0,d*g),Sp(this.ctx)}else Sp(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],c,d),this.ctx.clip(),this.ctx.beginPath()}this.current=new RE(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),w(this,Cr,tv).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const s=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=qD(t)),r.compiled)){r.compiled(s);return}const o=this._createMaskCanvas(t),c=o.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(c,o.offsetX,o.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,s=0,r=0,o,c){if(!this.contentVisible)return;t=this.getObject(t.data,t);const d=this.ctx;d.save();const p=be(d);d.transform(e,s,r,o,0,0);const g=this._createMaskCanvas(t);d.setTransform(1,0,0,1,g.offsetX-p[4],g.offsetY-p[5]);for(let m=0,b=c.length;m<b;m+=2){const v=bt.transform(p,[e,s,r,o,c[m],c[m+1]]),[S,_]=bt.applyTransform([0,0],v);d.drawImage(g.canvas,S,_)}d.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,s=this.current.fillColor,r=this.current.patternFill;for(const o of t){const{data:c,width:d,height:p,transform:g}=o,m=this.cachedCanvases.getCanvas("maskCanvas",d,p),b=m.context;b.save();const v=this.getObject(c,o);ME(b,v),b.globalCompositeOperation="source-in",b.fillStyle=r?s.getPattern(b,this,Vs(e),xn.FILL):s,b.fillRect(0,0,d,p),b.restore(),e.save(),e.transform(...g),e.scale(1,-1),Ap(e,m.canvas,0,0,d,p,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){jt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,s,r){if(!this.contentVisible)return;const o=this.getObject(t);if(!o){jt("Dependent image isn't ready yet");return}const c=o.width,d=o.height,p=[];for(let g=0,m=r.length;g<m;g+=2)p.push({transform:[e,0,0,s,r[g],r[g+1]],x:0,y:0,w:c,h:d});this.paintInlineImageXObjectGroup(o,p)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:s,height:r}=t,o=this.cachedCanvases.getCanvas("inlineImage",s,r),c=o.context;return c.filter=this.current.transferMaps,c.drawImage(e,0,0),c.filter="none",o.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,s=t.height,r=this.ctx;if(this.save(),!An){const{filter:d}=r;d!=="none"&&d!==""&&(r.filter="none")}r.scale(1/e,-1/s);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const p=this.cachedCanvases.getCanvas("inlineImage",e,s).context;CE(p,t),o=this.applyTransferMapsToCanvas(p)}const c=this._scaleImage(o,Vs(r));r.imageSmoothingEnabled=DE(be(r),t.interpolate),Ap(r,c.img,0,0,c.paintWidth,c.paintHeight,0,-s,e,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const s=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const o=t.width,c=t.height,p=this.cachedCanvases.getCanvas("inlineImage",o,c).context;CE(p,t),r=this.applyTransferMapsToCanvas(p)}for(const o of e)s.save(),s.transform(...o.transform),s.scale(1,-1),Ap(s,r,o.x,o.y,o.w,o.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const s=this.ctx;this.pendingClip&&(e||(this.pendingClip===OE?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=be(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),s=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(s,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:s,c:r,d:o}=this.ctx.getTransform();let c,d;if(s===0&&r===0){const p=Math.abs(e),g=Math.abs(o);if(p===g)if(t===0)c=d=1/p;else{const m=p*t;c=d=m<1?1/m:1}else if(t===0)c=1/p,d=1/g;else{const m=p*t,b=g*t;c=m<1?1/m:1,d=b<1?1/b:1}}else{const p=Math.abs(e*o-s*r),g=Math.hypot(e,s),m=Math.hypot(r,o);if(t===0)c=m/p,d=g/p;else{const b=t*p;c=m>b?m/b:1,d=g>b?g/b:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=d}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:s}=this.current,[r,o]=this.getScaleForStroking();if(e.lineWidth=s||1,r===1&&o===1){e.stroke();return}const c=e.getLineDash();if(t&&e.save(),e.scale(r,o),c.length>0){const d=Math.max(r,o);e.setLineDash(c.map(p=>p/d)),e.lineDashOffset/=d}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Cr=new WeakSet,Jb=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},tv=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let rc=l0;for(const u in Pi)rc.prototype[u]!==void 0&&(rc.prototype[Pi[u]]=rc.prototype[u]);var od,ld;class va{static get workerPort(){return h(this,od)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");E(this,od,t)}static get workerSrc(){return h(this,ld)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");E(this,ld,t)}}od=new WeakMap,ld=new WeakMap,x(va,od,null),x(va,ld,"");const _p={DATA:1,ERROR:2},Le={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function $n(u){switch(u instanceof Error||typeof u=="object"&&u!==null||he('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),u.name){case"AbortException":return new dl(u.message);case"MissingPDFException":return new hl(u.message);case"PasswordException":return new Tb(u.message,u.code);case"UnexpectedResponseException":return new jg(u.message,u.status);case"UnknownErrorException":return new xb(u.message,u.details);default:return new xb(u.message,u.toString())}}var wc,Mi,s1,a1,r1,Pp;class xh{constructor(t,e,s){x(this,Mi);x(this,wc,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",w(this,Mi,s1).bind(this),{signal:h(this,wc).signal})}on(t,e){const s=this.actionHandler;if(s[t])throw new Error(`There is already an actionName called "${t}"`);s[t]=e}send(t,e,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},s)}sendWithPromise(t,e,s){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},s)}catch(c){o.reject(c)}return o.promise}sendWithStream(t,e,s,r){const o=this.streamId++,c=this.sourceName,d=this.targetName,p=this.comObj;return new ReadableStream({start:g=>{const m=Promise.withResolvers();return this.streamControllers[o]={controller:g,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},p.postMessage({sourceName:c,targetName:d,action:t,streamId:o,data:e,desiredSize:g.desiredSize},r),m.promise},pull:g=>{const m=Promise.withResolvers();return this.streamControllers[o].pullCall=m,p.postMessage({sourceName:c,targetName:d,stream:Le.PULL,streamId:o,desiredSize:g.desiredSize}),m.promise},cancel:g=>{Be(g instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[o].cancelCall=m,this.streamControllers[o].isClosed=!0,p.postMessage({sourceName:c,targetName:d,stream:Le.CANCEL,streamId:o,reason:$n(g)}),m.promise}},s)}destroy(){var t;(t=h(this,wc))==null||t.abort(),E(this,wc,null)}}wc=new WeakMap,Mi=new WeakSet,s1=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){w(this,Mi,r1).call(this,t);return}if(t.callback){const s=t.callbackId,r=this.callbackCapabilities[s];if(!r)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],t.callback===_p.DATA)r.resolve(t.data);else if(t.callback===_p.ERROR)r.reject($n(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const s=this.sourceName,r=t.sourceName,o=this.comObj;new Promise(function(c){c(e(t.data))}).then(function(c){o.postMessage({sourceName:s,targetName:r,callback:_p.DATA,callbackId:t.callbackId,data:c})},function(c){o.postMessage({sourceName:s,targetName:r,callback:_p.ERROR,callbackId:t.callbackId,reason:$n(c)})});return}if(t.streamId){w(this,Mi,a1).call(this,t);return}e(t.data)},a1=function(t){const e=t.streamId,s=this.sourceName,r=t.sourceName,o=this.comObj,c=this,d=this.actionHandler[t.action],p={enqueue(g,m=1,b){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=m,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:s,targetName:r,stream:Le.ENQUEUE,streamId:e,chunk:g},b)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:s,targetName:r,stream:Le.CLOSE,streamId:e}),delete c.streamSinks[e])},error(g){Be(g instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:s,targetName:r,stream:Le.ERROR,streamId:e,reason:$n(g)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};p.sinkCapability.resolve(),p.ready=p.sinkCapability.promise,this.streamSinks[e]=p,new Promise(function(g){g(d(t.data,p))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:Le.START_COMPLETE,streamId:e,success:!0})},function(g){o.postMessage({sourceName:s,targetName:r,stream:Le.START_COMPLETE,streamId:e,reason:$n(g)})})},r1=function(t){const e=t.streamId,s=this.sourceName,r=t.sourceName,o=this.comObj,c=this.streamControllers[e],d=this.streamSinks[e];switch(t.stream){case Le.START_COMPLETE:t.success?c.startCall.resolve():c.startCall.reject($n(t.reason));break;case Le.PULL_COMPLETE:t.success?c.pullCall.resolve():c.pullCall.reject($n(t.reason));break;case Le.PULL:if(!d){o.postMessage({sourceName:s,targetName:r,stream:Le.PULL_COMPLETE,streamId:e,success:!0});break}d.desiredSize<=0&&t.desiredSize>0&&d.sinkCapability.resolve(),d.desiredSize=t.desiredSize,new Promise(function(p){var g;p((g=d.onPull)==null?void 0:g.call(d))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:Le.PULL_COMPLETE,streamId:e,success:!0})},function(p){o.postMessage({sourceName:s,targetName:r,stream:Le.PULL_COMPLETE,streamId:e,reason:$n(p)})});break;case Le.ENQUEUE:if(Be(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(t.chunk);break;case Le.CLOSE:if(Be(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),w(this,Mi,Pp).call(this,c,e);break;case Le.ERROR:Be(c,"error should have stream controller"),c.controller.error($n(t.reason)),w(this,Mi,Pp).call(this,c,e);break;case Le.CANCEL_COMPLETE:t.success?c.cancelCall.resolve():c.cancelCall.reject($n(t.reason)),w(this,Mi,Pp).call(this,c,e);break;case Le.CANCEL:if(!d)break;new Promise(function(p){var g;p((g=d.onCancel)==null?void 0:g.call(d,$n(t.reason)))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:Le.CANCEL_COMPLETE,streamId:e,success:!0})},function(p){o.postMessage({sourceName:s,targetName:r,stream:Le.CANCEL_COMPLETE,streamId:e,reason:$n(p)})}),d.sinkCapability.reject($n(t.reason)),d.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},Pp=async function(t,e){var s,r,o;await Promise.allSettled([(s=t.startCall)==null?void 0:s.promise,(r=t.pullCall)==null?void 0:r.promise,(o=t.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[e]};var xo,cd;class YD{constructor({parsedData:t,rawData:e}){x(this,xo);x(this,cd);E(this,xo,t),E(this,cd,e)}getRaw(){return h(this,cd)}get(t){return h(this,xo).get(t)??null}getAll(){return Yv(h(this,xo))}has(t){return h(this,xo).has(t)}}xo=new WeakMap,cd=new WeakMap;const ec=Symbol("INTERNAL");var ud,hd,dd,Tc;class KD{constructor(t,{name:e,intent:s,usage:r,rbGroups:o}){x(this,ud,!1);x(this,hd,!1);x(this,dd,!1);x(this,Tc,!0);E(this,ud,!!(t&si.DISPLAY)),E(this,hd,!!(t&si.PRINT)),this.name=e,this.intent=s,this.usage=r,this.rbGroups=o}get visible(){if(h(this,dd))return h(this,Tc);if(!h(this,Tc))return!1;const{print:t,view:e}=this.usage;return h(this,ud)?(e==null?void 0:e.viewState)!=="OFF":h(this,hd)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,s=!1){t!==ec&&he("Internal method `_setVisible` called."),E(this,dd,s),E(this,Tc,e)}}ud=new WeakMap,hd=new WeakMap,dd=new WeakMap,Tc=new WeakMap;var cr,Zt,xc,Rc,fd,ev;class $D{constructor(t,e=si.DISPLAY){x(this,fd);x(this,cr,null);x(this,Zt,new Map);x(this,xc,null);x(this,Rc,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,E(this,Rc,t.order);for(const s of t.groups)h(this,Zt).set(s.id,new KD(e,s));if(t.baseState==="OFF")for(const s of h(this,Zt).values())s._setVisible(ec,!1);for(const s of t.on)h(this,Zt).get(s)._setVisible(ec,!0);for(const s of t.off)h(this,Zt).get(s)._setVisible(ec,!1);E(this,xc,this.getHash())}}isVisible(t){if(h(this,Zt).size===0)return!0;if(!t)return Hg("Optional content group not defined."),!0;if(t.type==="OCG")return h(this,Zt).has(t.id)?h(this,Zt).get(t.id).visible:(jt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return w(this,fd,ev).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!h(this,Zt).has(e))return jt(`Optional content group not found: ${e}`),!0;if(h(this,Zt).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!h(this,Zt).has(e))return jt(`Optional content group not found: ${e}`),!0;if(!h(this,Zt).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!h(this,Zt).has(e))return jt(`Optional content group not found: ${e}`),!0;if(!h(this,Zt).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!h(this,Zt).has(e))return jt(`Optional content group not found: ${e}`),!0;if(h(this,Zt).get(e).visible)return!1}return!0}return jt(`Unknown optional content policy ${t.policy}.`),!0}return jt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,s=!0){var o;const r=h(this,Zt).get(t);if(!r){jt(`Optional content group not found: ${t}`);return}if(s&&e&&r.rbGroups.length)for(const c of r.rbGroups)for(const d of c)d!==t&&((o=h(this,Zt).get(d))==null||o._setVisible(ec,!1,!0));r._setVisible(ec,!!e,!0),E(this,cr,null)}setOCGState({state:t,preserveRB:e}){let s;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":s=r;continue}const o=h(this,Zt).get(r);if(o)switch(s){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!o.visible,e);break}}E(this,cr,null)}get hasInitialVisibility(){return h(this,xc)===null||this.getHash()===h(this,xc)}getOrder(){return h(this,Zt).size?h(this,Rc)?h(this,Rc).slice():[...h(this,Zt).keys()]:null}getGroups(){return h(this,Zt).size>0?Yv(h(this,Zt)):null}getGroup(t){return h(this,Zt).get(t)||null}getHash(){if(h(this,cr)!==null)return h(this,cr);const t=new Yw;for(const[e,s]of h(this,Zt))t.update(`${e}:${s.visible}`);return E(this,cr,t.hexdigest())}}cr=new WeakMap,Zt=new WeakMap,xc=new WeakMap,Rc=new WeakMap,fd=new WeakSet,ev=function(t){const e=t.length;if(e<2)return!0;const s=t[0];for(let r=1;r<e;r++){const o=t[r];let c;if(Array.isArray(o))c=w(this,fd,ev).call(this,o);else if(h(this,Zt).has(o))c=h(this,Zt).get(o).visible;else return jt(`Optional content group not found: ${o}`),!0;switch(s){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return s==="And"};class WD{constructor(t,{disableRange:e=!1,disableStream:s=!1}){Be(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:c,contentDispositionFilename:d}=t;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=d,(o==null?void 0:o.length)>0){const p=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(p)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!s,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((p,g)=>{this._onReceiveData({begin:p,chunk:g})}),t.addProgressListener((p,g)=>{this._onProgress({loaded:p,total:g})}),t.addProgressiveReadListener(p=>{this._onReceiveData({chunk:p})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const s=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const r=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(s),!0)});Be(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,s,r,o;t.total===void 0?(s=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||s.call(e,{loaded:t.loaded}):(o=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||o.call(r,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Be(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new QD(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new ZD(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeReaders.slice(0))s.cancel(t);this._pdfDataRangeTransport.abort()}}class QD{constructor(t,e,s=!1,r=null){this._stream=t,this._done=s||!1,this._filename=Wv(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ZD{constructor(t,e,s){this._stream=t,this._begin=e,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function JD(u){let t=!0,e=s("filename\\*","i").exec(u);if(e){e=e[1];let m=d(e);return m=unescape(m),m=p(m),m=g(m),o(m)}if(e=c(u),e){const m=g(e);return o(m)}if(e=s("filename","i").exec(u),e){e=e[1];let m=d(e);return m=g(m),o(m)}function s(m,b){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',b)}function r(m,b){if(m){if(!/^[\x00-\xFF]+$/.test(b))return b;try{const v=new TextDecoder(m,{fatal:!0}),S=zg(b);b=v.decode(S),t=!1}catch{}}return b}function o(m){return t&&/[\x80-\xff]/.test(m)&&(m=r("utf-8",m),t&&(m=r("iso-8859-1",m))),m}function c(m){const b=[];let v;const S=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=S.exec(m))!==null;){let[,T,C,M]=v;if(T=parseInt(T,10),T in b){if(T===0)break;continue}b[T]=[C,M]}const _=[];for(let T=0;T<b.length&&T in b;++T){let[C,M]=b[T];M=d(M),C&&(M=unescape(M),T===0&&(M=p(M))),_.push(M)}return _.join("")}function d(m){if(m.startsWith('"')){const b=m.slice(1).split('\\"');for(let v=0;v<b.length;++v){const S=b[v].indexOf('"');S!==-1&&(b[v]=b[v].slice(0,S),b.length=v+1),b[v]=b[v].replaceAll(/\\(.)/g,"$1")}m=b.join('"')}return m}function p(m){const b=m.indexOf("'");if(b===-1)return m;const v=m.slice(0,b),_=m.slice(b+1).replace(/^[^']*'/,"");return r(v,_)}function g(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(b,v,S,_){if(S==="q"||S==="Q")return _=_.replaceAll("_"," "),_=_.replaceAll(/=([0-9a-fA-F]{2})/g,function(T,C){return String.fromCharCode(parseInt(C,16))}),r(v,_);try{_=atob(_)}catch{}return r(v,_)})}return""}function e0(u,t){const e=new Headers;if(!u||!t||typeof t!="object")return e;for(const s in t){const r=t[s];r!==void 0&&e.append(s,r)}return e}function n0({responseHeaders:u,isHttp:t,rangeChunkSize:e,disableRange:s}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(u.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*e)||s||!t||u.get("Accept-Ranges")!=="bytes"||(u.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function i0(u){const t=u.get("Content-Disposition");if(t){let e=JD(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Wv(e))return e}return null}function Ig(u,t){return u===404||u===0&&t.startsWith("file:")?new hl('Missing PDF "'+t+'".'):new jg(`Unexpected server response (${u}) while retrieving PDF "${t}".`,u)}function o1(u){return u===200||u===206}function l1(u,t,e){return{method:"GET",headers:u,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function c1(u){return u instanceof Uint8Array?u.buffer:u instanceof ArrayBuffer?u:(jt(`getArrayBuffer - unexpected data format: ${u}`),new Uint8Array(u).buffer)}class LE{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=e0(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Be(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new tO(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new eO(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class tO{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const s=new Headers(t.headers),r=e.url;fetch(r,l1(s,this._withCredentials,this._abortController)).then(o=>{if(!o1(o.status))throw Ig(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const c=o.headers,{allowRangeRequests:d,suggestedLength:p}=n0({responseHeaders:c,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=d,this._contentLength=p||this._contentLength,this._filename=i0(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new dl("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:c1(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class eO{constructor(t,e,s){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${e}-${s-1}`);const c=r.url;fetch(c,l1(o,this._withCredentials,this._abortController)).then(d=>{if(!o1(d.status))throw Ig(d.status,c);this._readCapability.resolve(),this._reader=d.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:c1(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const gb=200,mb=206;function nO(u){const t=u.response;return typeof t!="string"?t:zg(t).buffer}class iO{constructor({url:t,httpHeaders:e,withCredentials:s}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=e0(this.isHttp,e),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,s){const r={begin:t,end:e};for(const o in s)r[o]=s[o];return this.request(r)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,s=this.currXhrId++,r=this.pendingRequests[s]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[o,c]of this.headers)e.setRequestHeader(o,c);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=mb):r.expectedStatus=gb,e.responseType="arraybuffer",t.onError&&(e.onerror=function(o){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,s),e.onprogress=this.onProgress.bind(this,s),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),s}onProgress(t,e){var r;const s=this.pendingRequests[t];s&&((r=s.onProgress)==null||r.call(s,e))}onStateChange(t,e){var p,g,m;const s=this.pendingRequests[t];if(!s)return;const r=s.xhr;if(r.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){(p=s.onError)==null||p.call(s,r.status);return}const o=r.status||gb;if(!(o===gb&&s.expectedStatus===mb)&&o!==s.expectedStatus){(g=s.onError)==null||g.call(s,r.status);return}const d=nO(r);if(o===mb){const b=r.getResponseHeader("Content-Range"),v=/bytes (\d+)-(\d+)\/(\d+)/.exec(b);s.onDone({begin:parseInt(v[1],10),chunk:d})}else d?s.onDone({begin:0,chunk:d}):(m=s.onError)==null||m.call(s,r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class sO{constructor(t){this._source=t,this._manager=new iO(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Be(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new aO(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const s=new rO(this._manager,t,e);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class aO{constructor(t,e){this._manager=t;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(s),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),s=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(c=>{const[d,...p]=c.split(": ");return[d,p.join(": ")]})),{allowRangeRequests:r,suggestedLength:o}=n0({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=i0(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Ig(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class rO{constructor(t,e,s){this._manager=t;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,s,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=Ig(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const oO=/^[a-z][a-z0-9\-+.]+:/i;function lO(u){if(oO.test(u))return new URL(u);const t=xr.get("url");return new URL(t.pathToFileURL(u))}function u1(u,t,e){return u.protocol==="http:"?xr.get("http").request(u,{headers:t},e):xr.get("https").request(u,{headers:t},e)}class cO{constructor(t){this.source=t,this.url=lO(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=e0(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Be(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new dO(this):new uO(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=this.isFsUrl?new fO(this,t,e):new hO(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class h1{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new dl("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class d1{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class uO extends h1{constructor(t){super(t);const e=Object.fromEntries(t.headers),s=r=>{if(r.statusCode===404){const p=new hl(`Missing PDF "${this._url}".`);this._storedError=p,this._headersCapability.reject(p);return}this._headersCapability.resolve(),this._setReadableStream(r);const o=new Headers(this._readableStream.headers),{allowRangeRequests:c,suggestedLength:d}=n0({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=d||this._contentLength,this._filename=i0(o)};this._request=u1(this._url,e,s),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class hO extends d1{constructor(t,e,s){super(t);const r=Object.fromEntries(t.headers);r.Range=`bytes=${e}-${s-1}`;const o=c=>{if(c.statusCode===404){const d=new hl(`Missing PDF "${this._url}".`);this._storedError=d;return}this._setReadableStream(c)};this._request=u1(this._url,r,o),this._request.on("error",c=>{this._storedError=c}),this._request.end()}}class dO extends h1{constructor(t){super(t);const e=xr.get("fs");e.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new hl(`Missing PDF "${this._url}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class fO extends d1{constructor(t,e,s){super(t);const r=xr.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:s-1}))}}const pO=1e5,kn=30,gO=.8;var YE,ur,Hn,pd,gd,Ro,ea,md,yd,Co,Cc,Mc,hr,Dc,bd,Oc,Mo,vd,Ad,Ee,Do,Oo,Sd,dr,Lc,Ea,f1,p1,iv,oi,Hp,sv,g1,m1;let nv=(Ee=class{constructor({textContentSource:t,container:e,viewport:s}){x(this,Ea);x(this,ur,Promise.withResolvers());x(this,Hn,null);x(this,pd,!1);x(this,gd,!!((YE=globalThis.FontInspector)!=null&&YE.enabled));x(this,Ro,null);x(this,ea,null);x(this,md,0);x(this,yd,0);x(this,Co,null);x(this,Cc,null);x(this,Mc,0);x(this,hr,0);x(this,Dc,Object.create(null));x(this,bd,[]);x(this,Oc,null);x(this,Mo,[]);x(this,vd,new WeakMap);x(this,Ad,null);var p;if(t instanceof ReadableStream)E(this,Oc,t);else if(typeof t=="object")E(this,Oc,new ReadableStream({start(g){g.enqueue(t),g.close()}}));else throw new Error('No "textContentSource" parameter specified.');E(this,Hn,E(this,Cc,e)),E(this,hr,s.scale*(globalThis.devicePixelRatio||1)),E(this,Mc,s.rotation),E(this,ea,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:o,pageX:c,pageY:d}=s.rawDims;E(this,Ad,[1,0,0,-1,-c,d+o]),E(this,yd,r),E(this,md,o),w(p=Ee,oi,g1).call(p),al(e,s),h(this,ur).promise.finally(()=>{h(Ee,Lc).delete(this),E(this,ea,null),E(this,Dc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Rn.platform;return Gt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{h(this,Co).read().then(({value:e,done:s})=>{if(s){h(this,ur).resolve();return}h(this,Ro)??E(this,Ro,e.lang),Object.assign(h(this,Dc),e.styles),w(this,Ea,f1).call(this,e.items),t()},h(this,ur).reject)};return E(this,Co,h(this,Oc).getReader()),h(Ee,Lc).add(this),t(),h(this,ur).promise}update({viewport:t,onBefore:e=null}){var o;const s=t.scale*(globalThis.devicePixelRatio||1),r=t.rotation;if(r!==h(this,Mc)&&(e==null||e(),E(this,Mc,r),al(h(this,Cc),{rotation:r})),s!==h(this,hr)){e==null||e(),E(this,hr,s);const c={div:null,properties:null,ctx:w(o=Ee,oi,Hp).call(o,h(this,Ro))};for(const d of h(this,Mo))c.properties=h(this,vd).get(d),c.div=d,w(this,Ea,iv).call(this,c)}}cancel(){var e;const t=new dl("TextLayer task cancelled.");(e=h(this,Co))==null||e.cancel(t).catch(()=>{}),E(this,Co,null),h(this,ur).reject(t)}get textDivs(){return h(this,Mo)}get textContentItemsStr(){return h(this,bd)}static cleanup(){if(!(h(this,Lc).size>0)){h(this,Do).clear();for(const{canvas:t}of h(this,Oo).values())t.remove();h(this,Oo).clear()}}},ur=new WeakMap,Hn=new WeakMap,pd=new WeakMap,gd=new WeakMap,Ro=new WeakMap,ea=new WeakMap,md=new WeakMap,yd=new WeakMap,Co=new WeakMap,Cc=new WeakMap,Mc=new WeakMap,hr=new WeakMap,Dc=new WeakMap,bd=new WeakMap,Oc=new WeakMap,Mo=new WeakMap,vd=new WeakMap,Ad=new WeakMap,Do=new WeakMap,Oo=new WeakMap,Sd=new WeakMap,dr=new WeakMap,Lc=new WeakMap,Ea=new WeakSet,f1=function(t){var r,o;if(h(this,pd))return;(o=h(this,ea)).ctx??(o.ctx=w(r=Ee,oi,Hp).call(r,h(this,Ro)));const e=h(this,Mo),s=h(this,bd);for(const c of t){if(e.length>pO){jt("Ignoring additional textDivs for performance reasons."),E(this,pd,!0);return}if(c.str===void 0){if(c.type==="beginMarkedContentProps"||c.type==="beginMarkedContent"){const d=h(this,Hn);E(this,Hn,document.createElement("span")),h(this,Hn).classList.add("markedContent"),c.id!==null&&h(this,Hn).setAttribute("id",`${c.id}`),d.append(h(this,Hn))}else c.type==="endMarkedContent"&&E(this,Hn,h(this,Hn).parentNode);continue}s.push(c.str),w(this,Ea,p1).call(this,c)}},p1=function(t){var T;const e=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};h(this,Mo).push(e);const r=bt.transform(h(this,Ad),t.transform);let o=Math.atan2(r[1],r[0]);const c=h(this,Dc)[t.fontName];c.vertical&&(o+=Math.PI/2);let d=h(this,gd)&&c.fontSubstitution||c.fontFamily;d=Ee.fontFamilyMap.get(d)||d;const p=Math.hypot(r[2],r[3]),g=p*w(T=Ee,oi,m1).call(T,d,h(this,Ro));let m,b;o===0?(m=r[4],b=r[5]-g):(m=r[4]+g*Math.sin(o),b=r[5]-g*Math.cos(o));const v="calc(var(--scale-factor)*",S=e.style;h(this,Hn)===h(this,Cc)?(S.left=`${(100*m/h(this,yd)).toFixed(2)}%`,S.top=`${(100*b/h(this,md)).toFixed(2)}%`):(S.left=`${v}${m.toFixed(2)}px)`,S.top=`${v}${b.toFixed(2)}px)`),S.fontSize=`${v}${(h(Ee,dr)*p).toFixed(2)}px)`,S.fontFamily=d,s.fontSize=p,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,h(this,gd)&&(e.dataset.fontName=c.fontSubstitutionLoadedName||t.fontName),o!==0&&(s.angle=o*(180/Math.PI));let _=!1;if(t.str.length>1)_=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const C=Math.abs(t.transform[0]),M=Math.abs(t.transform[3]);C!==M&&Math.max(C,M)/Math.min(C,M)>1.5&&(_=!0)}if(_&&(s.canvasWidth=c.vertical?t.height:t.width),h(this,vd).set(e,s),h(this,ea).div=e,h(this,ea).properties=s,w(this,Ea,iv).call(this,h(this,ea)),s.hasText&&h(this,Hn).append(e),s.hasEOL){const C=document.createElement("br");C.setAttribute("role","presentation"),h(this,Hn).append(C)}},iv=function(t){var d;const{div:e,properties:s,ctx:r}=t,{style:o}=e;let c="";if(h(Ee,dr)>1&&(c=`scale(${1/h(Ee,dr)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:p}=o,{canvasWidth:g,fontSize:m}=s;w(d=Ee,oi,sv).call(d,r,m*h(this,hr),p);const{width:b}=r.measureText(e.textContent);b>0&&(c=`scaleX(${g*h(this,hr)/b}) ${c}`)}s.angle!==0&&(c=`rotate(${s.angle}deg) ${c}`),c.length>0&&(o.transform=c)},oi=new WeakSet,Hp=function(t=null){let e=h(this,Oo).get(t||(t=""));if(!e){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=t,document.body.append(s),e=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),h(this,Oo).set(t,e),h(this,Sd).set(e,{size:0,family:""})}return e},sv=function(t,e,s){const r=h(this,Sd).get(t);e===r.size&&s===r.family||(t.font=`${e}px ${s}`,r.size=e,r.family=s)},g1=function(){if(h(this,dr)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),E(this,dr,t.getBoundingClientRect().height),t.remove()},m1=function(t,e){const s=h(this,Do).get(t);if(s)return s;const r=w(this,oi,Hp).call(this,e);r.canvas.width=r.canvas.height=kn,w(this,oi,sv).call(this,r,kn,t);const o=r.measureText("");let c=o.fontBoundingBoxAscent,d=Math.abs(o.fontBoundingBoxDescent);if(c){const m=c/(c+d);return h(this,Do).set(t,m),r.canvas.width=r.canvas.height=0,m}r.strokeStyle="red",r.clearRect(0,0,kn,kn),r.strokeText("g",0,0);let p=r.getImageData(0,0,kn,kn).data;d=0;for(let m=p.length-1-3;m>=0;m-=4)if(p[m]>0){d=Math.ceil(m/4/kn);break}r.clearRect(0,0,kn,kn),r.strokeText("A",0,kn),p=r.getImageData(0,0,kn,kn).data,c=0;for(let m=0,b=p.length;m<b;m+=4)if(p[m]>0){c=kn-Math.floor(m/4/kn);break}r.canvas.width=r.canvas.height=0;const g=c?c/(c+d):gO;return h(this,Do).set(t,g),g},x(Ee,oi),x(Ee,Do,new Map),x(Ee,Oo,new Map),x(Ee,Sd,new WeakMap),x(Ee,dr,null),x(Ee,Lc,new Set),Ee);class zh{static textContent(t){const e=[],s={items:e,styles:Object.create(null)};function r(o){var p;if(!o)return;let c=null;const d=o.name;if(d==="#text")c=o.value;else if(zh.shouldBuildText(d))(p=o==null?void 0:o.attributes)!=null&&p.textContent?c=o.attributes.textContent:o.value&&(c=o.value);else return;if(c!==null&&e.push({str:c}),!!o.children)for(const g of o.children)r(g)}return r(t),s}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const mO=65536,yO=100,bO=5e3,vO=An?OD:CD,AO=An?LD:Zw,SO=An?DD:MD,_O=An?ND:n1;function EO(u={}){typeof u=="string"||u instanceof URL?u={url:u}:(u instanceof ArrayBuffer||ArrayBuffer.isView(u))&&(u={data:u});const t=new av,{docId:e}=t,s=u.url?wO(u.url):null,r=u.data?TO(u.data):null,o=u.httpHeaders||null,c=u.withCredentials===!0,d=u.password??null,p=u.range instanceof y1?u.range:null,g=Number.isInteger(u.rangeChunkSize)&&u.rangeChunkSize>0?u.rangeChunkSize:mO;let m=u.worker instanceof oc?u.worker:null;const b=u.verbosity,v=typeof u.docBaseUrl=="string"&&!Bg(u.docBaseUrl)?u.docBaseUrl:null,S=typeof u.cMapUrl=="string"?u.cMapUrl:null,_=u.cMapPacked!==!1,T=u.CMapReaderFactory||AO,C=typeof u.standardFontDataUrl=="string"?u.standardFontDataUrl:null,M=u.StandardFontDataFactory||_O,O=u.stopAtErrors!==!0,k=Number.isInteger(u.maxImageSize)&&u.maxImageSize>-1?u.maxImageSize:-1,H=u.isEvalSupported!==!1,j=typeof u.isOffscreenCanvasSupported=="boolean"?u.isOffscreenCanvasSupported:!An,B=typeof u.isChrome=="boolean"?u.isChrome:!Rn.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),I=Number.isInteger(u.canvasMaxAreaInBytes)?u.canvasMaxAreaInBytes:-1,X=typeof u.disableFontFace=="boolean"?u.disableFontFace:An,G=u.fontExtraProperties===!0,nt=u.enableXfa===!0,it=u.ownerDocument||globalThis.document,ut=u.disableRange===!0,ht=u.disableStream===!0,dt=u.disableAutoFetch===!0,mt=u.pdfBug===!0,K=u.CanvasFactory||vO,W=u.FilterFactory||SO,tt=u.enableHWA===!0,Tt=p?p.length:u.length??NaN,L=typeof u.useSystemFonts=="boolean"?u.useSystemFonts:!An&&!X,Q=typeof u.useWorkerFetch=="boolean"?u.useWorkerFetch:T===Zw&&M===n1&&S&&C&&vh(S,document.baseURI)&&vh(C,document.baseURI);u.canvasFactory&&AE("`canvasFactory`-instance option, please use `CanvasFactory` instead."),u.filterFactory&&AE("`filterFactory`-instance option, please use `FilterFactory` instead.");const lt=null;aD(b);const at={canvasFactory:new K({ownerDocument:it,enableHWA:tt}),filterFactory:new W({docId:e,ownerDocument:it}),cMapReaderFactory:Q?null:new T({baseUrl:S,isCompressed:_}),standardFontDataFactory:Q?null:new M({baseUrl:C})};if(!m){const pt={verbosity:b,port:va.workerPort};m=pt.port?oc.fromPort(pt):new oc(pt),t._worker=m}const st={docId:e,apiVersion:"4.8.69",data:r,password:d,disableAutoFetch:dt,rangeChunkSize:g,length:Tt,docBaseUrl:v,enableXfa:nt,evaluatorOptions:{maxImageSize:k,disableFontFace:X,ignoreErrors:O,isEvalSupported:H,isOffscreenCanvasSupported:j,isChrome:B,canvasMaxAreaInBytes:I,fontExtraProperties:G,useSystemFonts:L,cMapUrl:Q?S:null,standardFontDataUrl:Q?C:null}},_t={disableFontFace:X,fontExtraProperties:G,ownerDocument:it,pdfBug:mt,styleElement:lt,loadingParams:{disableAutoFetch:dt,enableXfa:nt}};return m.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const pt=m.messageHandler.sendWithPromise("GetDocRequest",st,r?[r.buffer]:null);let Et;if(p)Et=new WD(p,{disableRange:ut,disableStream:ht});else if(!r){if(!s)throw new Error("getDocument - no `url` parameter provided.");let Dt;An?Dt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&vh(s)?LE:cO:Dt=vh(s)?LE:sO,Et=new Dt({url:s,length:Tt,httpHeaders:o,withCredentials:c,rangeChunkSize:g,disableRange:ut,disableStream:ht})}return pt.then(Dt=>{if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const Vt=new xh(e,Dt,m.port),gt=new MO(Vt,t,Et,_t,at);t._transport=gt,Vt.send("Ready",null)})}).catch(t._capability.reject),t}function wO(u){if(u instanceof URL)return u.href;try{return new URL(u,window.location).href}catch{if(An&&typeof u=="string")return u}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function TO(u){if(An&&typeof Buffer<"u"&&u instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(u instanceof Uint8Array&&u.byteLength===u.buffer.byteLength)return u;if(typeof u=="string")return zg(u);if(u instanceof ArrayBuffer||ArrayBuffer.isView(u)||typeof u=="object"&&!isNaN(u==null?void 0:u.length))return new Uint8Array(u);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function NE(u){return typeof u=="object"&&Number.isInteger(u==null?void 0:u.num)&&u.num>=0&&Number.isInteger(u==null?void 0:u.gen)&&u.gen>=0}var Ag;const Sg=class Sg{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${En(Sg,Ag)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,s;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(r){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Ag=new WeakMap,x(Sg,Ag,0);let av=Sg,y1=class{constructor(t,e,s=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=s,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const s of this._rangeListeners)s(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){he("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class xO{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Gt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var fr,na,Ri,nc,jp;class RO{constructor(t,e,s,r=!1){x(this,Ri);x(this,fr,null);x(this,na,!1);this._pageIndex=t,this._pageInfo=e,this._transport=s,this._stats=r?new vE:null,this._pdfBug=r,this.commonObjs=s.commonObjs,this.objs=new b1,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:s=0,offsetY:r=0,dontFlip:o=!1}={}){return new sf({viewBox:this.view,scale:t,rotation:e,offsetX:s,offsetY:r,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Gt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:s="display",annotationMode:r=Qa.ENABLE,transform:o=null,background:c=null,optionalContentConfigPromise:d=null,annotationCanvasMap:p=null,pageColors:g=null,printAnnotationStorage:m=null,isEditing:b=!1}){var H,j;(H=this._stats)==null||H.time("Overall");const v=this._transport.getRenderingIntent(s,r,m,b),{renderingIntent:S,cacheKey:_}=v;E(this,na,!1),w(this,Ri,jp).call(this),d||(d=this._transport.getOptionalContentConfig(S));let T=this._intentStates.get(_);T||(T=Object.create(null),this._intentStates.set(_,T)),T.streamReaderCancelTimeout&&(clearTimeout(T.streamReaderCancelTimeout),T.streamReaderCancelTimeout=null);const C=!!(S&si.PRINT);T.displayReadyCapability||(T.displayReadyCapability=Promise.withResolvers(),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(j=this._stats)==null||j.time("Page Request"),this._pumpOperatorList(v));const M=B=>{var I;T.renderTasks.delete(O),(this._maybeCleanupAfterRender||C)&&E(this,na,!0),w(this,Ri,nc).call(this,!C),B?(O.capability.reject(B),this._abortOperatorList({intentState:T,reason:B instanceof Error?B:new Error(B)})):O.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(I=globalThis.Stats)!=null&&I.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},O=new ov({callback:M,params:{canvasContext:t,viewport:e,transform:o,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:p,operatorList:T.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:g});(T.renderTasks||(T.renderTasks=new Set)).add(O);const k=O.task;return Promise.all([T.displayReadyCapability.promise,d]).then(([B,I])=>{var X;if(this.destroyed){M();return}if((X=this._stats)==null||X.time("Rendering"),!(I.renderingIntent&S))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");O.initializeGraphics({transparency:B,optionalContentConfig:I}),O.operatorListChanged()}).catch(M),k}getOperatorList({intent:t="display",annotationMode:e=Qa.ENABLE,printAnnotationStorage:s=null,isEditing:r=!1}={}){var g;function o(){d.operatorList.lastChunk&&(d.opListReadCapability.resolve(d.operatorList),d.renderTasks.delete(p))}const c=this._transport.getRenderingIntent(t,e,s,r,!0);let d=this._intentStates.get(c.cacheKey);d||(d=Object.create(null),this._intentStates.set(c.cacheKey,d));let p;return d.opListReadCapability||(p=Object.create(null),p.operatorListChanged=o,d.opListReadCapability=Promise.withResolvers(),(d.renderTasks||(d.renderTasks=new Set)).add(p),d.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(g=this._stats)==null||g.time("Page Request"),this._pumpOperatorList(c)),d.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>zh.textContent(s));const e=this.streamTextContent(t);return new Promise(function(s,r){function o(){c.read().then(function({value:p,done:g}){if(g){s(d);return}d.lang??(d.lang=p.lang),Object.assign(d.styles,p.styles),d.items.push(...p.items),o()},r)}const c=e.getReader(),d={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const s of e.renderTasks)t.push(s.completed),s.cancel();return this.objs.clear(),E(this,na,!1),w(this,Ri,jp).call(this),Promise.all(t)}cleanup(t=!1){E(this,na,!0);const e=w(this,Ri,nc).call(this,!1);return t&&e&&this._stats&&(this._stats=new vE),e}_startRenderPage(t,e){var r,o;const s=this._intentStates.get(e);s&&((r=this._stats)==null||r.timeEnd("Page Request"),(o=s.displayReadyCapability)==null||o.resolve(t))}_renderPageChunk(t,e){for(let s=0,r=t.length;s<r;s++)e.operatorList.fnArray.push(t.fnArray[s]),e.operatorList.argsArray.push(t.argsArray[s]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const s of e.renderTasks)s.operatorListChanged();t.lastChunk&&w(this,Ri,nc).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:s,modifiedIds:r}){const{map:o,transfer:c}=s,p=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o,modifiedIds:r},c).getReader(),g=this._intentStates.get(e);g.streamReader=p;const m=()=>{p.read().then(({value:b,done:v})=>{if(v){g.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(b,g),m())},b=>{if(g.streamReader=null,!this._transport.destroyed){if(g.operatorList){g.operatorList.lastChunk=!0;for(const v of g.renderTasks)v.operatorListChanged();w(this,Ri,nc).call(this,!0)}if(g.displayReadyCapability)g.displayReadyCapability.reject(b);else if(g.opListReadCapability)g.opListReadCapability.reject(b);else throw b}})};m()}_abortOperatorList({intentState:t,reason:e,force:s=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!s){if(t.renderTasks.size>0)return;if(e instanceof $v){let r=yO;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new dl(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}fr=new WeakMap,na=new WeakMap,Ri=new WeakSet,nc=function(t=!1){if(w(this,Ri,jp).call(this),!h(this,na)||this.destroyed)return!1;if(t)return E(this,fr,setTimeout(()=>{E(this,fr,null),w(this,Ri,nc).call(this,!1)},bO)),!1;for(const{renderTasks:e,operatorList:s}of this._intentStates.values())if(e.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),E(this,na,!1),!0},jp=function(){h(this,fr)&&(clearTimeout(h(this,fr)),E(this,fr,null))};var ia,_g;class CO{constructor(){x(this,ia,new Map);x(this,_g,Promise.resolve())}postMessage(t,e){const s={data:structuredClone(t,e?{transfer:e}:null)};h(this,_g).then(()=>{for(const[r]of h(this,ia))r.call(this,s)})}addEventListener(t,e,s=null){let r=null;if((s==null?void 0:s.signal)instanceof AbortSignal){const{signal:o}=s;if(o.aborted){jt("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(t,e);r=()=>o.removeEventListener("abort",c),o.addEventListener("abort",c)}h(this,ia).set(e,r)}removeEventListener(t,e){const s=h(this,ia).get(e);s==null||s(),h(this,ia).delete(e)}terminate(){for(const[,t]of h(this,ia))t==null||t();h(this,ia).clear()}}ia=new WeakMap,_g=new WeakMap;var Eg,Lo,No,Nc,zp,kc,Up;const de=class de{constructor({name:t=null,port:e=null,verbosity:s=rD()}={}){x(this,Nc);var r;if(this.name=t,this.destroyed=!1,this.verbosity=s,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((r=h(de,No))!=null&&r.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(h(de,No)||E(de,No,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return An?Promise.all([xr.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new xh("main","worker",t),this._messageHandler.on("ready",function(){}),w(this,Nc,zp).call(this)}_initialize(){if(h(de,Lo)||h(de,kc,Up)){this._setupFakeWorker();return}let{workerSrc:t}=de;try{de._isSameOrigin(window.location.href,t)||(t=de._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),s=new xh("main","worker",e),r=()=>{o.abort(),s.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;e.addEventListener("error",()=>{this._webWorker||r()},{signal:o.signal}),s.on("test",d=>{if(o.abort(),this.destroyed||!d){r();return}this._messageHandler=s,this._port=e,this._webWorker=e,w(this,Nc,zp).call(this)}),s.on("ready",d=>{if(o.abort(),this.destroyed){r();return}try{c()}catch{this._setupFakeWorker()}});const c=()=>{const d=new Uint8Array;s.send("test",d,[d.buffer])};c();return}catch{Hg("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){h(de,Lo)||(jt("Setting up fake worker."),E(de,Lo,!0)),de._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new CO;this._port=e;const s=`fake${En(de,Eg)._++}`,r=new xh(s+"_worker",s,e);t.setup(r,e),this._messageHandler=new xh(s,s+"_worker",e),w(this,Nc,zp).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=h(de,No))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var s;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(s=h(this,No))==null?void 0:s.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new de(t)}static get workerSrc(){if(va.workerSrc)return va.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Gt(this,"_setupFakeWorkerGlobal",(async()=>h(this,kc,Up)?h(this,kc,Up):(await import(this.workerSrc)).WorkerMessageHandler)())}};Eg=new WeakMap,Lo=new WeakMap,No=new WeakMap,Nc=new WeakSet,zp=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},kc=new WeakSet,Up=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},x(de,kc),x(de,Eg,0),x(de,Lo,!1),x(de,No),An&&(E(de,Lo,!0),va.workerSrc||(va.workerSrc="./pdf.worker.mjs")),de._isSameOrigin=(t,e)=>{let s;try{if(s=new URL(t),!s.origin||s.origin==="null")return!1}catch{return!1}const r=new URL(e,s);return s.origin===r.origin},de._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let oc=de;var sa,ys,Fc,Pc,bs,ko,Rh;class MO{constructor(t,e,s,r,o){x(this,ko);x(this,sa,new Map);x(this,ys,new Map);x(this,Fc,new Map);x(this,Pc,new Map);x(this,bs,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new b1,this.fontLoader=new xD({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Gt(this,"annotationStorage",new Jv)}getRenderingIntent(t,e=Qa.ENABLE,s=null,r=!1,o=!1){let c=si.DISPLAY,d=Yb;switch(t){case"any":c=si.ANY;break;case"display":break;case"print":c=si.PRINT;break;default:jt(`getRenderingIntent - invalid intent: ${t}`)}const p=c&si.PRINT&&s instanceof $w?s:this.annotationStorage;switch(e){case Qa.DISABLE:c+=si.ANNOTATIONS_DISABLE;break;case Qa.ENABLE:break;case Qa.ENABLE_FORMS:c+=si.ANNOTATIONS_FORMS;break;case Qa.ENABLE_STORAGE:c+=si.ANNOTATIONS_STORAGE,d=p.serializable;break;default:jt(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(c+=si.IS_EDITING),o&&(c+=si.OPLIST);const{ids:g,hash:m}=p.modifiedIds,b=[c,d.hash,m];return{renderingIntent:c,cacheKey:b.join("_"),annotationStorageSerializable:d,modifiedIds:g}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=h(this,bs))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of h(this,ys).values())t.push(r._destroy());h(this,ys).clear(),h(this,Fc).clear(),h(this,Pc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),h(this,sa).clear(),this.filterFactory.destroy(),nv.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new dl("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(s,r)=>{Be(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:c}){if(c){r.close();return}Be(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("ReaderHeadersReady",async s=>{var d;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:c}=this._fullReader;return(!r||!o)&&(this._lastProgress&&((d=e.onProgress)==null||d.call(e,this._lastProgress)),this._fullReader.onProgress=p=>{var g;(g=e.onProgress)==null||g.call(e,{loaded:p.loaded,total:p.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:c}}),t.on("GetRangeReader",(s,r)=>{Be(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(s.begin,s.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:c,done:d}){if(d){r.close();return}Be(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{r.error(c)})},r.onCancel=c=>{o.cancel(c),r.ready.catch(d=>{if(!this.destroyed)throw d})}}),t.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,e._capability.resolve(new xO(s,this))}),t.on("DocException",function(s){let r;switch(s.name){case"PasswordException":r=new Tb(s.message,s.code);break;case"InvalidPDFException":r=new Sw(s.message);break;case"MissingPDFException":r=new hl(s.message);break;case"UnexpectedResponseException":r=new jg(s.message,s.status);break;case"UnknownErrorException":r=new xb(s.message,s.details);break;default:he("DocException - expected a valid Error.")}e._capability.reject(r)}),t.on("PasswordRequest",s=>{if(E(this,bs,Promise.withResolvers()),e.onPassword){const r=o=>{o instanceof Error?h(this,bs).reject(o):h(this,bs).resolve({password:o})};try{e.onPassword(r,s.code)}catch(o){h(this,bs).reject(o)}}else h(this,bs).reject(new Tb(s.message,s.code));return h(this,bs).promise}),t.on("DataLoaded",s=>{var r;(r=e.onProgress)==null||r.call(e,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),t.on("StartRenderPage",s=>{if(this.destroyed)return;h(this,ys).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),t.on("commonobj",([s,r,o])=>{var c;if(this.destroyed||this.commonObjs.has(s))return null;switch(r){case"Font":const{disableFontFace:d,fontExtraProperties:p,pdfBug:g}=this._params;if("error"in o){const S=o.error;jt(`Error during font loading: ${S}`),this.commonObjs.resolve(s,S);break}const m=g&&((c=globalThis.FontInspector)!=null&&c.enabled)?(S,_)=>globalThis.FontInspector.fontAdded(S,_):null,b=new RD(o,{disableFontFace:d,inspectFont:m});this.fontLoader.bind(b).catch(()=>t.sendWithPromise("FontFallback",{id:s})).finally(()=>{!p&&b.data&&(b.data=null),this.commonObjs.resolve(s,b)});break;case"CopyLocalImage":const{imageRef:v}=o;Be(v,"The imageRef must be defined.");for(const S of h(this,ys).values())for(const[,_]of S.objs)if((_==null?void 0:_.ref)===v)return _.dataLen?(this.commonObjs.resolve(s,structuredClone(_)),_.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([s,r,o,c])=>{var p;if(this.destroyed)return;const d=h(this,ys).get(r);if(!d.objs.has(s)){if(d._intentStates.size===0){(p=c==null?void 0:c.bitmap)==null||p.close();return}switch(o){case"Image":d.objs.resolve(s,c),(c==null?void 0:c.dataLen)>eD&&(d._maybeCleanupAfterRender=!0);break;case"Pattern":d.objs.resolve(s,c);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",s=>{var r;this.destroyed||(r=e.onProgress)==null||r.call(e,{loaded:s.loaded,total:s.total})}),t.on("FetchBuiltInCMap",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(s)}),t.on("FetchStandardFontData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&jt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((s=this._fullReader)==null?void 0:s.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,s=h(this,Fc).get(e);if(s)return s;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&h(this,Pc).set(o.refStr,t);const c=new RO(e,o,this,this._params.pdfBug);return h(this,ys).set(e,c),c});return h(this,Fc).set(e,r),r}getPageIndex(t){return NE(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return w(this,ko,Rh).call(this,"GetFieldObjects")}hasJSActions(){return w(this,ko,Rh).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return w(this,ko,Rh).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return w(this,ko,Rh).call(this,"GetOptionalContentConfig").then(e=>new $D(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=h(this,sa).get(t);if(e)return e;const s=this.messageHandler.sendWithPromise(t,null).then(r=>{var o,c;return{info:r[0],metadata:r[1]?new YD(r[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((c=this._fullReader)==null?void 0:c.contentLength)??null}});return h(this,sa).set(t,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of h(this,ys).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),h(this,sa).clear(),this.filterFactory.destroy(!0),nv.cleanup()}}cachedPageNumber(t){if(!NE(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return h(this,Pc).get(e)??null}}sa=new WeakMap,ys=new WeakMap,Fc=new WeakMap,Pc=new WeakMap,bs=new WeakMap,ko=new WeakSet,Rh=function(t,e=null){const s=h(this,sa).get(t);if(s)return s;const r=this.messageHandler.sendWithPromise(t,e);return h(this,sa).set(t,r),r};const Ep=Symbol("INITIAL_DATA");var Ii,_d,rv;class b1{constructor(){x(this,_d);x(this,Ii,Object.create(null))}get(t,e=null){if(e){const r=w(this,_d,rv).call(this,t);return r.promise.then(()=>e(r.data)),null}const s=h(this,Ii)[t];if(!s||s.data===Ep)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return s.data}has(t){const e=h(this,Ii)[t];return!!e&&e.data!==Ep}resolve(t,e=null){const s=w(this,_d,rv).call(this,t);s.data=e,s.resolve()}clear(){var t;for(const e in h(this,Ii)){const{data:s}=h(this,Ii)[e];(t=s==null?void 0:s.bitmap)==null||t.close()}E(this,Ii,Object.create(null))}*[Symbol.iterator](){for(const t in h(this,Ii)){const{data:e}=h(this,Ii)[t];e!==Ep&&(yield[t,e])}}}Ii=new WeakMap,_d=new WeakSet,rv=function(t){var e;return(e=h(this,Ii))[t]||(e[t]={...Promise.withResolvers(),data:Ep})};var pr;class DO{constructor(t){x(this,pr,null);E(this,pr,t),this.onContinue=null}get promise(){return h(this,pr).capability.promise}cancel(t=0){h(this,pr).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=h(this,pr).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=h(this,pr);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}pr=new WeakMap;var gr,Fo;const so=class so{constructor({callback:t,params:e,objs:s,commonObjs:r,annotationCanvasMap:o,operatorList:c,pageIndex:d,canvasFactory:p,filterFactory:g,useRequestAnimationFrame:m=!1,pdfBug:b=!1,pageColors:v=null}){x(this,gr,null);this.callback=t,this.params=e,this.objs=s,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=d,this.canvasFactory=p,this.filterFactory=g,this._pdfBug=b,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new DO(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var d,p;if(this.cancelled)return;if(this._canvas){if(h(so,Fo).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");h(so,Fo).add(this._canvas)}this._pdfBug&&((d=globalThis.StepperManager)!=null&&d.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:r,transform:o,background:c}=this.params;this.gfx=new rc(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:r,transparency:t,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,(p=this.graphicsReadyCallback)==null||p.call(this)}cancel(t=null,e=0){var s;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),h(this,gr)&&(window.cancelAnimationFrame(h(this,gr)),E(this,gr,null)),h(so,Fo).delete(this._canvas),this.callback(t||new $v(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?E(this,gr,window.requestAnimationFrame(()=>{E(this,gr,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),h(so,Fo).delete(this._canvas),this.callback())))}};gr=new WeakMap,Fo=new WeakMap,x(so,Fo,new WeakSet);let ov=so;const OO="4.8.69",LO="3634dab10";function kE(u){return Math.floor(Math.max(0,Math.min(1,u))*255).toString(16).padStart(2,"0")}function bh(u){return Math.max(0,Math.min(255,255*u))}class FE{static CMYK_G([t,e,s,r]){return["G",1-Math.min(1,.3*t+.59*s+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=bh(t),[t,t,t]}static G_HTML([t]){const e=kE(t);return`#${e}${e}${e}`}static RGB_G([t,e,s]){return["G",.3*t+.59*e+.11*s]}static RGB_rgb(t){return t.map(bh)}static RGB_HTML(t){return`#${t.map(kE).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,s,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,s+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,s,r]){return[bh(1-Math.min(1,t+r)),bh(1-Math.min(1,s+r)),bh(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,s]){const r=1-t,o=1-e,c=1-s,d=Math.min(r,o,c);return["CMYK",r,o,c,d]}}class NO{create(t,e,s=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),s||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){he("Abstract method `_createSVG` called.")}}class s0 extends NO{_createSVG(t){return document.createElementNS(Xs,t)}}class v1{static setupStorage(t,e,s,r,o){const c=r.getValue(e,{value:null});switch(s.name){case"textarea":if(c.value!==null&&(t.textContent=c.value),o==="print")break;t.addEventListener("input",d=>{r.setValue(e,{value:d.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(c.value===s.attributes.xfaOn?t.setAttribute("checked",!0):c.value===s.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",d=>{r.setValue(e,{value:d.target.checked?d.target.getAttribute("xfaOn"):d.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&t.setAttribute("value",c.value),o==="print")break;t.addEventListener("input",d=>{r.setValue(e,{value:d.target.value})})}break;case"select":if(c.value!==null){t.setAttribute("value",c.value);for(const d of s.children)d.attributes.value===c.value?d.attributes.selected=!0:d.attributes.hasOwnProperty("selected")&&delete d.attributes.selected}t.addEventListener("input",d=>{const p=d.target.options,g=p.selectedIndex===-1?"":p[p.selectedIndex].value;r.setValue(e,{value:g})});break}}static setAttributes({html:t,element:e,storage:s=null,intent:r,linkService:o}){const{attributes:c}=e,d=t instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${r}`);for(const[p,g]of Object.entries(c))if(g!=null)switch(p){case"class":g.length&&t.setAttribute(p,g.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",g);break;case"style":Object.assign(t.style,g);break;case"textContent":t.textContent=g;break;default:(!d||p!=="href"&&p!=="newWindow")&&t.setAttribute(p,g)}d&&o.addLinkAttributes(t,c.href,c.newWindow),s&&c.dataId&&this.setupStorage(t,c.dataId,e,s)}static render(t){var b,v;const e=t.annotationStorage,s=t.linkService,r=t.xfaHtml,o=t.intent||"display",c=document.createElement(r.name);r.attributes&&this.setAttributes({html:c,element:r,intent:o,linkService:s});const d=o!=="richText",p=t.div;if(p.append(c),t.viewport){const S=`matrix(${t.viewport.transform.join(",")})`;p.style.transform=S}d&&p.setAttribute("class","xfaLayer xfaFont");const g=[];if(r.children.length===0){if(r.value){const S=document.createTextNode(r.value);c.append(S),d&&zh.shouldBuildText(r.name)&&g.push(S)}return{textDivs:g}}const m=[[r,-1,c]];for(;m.length>0;){const[S,_,T]=m.at(-1);if(_+1===S.children.length){m.pop();continue}const C=S.children[++m.at(-1)[1]];if(C===null)continue;const{name:M}=C;if(M==="#text"){const k=document.createTextNode(C.value);g.push(k),T.append(k);continue}const O=(b=C==null?void 0:C.attributes)!=null&&b.xmlns?document.createElementNS(C.attributes.xmlns,M):document.createElement(M);if(T.append(O),C.attributes&&this.setAttributes({html:O,element:C,storage:e,intent:o,linkService:s}),((v=C.children)==null?void 0:v.length)>0)m.push([C,-1,O]);else if(C.value){const k=document.createTextNode(C.value);d&&zh.shouldBuildText(M)&&g.push(k),O.append(k)}}for(const S of p.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))S.setAttribute("readOnly",!0);return{textDivs:g}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const rf=1e3,kO=9,ol=new WeakSet;function Aa(u){return{width:u[2]-u[0],height:u[3]-u[1]}}class FO{static create(t){switch(t.data.annotationType){case He.LINK:return new A1(t);case He.TEXT:return new PO(t);case He.WIDGET:switch(t.data.fieldType){case"Tx":return new HO(t);case"Btn":return t.data.radioButton?new E1(t):t.data.checkBox?new zO(t):new UO(t);case"Ch":return new BO(t);case"Sig":return new jO(t)}return new fl(t);case He.POPUP:return new cv(t);case He.FREETEXT:return new C1(t);case He.LINE:return new qO(t);case He.SQUARE:return new GO(t);case He.CIRCLE:return new VO(t);case He.POLYLINE:return new M1(t);case He.CARET:return new YO(t);case He.INK:return new a0(t);case He.POLYGON:return new XO(t);case He.HIGHLIGHT:return new D1(t);case He.UNDERLINE:return new KO(t);case He.SQUIGGLY:return new $O(t);case He.STRIKEOUT:return new WO(t);case He.STAMP:return new O1(t);case He.FILEATTACHMENT:return new QO(t);default:return new Ce(t)}}}var Po,Hc,jc,Ed,lv;const c0=class c0{constructor(t,{isRenderable:e=!1,ignoreBorder:s=!1,createQuadrilaterals:r=!1}={}){x(this,Ed);x(this,Po,null);x(this,Hc,!1);x(this,jc,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(s)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:s}){return!!(t!=null&&t.str||e!=null&&e.str||s!=null&&s.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return c0._hasPopupData(this.data)}updateEdited(t){var s;if(!this.container)return;h(this,Po)||E(this,Po,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&w(this,Ed,lv).call(this,e),(s=h(this,jc))==null||s.popup.updateEdited(t)}resetEdited(){var t;h(this,Po)&&(w(this,Ed,lv).call(this,h(this,Po).rect),(t=h(this,jc))==null||t.popup.resetEdited(),E(this,Po,null))}_createContainer(t){const{data:e,parent:{page:s,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),this instanceof fl||(o.tabIndex=rf);const{style:c}=o;if(c.zIndex=this.parent.zIndex++,e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof cv){const{rotation:T}=e;return!e.hasOwnCanvas&&T!==0&&this.setRotation(T,o),o}const{width:d,height:p}=Aa(e.rect);if(!t&&e.borderStyle.width>0){c.borderWidth=`${e.borderStyle.width}px`;const T=e.borderStyle.horizontalCornerRadius,C=e.borderStyle.verticalCornerRadius;if(T>0||C>0){const O=`calc(${T}px * var(--scale-factor)) / calc(${C}px * var(--scale-factor))`;c.borderRadius=O}else if(this instanceof E1){const O=`calc(${d}px * var(--scale-factor)) / calc(${p}px * var(--scale-factor))`;c.borderRadius=O}switch(e.borderStyle.style){case mh.SOLID:c.borderStyle="solid";break;case mh.DASHED:c.borderStyle="dashed";break;case mh.BEVELED:jt("Unimplemented border style: beveled");break;case mh.INSET:jt("Unimplemented border style: inset");break;case mh.UNDERLINE:c.borderBottomStyle="solid";break}const M=e.borderColor||null;M?(E(this,Hc,!0),c.borderColor=bt.makeHexColor(M[0]|0,M[1]|0,M[2]|0)):c.borderWidth=0}const g=bt.normalizeRect([e.rect[0],s.view[3]-e.rect[1]+s.view[1],e.rect[2],s.view[3]-e.rect[3]+s.view[1]]),{pageWidth:m,pageHeight:b,pageX:v,pageY:S}=r.rawDims;c.left=`${100*(g[0]-v)/m}%`,c.top=`${100*(g[1]-S)/b}%`;const{rotation:_}=e;return e.hasOwnCanvas||_===0?(c.width=`${100*d/m}%`,c.height=`${100*p/b}%`):this.setRotation(_,o),o}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:r}=this.parent.viewport.rawDims,{width:o,height:c}=Aa(this.data.rect);let d,p;t%180===0?(d=100*o/s,p=100*c/r):(d=100*c/s,p=100*o/r),e.style.width=`${d}%`,e.style.height=`${p}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,s,r)=>{const o=r.detail[e],c=o[0],d=o.slice(1);r.target.style[s]=FE[`${c}_HTML`](d),this.annotationStorage.setValue(this.data.id,{[s]:FE[`${c}_rgb`](d)})};return Gt(this,"_commonActions",{display:e=>{const{display:s}=e.detail,r=s%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:s===1||s===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:s}=e.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const s=e.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(t,e){const s=this._commonActions;for(const r of Object.keys(e.detail)){const o=t[r]||s[r];o==null||o(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const s=this._commonActions;for(const[r,o]of Object.entries(e)){const c=s[r];if(c){const d={detail:{[r]:o},target:t};c(d),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,s,r,o]=this.data.rect.map(T=>Math.fround(T));if(t.length===8){const[T,C,M,O]=t.subarray(2,6);if(r===T&&o===C&&e===M&&s===O)return}const{style:c}=this.container;let d;if(h(this,Hc)){const{borderColor:T,borderWidth:C}=c;c.borderWidth=0,d=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${T}" stroke-width="${C}">`],this.container.classList.add("hasBorder")}const p=r-e,g=o-s,{svgFactory:m}=this,b=m.createElement("svg");b.classList.add("quadrilateralsContainer"),b.setAttribute("width",0),b.setAttribute("height",0);const v=m.createElement("defs");b.append(v);const S=m.createElement("clipPath"),_=`clippath_${this.data.id}`;S.setAttribute("id",_),S.setAttribute("clipPathUnits","objectBoundingBox"),v.append(S);for(let T=2,C=t.length;T<C;T+=8){const M=t[T],O=t[T+1],k=t[T+2],H=t[T+3],j=m.createElement("rect"),B=(k-e)/p,I=(o-O)/g,X=(M-k)/p,G=(O-H)/g;j.setAttribute("x",B),j.setAttribute("y",I),j.setAttribute("width",X),j.setAttribute("height",G),S.append(j),d==null||d.push(`<rect vector-effect="non-scaling-stroke" x="${B}" y="${I}" width="${X}" height="${G}"/>`)}h(this,Hc)&&(d.push("</g></svg>')"),c.backgroundImage=d.join("")),this.container.append(b),this.container.style.clipPath=`url(#${_})`}_createPopup(){const{data:t}=this,e=E(this,jc,new cv({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){he("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const s=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:o,id:c,exportValues:d}of r){if(o===-1||c===e)continue;const p=typeof d=="string"?d:null,g=document.querySelector(`[data-element-id="${c}"]`);if(g&&!ol.has(g)){jt(`_getElementsByName - element not allowed: ${c}`);continue}s.push({id:c,exportValue:p,domElement:g})}return s}for(const r of document.getElementsByName(t)){const{exportValue:o}=r,c=r.getAttribute("data-element-id");c!==e&&ol.has(r)&&s.push({id:c,exportValue:o,domElement:r})}return s}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};Po=new WeakMap,Hc=new WeakMap,jc=new WeakMap,Ed=new WeakSet,lv=function(t){const{container:{style:e},data:{rect:s,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:c,pageX:d,pageY:p}}}}=this;s==null||s.splice(0,4,...t);const{width:g,height:m}=Aa(t);e.left=`${100*(t[0]-d)/o}%`,e.top=`${100*(c-t[3]+p)/c}%`,r===0?(e.width=`${100*g/o}%`,e.height=`${100*m/c}%`):this.setRotation(r)};let Ce=c0;var ai,Jr,S1,_1;class A1 extends Ce{constructor(e,s=null){super(e,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});x(this,ai);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:s}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let o=!1;return e.url?(s.addLinkAttributes(r,e.url,e.newWindow),o=!0):e.action?(this._bindNamedAction(r,e.action),o=!0):e.attachment?(w(this,ai,S1).call(this,r,e.attachment,e.attachmentDest),o=!0):e.setOCGState?(w(this,ai,_1).call(this,r,e.setOCGState),o=!0):e.dest?(this._bindLink(r,e.dest),o=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),o=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(r,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(r),this.container}_bindLink(e,s){e.href=this.linkService.getDestinationHash(s),e.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&w(this,ai,Jr).call(this)}_bindNamedAction(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(s),!1),w(this,ai,Jr).call(this)}_bindJSAction(e,s){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(s.actions)){const c=r.get(o);c&&(e[c]=()=>{var d;return(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:o}}),!1})}e.onclick||(e.onclick=()=>!1),w(this,ai,Jr).call(this)}_bindResetFormAction(e,s){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),w(this,ai,Jr).call(this),!this._fieldObjects){jt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{var b;r==null||r();const{fields:o,refs:c,include:d}=s,p=[];if(o.length!==0||c.length!==0){const v=new Set(c);for(const S of o){const _=this._fieldObjects[S]||[];for(const{id:T}of _)v.add(T)}for(const S of Object.values(this._fieldObjects))for(const _ of S)v.has(_.id)===d&&p.push(_)}else for(const v of Object.values(this._fieldObjects))p.push(...v);const g=this.annotationStorage,m=[];for(const v of p){const{id:S}=v;switch(m.push(S),v.type){case"text":{const T=v.defaultValue||"";g.setValue(S,{value:T});break}case"checkbox":case"radiobutton":{const T=v.defaultValue===v.exportValues;g.setValue(S,{value:T});break}case"combobox":case"listbox":{const T=v.defaultValue||"";g.setValue(S,{value:T});break}default:continue}const _=document.querySelector(`[data-element-id="${S}"]`);if(_){if(!ol.has(_)){jt(`_bindResetFormAction - element not allowed: ${S}`);continue}}else continue;_.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:m,name:"ResetForm"}})),!1}}}ai=new WeakSet,Jr=function(){this.container.setAttribute("data-internal-link","")},S1=function(e,s,r=null){e.href=this.linkService.getAnchorUrl(""),s.description&&(e.title=s.description),e.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(s.content,s.filename,r),!1},w(this,ai,Jr).call(this)},_1=function(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(s),!1),w(this,ai,Jr).call(this)};class PO extends Ce{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class fl extends Ce{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Rn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,s,r,o){s.includes("mouse")?t.addEventListener(s,c=>{var d;(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(s,c=>{var d;if(s==="blur"){if(!e.focused||!c.relatedTarget)return;e.focused=!1}else if(s==="focus"){if(e.focused)return;e.focused=!0}o&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(c)}}))})}_setEventListeners(t,e,s,r){var o,c,d;for(const[p,g]of s)(g==="Action"||(o=this.data.actions)!=null&&o[g])&&((g==="Focus"||g==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,p,g,r),g==="Focus"&&!((c=this.data.actions)!=null&&c.Blur)?this._setEventListener(t,e,"blur","Blur",null):g==="Blur"&&!((d=this.data.actions)!=null&&d.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":bt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||kO,o=t.style;let c;const d=2,p=g=>Math.round(10*g)/10;if(this.data.multiLine){const g=Math.abs(this.data.rect[3]-this.data.rect[1]-d),m=Math.round(g/(hb*r))||1,b=g/m;c=Math.min(r,p(b/hb))}else{const g=Math.abs(this.data.rect[3]-this.data.rect[1]-d);c=Math.min(r,p(g/hb))}o.fontSize=`calc(${c}px * var(--scale-factor))`,o.color=bt.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(o.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class HO extends fl{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,s,r){const o=this.annotationStorage;for(const c of this._getElementsByName(t.name,t.id))c.domElement&&(c.domElement[e]=s),o.setValue(c.id,{[r]:s})}render(){var r,o;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const c=t.getValue(e,{value:this.data.fieldValue});let d=c.value||"";const p=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;p&&d.length>p&&(d=d.slice(0,p));let g=c.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;g&&this.data.comb&&(g=g.replaceAll(/\s+/g,""));const m={userValue:d,formattedValue:g,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=g??d,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type="text",s.setAttribute("value",g??d),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),ol.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=rf,this._setRequired(s,this.data.required),p&&(s.maxLength=p),s.addEventListener("input",v=>{t.setValue(e,{value:v.target.value}),this.setPropertyOnSiblings(s,"value",v.target.value,"value"),m.formattedValue=null}),s.addEventListener("resetform",v=>{const S=this.data.defaultFieldValue??"";s.value=m.userValue=S,m.formattedValue=null});let b=v=>{const{formattedValue:S}=m;S!=null&&(v.target.value=S),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",S=>{var T;if(m.focused)return;const{target:_}=S;m.userValue&&(_.value=m.userValue),m.lastCommittedValue=_.value,m.commitKey=1,(T=this.data.actions)!=null&&T.Focus||(m.focused=!0)}),s.addEventListener("updatefromsandbox",S=>{this.showElementAndHideCanvas(S.target);const _={value(T){m.userValue=T.detail.value??"",t.setValue(e,{value:m.userValue.toString()}),T.target.value=m.userValue},formattedValue(T){const{formattedValue:C}=T.detail;m.formattedValue=C,C!=null&&T.target!==document.activeElement&&(T.target.value=C),t.setValue(e,{formattedValue:C})},selRange(T){T.target.setSelectionRange(...T.detail.selRange)},charLimit:T=>{var k;const{charLimit:C}=T.detail,{target:M}=T;if(C===0){M.removeAttribute("maxLength");return}M.setAttribute("maxLength",C);let O=m.userValue;!O||O.length<=C||(O=O.slice(0,C),M.value=m.userValue=O,t.setValue(e,{value:O}),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:O,willCommit:!0,commitKey:1,selStart:M.selectionStart,selEnd:M.selectionEnd}}))}};this._dispatchEventFromSandbox(_,S)}),s.addEventListener("keydown",S=>{var C;m.commitKey=1;let _=-1;if(S.key==="Escape"?_=0:S.key==="Enter"&&!this.data.multiLine?_=2:S.key==="Tab"&&(m.commitKey=3),_===-1)return;const{value:T}=S.target;m.lastCommittedValue!==T&&(m.lastCommittedValue=T,m.userValue=T,(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,willCommit:!0,commitKey:_,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}))});const v=b;b=null,s.addEventListener("blur",S=>{var T,C;if(!m.focused||!S.relatedTarget)return;(T=this.data.actions)!=null&&T.Blur||(m.focused=!1);const{value:_}=S.target;m.userValue=_,m.lastCommittedValue!==_&&((C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:_,willCommit:!0,commitKey:m.commitKey,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}})),v(S)}),(o=this.data.actions)!=null&&o.Keystroke&&s.addEventListener("beforeinput",S=>{var j;m.lastCommittedValue=null;const{data:_,target:T}=S,{value:C,selectionStart:M,selectionEnd:O}=T;let k=M,H=O;switch(S.inputType){case"deleteWordBackward":{const B=C.substring(0,M).match(/\w*[^\w]*$/);B&&(k-=B[0].length);break}case"deleteWordForward":{const B=C.substring(M).match(/^[^\w]*\w*/);B&&(H+=B[0].length);break}case"deleteContentBackward":M===O&&(k-=1);break;case"deleteContentForward":M===O&&(H+=1);break}S.preventDefault(),(j=this.linkService.eventBus)==null||j.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:C,change:_||"",willCommit:!1,selStart:k,selEnd:H}})}),this._setEventListeners(s,m,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],S=>S.target.value)}if(b&&s.addEventListener("blur",b),this.data.comb){const S=(this.data.rect[2]-this.data.rect[0])/p;s.classList.add("comb"),s.style.letterSpacing=`calc(${S}px * var(--scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class jO extends fl{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class zO extends fl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,s=e.id;let r=t.getValue(s,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(s,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return ol.add(o),o.setAttribute("data-element-id",s),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",e.exportValue),o.tabIndex=rf,o.addEventListener("change",c=>{const{name:d,checked:p}=c.target;for(const g of this._getElementsByName(d,s)){const m=p&&g.exportValue===e.exportValue;g.domElement&&(g.domElement.checked=m),t.setValue(g.id,{value:m})}t.setValue(s,{value:p})}),o.addEventListener("resetform",c=>{const d=e.defaultFieldValue||"Off";c.target.checked=d===e.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",c=>{const d={value(p){p.target.checked=p.detail.value!=="Off",t.setValue(s,{value:p.target.checked})}};this._dispatchEventFromSandbox(d,c)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class E1 extends fl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,s=e.id;let r=t.getValue(s,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(s,{value:r})),r)for(const c of this._getElementsByName(e.fieldName,s))t.setValue(c.id,{value:!1});const o=document.createElement("input");if(ol.add(o),o.setAttribute("data-element-id",s),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=rf,o.addEventListener("change",c=>{const{name:d,checked:p}=c.target;for(const g of this._getElementsByName(d,s))t.setValue(g.id,{value:!1});t.setValue(s,{value:p})}),o.addEventListener("resetform",c=>{const d=e.defaultFieldValue;c.target.checked=d!=null&&d===e.buttonValue}),this.enableScripting&&this.hasJSActions){const c=e.buttonValue;o.addEventListener("updatefromsandbox",d=>{const p={value:g=>{const m=c===g.detail.value;for(const b of this._getElementsByName(g.target.name)){const v=m&&b.id===s;b.domElement&&(b.domElement.checked=v),t.setValue(b.id,{value:v})}}};this._dispatchEventFromSandbox(p,d)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class UO extends A1{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),t}}class BO extends fl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,s=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");ol.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=rf;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",m=>{const b=this.data.defaultFieldValue;for(const v of r.options)v.selected=v.value===b});for(const m of this.data.options){const b=document.createElement("option");b.textContent=m.displayValue,b.value=m.exportValue,s.value.includes(m.exportValue)&&(b.setAttribute("selected",!0),o=!1),r.append(b)}let c=null;if(o){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),r.prepend(m),c=()=>{m.remove(),r.removeEventListener("input",c),c=null},r.addEventListener("input",c)}const d=m=>{const b=m?"value":"textContent",{options:v,multiple:S}=r;return S?Array.prototype.filter.call(v,_=>_.selected).map(_=>_[b]):v.selectedIndex===-1?null:v[v.selectedIndex][b]};let p=d(!1);const g=m=>{const b=m.target.options;return Array.prototype.map.call(b,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",m=>{const b={value(v){c==null||c();const S=v.detail.value,_=new Set(Array.isArray(S)?S:[S]);for(const T of r.options)T.selected=_.has(T.value);t.setValue(e,{value:d(!0)}),p=d(!1)},multipleSelection(v){r.multiple=!0},remove(v){const S=r.options,_=v.detail.remove;S[_].selected=!1,r.remove(_),S.length>0&&Array.prototype.findIndex.call(S,C=>C.selected)===-1&&(S[0].selected=!0),t.setValue(e,{value:d(!0),items:g(v)}),p=d(!1)},clear(v){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),p=d(!1)},insert(v){const{index:S,displayValue:_,exportValue:T}=v.detail.insert,C=r.children[S],M=document.createElement("option");M.textContent=_,M.value=T,C?C.before(M):r.append(M),t.setValue(e,{value:d(!0),items:g(v)}),p=d(!1)},items(v){const{items:S}=v.detail;for(;r.length!==0;)r.remove(0);for(const _ of S){const{displayValue:T,exportValue:C}=_,M=document.createElement("option");M.textContent=T,M.value=C,r.append(M)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:d(!0),items:g(v)}),p=d(!1)},indices(v){const S=new Set(v.detail.indices);for(const _ of v.target.options)_.selected=S.has(_.index);t.setValue(e,{value:d(!0)}),p=d(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(b,m)}),r.addEventListener("input",m=>{var S;const b=d(!0),v=d(!1);t.setValue(e,{value:b}),m.preventDefault(),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:p,change:v,changeEx:b,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):r.addEventListener("input",function(m){t.setValue(e,{value:d(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class cv extends Ce{constructor(t){const{data:e,elements:s}=t;super(t,{isRenderable:Ce._hasPopupData(e)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new IO({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const s of this.elements)s.popup=t,s.container.ariaHasPopup="dialog",e.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(s=>`${Kv}${s}`).join(",")),this.container}}var zc,wg,Tg,Uc,Ho,_e,aa,Bc,wd,Td,Ic,ra,qi,oa,xd,la,Rd,jo,zo,ie,Bp,uv,w1,T1,x1,R1,Ip,qp,hv;class IO{constructor({container:t,color:e,elements:s,titleObj:r,modificationDate:o,contentsObj:c,richText:d,parent:p,rect:g,parentRect:m,open:b}){x(this,ie);x(this,zc,w(this,ie,x1).bind(this));x(this,wg,w(this,ie,hv).bind(this));x(this,Tg,w(this,ie,qp).bind(this));x(this,Uc,w(this,ie,Ip).bind(this));x(this,Ho,null);x(this,_e,null);x(this,aa,null);x(this,Bc,null);x(this,wd,null);x(this,Td,null);x(this,Ic,null);x(this,ra,!1);x(this,qi,null);x(this,oa,null);x(this,xd,null);x(this,la,null);x(this,Rd,null);x(this,jo,null);x(this,zo,!1);var v;E(this,_e,t),E(this,Rd,r),E(this,aa,c),E(this,la,d),E(this,Td,p),E(this,Ho,e),E(this,xd,g),E(this,Ic,m),E(this,wd,s),E(this,Bc,Qv.toDateObject(o)),this.trigger=s.flatMap(S=>S.getElementsToTriggerPopup());for(const S of this.trigger)S.addEventListener("click",h(this,Uc)),S.addEventListener("mouseenter",h(this,Tg)),S.addEventListener("mouseleave",h(this,wg)),S.classList.add("popupTriggerArea");for(const S of s)(v=S.container)==null||v.addEventListener("keydown",h(this,zc));h(this,_e).hidden=!0,b&&w(this,ie,Ip).call(this)}render(){if(h(this,qi))return;const t=E(this,qi,document.createElement("div"));if(t.className="popup",h(this,Ho)){const o=t.style.outlineColor=bt.makeHexColor(...h(this,Ho));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:t.style.backgroundColor=bt.makeHexColor(...h(this,Ho).map(d=>Math.floor(.7*(255-d)+d)))}const e=document.createElement("span");e.className="header";const s=document.createElement("h1");if(e.append(s),{dir:s.dir,str:s.textContent}=h(this,Rd),t.append(e),h(this,Bc)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:h(this,Bc).valueOf()})),e.append(o)}const r=h(this,ie,Bp);if(r)v1.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(h(this,aa));t.append(o)}h(this,_e).append(t)}_formatContents({str:t,dir:e}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let o=0,c=r.length;o<c;++o){const d=r[o];s.append(document.createTextNode(d)),o<c-1&&s.append(document.createElement("br"))}return s}updateEdited({rect:t,popupContent:e}){var s;h(this,jo)||E(this,jo,{contentsObj:h(this,aa),richText:h(this,la)}),t&&E(this,oa,null),e&&(E(this,la,w(this,ie,T1).call(this,e)),E(this,aa,null)),(s=h(this,qi))==null||s.remove(),E(this,qi,null)}resetEdited(){var t;h(this,jo)&&({contentsObj:En(this,aa)._,richText:En(this,la)._}=h(this,jo),E(this,jo,null),(t=h(this,qi))==null||t.remove(),E(this,qi,null),E(this,oa,null))}forceHide(){E(this,zo,this.isVisible),h(this,zo)&&(h(this,_e).hidden=!0)}maybeShow(){h(this,zo)&&(h(this,qi)||w(this,ie,qp).call(this),E(this,zo,!1),h(this,_e).hidden=!1)}get isVisible(){return h(this,_e).hidden===!1}}zc=new WeakMap,wg=new WeakMap,Tg=new WeakMap,Uc=new WeakMap,Ho=new WeakMap,_e=new WeakMap,aa=new WeakMap,Bc=new WeakMap,wd=new WeakMap,Td=new WeakMap,Ic=new WeakMap,ra=new WeakMap,qi=new WeakMap,oa=new WeakMap,xd=new WeakMap,la=new WeakMap,Rd=new WeakMap,jo=new WeakMap,zo=new WeakMap,ie=new WeakSet,Bp=function(){const t=h(this,la),e=h(this,aa);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&h(this,la).html||null},uv=function(){var t,e,s;return((s=(e=(t=h(this,ie,Bp))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:s.fontSize)||0},w1=function(){var t,e,s;return((s=(e=(t=h(this,ie,Bp))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:s.color)||null},T1=function(t){const e=[],s={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:h(this,ie,w1),fontSize:h(this,ie,uv)?`calc(${h(this,ie,uv)}px * var(--scale-factor))`:""}};for(const o of t.split(`
`))e.push({name:"span",value:o,attributes:r});return s},x1=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&h(this,ra))&&w(this,ie,Ip).call(this)},R1=function(){if(h(this,oa)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:s,pageX:r,pageY:o}}}=h(this,Td);let c=!!h(this,Ic),d=c?h(this,Ic):h(this,xd);for(const _ of h(this,wd))if(!d||bt.intersect(_.data.rect,d)!==null){d=_.data.rect,c=!0;break}const p=bt.normalizeRect([d[0],t[3]-d[1]+t[1],d[2],t[3]-d[3]+t[1]]),m=c?d[2]-d[0]+5:0,b=p[0]+m,v=p[1];E(this,oa,[100*(b-r)/e,100*(v-o)/s]);const{style:S}=h(this,_e);S.left=`${h(this,oa)[0]}%`,S.top=`${h(this,oa)[1]}%`},Ip=function(){E(this,ra,!h(this,ra)),h(this,ra)?(w(this,ie,qp).call(this),h(this,_e).addEventListener("click",h(this,Uc)),h(this,_e).addEventListener("keydown",h(this,zc))):(w(this,ie,hv).call(this),h(this,_e).removeEventListener("click",h(this,Uc)),h(this,_e).removeEventListener("keydown",h(this,zc)))},qp=function(){h(this,qi)||this.render(),this.isVisible?h(this,ra)&&h(this,_e).classList.add("focused"):(w(this,ie,R1).call(this),h(this,_e).hidden=!1,h(this,_e).style.zIndex=parseInt(h(this,_e).style.zIndex)+1e3)},hv=function(){h(this,_e).classList.remove("focused"),!(h(this,ra)||!this.isVisible)&&(h(this,_e).hidden=!0,h(this,_e).style.zIndex=parseInt(h(this,_e).style.zIndex)-1e3)};class C1 extends Ce{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=kt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const s=document.createElement("span");s.textContent=e,t.append(s)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Cd;class qO extends Ce{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,Cd,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:s,height:r}=Aa(e.rect),o=this.svgFactory.create(s,r,!0),c=E(this,Cd,this.svgFactory.createElement("svg:line"));return c.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),c.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),c.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),c.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),c.setAttribute("stroke-width",e.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),o.append(c),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Cd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Cd=new WeakMap;var Md;class GO extends Ce{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,Md,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:s,height:r}=Aa(e.rect),o=this.svgFactory.create(s,r,!0),c=e.borderStyle.width,d=E(this,Md,this.svgFactory.createElement("svg:rect"));return d.setAttribute("x",c/2),d.setAttribute("y",c/2),d.setAttribute("width",s-c),d.setAttribute("height",r-c),d.setAttribute("stroke-width",c||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),o.append(d),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Md)}addHighlightArea(){this.container.classList.add("highlightArea")}}Md=new WeakMap;var Dd;class VO extends Ce{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,Dd,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:s,height:r}=Aa(e.rect),o=this.svgFactory.create(s,r,!0),c=e.borderStyle.width,d=E(this,Dd,this.svgFactory.createElement("svg:ellipse"));return d.setAttribute("cx",s/2),d.setAttribute("cy",r/2),d.setAttribute("rx",s/2-c/2),d.setAttribute("ry",r/2-c/2),d.setAttribute("stroke-width",c||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),o.append(d),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Dd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Dd=new WeakMap;var Od;class M1 extends Ce{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,Od,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:s,borderStyle:r,popupRef:o}}=this;if(!s)return this.container;const{width:c,height:d}=Aa(e),p=this.svgFactory.create(c,d,!0);let g=[];for(let b=0,v=s.length;b<v;b+=2){const S=s[b]-e[0],_=e[3]-s[b+1];g.push(`${S},${_}`)}g=g.join(" ");const m=E(this,Od,this.svgFactory.createElement(this.svgElementName));return m.setAttribute("points",g),m.setAttribute("stroke-width",r.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),p.append(m),this.container.append(p),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Od)}addHighlightArea(){this.container.classList.add("highlightArea")}}Od=new WeakMap;class XO extends M1{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class YO extends Ce{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Ld;class a0 extends Ce{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,Ld,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?kt.HIGHLIGHT:kt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:s,borderStyle:r,popupRef:o}}=this,{width:c,height:d}=Aa(e),p=this.svgFactory.create(c,d,!0);for(const g of s){let m=[];for(let v=0,S=g.length;v<S;v+=2){const _=g[v]-e[0],T=e[3]-g[v+1];m.push(`${_},${T}`)}m=m.join(" ");const b=this.svgFactory.createElement(this.svgElementName);h(this,Ld).push(b),b.setAttribute("points",m),b.setAttribute("stroke-width",r.width||1),b.setAttribute("stroke","transparent"),b.setAttribute("fill","transparent"),p.append(b)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(p),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return h(this,Ld)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ld=new WeakMap;class D1 extends Ce{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=kt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class KO extends Ce{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class $O extends Ce{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class WO extends Ce{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class O1 extends Ce{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=kt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Nd,kd,dv;class QO extends Ce{constructor(e){var r;super(e,{isRenderable:!0});x(this,kd);x(this,Nd,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:s}=this;let r;s.hasAppearance||s.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),r.addEventListener("dblclick",w(this,kd,dv).bind(this)),E(this,Nd,r);const{isMac:o}=Rn.platform;return e.addEventListener("keydown",c=>{c.key==="Enter"&&(o?c.metaKey:c.ctrlKey)&&w(this,kd,dv).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return h(this,Nd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Nd=new WeakMap,kd=new WeakSet,dv=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var Fd,Uo,Bo,Pd,cl,L1,fv,KE;let ZO=(KE=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:s,annotationEditorUIManager:r,page:o,viewport:c,structTreeLayer:d}){x(this,cl);x(this,Fd,null);x(this,Uo,null);x(this,Bo,new Map);x(this,Pd,null);this.div=t,E(this,Fd,e),E(this,Uo,s),E(this,Pd,d||null),this.page=o,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return h(this,Bo).size>0}async render(t){var c;const{annotations:e}=t,s=this.div;al(s,this.viewport);const r=new Map,o={data:null,layer:s,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new s0,annotationStorage:t.annotationStorage||new Jv,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const d of e){if(d.noHTML)continue;const p=d.annotationType===He.POPUP;if(p){const b=r.get(d.id);if(!b)continue;o.elements=b}else{const{width:b,height:v}=Aa(d.rect);if(b<=0||v<=0)continue}o.data=d;const g=FO.create(o);if(!g.isRenderable)continue;if(!p&&d.popupRef){const b=r.get(d.popupRef);b?b.push(g):r.set(d.popupRef,[g])}const m=g.render();d.hidden&&(m.style.visibility="hidden"),await w(this,cl,L1).call(this,m,d.id),g._isEditable&&(h(this,Bo).set(g.data.id,g),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(g))}w(this,cl,fv).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,al(e,{rotation:t.rotation}),w(this,cl,fv).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(h(this,Bo).values())}getEditableAnnotation(t){return h(this,Bo).get(t)}},Fd=new WeakMap,Uo=new WeakMap,Bo=new WeakMap,Pd=new WeakMap,cl=new WeakSet,L1=async function(t,e){var c,d;const s=t.firstChild||t,r=s.id=`${Kv}${e}`,o=await((c=h(this,Pd))==null?void 0:c.getAriaAttributes(r));if(o)for(const[p,g]of o)s.setAttribute(p,g);this.div.append(t),(d=h(this,Fd))==null||d.moveElementInDOM(this.div,t,s,!1)},fv=function(){if(!h(this,Uo))return;const t=this.div;for(const[e,s]of h(this,Uo)){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;s.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(s):o.classList.contains("annotationContent")?o.after(s):o.before(s):r.append(s)}h(this,Uo).clear()},KE);const wp=/\r\n?|\n/g;var Gi,Zn,Hd,Io,Jn,ke,N1,k1,F1,Gp,_a,Vp,Xp,P1,gv,H1;const le=class le extends Jt{constructor(e){super({...e,name:"freeTextEditor"});x(this,ke);x(this,Gi);x(this,Zn,"");x(this,Hd,`${this.id}-editor`);x(this,Io,null);x(this,Jn);E(this,Gi,e.color||le._defaultColor||Jt._defaultLineColor),E(this,Jn,e.fontSize||le._defaultFontSize)}static get _keyboardManager(){const e=le.prototype,s=c=>c.isEmpty(),r=rl.TRANSLATE_SMALL,o=rl.TRANSLATE_BIG;return Gt(this,"_keyboardManager",new af([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-o,0],checker:s}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[o,0],checker:s}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-o],checker:s}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,o],checker:s}]]))}static initialize(e,s){Jt.initialize(e,s);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,s){switch(e){case Rt.FREETEXT_SIZE:le._defaultFontSize=s;break;case Rt.FREETEXT_COLOR:le._defaultColor=s;break}}updateParams(e,s){switch(e){case Rt.FREETEXT_SIZE:w(this,ke,N1).call(this,s);break;case Rt.FREETEXT_COLOR:w(this,ke,k1).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Rt.FREETEXT_SIZE,le._defaultFontSize],[Rt.FREETEXT_COLOR,le._defaultColor||Jt._defaultLineColor]]}get propertiesToUpdate(){return[[Rt.FREETEXT_SIZE,h(this,Jn)],[Rt.FREETEXT_COLOR,h(this,Gi)]]}_translateEmpty(e,s){this._uiManager.translateSelectedEditors(e,s,!0)}getInitialTranslation(){const e=this.parentScale;return[-le._internalPadding*e,-(le._internalPadding+h(this,Jn))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(kt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),E(this,Io,new AbortController);const e=this._uiManager.combinedSignal(h(this,Io));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",h(this,Hd)),this._isDraggable=!0,(e=h(this,Io))==null||e.abort(),E(this,Io,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=h(this,Zn),s=E(this,Zn,w(this,ke,F1).call(this).trimEnd());if(e===s)return;const r=o=>{if(E(this,Zn,o),!o){this.remove();return}w(this,ke,Xp).call(this),this._uiManager.rebuild(this),w(this,ke,Gp).call(this)};this.addCommands({cmd:()=>{r(s)},undo:()=>{r(e)},mustExec:!1}),w(this,ke,Gp).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){le._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,s;this.width&&(e=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",h(this,Hd)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${h(this,Jn)}px * var(--scale-factor))`,r.color=h(this,Gi),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),rg(this,this.div,["dblclick","keydown"]),this.width){const[o,c]=this.parentDimensions;if(this.annotationElementId){const{position:d}=this._initialData;let[p,g]=this.getInitialTranslation();[p,g]=this.pageTranslationToScreen(p,g);const[m,b]=this.pageDimensions,[v,S]=this.pageTranslation;let _,T;switch(this.rotation){case 0:_=e+(d[0]-v)/m,T=s+this.height-(d[1]-S)/b;break;case 90:_=e+(d[0]-v)/m,T=s-(d[1]-S)/b,[p,g]=[g,-p];break;case 180:_=e-this.width+(d[0]-v)/m,T=s-(d[1]-S)/b,[p,g]=[-p,-g];break;case 270:_=e+(d[0]-v-this.height*b)/m,T=s+(d[1]-S-this.width*m)/b,[p,g]=[-g,p];break}this.setAt(_*o,T*c,p,g)}else this.setAt(e*o,s*c,this.width*o,this.height*c);w(this,ke,Xp).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var _,T,C;const s=e.clipboardData||window.clipboardData,{types:r}=s;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const o=w(_=le,_a,gv).call(_,s.getData("text")||"").replaceAll(wp,`
`);if(!o)return;const c=window.getSelection();if(!c.rangeCount)return;this.editorDiv.normalize(),c.deleteFromDocument();const d=c.getRangeAt(0);if(!o.includes(`
`)){d.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),c.collapseToStart();return}const{startContainer:p,startOffset:g}=d,m=[],b=[];if(p.nodeType===Node.TEXT_NODE){const M=p.parentElement;if(b.push(p.nodeValue.slice(g).replaceAll(wp,"")),M!==this.editorDiv){let O=m;for(const k of this.editorDiv.childNodes){if(k===M){O=b;continue}O.push(w(T=le,_a,Vp).call(T,k))}}m.push(p.nodeValue.slice(0,g).replaceAll(wp,""))}else if(p===this.editorDiv){let M=m,O=0;for(const k of this.editorDiv.childNodes)O++===g&&(M=b),M.push(w(C=le,_a,Vp).call(C,k))}E(this,Zn,`${m.join(`
`)}${o}${b.join(`
`)}`),w(this,ke,Xp).call(this);const v=new Range;let S=m.reduce((M,O)=>M+O.length,0);for(const{firstChild:M}of this.editorDiv.childNodes)if(M.nodeType===Node.TEXT_NODE){const O=M.nodeValue.length;if(S<=O){v.setStart(M,S),v.setEnd(M,S);break}S-=O}c.removeAllRanges(),c.addRange(v)}get contentDiv(){return this.editorDiv}static async deserialize(e,s,r){var d;let o=null;if(e instanceof C1){const{data:{defaultAppearanceData:{fontSize:p,fontColor:g},rect:m,rotation:b,id:v,popupRef:S},textContent:_,textPosition:T,parent:{page:{pageNumber:C}}}=e;if(!_||_.length===0)return null;o=e={annotationType:kt.FREETEXT,color:Array.from(g),fontSize:p,value:_.join(`
`),position:T,pageIndex:C-1,rect:m.slice(0),rotation:b,id:v,deleted:!1,popupRef:S}}const c=await super.deserialize(e,s,r);return E(c,Jn,e.fontSize),E(c,Gi,bt.makeHexColor(...e.color)),E(c,Zn,w(d=le,_a,gv).call(d,e.value)),c.annotationElementId=e.id||null,c._initialData=o,c}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=le._internalPadding*this.parentScale,r=this.getRect(s,s),o=Jt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:h(this,Gi)),c={annotationType:kt.FREETEXT,color:o,fontSize:h(this,Jn),value:w(this,ke,P1).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?c:this.annotationElementId&&!w(this,ke,H1).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(e){const s=super.renderAnnotationElement(e);if(this.deleted)return s;const{style:r}=s;r.fontSize=`calc(${h(this,Jn)}px * var(--scale-factor))`,r.color=h(this,Gi),s.replaceChildren();for(const c of h(this,Zn).split(`
`)){const d=document.createElement("div");d.append(c?document.createTextNode(c):document.createElement("br")),s.append(d)}const o=le._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(o,o),popupContent:h(this,Zn)}),s}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};Gi=new WeakMap,Zn=new WeakMap,Hd=new WeakMap,Io=new WeakMap,Jn=new WeakMap,ke=new WeakSet,N1=function(e){const s=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-h(this,Jn))*this.parentScale),E(this,Jn,o),w(this,ke,Gp).call(this)},r=h(this,Jn);this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Rt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},k1=function(e){const s=o=>{E(this,Gi,this.editorDiv.style.color=o)},r=h(this,Gi);this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Rt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},F1=function(){var r;const e=[];this.editorDiv.normalize();let s=null;for(const o of this.editorDiv.childNodes)(s==null?void 0:s.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(e.push(w(r=le,_a,Vp).call(r,o)),s=o);return e.join(`
`)},Gp=function(){const[e,s]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:o,div:c}=this,d=c.style.display,p=c.classList.contains("hidden");c.classList.remove("hidden"),c.style.display="hidden",o.div.append(this.div),r=c.getBoundingClientRect(),c.remove(),c.style.display=d,c.classList.toggle("hidden",p)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/s):(this.width=r.height/e,this.height=r.width/s),this.fixAndSetPosition()},_a=new WeakSet,Vp=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(wp,"")},Xp=function(){if(this.editorDiv.replaceChildren(),!!h(this,Zn))for(const e of h(this,Zn).split(`
`)){const s=document.createElement("div");s.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(s)}},P1=function(){return h(this,Zn).replaceAll(" "," ")},gv=function(e){return e.replaceAll(" "," ")},H1=function(e){const{value:s,fontSize:r,color:o,pageIndex:c}=this._initialData;return this._hasBeenMoved||e.value!==s||e.fontSize!==r||e.color.some((d,p)=>d!==o[p])||e.pageIndex!==c},x(le,_a),xt(le,"_freeTextDefaultContent",""),xt(le,"_internalPadding",0),xt(le,"_defaultColor",null),xt(le,"_defaultFontSize",10),xt(le,"_type","freetext"),xt(le,"_editorType",kt.FREETEXT);let pv=le;class j1{toSVGPath(){he("Abstract method `toSVGPath` must be implemented.")}get box(){he("Abstract getter `box` must be implemented.")}serialize(t,e){he("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){he("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){he("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var ti,Vi,qc,Gc,vs,Ut,qo,Go,jd,zd,Vc,Xc,mr,Ud,xg,Rg,Ie,Ch,z1,U1,B1,I1,q1,G1;const Ks=class Ks{constructor({x:t,y:e},s,r,o,c,d=0){x(this,Ie);x(this,ti);x(this,Vi,[]);x(this,qc);x(this,Gc);x(this,vs,[]);x(this,Ut,new Float64Array(18));x(this,qo);x(this,Go);x(this,jd);x(this,zd);x(this,Vc);x(this,Xc);x(this,mr,[]);E(this,ti,s),E(this,Xc,o*r),E(this,Gc,c),h(this,Ut).set([NaN,NaN,NaN,NaN,t,e],6),E(this,qc,d),E(this,zd,h(Ks,Ud)*r),E(this,jd,h(Ks,Rg)*r),E(this,Vc,r),h(this,mr).push(t,e)}isEmpty(){return isNaN(h(this,Ut)[8])}add({x:t,y:e}){var G;E(this,qo,t),E(this,Go,e);const[s,r,o,c]=h(this,ti);let[d,p,g,m]=h(this,Ut).subarray(8,12);const b=t-g,v=e-m,S=Math.hypot(b,v);if(S<h(this,jd))return!1;const _=S-h(this,zd),T=_/S,C=T*b,M=T*v;let O=d,k=p;d=g,p=m,g+=C,m+=M,(G=h(this,mr))==null||G.push(t,e);const H=-M/_,j=C/_,B=H*h(this,Xc),I=j*h(this,Xc);return h(this,Ut).set(h(this,Ut).subarray(2,8),0),h(this,Ut).set([g+B,m+I],4),h(this,Ut).set(h(this,Ut).subarray(14,18),12),h(this,Ut).set([g-B,m-I],16),isNaN(h(this,Ut)[6])?(h(this,vs).length===0&&(h(this,Ut).set([d+B,p+I],2),h(this,vs).push(NaN,NaN,NaN,NaN,(d+B-s)/o,(p+I-r)/c),h(this,Ut).set([d-B,p-I],14),h(this,Vi).push(NaN,NaN,NaN,NaN,(d-B-s)/o,(p-I-r)/c)),h(this,Ut).set([O,k,d,p,g,m],6),!this.isEmpty()):(h(this,Ut).set([O,k,d,p,g,m],6),Math.abs(Math.atan2(k-p,O-d)-Math.atan2(M,C))<Math.PI/2?([d,p,g,m]=h(this,Ut).subarray(2,6),h(this,vs).push(NaN,NaN,NaN,NaN,((d+g)/2-s)/o,((p+m)/2-r)/c),[d,p,O,k]=h(this,Ut).subarray(14,18),h(this,Vi).push(NaN,NaN,NaN,NaN,((O+d)/2-s)/o,((k+p)/2-r)/c),!0):([O,k,d,p,g,m]=h(this,Ut).subarray(0,6),h(this,vs).push(((O+5*d)/6-s)/o,((k+5*p)/6-r)/c,((5*d+g)/6-s)/o,((5*p+m)/6-r)/c,((d+g)/2-s)/o,((p+m)/2-r)/c),[g,m,d,p,O,k]=h(this,Ut).subarray(12,18),h(this,Vi).push(((O+5*d)/6-s)/o,((k+5*p)/6-r)/c,((5*d+g)/6-s)/o,((5*p+m)/6-r)/c,((d+g)/2-s)/o,((p+m)/2-r)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const t=h(this,vs),e=h(this,Vi);if(isNaN(h(this,Ut)[6])&&!this.isEmpty())return w(this,Ie,z1).call(this);const s=[];s.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?s.push(`L${t[r+4]} ${t[r+5]}`):s.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);w(this,Ie,B1).call(this,s);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?s.push(`L${e[r+4]} ${e[r+5]}`):s.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return w(this,Ie,U1).call(this,s),s.join(" ")}newFreeDrawOutline(t,e,s,r,o,c){return new V1(t,e,s,r,o,c)}getOutlines(){var b;const t=h(this,vs),e=h(this,Vi),s=h(this,Ut),[r,o,c,d]=h(this,ti),p=new Float64Array((((b=h(this,mr))==null?void 0:b.length)??0)+2);for(let v=0,S=p.length-2;v<S;v+=2)p[v]=(h(this,mr)[v]-r)/c,p[v+1]=(h(this,mr)[v+1]-o)/d;if(p[p.length-2]=(h(this,qo)-r)/c,p[p.length-1]=(h(this,Go)-o)/d,isNaN(s[6])&&!this.isEmpty())return w(this,Ie,I1).call(this,p);const g=new Float64Array(h(this,vs).length+24+h(this,Vi).length);let m=t.length;for(let v=0;v<m;v+=2){if(isNaN(t[v])){g[v]=g[v+1]=NaN;continue}g[v]=t[v],g[v+1]=t[v+1]}m=w(this,Ie,G1).call(this,g,m);for(let v=e.length-6;v>=6;v-=6)for(let S=0;S<6;S+=2){if(isNaN(e[v+S])){g[m]=g[m+1]=NaN,m+=2;continue}g[m]=e[v+S],g[m+1]=e[v+S+1],m+=2}return w(this,Ie,q1).call(this,g,m),this.newFreeDrawOutline(g,p,h(this,ti),h(this,Vc),h(this,qc),h(this,Gc))}};ti=new WeakMap,Vi=new WeakMap,qc=new WeakMap,Gc=new WeakMap,vs=new WeakMap,Ut=new WeakMap,qo=new WeakMap,Go=new WeakMap,jd=new WeakMap,zd=new WeakMap,Vc=new WeakMap,Xc=new WeakMap,mr=new WeakMap,Ud=new WeakMap,xg=new WeakMap,Rg=new WeakMap,Ie=new WeakSet,Ch=function(){const t=h(this,Ut).subarray(4,6),e=h(this,Ut).subarray(16,18),[s,r,o,c]=h(this,ti);return[(h(this,qo)+(t[0]-e[0])/2-s)/o,(h(this,Go)+(t[1]-e[1])/2-r)/c,(h(this,qo)+(e[0]-t[0])/2-s)/o,(h(this,Go)+(e[1]-t[1])/2-r)/c]},z1=function(){const[t,e,s,r]=h(this,ti),[o,c,d,p]=w(this,Ie,Ch).call(this);return`M${(h(this,Ut)[2]-t)/s} ${(h(this,Ut)[3]-e)/r} L${(h(this,Ut)[4]-t)/s} ${(h(this,Ut)[5]-e)/r} L${o} ${c} L${d} ${p} L${(h(this,Ut)[16]-t)/s} ${(h(this,Ut)[17]-e)/r} L${(h(this,Ut)[14]-t)/s} ${(h(this,Ut)[15]-e)/r} Z`},U1=function(t){const e=h(this,Vi);t.push(`L${e[4]} ${e[5]} Z`)},B1=function(t){const[e,s,r,o]=h(this,ti),c=h(this,Ut).subarray(4,6),d=h(this,Ut).subarray(16,18),[p,g,m,b]=w(this,Ie,Ch).call(this);t.push(`L${(c[0]-e)/r} ${(c[1]-s)/o} L${p} ${g} L${m} ${b} L${(d[0]-e)/r} ${(d[1]-s)/o}`)},I1=function(t){const e=h(this,Ut),[s,r,o,c]=h(this,ti),[d,p,g,m]=w(this,Ie,Ch).call(this),b=new Float64Array(36);return b.set([NaN,NaN,NaN,NaN,(e[2]-s)/o,(e[3]-r)/c,NaN,NaN,NaN,NaN,(e[4]-s)/o,(e[5]-r)/c,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,(e[16]-s)/o,(e[17]-r)/c,NaN,NaN,NaN,NaN,(e[14]-s)/o,(e[15]-r)/c],0),this.newFreeDrawOutline(b,t,h(this,ti),h(this,Vc),h(this,qc),h(this,Gc))},q1=function(t,e){const s=h(this,Vi);return t.set([NaN,NaN,NaN,NaN,s[4],s[5]],e),e+=6},G1=function(t,e){const s=h(this,Ut).subarray(4,6),r=h(this,Ut).subarray(16,18),[o,c,d,p]=h(this,ti),[g,m,b,v]=w(this,Ie,Ch).call(this);return t.set([NaN,NaN,NaN,NaN,(s[0]-o)/d,(s[1]-c)/p,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,b,v,NaN,NaN,NaN,NaN,(r[0]-o)/d,(r[1]-c)/p],e),e+=24},x(Ks,Ud,8),x(Ks,xg,2),x(Ks,Rg,h(Ks,Ud)+h(Ks,xg));let lg=Ks;var Yc,Vo,ca,Bd,ei,Id,xe,Un,Mh,Dh,X1;class V1 extends j1{constructor(e,s,r,o,c,d){super();x(this,Un);x(this,Yc);x(this,Vo,null);x(this,ca);x(this,Bd);x(this,ei);x(this,Id);x(this,xe);E(this,xe,e),E(this,ei,s),E(this,Yc,r),E(this,Id,o),E(this,ca,c),E(this,Bd,d),w(this,Un,X1).call(this,d);const{x:p,y:g,width:m,height:b}=h(this,Vo);for(let v=0,S=e.length;v<S;v+=2)e[v]=(e[v]-p)/m,e[v+1]=(e[v+1]-g)/b;for(let v=0,S=s.length;v<S;v+=2)s[v]=(s[v]-p)/m,s[v+1]=(s[v+1]-g)/b}toSVGPath(){const e=[`M${h(this,xe)[4]} ${h(this,xe)[5]}`];for(let s=6,r=h(this,xe).length;s<r;s+=6){if(isNaN(h(this,xe)[s])){e.push(`L${h(this,xe)[s+4]} ${h(this,xe)[s+5]}`);continue}e.push(`C${h(this,xe)[s]} ${h(this,xe)[s+1]} ${h(this,xe)[s+2]} ${h(this,xe)[s+3]} ${h(this,xe)[s+4]} ${h(this,xe)[s+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,s,r,o],c){const d=r-e,p=o-s;let g,m;switch(c){case 0:g=w(this,Un,Mh).call(this,h(this,xe),e,o,d,-p),m=w(this,Un,Mh).call(this,h(this,ei),e,o,d,-p);break;case 90:g=w(this,Un,Dh).call(this,h(this,xe),e,s,d,p),m=w(this,Un,Dh).call(this,h(this,ei),e,s,d,p);break;case 180:g=w(this,Un,Mh).call(this,h(this,xe),r,s,-d,p),m=w(this,Un,Mh).call(this,h(this,ei),r,s,-d,p);break;case 270:g=w(this,Un,Dh).call(this,h(this,xe),r,o,-d,-p),m=w(this,Un,Dh).call(this,h(this,ei),r,o,-d,-p);break}return{outline:Array.from(g),points:[Array.from(m)]}}get box(){return h(this,Vo)}newOutliner(e,s,r,o,c,d=0){return new lg(e,s,r,o,c,d)}getNewOutline(e,s){const{x:r,y:o,width:c,height:d}=h(this,Vo),[p,g,m,b]=h(this,Yc),v=c*m,S=d*b,_=r*m+p,T=o*b+g,C=this.newOutliner({x:h(this,ei)[0]*v+_,y:h(this,ei)[1]*S+T},h(this,Yc),h(this,Id),e,h(this,Bd),s??h(this,ca));for(let M=2;M<h(this,ei).length;M+=2)C.add({x:h(this,ei)[M]*v+_,y:h(this,ei)[M+1]*S+T});return C.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Yc=new WeakMap,Vo=new WeakMap,ca=new WeakMap,Bd=new WeakMap,ei=new WeakMap,Id=new WeakMap,xe=new WeakMap,Un=new WeakSet,Mh=function(e,s,r,o,c){const d=new Float64Array(e.length);for(let p=0,g=e.length;p<g;p+=2)d[p]=s+e[p]*o,d[p+1]=r+e[p+1]*c;return d},Dh=function(e,s,r,o,c){const d=new Float64Array(e.length);for(let p=0,g=e.length;p<g;p+=2)d[p]=s+e[p+1]*o,d[p+1]=r+e[p]*c;return d},X1=function(e){const s=h(this,xe);let r=s[4],o=s[5],c=r,d=o,p=r,g=o,m=r,b=o;const v=e?Math.max:Math.min;for(let M=6,O=s.length;M<O;M+=6){if(isNaN(s[M]))c=Math.min(c,s[M+4]),d=Math.min(d,s[M+5]),p=Math.max(p,s[M+4]),g=Math.max(g,s[M+5]),b<s[M+5]?(m=s[M+4],b=s[M+5]):b===s[M+5]&&(m=v(m,s[M+4]));else{const k=bt.bezierBoundingBox(r,o,...s.slice(M,M+6));c=Math.min(c,k[0]),d=Math.min(d,k[1]),p=Math.max(p,k[2]),g=Math.max(g,k[3]),b<k[3]?(m=k[2],b=k[3]):b===k[3]&&(m=v(m,k[2]))}r=s[M+4],o=s[M+5]}const S=c-h(this,ca),_=d-h(this,ca),T=p-c+2*h(this,ca),C=g-d+2*h(this,ca);E(this,Vo,{x:S,y:_,width:T,height:C,lastPoint:[m,b]})};var qd,yr,Xi,Mn,Y1,Yp,K1,$1,mv;class PE{constructor(t,e=0,s=0,r=!0){x(this,Mn);x(this,qd);x(this,yr,[]);x(this,Xi,[]);let o=1/0,c=-1/0,d=1/0,p=-1/0;const g=10**-4;for(const{x:C,y:M,width:O,height:k}of t){const H=Math.floor((C-e)/g)*g,j=Math.ceil((C+O+e)/g)*g,B=Math.floor((M-e)/g)*g,I=Math.ceil((M+k+e)/g)*g,X=[H,B,I,!0],G=[j,B,I,!1];h(this,yr).push(X,G),o=Math.min(o,H),c=Math.max(c,j),d=Math.min(d,B),p=Math.max(p,I)}const m=c-o+2*s,b=p-d+2*s,v=o-s,S=d-s,_=h(this,yr).at(r?-1:-2),T=[_[0],_[2]];for(const C of h(this,yr)){const[M,O,k]=C;C[0]=(M-v)/m,C[1]=(O-S)/b,C[2]=(k-S)/b}E(this,qd,{x:v,y:S,width:m,height:b,lastPoint:T})}getOutlines(){h(this,yr).sort((e,s)=>e[0]-s[0]||e[1]-s[1]||e[2]-s[2]);const t=[];for(const e of h(this,yr))e[3]?(t.push(...w(this,Mn,mv).call(this,e)),w(this,Mn,K1).call(this,e)):(w(this,Mn,$1).call(this,e),t.push(...w(this,Mn,mv).call(this,e)));return w(this,Mn,Y1).call(this,t)}}qd=new WeakMap,yr=new WeakMap,Xi=new WeakMap,Mn=new WeakSet,Y1=function(t){const e=[],s=new Set;for(const c of t){const[d,p,g]=c;e.push([d,p,c],[d,g,c])}e.sort((c,d)=>c[1]-d[1]||c[0]-d[0]);for(let c=0,d=e.length;c<d;c+=2){const p=e[c][2],g=e[c+1][2];p.push(g),g.push(p),s.add(p),s.add(g)}const r=[];let o;for(;s.size>0;){const c=s.values().next().value;let[d,p,g,m,b]=c;s.delete(c);let v=d,S=p;for(o=[d,g],r.push(o);;){let _;if(s.has(m))_=m;else if(s.has(b))_=b;else break;s.delete(_),[d,p,g,m,b]=_,v!==d&&(o.push(v,S,d,S===p?p:g),v=d),S=S===p?g:p}o.push(v,S)}return new JO(r,h(this,qd))},Yp=function(t){const e=h(this,Xi);let s=0,r=e.length-1;for(;s<=r;){const o=s+r>>1,c=e[o][0];if(c===t)return o;c<t?s=o+1:r=o-1}return r+1},K1=function([,t,e]){const s=w(this,Mn,Yp).call(this,t);h(this,Xi).splice(s,0,[t,e])},$1=function([,t,e]){const s=w(this,Mn,Yp).call(this,t);for(let r=s;r<h(this,Xi).length;r++){const[o,c]=h(this,Xi)[r];if(o!==t)break;if(o===t&&c===e){h(this,Xi).splice(r,1);return}}for(let r=s-1;r>=0;r--){const[o,c]=h(this,Xi)[r];if(o!==t)break;if(o===t&&c===e){h(this,Xi).splice(r,1);return}}},mv=function(t){const[e,s,r]=t,o=[[e,s,r]],c=w(this,Mn,Yp).call(this,r);for(let d=0;d<c;d++){const[p,g]=h(this,Xi)[d];for(let m=0,b=o.length;m<b;m++){const[,v,S]=o[m];if(!(g<=v||S<=p)){if(v>=p){if(S>g)o[m][1]=g;else{if(b===1)return[];o.splice(m,1),m--,b--}continue}o[m][2]=p,S>g&&o.push([e,g,S])}}}return o};var Gd,Kc;class JO extends j1{constructor(e,s){super();x(this,Gd);x(this,Kc);E(this,Kc,e),E(this,Gd,s)}toSVGPath(){const e=[];for(const s of h(this,Kc)){let[r,o]=s;e.push(`M${r} ${o}`);for(let c=2;c<s.length;c+=2){const d=s[c],p=s[c+1];d===r?(e.push(`V${p}`),o=p):p===o&&(e.push(`H${d}`),r=d)}e.push("Z")}return e.join(" ")}serialize([e,s,r,o],c){const d=[],p=r-e,g=o-s;for(const m of h(this,Kc)){const b=new Array(m.length);for(let v=0;v<m.length;v+=2)b[v]=e+m[v]*p,b[v+1]=o-m[v+1]*g;d.push(b)}return d}get box(){return h(this,Gd)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Gd=new WeakMap,Kc=new WeakMap;class yv extends lg{newFreeDrawOutline(t,e,s,r,o,c){return new tL(t,e,s,r,o,c)}get classNamesForDrawing(){return["highlight","free"]}}class tL extends V1{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,e,s,r,o,c=0){return new yv(t,e,s,r,o,c)}}var Yi,Xo,$c,ze,Vd,Wc,Xd,Yd,br,Ki,Qc,Kd,ne,bv,vv,Av,to,W1,Wa;const Fn=class Fn{constructor({editor:t=null,uiManager:e=null}){x(this,ne);x(this,Yi,null);x(this,Xo,null);x(this,$c);x(this,ze,null);x(this,Vd,!1);x(this,Wc,!1);x(this,Xd,null);x(this,Yd);x(this,br,null);x(this,Ki,null);x(this,Qc);var s;t?(E(this,Wc,!1),E(this,Qc,Rt.HIGHLIGHT_COLOR),E(this,Xd,t)):(E(this,Wc,!0),E(this,Qc,Rt.HIGHLIGHT_DEFAULT_COLOR)),E(this,Ki,(t==null?void 0:t._uiManager)||e),E(this,Yd,h(this,Ki)._eventBus),E(this,$c,(t==null?void 0:t.color)||((s=h(this,Ki))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),h(Fn,Kd)||E(Fn,Kd,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Gt(this,"_keyboardManager",new af([[["Escape","mac+Escape"],Fn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Fn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Fn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Fn.prototype._moveToPrevious],[["Home","mac+Home"],Fn.prototype._moveToBeginning],[["End","mac+End"],Fn.prototype._moveToEnd]]))}renderButton(){const t=E(this,Yi,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=h(this,Ki)._signal;t.addEventListener("click",w(this,ne,to).bind(this),{signal:e}),t.addEventListener("keydown",w(this,ne,Av).bind(this),{signal:e});const s=E(this,Xo,document.createElement("span"));return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=h(this,$c),t.append(s),t}renderMainDropdown(){const t=E(this,ze,w(this,ne,bv).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===h(this,Yi)){w(this,ne,to).call(this,t);return}const e=t.target.getAttribute("data-color");e&&w(this,ne,vv).call(this,e,t)}_moveToNext(t){var e,s;if(!h(this,ne,Wa)){w(this,ne,to).call(this,t);return}if(t.target===h(this,Yi)){(e=h(this,ze).firstChild)==null||e.focus();return}(s=t.target.nextSibling)==null||s.focus()}_moveToPrevious(t){var e,s;if(t.target===((e=h(this,ze))==null?void 0:e.firstChild)||t.target===h(this,Yi)){h(this,ne,Wa)&&this._hideDropdownFromKeyboard();return}h(this,ne,Wa)||w(this,ne,to).call(this,t),(s=t.target.previousSibling)==null||s.focus()}_moveToBeginning(t){var e;if(!h(this,ne,Wa)){w(this,ne,to).call(this,t);return}(e=h(this,ze).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!h(this,ne,Wa)){w(this,ne,to).call(this,t);return}(e=h(this,ze).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=h(this,ze))==null||t.classList.add("hidden"),(e=h(this,br))==null||e.abort(),E(this,br,null)}_hideDropdownFromKeyboard(){var t;if(!h(this,Wc)){if(!h(this,ne,Wa)){(t=h(this,Xd))==null||t.unselect();return}this.hideDropdown(),h(this,Yi).focus({preventScroll:!0,focusVisible:h(this,Vd)})}}updateColor(t){if(h(this,Xo)&&(h(this,Xo).style.backgroundColor=t),!h(this,ze))return;const e=h(this,Ki).highlightColors.values();for(const s of h(this,ze).children)s.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=h(this,Yi))==null||t.remove(),E(this,Yi,null),E(this,Xo,null),(e=h(this,ze))==null||e.remove(),E(this,ze,null)}};Yi=new WeakMap,Xo=new WeakMap,$c=new WeakMap,ze=new WeakMap,Vd=new WeakMap,Wc=new WeakMap,Xd=new WeakMap,Yd=new WeakMap,br=new WeakMap,Ki=new WeakMap,Qc=new WeakMap,Kd=new WeakMap,ne=new WeakSet,bv=function(){const t=document.createElement("div"),e=h(this,Ki)._signal;t.addEventListener("contextmenu",Di,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,r]of h(this,Ki).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=s,o.setAttribute("data-l10n-id",h(Fn,Kd)[s]);const c=document.createElement("span");o.append(c),c.className="swatch",c.style.backgroundColor=r,o.setAttribute("aria-selected",r===h(this,$c)),o.addEventListener("click",w(this,ne,vv).bind(this,r),{signal:e}),t.append(o)}return t.addEventListener("keydown",w(this,ne,Av).bind(this),{signal:e}),t},vv=function(t,e){e.stopPropagation(),h(this,Yd).dispatch("switchannotationeditorparams",{source:this,type:h(this,Qc),value:t})},Av=function(t){Fn._keyboardManager.exec(this,t)},to=function(t){if(h(this,ne,Wa)){this.hideDropdown();return}if(E(this,Vd,t.detail===0),h(this,br)||(E(this,br,new AbortController),window.addEventListener("pointerdown",w(this,ne,W1).bind(this),{signal:h(this,Ki).combinedSignal(h(this,br))})),h(this,ze)){h(this,ze).classList.remove("hidden");return}const e=E(this,ze,w(this,ne,bv).call(this));h(this,Yi).append(e)},W1=function(t){var e;(e=h(this,ze))!=null&&e.contains(t.target)||this.hideDropdown()},Wa=function(){return h(this,ze)&&!h(this,ze).classList.contains("hidden")},x(Fn,Kd,null);let cg=Fn;var Zc,$d,ua,Yo,Jc,wi,Wd,Qd,Ko,$i,mn,jn,tu,ha,Ue,eu,Ti,Zd,Lt,Sv,Kp,Q1,Z1,J1,_v,eo,Ci,ic,tT,$p,Oh,eT,nT,iT,sT,aT;const $t=class $t extends Jt{constructor(e){super({...e,name:"highlightEditor"});x(this,Lt);x(this,Zc,null);x(this,$d,0);x(this,ua);x(this,Yo,null);x(this,Jc,null);x(this,wi,null);x(this,Wd,null);x(this,Qd,0);x(this,Ko,null);x(this,$i,null);x(this,mn,null);x(this,jn,!1);x(this,tu,null);x(this,ha);x(this,Ue,null);x(this,eu,"");x(this,Ti);x(this,Zd,"");this.color=e.color||$t._defaultColor,E(this,Ti,e.thickness||$t._defaultThickness),E(this,ha,e.opacity||$t._defaultOpacity),E(this,ua,e.boxes||null),E(this,Zd,e.methodOfCreation||""),E(this,eu,e.text||""),this._isDraggable=!1,e.highlightId>-1?(E(this,jn,!0),w(this,Lt,Kp).call(this,e),w(this,Lt,eo).call(this)):h(this,ua)&&(E(this,Zc,e.anchorNode),E(this,$d,e.anchorOffset),E(this,Wd,e.focusNode),E(this,Qd,e.focusOffset),w(this,Lt,Sv).call(this),w(this,Lt,eo).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=$t.prototype;return Gt(this,"_keyboardManager",new af([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:h(this,jn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:h(this,Ti),methodOfCreation:h(this,Zd)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,s){var r;Jt.initialize(e,s),$t._defaultColor||($t._defaultColor=((r=s.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(e,s){switch(e){case Rt.HIGHLIGHT_DEFAULT_COLOR:$t._defaultColor=s;break;case Rt.HIGHLIGHT_THICKNESS:$t._defaultThickness=s;break}}translateInPage(e,s){}get toolbarPosition(){return h(this,tu)}updateParams(e,s){switch(e){case Rt.HIGHLIGHT_COLOR:w(this,Lt,Q1).call(this,s);break;case Rt.HIGHLIGHT_THICKNESS:w(this,Lt,Z1).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Rt.HIGHLIGHT_DEFAULT_COLOR,$t._defaultColor],[Rt.HIGHLIGHT_THICKNESS,$t._defaultThickness]]}get propertiesToUpdate(){return[[Rt.HIGHLIGHT_COLOR,this.color||$t._defaultColor],[Rt.HIGHLIGHT_THICKNESS,h(this,Ti)||$t._defaultThickness],[Rt.HIGHLIGHT_FREE,h(this,jn)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(E(this,Jc,new cg({editor:this})),e.addColorPicker(h(this,Jc))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(w(this,Lt,Oh).call(this))}getBaseTranslation(){return[0,0]}getRect(e,s){return super.getRect(e,s,w(this,Lt,Oh).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){w(this,Lt,_v).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(w(this,Lt,eo).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let s=!1;this.parent&&!e?w(this,Lt,_v).call(this):e&&(w(this,Lt,eo).call(this,e),s=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),s&&this.select()}rotate(e){var o,c,d;const{drawLayer:s}=this.parent;let r;h(this,jn)?(e=(e-this.rotation+360)%360,r=w(o=$t,Ci,ic).call(o,h(this,$i).box,e)):r=w(c=$t,Ci,ic).call(c,this,e),s.rotate(h(this,mn),e),s.rotate(h(this,Ue),e),s.updateBox(h(this,mn),r),s.updateBox(h(this,Ue),w(d=$t,Ci,ic).call(d,h(this,wi).box,e))}render(){if(this.div)return this.div;const e=super.render();h(this,eu)&&(e.setAttribute("aria-label",h(this,eu)),e.setAttribute("role","mark")),h(this,jn)?e.classList.add("free"):this.div.addEventListener("keydown",w(this,Lt,tT).bind(this),{signal:this._uiManager._signal});const s=E(this,Ko,document.createElement("div"));e.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=h(this,Yo);const[r,o]=this.parentDimensions;return this.setDims(this.width*r,this.height*o),rg(this,h(this,Ko),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(h(this,Ue),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(h(this,Ue),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:w(this,Lt,$p).call(this,!0);break;case 1:case 3:w(this,Lt,$p).call(this,!1);break}}select(){var e,s;super.select(),h(this,Ue)&&((e=this.parent)==null||e.drawLayer.removeClass(h(this,Ue),"hovered"),(s=this.parent)==null||s.drawLayer.addClass(h(this,Ue),"selected"))}unselect(){var e;super.unselect(),h(this,Ue)&&((e=this.parent)==null||e.drawLayer.removeClass(h(this,Ue),"selected"),h(this,jn)||w(this,Lt,$p).call(this,!1))}get _mustFixPosition(){return!h(this,jn)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(h(this,mn),e),this.parent.drawLayer.show(h(this,Ue),e))}static startHighlighting(e,s,{target:r,x:o,y:c}){const{x:d,y:p,width:g,height:m}=r.getBoundingClientRect(),b=new AbortController,v=e.combinedSignal(b),S=T=>{T.preventDefault(),T.stopPropagation()},_=T=>{b.abort(),w(this,Ci,sT).call(this,e,T)};window.addEventListener("blur",_,{signal:v}),window.addEventListener("pointerup",_,{signal:v}),window.addEventListener("pointerdown",S,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",Di,{signal:v}),r.addEventListener("pointermove",w(this,Ci,iT).bind(this,e),{signal:v}),this._freeHighlight=new yv({x:o,y:c},[d,p,g,m],e.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(e,s,r){var T,C,M,O;let o=null;if(e instanceof D1){const{data:{quadPoints:k,rect:H,rotation:j,id:B,color:I,opacity:X,popupRef:G},parent:{page:{pageNumber:nt}}}=e;o=e={annotationType:kt.HIGHLIGHT,color:Array.from(I),opacity:X,quadPoints:k,boxes:null,pageIndex:nt-1,rect:H.slice(0),rotation:j,id:B,deleted:!1,popupRef:G}}else if(e instanceof a0){const{data:{inkLists:k,rect:H,rotation:j,id:B,color:I,borderStyle:{rawWidth:X},popupRef:G},parent:{page:{pageNumber:nt}}}=e;o=e={annotationType:kt.HIGHLIGHT,color:Array.from(I),thickness:X,inkLists:k,boxes:null,pageIndex:nt-1,rect:H.slice(0),rotation:j,id:B,deleted:!1,popupRef:G}}const{color:c,quadPoints:d,inkLists:p,opacity:g}=e,m=await super.deserialize(e,s,r);m.color=bt.makeHexColor(...c),E(m,ha,g||1),p&&E(m,Ti,e.thickness),m.annotationElementId=e.id||null,m._initialData=o;const[b,v]=m.pageDimensions,[S,_]=m.pageTranslation;if(d){const k=E(m,ua,[]);for(let H=0;H<d.length;H+=8)k.push({x:(d[H]-S)/b,y:1-(d[H+1]-_)/v,width:(d[H+2]-d[H])/b,height:(d[H+1]-d[H+5])/v});w(T=m,Lt,Sv).call(T),w(C=m,Lt,eo).call(C),m.rotate(m.rotation)}else if(p){E(m,jn,!0);const k=p[0],H={x:k[0]-S,y:v-(k[1]-_)},j=new yv(H,[0,0,b,v],1,h(m,Ti)/2,!0,.001);for(let X=0,G=k.length;X<G;X+=2)H.x=k[X]-S,H.y=v-(k[X+1]-_),j.add(H);const{id:B,clipPathId:I}=s.drawLayer.draw(j,m.color,m._defaultOpacity,!0);w(M=m,Lt,Kp).call(M,{highlightOutlines:j.getOutlines(),highlightId:B,clipPathId:I}),w(O=m,Lt,eo).call(O)}return m}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const s=this.getRect(0,0),r=Jt._colorManager.convert(this.color),o={annotationType:kt.HIGHLIGHT,color:r,opacity:h(this,ha),thickness:h(this,Ti),quadPoints:w(this,Lt,eT).call(this),outlines:w(this,Lt,nT).call(this,s),pageIndex:this.pageIndex,rect:s,rotation:w(this,Lt,Oh).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!w(this,Lt,aT).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Zc=new WeakMap,$d=new WeakMap,ua=new WeakMap,Yo=new WeakMap,Jc=new WeakMap,wi=new WeakMap,Wd=new WeakMap,Qd=new WeakMap,Ko=new WeakMap,$i=new WeakMap,mn=new WeakMap,jn=new WeakMap,tu=new WeakMap,ha=new WeakMap,Ue=new WeakMap,eu=new WeakMap,Ti=new WeakMap,Zd=new WeakMap,Lt=new WeakSet,Sv=function(){const e=new PE(h(this,ua),.001);E(this,$i,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=h(this,$i).box;const s=new PE(h(this,ua),.0025,.001,this._uiManager.direction==="ltr");E(this,wi,s.getOutlines());const{lastPoint:r}=h(this,wi).box;E(this,tu,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},Kp=function({highlightOutlines:e,highlightId:s,clipPathId:r}){var b,v;if(E(this,$i,e),E(this,wi,e.getNewOutline(h(this,Ti)/2+1.5,.0025)),s>=0)E(this,mn,s),E(this,Yo,r),this.parent.drawLayer.finalizeLine(s,e),E(this,Ue,this.parent.drawLayer.drawOutline(h(this,wi)));else if(this.parent){const S=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(h(this,mn),e),this.parent.drawLayer.updateBox(h(this,mn),w(b=$t,Ci,ic).call(b,h(this,$i).box,(S-this.rotation+360)%360)),this.parent.drawLayer.updateLine(h(this,Ue),h(this,wi)),this.parent.drawLayer.updateBox(h(this,Ue),w(v=$t,Ci,ic).call(v,h(this,wi).box,S))}const{x:c,y:d,width:p,height:g}=e.box;switch(this.rotation){case 0:this.x=c,this.y=d,this.width=p,this.height=g;break;case 90:{const[S,_]=this.parentDimensions;this.x=d,this.y=1-c,this.width=p*_/S,this.height=g*S/_;break}case 180:this.x=1-c,this.y=1-d,this.width=p,this.height=g;break;case 270:{const[S,_]=this.parentDimensions;this.x=1-d,this.y=c,this.width=p*_/S,this.height=g*S/_;break}}const{lastPoint:m}=h(this,wi).box;E(this,tu,[(m[0]-c)/p,(m[1]-d)/g])},Q1=function(e){const s=(c,d)=>{var p,g,m;this.color=c,(p=this.parent)==null||p.drawLayer.changeColor(h(this,mn),c),(g=h(this,Jc))==null||g.updateColor(c),E(this,ha,d),(m=this.parent)==null||m.drawLayer.changeOpacity(h(this,mn),d)},r=this.color,o=h(this,ha);this.addCommands({cmd:s.bind(this,e,$t._defaultOpacity),undo:s.bind(this,r,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Rt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},Z1=function(e){const s=h(this,Ti),r=o=>{E(this,Ti,o),w(this,Lt,J1).call(this,o)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Rt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},J1=function(e){if(!h(this,jn))return;w(this,Lt,Kp).call(this,{highlightOutlines:h(this,$i).getNewOutline(e/2)}),this.fixAndSetPosition();const[s,r]=this.parentDimensions;this.setDims(this.width*s,this.height*r)},_v=function(){h(this,mn)===null||!this.parent||(this.parent.drawLayer.remove(h(this,mn)),E(this,mn,null),this.parent.drawLayer.remove(h(this,Ue)),E(this,Ue,null))},eo=function(e=this.parent){h(this,mn)===null&&({id:En(this,mn)._,clipPathId:En(this,Yo)._}=e.drawLayer.draw(h(this,$i),this.color,h(this,ha)),E(this,Ue,e.drawLayer.drawOutline(h(this,wi))),h(this,Ko)&&(h(this,Ko).style.clipPath=h(this,Yo)))},Ci=new WeakSet,ic=function({x:e,y:s,width:r,height:o},c){switch(c){case 90:return{x:1-s-o,y:e,width:o,height:r};case 180:return{x:1-e-r,y:1-s-o,width:r,height:o};case 270:return{x:s,y:1-e-r,width:o,height:r}}return{x:e,y:s,width:r,height:o}},tT=function(e){$t._keyboardManager.exec(this,e)},$p=function(e){if(!h(this,Zc))return;const s=window.getSelection();e?s.setPosition(h(this,Zc),h(this,$d)):s.setPosition(h(this,Wd),h(this,Qd))},Oh=function(){return h(this,jn)?this.rotation:0},eT=function(){if(h(this,jn))return null;const[e,s]=this.pageDimensions,[r,o]=this.pageTranslation,c=h(this,ua),d=new Float32Array(c.length*8);let p=0;for(const{x:g,y:m,width:b,height:v}of c){const S=g*e+r,_=(1-m-v)*s+o;d[p]=d[p+4]=S,d[p+1]=d[p+3]=_,d[p+2]=d[p+6]=S+b*e,d[p+5]=d[p+7]=_+v*s,p+=8}return d},nT=function(e){return h(this,$i).serialize(e,w(this,Lt,Oh).call(this))},iT=function(e,s){this._freeHighlight.add(s)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},sT=function(e,s){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},aT=function(e){const{color:s}=this._initialData;return e.color.some((r,o)=>r!==s[o])},x($t,Ci),xt($t,"_defaultColor",null),xt($t,"_defaultOpacity",1),xt($t,"_defaultThickness",12),xt($t,"_type","highlight"),xt($t,"_editorType",kt.HIGHLIGHT),xt($t,"_freeHighlightId",-1),xt($t,"_freeHighlight",null),xt($t,"_freeHighlightClipId","");let ug=$t;var $o,Wo,As,da,xi,Qo,Zo,Jo,fa,nu,tl,el,vr,rt,rT,oT,lT,cT,wv,uT,Tv,hT,dT,fT,pT,gT,no,xv,Rv,Cv,Wp,Qp,sc,Mv,Zp,wa,mT,Dv,yT,bT,Ov,Jp,Lh;const ge=class ge extends Jt{constructor(e){super({...e,name:"inkEditor"});x(this,rt);x(this,$o,0);x(this,Wo,0);x(this,As,null);x(this,da,new Path2D);x(this,xi,!1);x(this,Qo,null);x(this,Zo,!1);x(this,Jo,!1);x(this,fa,null);x(this,nu,null);x(this,tl,0);x(this,el,0);x(this,vr,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,s){Jt.initialize(e,s)}static updateDefaultParams(e,s){switch(e){case Rt.INK_THICKNESS:ge._defaultThickness=s;break;case Rt.INK_COLOR:ge._defaultColor=s;break;case Rt.INK_OPACITY:ge._defaultOpacity=s/100;break}}updateParams(e,s){switch(e){case Rt.INK_THICKNESS:w(this,rt,rT).call(this,s);break;case Rt.INK_COLOR:w(this,rt,oT).call(this,s);break;case Rt.INK_OPACITY:w(this,rt,lT).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Rt.INK_THICKNESS,ge._defaultThickness],[Rt.INK_COLOR,ge._defaultColor||Jt._defaultLineColor],[Rt.INK_OPACITY,Math.round(ge._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Rt.INK_THICKNESS,this.thickness||ge._defaultThickness],[Rt.INK_COLOR,this.color||ge._defaultColor||Jt._defaultLineColor],[Rt.INK_OPACITY,Math.round(100*(this.opacity??ge._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(w(this,rt,Wp).call(this),w(this,rt,Qp).call(this)),this.isAttachedToDOM||(this.parent.add(this),w(this,rt,sc).call(this)),w(this,rt,Lh).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,h(this,As)&&(clearTimeout(h(this,As)),E(this,As,null)),(e=h(this,fa))==null||e.disconnect(),E(this,fa,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,s]=this.parentDimensions,r=this.width*e,o=this.height*s;this.setDimensions(r,o)}enableEditMode(){h(this,xi)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,w(this,rt,xv).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),w(this,rt,Rv).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){h(this,xi)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),E(this,xi,!0),this.div.classList.add("disabled"),w(this,rt,Lh).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||h(this,xi)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),w(this,rt,uT).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),w(this,rt,Tv).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),w(this,rt,Cv).call(this,e)}canvasPointerleave(e){w(this,rt,Cv).call(this,e)}get isResizable(){return!this.isEmpty()&&h(this,xi)}render(){if(this.div)return this.div;let e,s;this.width&&(e=this.x,s=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,o,c,d]=w(this,rt,cT).call(this);if(this.setAt(r,o,0,0),this.setDims(c,d),w(this,rt,Wp).call(this),this.width){const[p,g]=this.parentDimensions;this.setAspectRatio(this.width*p,this.height*g),this.setAt(e*p,s*g,this.width*p,this.height*g),E(this,Jo,!0),w(this,rt,sc).call(this),this.setDims(this.width*p,this.height*g),w(this,rt,no).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return w(this,rt,Qp).call(this),this.div}setDimensions(e,s){const r=Math.round(e),o=Math.round(s);if(h(this,tl)===r&&h(this,el)===o)return;E(this,tl,r),E(this,el,o),this.canvas.style.visibility="hidden";const[c,d]=this.parentDimensions;this.width=e/c,this.height=s/d,this.fixAndSetPosition(),h(this,xi)&&w(this,rt,Mv).call(this,e,s),w(this,rt,sc).call(this),w(this,rt,no).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,s,r){var C,M,O;if(e instanceof a0)return null;const o=await super.deserialize(e,s,r);o.thickness=e.thickness,o.color=bt.makeHexColor(...e.color),o.opacity=e.opacity;const[c,d]=o.pageDimensions,p=o.width*c,g=o.height*d,m=o.parentScale,b=e.thickness/2;E(o,xi,!0),E(o,tl,Math.round(p)),E(o,el,Math.round(g));const{paths:v,rect:S,rotation:_}=e;for(let{bezier:k}of v){k=w(C=ge,wa,yT).call(C,k,S,_);const H=[];o.paths.push(H);let j=m*(k[0]-b),B=m*(k[1]-b);for(let X=2,G=k.length;X<G;X+=6){const nt=m*(k[X]-b),it=m*(k[X+1]-b),ut=m*(k[X+2]-b),ht=m*(k[X+3]-b),dt=m*(k[X+4]-b),mt=m*(k[X+5]-b);H.push([[j,B],[nt,it],[ut,ht],[dt,mt]]),j=dt,B=mt}const I=w(this,wa,mT).call(this,H);o.bezierPath2D.push(I)}const T=w(M=o,rt,Ov).call(M);return E(o,Wo,Math.max(Jt.MIN_SIZE,T[2]-T[0])),E(o,$o,Math.max(Jt.MIN_SIZE,T[3]-T[1])),w(O=o,rt,Mv).call(O,p,g),o}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),s=Jt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:kt.INK,color:s,thickness:this.thickness,opacity:this.opacity,paths:w(this,rt,bT).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};$o=new WeakMap,Wo=new WeakMap,As=new WeakMap,da=new WeakMap,xi=new WeakMap,Qo=new WeakMap,Zo=new WeakMap,Jo=new WeakMap,fa=new WeakMap,nu=new WeakMap,tl=new WeakMap,el=new WeakMap,vr=new WeakMap,rt=new WeakSet,rT=function(e){const s=o=>{this.thickness=o,w(this,rt,Lh).call(this)},r=this.thickness;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Rt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},oT=function(e){const s=o=>{this.color=o,w(this,rt,no).call(this)},r=this.color;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Rt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},lT=function(e){const s=o=>{this.opacity=o,w(this,rt,no).call(this)};e/=100;const r=this.opacity;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Rt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},cT=function(){const{parentRotation:e,parentDimensions:[s,r]}=this;switch(e){case 90:return[0,r,r,s];case 180:return[s,r,s,r];case 270:return[s,0,r,s];default:return[0,0,s,r]}},wv=function(){const{ctx:e,color:s,opacity:r,thickness:o,parentScale:c,scaleFactor:d}=this;e.lineWidth=o*c/d,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${s}${_D(r)}`},uT=function(e,s){this.canvas.addEventListener("contextmenu",Di,{signal:this._uiManager._signal}),w(this,rt,Rv).call(this),E(this,Qo,new AbortController);const r=this._uiManager.combinedSignal(h(this,Qo));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,h(this,Jo)||(E(this,Jo,!0),w(this,rt,sc).call(this),this.thickness||(this.thickness=ge._defaultThickness),this.color||(this.color=ge._defaultColor||Jt._defaultLineColor),this.opacity??(this.opacity=ge._defaultOpacity)),this.currentPath.push([e,s]),E(this,Zo,!1),w(this,rt,wv).call(this),E(this,vr,()=>{w(this,rt,fT).call(this),h(this,vr)&&window.requestAnimationFrame(h(this,vr))}),window.requestAnimationFrame(h(this,vr))},Tv=function(e,s){const[r,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===r&&s===o)return;const c=this.currentPath;let d=h(this,da);if(c.push([e,s]),E(this,Zo,!0),c.length<=2){d.moveTo(...c[0]),d.lineTo(e,s);return}c.length===3&&(E(this,da,d=new Path2D),d.moveTo(...c[0])),w(this,rt,pT).call(this,d,...c.at(-3),...c.at(-2),e,s)},hT=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);h(this,da).lineTo(...e)},dT=function(e,s){E(this,vr,null),e=Math.min(Math.max(e,0),this.canvas.width),s=Math.min(Math.max(s,0),this.canvas.height),w(this,rt,Tv).call(this,e,s),w(this,rt,hT).call(this);let r;if(this.currentPath.length!==1)r=w(this,rt,gT).call(this);else{const g=[e,s];r=[[g,g.slice(),g.slice(),g]]}const o=h(this,da),c=this.currentPath;this.currentPath=[],E(this,da,new Path2D);const d=()=>{this.allRawPaths.push(c),this.paths.push(r),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},p=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(w(this,rt,Wp).call(this),w(this,rt,Qp).call(this)),w(this,rt,Lh).call(this))};this.addCommands({cmd:d,undo:p,mustExec:!0})},fT=function(){if(!h(this,Zo))return;E(this,Zo,!1);const e=Math.ceil(this.thickness*this.parentScale),s=this.currentPath.slice(-3),r=s.map(d=>d[0]),o=s.map(d=>d[1]);Math.min(...r)-e,Math.max(...r)+e,Math.min(...o)-e,Math.max(...o)+e;const{ctx:c}=this;c.save(),c.clearRect(0,0,this.canvas.width,this.canvas.height);for(const d of this.bezierPath2D)c.stroke(d);c.stroke(h(this,da)),c.restore()},pT=function(e,s,r,o,c,d,p){const g=(s+o)/2,m=(r+c)/2,b=(o+d)/2,v=(c+p)/2;e.bezierCurveTo(g+2*(o-g)/3,m+2*(c-m)/3,b+2*(o-b)/3,v+2*(c-v)/3,b,v)},gT=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const s=[];let r,[o,c]=e[0];for(r=1;r<e.length-2;r++){const[S,_]=e[r],[T,C]=e[r+1],M=(S+T)/2,O=(_+C)/2,k=[o+2*(S-o)/3,c+2*(_-c)/3],H=[M+2*(S-M)/3,O+2*(_-O)/3];s.push([[o,c],k,H,[M,O]]),[o,c]=[M,O]}const[d,p]=e[r],[g,m]=e[r+1],b=[o+2*(d-o)/3,c+2*(p-c)/3],v=[g+2*(d-g)/3,m+2*(p-m)/3];return s.push([[o,c],b,v,[g,m]]),s},no=function(){if(this.isEmpty()){w(this,rt,Zp).call(this);return}w(this,rt,wv).call(this);const{canvas:e,ctx:s}=this;s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,e.width,e.height),w(this,rt,Zp).call(this);for(const r of this.bezierPath2D)s.stroke(r)},xv=function(){if(h(this,nu))return;E(this,nu,new AbortController);const e=this._uiManager.combinedSignal(h(this,nu));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})},Rv=function(){var e;(e=this.pointerdownAC)==null||e.abort(),this.pointerdownAC=null},Cv=function(e){var s;(s=h(this,Qo))==null||s.abort(),E(this,Qo,null),w(this,rt,xv).call(this),h(this,As)&&clearTimeout(h(this,As)),E(this,As,setTimeout(()=>{E(this,As,null),this.canvas.removeEventListener("contextmenu",Di)},10)),w(this,rt,dT).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Wp=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Qp=function(){E(this,fa,new ResizeObserver(e=>{const s=e[0].contentRect;s.width&&s.height&&this.setDimensions(s.width,s.height)})),h(this,fa).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=h(this,fa))==null||e.disconnect(),E(this,fa,null)},{once:!0})},sc=function(){if(!h(this,Jo))return;const[e,s]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*s),w(this,rt,Zp).call(this)},Mv=function(e,s){const r=w(this,rt,Jp).call(this),o=(e-r)/h(this,Wo),c=(s-r)/h(this,$o);this.scaleFactor=Math.min(o,c)},Zp=function(){const e=w(this,rt,Jp).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},wa=new WeakSet,mT=function(e){const s=new Path2D;for(let r=0,o=e.length;r<o;r++){const[c,d,p,g]=e[r];r===0&&s.moveTo(...c),s.bezierCurveTo(d[0],d[1],p[0],p[1],g[0],g[1])}return s},Dv=function(e,s,r){const[o,c,d,p]=s;switch(r){case 0:for(let g=0,m=e.length;g<m;g+=2)e[g]+=o,e[g+1]=p-e[g+1];break;case 90:for(let g=0,m=e.length;g<m;g+=2){const b=e[g];e[g]=e[g+1]+o,e[g+1]=b+c}break;case 180:for(let g=0,m=e.length;g<m;g+=2)e[g]=d-e[g],e[g+1]+=c;break;case 270:for(let g=0,m=e.length;g<m;g+=2){const b=e[g];e[g]=d-e[g+1],e[g+1]=p-b}break;default:throw new Error("Invalid rotation")}return e},yT=function(e,s,r){const[o,c,d,p]=s;switch(r){case 0:for(let g=0,m=e.length;g<m;g+=2)e[g]-=o,e[g+1]=p-e[g+1];break;case 90:for(let g=0,m=e.length;g<m;g+=2){const b=e[g];e[g]=e[g+1]-c,e[g+1]=b-o}break;case 180:for(let g=0,m=e.length;g<m;g+=2)e[g]=d-e[g],e[g+1]-=c;break;case 270:for(let g=0,m=e.length;g<m;g+=2){const b=e[g];e[g]=p-e[g+1],e[g+1]=d-b}break;default:throw new Error("Invalid rotation")}return e},bT=function(e,s,r,o){var m,b;const c=[],d=this.thickness/2,p=e*s+d,g=e*r+d;for(const v of this.paths){const S=[],_=[];for(let T=0,C=v.length;T<C;T++){const[M,O,k,H]=v[T];if(M[0]===H[0]&&M[1]===H[1]&&C===1){const ht=e*M[0]+p,dt=e*M[1]+g;S.push(ht,dt),_.push(ht,dt);break}const j=e*M[0]+p,B=e*M[1]+g,I=e*O[0]+p,X=e*O[1]+g,G=e*k[0]+p,nt=e*k[1]+g,it=e*H[0]+p,ut=e*H[1]+g;T===0&&(S.push(j,B),_.push(j,B)),S.push(I,X,G,nt,it,ut),_.push(I,X),T===C-1&&_.push(it,ut)}c.push({bezier:w(m=ge,wa,Dv).call(m,S,o,this.rotation),points:w(b=ge,wa,Dv).call(b,_,o,this.rotation)})}return c},Ov=function(){let e=1/0,s=-1/0,r=1/0,o=-1/0;for(const c of this.paths)for(const[d,p,g,m]of c){const b=bt.bezierBoundingBox(...d,...p,...g,...m);e=Math.min(e,b[0]),r=Math.min(r,b[1]),s=Math.max(s,b[2]),o=Math.max(o,b[3])}return[e,r,s,o]},Jp=function(){return h(this,xi)?Math.ceil(this.thickness*this.parentScale):0},Lh=function(e=!1){if(this.isEmpty())return;if(!h(this,xi)){w(this,rt,no).call(this);return}const s=w(this,rt,Ov).call(this),r=w(this,rt,Jp).call(this);E(this,Wo,Math.max(Jt.MIN_SIZE,s[2]-s[0])),E(this,$o,Math.max(Jt.MIN_SIZE,s[3]-s[1]));const o=Math.ceil(r+h(this,Wo)*this.scaleFactor),c=Math.ceil(r+h(this,$o)*this.scaleFactor),[d,p]=this.parentDimensions;this.width=o/d,this.height=c/p,this.setAspectRatio(o,c);const g=this.translationX,m=this.translationY;this.translationX=-s[0],this.translationY=-s[1],w(this,rt,sc).call(this),w(this,rt,no).call(this),E(this,tl,o),E(this,el,c),this.setDims(o,c);const b=e?r/this.scaleFactor/2:0;this.translate(g-this.translationX-b,m-this.translationY-b)},x(ge,wa),xt(ge,"_defaultColor",null),xt(ge,"_defaultOpacity",1),xt(ge,"_defaultThickness",1),xt(ge,"_type","ink"),xt(ge,"_editorType",kt.INK);let Ev=ge;var ye,on,Ar,pa,Sr,iu,Ss,ga,_s,ni,su,It,Nh,kh,tg,Nv,vT,eg,kv,ng,AT,ST;const Hh=class Hh extends Jt{constructor(e){super({...e,name:"stampEditor"});x(this,It);x(this,ye,null);x(this,on,null);x(this,Ar,null);x(this,pa,null);x(this,Sr,null);x(this,iu,"");x(this,Ss,null);x(this,ga,null);x(this,_s,null);x(this,ni,!1);x(this,su,!1);E(this,pa,e.bitmapUrl),E(this,Sr,e.bitmapFile)}static initialize(e,s){Jt.initialize(e,s)}static get supportedTypes(){return Gt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(s=>`image/${s}`))}static get supportedTypesStr(){return Gt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,s){s.pasteEditor(kt.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const s=e.get("hasAltText");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}async mlGuessAltText(e=null,s=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:c,height:d}=e||this.copyCanvas(null,null,!0).imageData,p=await r.guess({name:"altText",request:{data:o,width:c,height:d,channels:o.length/(c*d)}});if(!p)throw new Error("No response from the AI service.");if(p.error)throw new Error("Error from the AI service.");if(p.cancel)return null;if(!p.output)throw new Error("No valid response from the AI service.");const g=p.output;return await this.setGuessedAltText(g),s&&!this.hasAltTextData()&&(this.altTextData={alt:g,decorative:!1}),g}remove(){var e,s;h(this,on)&&(E(this,ye,null),this._uiManager.imageManager.deleteId(h(this,on)),(e=h(this,Ss))==null||e.remove(),E(this,Ss,null),(s=h(this,ga))==null||s.disconnect(),E(this,ga,null),h(this,_s)&&(clearTimeout(h(this,_s)),E(this,_s,null))),super.remove()}rebuild(){if(!this.parent){h(this,on)&&w(this,It,tg).call(this);return}super.rebuild(),this.div!==null&&(h(this,on)&&h(this,Ss)===null&&w(this,It,tg).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(h(this,Ar)||h(this,ye)||h(this,pa)||h(this,Sr)||h(this,on))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,s;if(this.width&&(e=this.x,s=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),h(this,ye)?w(this,It,Nv).call(this):w(this,It,tg).call(this),this.width&&!this.annotationElementId){const[r,o]=this.parentDimensions;this.setAt(e*r,s*o,this.width*r,this.height*o)}return this.div}copyCanvas(e,s,r=!1){var S;e||(e=224);const{width:o,height:c}=h(this,ye),d=new Cb;let p=h(this,ye),g=o,m=c,b=null;if(s){if(o>s||c>s){const X=Math.min(s/o,s/c);g=Math.floor(o*X),m=Math.floor(c*X)}b=document.createElement("canvas");const _=b.width=Math.ceil(g*d.sx),T=b.height=Math.ceil(m*d.sy);h(this,ni)||(p=w(this,It,eg).call(this,_,T));const C=b.getContext("2d");C.filter=this._uiManager.hcmFilter;let M="white",O="#cfcfd8";this._uiManager.hcmFilter!=="none"?O="black":(S=window.matchMedia)!=null&&S.call(window,"(prefers-color-scheme: dark)").matches&&(M="#8f8f9d",O="#42414d");const k=15,H=k*d.sx,j=k*d.sy,B=new OffscreenCanvas(H*2,j*2),I=B.getContext("2d");I.fillStyle=M,I.fillRect(0,0,H*2,j*2),I.fillStyle=O,I.fillRect(0,0,H,j),I.fillRect(H,j,H,j),C.fillStyle=C.createPattern(B,"repeat"),C.fillRect(0,0,_,T),C.drawImage(p,0,0,p.width,p.height,0,0,_,T)}let v=null;if(r){let _,T;if(d.symmetric&&p.width<e&&p.height<e)_=p.width,T=p.height;else if(p=h(this,ye),o>e||c>e){const O=Math.min(e/o,e/c);_=Math.floor(o*O),T=Math.floor(c*O),h(this,ni)||(p=w(this,It,eg).call(this,_,T))}const M=new OffscreenCanvas(_,T).getContext("2d",{willReadFrequently:!0});M.drawImage(p,0,0,p.width,p.height,0,0,_,T),v={width:_,height:T,data:M.getImageData(0,0,_,T).data}}return{canvas:b,width:g,height:m,imageData:v}}getImageForAltText(){return h(this,Ss)}static async deserialize(e,s,r){var T;let o=null;if(e instanceof O1){const{data:{rect:C,rotation:M,id:O,structParent:k,popupRef:H},container:j,parent:{page:{pageNumber:B}}}=e,I=j.querySelector("canvas"),X=r.imageManager.getFromCanvas(j.id,I);I.remove();const G=((T=await s._structTree.getAriaAttributes(`${Kv}${O}`))==null?void 0:T.get("aria-label"))||"";o=e={annotationType:kt.STAMP,bitmapId:X.id,bitmap:X.bitmap,pageIndex:B-1,rect:C.slice(0),rotation:M,id:O,deleted:!1,accessibilityData:{decorative:!1,altText:G},isSvg:!1,structParent:k,popupRef:H}}const c=await super.deserialize(e,s,r),{rect:d,bitmap:p,bitmapUrl:g,bitmapId:m,isSvg:b,accessibilityData:v}=e;m&&r.imageManager.isValidId(m)?(E(c,on,m),p&&E(c,ye,p)):E(c,pa,g),E(c,ni,b);const[S,_]=c.pageDimensions;return c.width=(d[2]-d[0])/S,c.height=(d[3]-d[1])/_,c.annotationElementId=e.id||null,v&&(c.altTextData=v),c._initialData=o,E(c,su,!!o),c}serialize(e=!1,s=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:kt.STAMP,bitmapId:h(this,on),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:h(this,ni),structTreeParentId:this._structTreeParentId};if(e)return r.bitmapUrl=w(this,It,ng).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:o,altText:c}=this.serializeAltText(!1);if(!o&&c&&(r.accessibilityData={type:"Figure",alt:c}),this.annotationElementId){const p=w(this,It,ST).call(this,r);if(p.isSame)return null;p.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,s===null)return r;s.stamps||(s.stamps=new Map);const d=h(this,ni)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!s.stamps.has(h(this,on)))s.stamps.set(h(this,on),{area:d,serialized:r}),r.bitmap=w(this,It,ng).call(this,!1);else if(h(this,ni)){const p=s.stamps.get(h(this,on));d>p.area&&(p.area=d,p.serialized.bitmap.close(),p.serialized.bitmap=w(this,It,ng).call(this,!1))}return r}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};ye=new WeakMap,on=new WeakMap,Ar=new WeakMap,pa=new WeakMap,Sr=new WeakMap,iu=new WeakMap,Ss=new WeakMap,ga=new WeakMap,_s=new WeakMap,ni=new WeakMap,su=new WeakMap,It=new WeakSet,Nh=function(e,s=!1){if(!e){this.remove();return}E(this,ye,e.bitmap),s||(E(this,on,e.id),E(this,ni,e.isSvg)),e.file&&E(this,iu,e.file.name),w(this,It,Nv).call(this)},kh=function(){if(E(this,Ar,null),this._uiManager.enableWaiting(!1),!!h(this,Ss)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,ye)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,ye)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},tg=function(){if(h(this,on)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(h(this,on)).then(r=>w(this,It,Nh).call(this,r,!0)).finally(()=>w(this,It,kh).call(this));return}if(h(this,pa)){const r=h(this,pa);E(this,pa,null),this._uiManager.enableWaiting(!0),E(this,Ar,this._uiManager.imageManager.getFromUrl(r).then(o=>w(this,It,Nh).call(this,o)).finally(()=>w(this,It,kh).call(this)));return}if(h(this,Sr)){const r=h(this,Sr);E(this,Sr,null),this._uiManager.enableWaiting(!0),E(this,Ar,this._uiManager.imageManager.getFromFile(r).then(o=>w(this,It,Nh).call(this,o)).finally(()=>w(this,It,kh).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=Hh.supportedTypesStr;const s=this._uiManager._signal;E(this,Ar,new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),w(this,It,Nh).call(this,o)}r()},{signal:s}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:s})}).finally(()=>w(this,It,kh).call(this))),e.click()},Nv=function(){const{div:e}=this;let{width:s,height:r}=h(this,ye);const[o,c]=this.pageDimensions,d=.75;if(this.width)s=this.width*o,r=this.height*c;else if(s>d*o||r>d*c){const b=Math.min(d*o/s,d*c/r);s*=b,r*=b}const[p,g]=this.parentDimensions;this.setDims(s*p/o,r*g/c),this._uiManager.enableWaiting(!1);const m=E(this,Ss,document.createElement("canvas"));m.setAttribute("role","img"),this.addContainer(m),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),w(this,It,kv).call(this,s,r),w(this,It,AT).call(this),h(this,su)||(this.parent.addUndoableEditor(this),E(this,su,!0)),this._reportTelemetry({action:"inserted_image"}),h(this,iu)&&m.setAttribute("aria-label",h(this,iu))},vT=function(e,s){var d;const[r,o]=this.parentDimensions;this.width=e/r,this.height=s/o,(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,h(this,_s)!==null&&clearTimeout(h(this,_s)),E(this,_s,setTimeout(()=>{E(this,_s,null),w(this,It,kv).call(this,e,s)},200))},eg=function(e,s){const{width:r,height:o}=h(this,ye);let c=r,d=o,p=h(this,ye);for(;c>2*e||d>2*s;){const g=c,m=d;c>2*e&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2)),d>2*s&&(d=d>=16384?Math.floor(d/2)-1:Math.ceil(d/2));const b=new OffscreenCanvas(c,d);b.getContext("2d").drawImage(p,0,0,g,m,0,0,c,d),p=b.transferToImageBitmap()}return p},kv=function(e,s){const r=new Cb,o=Math.ceil(e*r.sx),c=Math.ceil(s*r.sy),d=h(this,Ss);if(!d||d.width===o&&d.height===c)return;d.width=o,d.height=c;const p=h(this,ni)?h(this,ye):w(this,It,eg).call(this,o,c),g=d.getContext("2d");g.filter=this._uiManager.hcmFilter,g.drawImage(p,0,0,p.width,p.height,0,0,o,c)},ng=function(e){if(e){if(h(this,ni)){const o=this._uiManager.imageManager.getSvgUrl(h(this,on));if(o)return o}const s=document.createElement("canvas");return{width:s.width,height:s.height}=h(this,ye),s.getContext("2d").drawImage(h(this,ye),0,0),s.toDataURL()}if(h(this,ni)){const[s,r]=this.pageDimensions,o=Math.round(this.width*s*Tr.PDF_TO_CSS_UNITS),c=Math.round(this.height*r*Tr.PDF_TO_CSS_UNITS),d=new OffscreenCanvas(o,c);return d.getContext("2d").drawImage(h(this,ye),0,0,h(this,ye).width,h(this,ye).height,0,0,o,c),d.transferToImageBitmap()}return structuredClone(h(this,ye))},AT=function(){this._uiManager._signal&&(E(this,ga,new ResizeObserver(e=>{const s=e[0].contentRect;s.width&&s.height&&w(this,It,vT).call(this,s.width,s.height)})),h(this,ga).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=h(this,ga))==null||e.disconnect(),E(this,ga,null)},{once:!0}))},ST=function(e){var g;const{rect:s,pageIndex:r,accessibilityData:{altText:o}}=this._initialData,c=e.rect.every((m,b)=>Math.abs(m-s[b])<1),d=e.pageIndex===r,p=(((g=e.accessibilityData)==null?void 0:g.alt)||"")===o;return{isSame:c&&d&&p,isSameAltText:p}},xt(Hh,"_type","stamp"),xt(Hh,"_editorType",kt.STAMP);let Lv=Hh;var nl,au,Es,_r,ma,ii,Er,ru,ou,yn,ya,At,wr,ln,_T,Pv,Hv,jv,ig;const Fi=class Fi{constructor({uiManager:t,pageIndex:e,div:s,structTreeLayer:r,accessibilityManager:o,annotationLayer:c,drawLayer:d,textLayer:p,viewport:g,l10n:m}){x(this,ln);x(this,nl);x(this,au,!1);x(this,Es,null);x(this,_r,null);x(this,ma,null);x(this,ii,new Map);x(this,Er,!1);x(this,ru,!1);x(this,ou,!1);x(this,yn,null);x(this,ya,null);x(this,At);const b=[...h(Fi,wr).values()];if(!Fi._initialized){Fi._initialized=!0;for(const v of b)v.initialize(m,t)}t.registerEditorTypes(b),E(this,At,t),this.pageIndex=e,this.div=s,E(this,nl,o),E(this,Es,c),this.viewport=g,E(this,yn,p),this.drawLayer=d,this._structTree=r,h(this,At).addLayer(this)}get isEmpty(){return h(this,ii).size===0}get isInvisible(){return this.isEmpty&&h(this,At).getMode()===kt.NONE}updateToolbar(t){h(this,At).updateToolbar(t)}updateMode(t=h(this,At).getMode()){switch(w(this,ln,ig).call(this),t){case kt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case kt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case kt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const s of h(Fi,wr).values())e.toggle(`${s._type}Editing`,t===s._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=h(this,yn))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(h(this,At).getMode()!==kt.INK)return;if(!t){for(const s of h(this,ii).values())if(s.isEmpty()){s.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){h(this,At).setEditingState(t)}addCommands(t){h(this,At).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=h(this,Es))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const s of h(this,ii).values())s.enableEditing(),s.show(!0),s.annotationElementId&&(h(this,At).removeChangedExistingAnnotation(s),t.add(s.annotationElementId));if(!h(this,Es))return;const e=h(this,Es).getEditableAnnotations();for(const s of e){if(s.hide(),h(this,At).isDeletedAnnotationElement(s.data.id)||t.has(s.data.id))continue;const r=await this.deserialize(s);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;E(this,ou,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const o of h(this,ii).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){t.set(o.annotationElementId,o);continue}else e.set(o.annotationElementId,o);(r=this.getEditableAnnotation(o.annotationElementId))==null||r.show(),o.remove()}if(h(this,Es)){const o=h(this,Es).getEditableAnnotations();for(const c of o){const{id:d}=c.data;if(h(this,At).isDeletedAnnotationElement(d))continue;let p=e.get(d);if(p){p.resetAnnotationElement(c),p.show(!1),c.show();continue}p=t.get(d),p&&(h(this,At).addChangedExistingAnnotation(p),p.renderAnnotationElement(c)&&p.show(!1)),c.show()}}w(this,ln,ig).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const o of h(Fi,wr).values())s.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),E(this,ou,!1)}getEditableAnnotation(t){var e;return((e=h(this,Es))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){h(this,At).getActive()!==t&&h(this,At).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=h(this,yn))!=null&&t.div&&!h(this,ya)){E(this,ya,new AbortController);const e=h(this,At).combinedSignal(h(this,ya));h(this,yn).div.addEventListener("pointerdown",w(this,ln,_T).bind(this),{signal:e}),h(this,yn).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=h(this,yn))!=null&&t.div&&h(this,ya)&&(h(this,ya).abort(),E(this,ya,null),h(this,yn).div.classList.remove("highlighting"))}enableClick(){if(h(this,_r))return;E(this,_r,new AbortController);const t=h(this,At).combinedSignal(h(this,_r));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=h(this,_r))==null||t.abort(),E(this,_r,null)}attach(t){h(this,ii).set(t.id,t);const{annotationElementId:e}=t;e&&h(this,At).isDeletedAnnotationElement(e)&&h(this,At).removeDeletedAnnotationElement(t)}detach(t){var e;h(this,ii).delete(t.id),(e=h(this,nl))==null||e.removePointerInTextLayer(t.contentDiv),!h(this,ou)&&t.annotationElementId&&h(this,At).addDeletedAnnotationElement(t)}remove(t){this.detach(t),h(this,At).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,h(this,ru)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(h(this,At).addDeletedAnnotationElement(t.annotationElementId),Jt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),h(this,At).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),h(this,At).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var s;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!h(this,ma)&&(t._focusEventsAllowed=!1,E(this,ma,setTimeout(()=>{E(this,ma,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:h(this,At)._signal}),e.focus())},0))),t._structTreeParentId=(s=h(this,nl))==null?void 0:s.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),s=()=>{t.remove()};this.addCommands({cmd:e,undo:s,mustExec:!1})}getNextId(){return h(this,At).getId()}combinedSignal(t){return h(this,At).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=h(this,ln,Pv))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){h(this,At).updateToolbar(t),h(this,At).updateMode(t);const{offsetX:s,offsetY:r}=w(this,ln,jv).call(this),o=this.getNextId(),c=w(this,ln,Hv).call(this,{parent:this,id:o,x:s,y:r,uiManager:h(this,At),isCentered:!0,...e});c&&this.add(c)}async deserialize(t){var e;return await((e=h(Fi,wr).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,h(this,At)))||null}createAndAddNewEditor(t,e,s={}){const r=this.getNextId(),o=w(this,ln,Hv).call(this,{parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:h(this,At),isCentered:e,...s});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(w(this,ln,jv).call(this),!0)}setSelected(t){h(this,At).setSelected(t)}toggleSelected(t){h(this,At).toggleSelected(t)}unselect(t){h(this,At).unselect(t)}pointerup(t){const{isMac:e}=Rn.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&h(this,Er)){if(E(this,Er,!1),!h(this,au)){E(this,au,!0);return}if(h(this,At).getMode()===kt.STAMP){h(this,At).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(h(this,At).getMode()===kt.HIGHLIGHT&&this.enableTextSelection(),h(this,Er)){E(this,Er,!1);return}const{isMac:e}=Rn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;E(this,Er,!0);const s=h(this,At).getActive();E(this,au,!s||s.isEmpty())}findNewParent(t,e,s){const r=h(this,At).findParent(e,s);return r===null||r===this?!1:(r.changeParent(t),!0)}destroy(){var t,e;((t=h(this,At).getActive())==null?void 0:t.parent)===this&&(h(this,At).commitOrRemove(),h(this,At).setActiveEditor(null)),h(this,ma)&&(clearTimeout(h(this,ma)),E(this,ma,null));for(const s of h(this,ii).values())(e=h(this,nl))==null||e.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,h(this,ii).clear(),h(this,At).removeLayer(this)}render({viewport:t}){this.viewport=t,al(this.div,t);for(const e of h(this,At).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){h(this,At).commitOrRemove(),w(this,ln,ig).call(this);const e=this.viewport.rotation,s=t.rotation;if(this.viewport=t,al(this.div,{rotation:s}),e!==s)for(const r of h(this,ii).values())r.rotate(s);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return h(this,At).viewParameters.realScale}};nl=new WeakMap,au=new WeakMap,Es=new WeakMap,_r=new WeakMap,ma=new WeakMap,ii=new WeakMap,Er=new WeakMap,ru=new WeakMap,ou=new WeakMap,yn=new WeakMap,ya=new WeakMap,At=new WeakMap,wr=new WeakMap,ln=new WeakSet,_T=function(t){h(this,At).unselectAll();const{target:e}=t;if(e===h(this,yn).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&h(this,yn).div.contains(e)){const{isMac:s}=Rn.platform;if(t.button!==0||t.ctrlKey&&s)return;h(this,At).showAllEditors("highlight",!0,!0),h(this,yn).div.classList.add("free"),this.toggleDrawing(),ug.startHighlighting(this,h(this,At).direction==="ltr",{target:h(this,yn).div,x:t.x,y:t.y}),h(this,yn).div.addEventListener("pointerup",()=>{h(this,yn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:h(this,At)._signal}),t.preventDefault()}},Pv=function(){return h(Fi,wr).get(h(this,At).getMode())},Hv=function(t){const e=h(this,ln,Pv);return e?new e.prototype.constructor(t):null},jv=function(){const{x:t,y:e,width:s,height:r}=this.div.getBoundingClientRect(),o=Math.max(0,t),c=Math.max(0,e),d=Math.min(window.innerWidth,t+s),p=Math.min(window.innerHeight,e+r),g=(o+d)/2-t,m=(c+p)/2-e,[b,v]=this.viewport.rotation%180===0?[g,m]:[m,g];return{offsetX:b,offsetY:v}},ig=function(){E(this,ru,!0);for(const t of h(this,ii).values())t.isEmpty()&&t.remove();E(this,ru,!1)},xt(Fi,"_initialized",!1),x(Fi,wr,new Map([pv,Ev,Lv,ug].map(t=>[t._editorType,t])));let Fv=Fi;var ws,Jd,Ne,ba,tf,Uv,ul,Bv,ET;const sn=class sn{constructor({pageIndex:t}){x(this,ul);x(this,ws,null);x(this,Jd,0);x(this,Ne,new Map);x(this,ba,new Map);this.pageIndex=t}setParent(t){if(!h(this,ws)){E(this,ws,t);return}if(h(this,ws)!==t){if(h(this,Ne).size>0)for(const e of h(this,Ne).values())e.remove(),t.append(e);E(this,ws,t)}}static get _svgFactory(){return Gt(this,"_svgFactory",new s0)}draw(t,e,s,r=!1){const o=En(this,Jd)._++,c=w(this,ul,Bv).call(this,t.box);c.classList.add(...t.classNamesForDrawing);const d=sn._svgFactory.createElement("defs");c.append(d);const p=sn._svgFactory.createElement("path");d.append(p);const g=`path_p${this.pageIndex}_${o}`;p.setAttribute("id",g),p.setAttribute("d",t.toSVGPath()),r&&h(this,ba).set(o,p);const m=w(this,ul,ET).call(this,d,g),b=sn._svgFactory.createElement("use");return c.append(b),c.setAttribute("fill",e),c.setAttribute("fill-opacity",s),b.setAttribute("href",`#${g}`),h(this,Ne).set(o,c),{id:o,clipPathId:`url(#${m})`}}drawOutline(t){const e=En(this,Jd)._++,s=w(this,ul,Bv).call(this,t.box);s.classList.add(...t.classNamesForOutlining);const r=sn._svgFactory.createElement("defs");s.append(r);const o=sn._svgFactory.createElement("path");r.append(o);const c=`path_p${this.pageIndex}_${e}`;o.setAttribute("id",c),o.setAttribute("d",t.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let d;if(t.mustRemoveSelfIntersections){const m=sn._svgFactory.createElement("mask");r.append(m),d=`mask_p${this.pageIndex}_${e}`,m.setAttribute("id",d),m.setAttribute("maskUnits","objectBoundingBox");const b=sn._svgFactory.createElement("rect");m.append(b),b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("fill","white");const v=sn._svgFactory.createElement("use");m.append(v),v.setAttribute("href",`#${c}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const p=sn._svgFactory.createElement("use");s.append(p),p.setAttribute("href",`#${c}`),d&&p.setAttribute("mask",`url(#${d})`);const g=p.cloneNode();return s.append(g),p.classList.add("mainOutline"),g.classList.add("secondaryOutline"),h(this,Ne).set(e,s),e}finalizeLine(t,e){const s=h(this,ba).get(t);h(this,ba).delete(t),this.updateBox(t,e.box),s.setAttribute("d",e.toSVGPath())}updateLine(t,e){h(this,Ne).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(t,e){h(this,ba).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var s;w(s=sn,tf,Uv).call(s,h(this,Ne).get(t),e)}show(t,e){h(this,Ne).get(t).classList.toggle("hidden",!e)}rotate(t,e){h(this,Ne).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){h(this,Ne).get(t).setAttribute("fill",e)}changeOpacity(t,e){h(this,Ne).get(t).setAttribute("fill-opacity",e)}addClass(t,e){h(this,Ne).get(t).classList.add(e)}removeClass(t,e){h(this,Ne).get(t).classList.remove(e)}getSVGRoot(t){return h(this,Ne).get(t)}remove(t){h(this,ba).delete(t),h(this,ws)!==null&&(h(this,Ne).get(t).remove(),h(this,Ne).delete(t))}destroy(){E(this,ws,null);for(const t of h(this,Ne).values())t.remove();h(this,Ne).clear(),h(this,ba).clear()}};ws=new WeakMap,Jd=new WeakMap,Ne=new WeakMap,ba=new WeakMap,tf=new WeakSet,Uv=function(t,{x:e=0,y:s=0,width:r=1,height:o=1}={}){const{style:c}=t;c.top=`${100*s}%`,c.left=`${100*e}%`,c.width=`${100*r}%`,c.height=`${100*o}%`},ul=new WeakSet,Bv=function(t){var s;const e=sn._svgFactory.create(1,1,!0);return h(this,ws).append(e),e.setAttribute("aria-hidden",!0),w(s=sn,tf,Uv).call(s,e,t),e},ET=function(t,e){const s=sn._svgFactory.createElement("clipPath");t.append(s);const r=`clip_${e}`;s.setAttribute("id",r),s.setAttribute("clipPathUnits","objectBoundingBox");const o=sn._svgFactory.createElement("use");return s.append(o),o.setAttribute("href",`#${e}`),o.classList.add("clip"),r},x(sn,tf);let zv=sn;var eL=Mt.AbortException,nL=Mt.AnnotationEditorLayer,iL=Mt.AnnotationEditorParamsType,sL=Mt.AnnotationEditorType,aL=Mt.AnnotationEditorUIManager,wT=Mt.AnnotationLayer,TT=Mt.AnnotationMode,rL=Mt.ColorPicker,oL=Mt.DOMSVGFactory,lL=Mt.DrawLayer,cL=Mt.FeatureTest,r0=Mt.GlobalWorkerOptions,uL=Mt.ImageKind,hL=Mt.InvalidPDFException,dL=Mt.MissingPDFException,fL=Mt.OPS,pL=Mt.OutputScale,gL=Mt.PDFDataRangeTransport,mL=Mt.PDFDateString,yL=Mt.PDFWorker,bL=Mt.PasswordResponses,vL=Mt.PermissionFlag,AL=Mt.PixelsPerInch,SL=Mt.RenderingCancelledException,xT=Mt.TextLayer,_L=Mt.UnexpectedResponseException,EL=Mt.Util,wL=Mt.VerbosityLevel,TL=Mt.XfaLayer,xL=Mt.build,RL=Mt.createValidAbsoluteUrl,CL=Mt.fetchData,RT=Mt.getDocument,ML=Mt.getFilenameFromUrl,DL=Mt.getPdfFilenameFromUrl,OL=Mt.getXfaPageViewport,LL=Mt.isDataScheme,NL=Mt.isPdfFile,kL=Mt.noContextMenu,FL=Mt.normalizeUnicode,PL=Mt.setLayerDimensions,HL=Mt.shadow,CT=Mt.version;const jL=Object.freeze(Object.defineProperty({__proto__:null,AbortException:eL,AnnotationEditorLayer:nL,AnnotationEditorParamsType:iL,AnnotationEditorType:sL,AnnotationEditorUIManager:aL,AnnotationLayer:wT,AnnotationMode:TT,ColorPicker:rL,DOMSVGFactory:oL,DrawLayer:lL,FeatureTest:cL,GlobalWorkerOptions:r0,ImageKind:uL,InvalidPDFException:hL,MissingPDFException:dL,OPS:fL,OutputScale:pL,PDFDataRangeTransport:gL,PDFDateString:mL,PDFWorker:yL,PasswordResponses:bL,PermissionFlag:vL,PixelsPerInch:AL,RenderingCancelledException:SL,TextLayer:xT,UnexpectedResponseException:_L,Util:EL,VerbosityLevel:wL,XfaLayer:TL,build:xL,createValidAbsoluteUrl:RL,fetchData:CL,getDocument:RT,getFilenameFromUrl:ML,getPdfFilenameFromUrl:DL,getXfaPageViewport:OL,isDataScheme:LL,isPdfFile:NL,noContextMenu:kL,normalizeUnicode:FL,setLayerDimensions:PL,shadow:HL,version:CT},Symbol.toStringTag,{value:"Module"}));var Ke=function(u,t,e){if(e||arguments.length===2)for(var s=0,r=t.length,o;s<r;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return u.concat(o||Array.prototype.slice.call(t))},zL=["onCopy","onCut","onPaste"],UL=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],BL=["onFocus","onBlur"],IL=["onInput","onInvalid","onReset","onSubmit"],qL=["onLoad","onError"],GL=["onKeyDown","onKeyPress","onKeyUp"],VL=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],XL=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],YL=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],KL=["onSelect"],$L=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],WL=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],QL=["onScroll"],ZL=["onWheel"],JL=["onAnimationStart","onAnimationEnd","onAnimationIteration"],t2=["onTransitionEnd"],e2=["onToggle"],n2=["onChange"],i2=Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke(Ke([],zL,!0),UL,!0),BL,!0),IL,!0),qL,!0),GL,!0),VL,!0),XL,!0),YL,!0),KL,!0),$L,!0),WL,!0),QL,!0),ZL,!0),JL,!0),t2,!0),n2,!0),e2,!0);function MT(u,t){var e={};return i2.forEach(function(s){var r=u[s];r&&(t?e[s]=function(o){return r(o,t(s))}:e[s]=r)}),e}function of(u){var t=!1,e=new Promise(function(s,r){u.then(function(o){return!t&&s(o)}).catch(function(o){return!t&&r(o)})});return{promise:e,cancel:function(){t=!0}}}function DT(u){var t,e,s="";if(typeof u=="string"||typeof u=="number")s+=u;else if(typeof u=="object")if(Array.isArray(u)){var r=u.length;for(t=0;t<r;t++)u[t]&&(e=DT(u[t]))&&(s&&(s+=" "),s+=e)}else for(e in u)u[e]&&(s&&(s+=" "),s+=e);return s}function qg(){for(var u,t,e=0,s="",r=arguments.length;e<r;e++)(u=arguments[e])&&(t=DT(u))&&(s&&(s+=" "),s+=t);return s}var s2="Invariant failed";function ae(u,t){if(!u)throw new Error(s2)}var yb,HE;function a2(){if(HE)return yb;HE=1;var u=function(){};return yb=u,yb}var r2=a2();const vn=$E(r2);var jE=Object.prototype.hasOwnProperty;function zE(u,t,e){for(e of u.keys())if(lc(e,t))return e}function lc(u,t){var e,s,r;if(u===t)return!0;if(u&&t&&(e=u.constructor)===t.constructor){if(e===Date)return u.getTime()===t.getTime();if(e===RegExp)return u.toString()===t.toString();if(e===Array){if((s=u.length)===t.length)for(;s--&&lc(u[s],t[s]););return s===-1}if(e===Set){if(u.size!==t.size)return!1;for(s of u)if(r=s,r&&typeof r=="object"&&(r=zE(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(u.size!==t.size)return!1;for(s of u)if(r=s[0],r&&typeof r=="object"&&(r=zE(t,r),!r)||!lc(s[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)u=new Uint8Array(u),t=new Uint8Array(t);else if(e===DataView){if((s=u.byteLength)===t.byteLength)for(;s--&&u.getInt8(s)===t.getInt8(s););return s===-1}if(ArrayBuffer.isView(u)){if((s=u.byteLength)===t.byteLength)for(;s--&&u[s]===t[s];);return s===-1}if(!e||typeof u=="object"){s=0;for(e in u)if(jE.call(u,e)&&++s&&!jE.call(t,e)||!(e in t)||!lc(u[e],t[e]))return!1;return Object.keys(t).length===s}}return u!==u&&t!==t}const OT=J.createContext(null);function cc({children:u,type:t}){return N.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:u})}const o2="noopener noreferrer nofollow";class l2{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return ae(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){ae(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{ae(this.pdfDocument),ae(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{ae(Array.isArray(e));const s=e[0];new Promise(r=>{ae(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(o=>{r(o)}).catch(()=>{ae(!1)}):typeof s=="number"?r(s):ae(!1)}).then(r=>{const o=r+1;ae(this.pdfViewer),ae(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:o})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;ae(this.pdfViewer),ae(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,s){t.href=e,t.rel=this.externalLinkRel||o2,t.target=s?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const UE={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Gg=typeof window<"u",LT=Gg&&window.location.protocol==="file:";function c2(u){return typeof u<"u"}function Zr(u){return c2(u)&&u!==null}function u2(u){return typeof u=="string"}function h2(u){return u instanceof ArrayBuffer}function d2(u){return ae(Gg),u instanceof Blob}function Iv(u){return u2(u)&&/^data:/.test(u)}function BE(u){ae(Iv(u));const[t="",e=""]=u.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function f2(){return Gg&&window.devicePixelRatio||1}const NT="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function IE(){vn(!LT,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${NT}`)}function p2(){vn(!LT,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${NT}`)}function ll(u){u!=null&&u.cancel&&u.cancel()}function qv(u,t){return Object.defineProperty(u,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(u,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(u,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(u,"originalHeight",{get(){return this.view[3]},configurable:!0}),u}function g2(u){return u.name==="RenderingCancelledException"}function m2(u){return new Promise((t,e)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return e(new Error("Error while reading a file."));t(s.result)},s.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:o}=r.target;if(!o)return e(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},s.readAsArrayBuffer(u)})}function y2(u,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return u}}function cu(){return J.useReducer(y2,{value:void 0,error:void 0})}var b2=function(u,t,e,s){function r(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function d(m){try{g(s.next(m))}catch(b){c(b)}}function p(m){try{g(s.throw(m))}catch(b){c(b)}}function g(m){m.done?o(m.value):r(m.value).then(d,p)}g((s=s.apply(u,t||[])).next())})},qE=function(u,t){var e={};for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&t.indexOf(s)<0&&(e[s]=u[s]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(u);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(u,s[r])&&(e[s[r]]=u[s[r]]);return e};const{PDFDataRangeTransport:v2}=jL,A2=(u,t)=>{switch(t){case UE.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");u(e);break}case UE.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");u(e);break}}};function GE(u){return typeof u=="object"&&u!==null&&("data"in u||"range"in u||"url"in u)}const S2=J.forwardRef(function(t,e){var{children:s,className:r,error:o="Failed to load PDF file.",externalLinkRel:c,externalLinkTarget:d,file:p,inputRef:g,imageResourcesPath:m,loading:b="Loading PDF…",noData:v="No PDF file specified.",onItemClick:S,onLoadError:_,onLoadProgress:T,onLoadSuccess:C,onPassword:M=A2,onSourceError:O,onSourceSuccess:k,options:H,renderMode:j,rotate:B}=t,I=qE(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[X,G]=cu(),{value:nt,error:it}=X,[ut,ht]=cu(),{value:dt,error:mt}=ut,K=J.useRef(new l2),W=J.useRef([]),tt=J.useRef(void 0),Tt=J.useRef(void 0);p&&p!==tt.current&&GE(p)&&(vn(!lc(p,tt.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),tt.current=p),H&&H!==Tt.current&&(vn(!lc(H,Tt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Tt.current=H);const L=J.useRef({scrollPageIntoView:Pt=>{const{dest:ce,pageNumber:we,pageIndex:ue=we-1}=Pt;if(S){S({dest:ce,pageIndex:ue,pageNumber:we});return}const Zi=W.current[ue];if(Zi){Zi.scrollIntoView();return}vn(!1,`An internal link leading to page ${we} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});J.useImperativeHandle(e,()=>({linkService:K,pages:W,viewer:L}),[]);function Q(){k&&k()}function lt(){it&&(vn(!1,it.toString()),O&&O(it))}function at(){G({type:"RESET"})}J.useEffect(at,[p,G]);const st=J.useCallback(()=>b2(this,void 0,void 0,function*(){if(!p)return null;if(typeof p=="string")return Iv(p)?{data:BE(p)}:(IE(),{url:p});if(p instanceof v2)return{range:p};if(h2(p))return{data:p};if(Gg&&d2(p))return{data:yield m2(p)};if(ae(typeof p=="object"),ae(GE(p)),"url"in p&&typeof p.url=="string"){if(Iv(p.url)){const{url:Pt}=p,ce=qE(p,["url"]),we=BE(Pt);return Object.assign({data:we},ce)}IE()}return p}),[p]);J.useEffect(()=>{const Pt=of(st());return Pt.promise.then(ce=>{G({type:"RESOLVE",value:ce})}).catch(ce=>{G({type:"REJECT",error:ce})}),()=>{ll(Pt)}},[st,G]),J.useEffect(()=>{if(!(typeof nt>"u")){if(nt===!1){lt();return}Q()}},[nt]);function _t(){dt&&(C&&C(dt),W.current=new Array(dt.numPages),K.current.setDocument(dt))}function pt(){mt&&(vn(!1,mt.toString()),_&&_(mt))}J.useEffect(function(){ht({type:"RESET"})},[ht,nt]),J.useEffect(function(){if(!nt)return;const ce=H?Object.assign(Object.assign({},nt),H):nt,we=RT(ce);T&&(we.onProgress=T),M&&(we.onPassword=M);const ue=we,Zi=ue.promise.then(Ji=>{ht({type:"RESOLVE",value:Ji})}).catch(Ji=>{ue.destroyed||ht({type:"REJECT",error:Ji})});return()=>{Zi.finally(()=>ue.destroy())}},[H,ht,nt]),J.useEffect(()=>{if(!(typeof dt>"u")){if(dt===!1){pt();return}_t()}},[dt]),J.useEffect(function(){K.current.setViewer(L.current),K.current.setExternalLinkRel(c),K.current.setExternalLinkTarget(d)},[c,d]);const Et=J.useCallback((Pt,ce)=>{W.current[Pt]=ce},[]),Dt=J.useCallback(Pt=>{delete W.current[Pt]},[]),Vt=J.useMemo(()=>({imageResourcesPath:m,linkService:K.current,onItemClick:S,pdf:dt,registerPage:Et,renderMode:j,rotate:B,unregisterPage:Dt}),[m,S,dt,Et,j,B,Dt]),gt=J.useMemo(()=>MT(I,()=>dt),[I,dt]);function wt(){return N.jsx(OT.Provider,{value:Vt,children:s})}function qe(){return p?dt==null?N.jsx(cc,{type:"loading",children:typeof b=="function"?b():b}):dt===!1?N.jsx(cc,{type:"error",children:typeof o=="function"?o():o}):wt():N.jsx(cc,{type:"no-data",children:typeof v=="function"?v():v})}return N.jsx("div",Object.assign({className:qg("react-pdf__Document",r),ref:g,style:{"--scale-factor":"1"}},gt,{children:qe()}))});function kT(){return J.useContext(OT)}function FT(){for(var u=[],t=0;t<arguments.length;t++)u[t]=arguments[t];var e=u.filter(Boolean);if(e.length<=1){var s=e[0];return s||null}return function(o){e.forEach(function(c){typeof c=="function"?c(o):c&&(c.current=o)})}}const PT=J.createContext(null),HT={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},_2=/^H(\d+)$/;function E2(u){return u in HT}function Vg(u){return"children"in u}function jT(u){return Vg(u)?u.children.length===1&&0 in u.children&&"id"in u.children[0]:!1}function w2(u){const t={};if(Vg(u)){const{role:e}=u,s=e.match(_2);if(s)t.role="heading",t["aria-level"]=Number(s[1]);else if(E2(e)){const r=HT[e];r&&(t.role=r)}}return t}function zT(u){const t={};if(Vg(u)){if(u.alt!==void 0&&(t["aria-label"]=u.alt),u.lang!==void 0&&(t.lang=u.lang),jT(u)){const[e]=u.children;if(e){const s=zT(e);return Object.assign(Object.assign({},t),s)}}}else"id"in u&&(t["aria-owns"]=u.id);return t}function T2(u){return u?Object.assign(Object.assign({},w2(u)),zT(u)):null}function UT({className:u,node:t}){const e=J.useMemo(()=>T2(t),[t]),s=J.useMemo(()=>!Vg(t)||jT(t)?null:t.children.map((r,o)=>N.jsx(UT,{node:r},o)),[t]);return N.jsx("span",Object.assign({className:u},e,{children:s}))}function Xg(){return J.useContext(PT)}function x2(){const u=Xg();ae(u);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=u,[s,r]=cu(),{value:o,error:c}=s,{customTextRenderer:d,page:p}=u;function g(){o&&e&&e(o)}function m(){c&&(vn(!1,c.toString()),t&&t(c))}return J.useEffect(function(){r({type:"RESET"})},[r,p]),J.useEffect(function(){if(d||!p)return;const v=of(p.getStructTree()),S=v;return v.promise.then(_=>{r({type:"RESOLVE",value:_})}).catch(_=>{r({type:"REJECT",error:_})}),()=>ll(S)},[d,p,r]),J.useEffect(()=>{if(o!==void 0){if(o===!1){m();return}g()}},[o]),o?N.jsx(UT,{className:"react-pdf__Page__structTree structTree",node:o}):null}const VE=TT;function R2(u){const t=Xg();ae(t);const e=Object.assign(Object.assign({},t),u),{_className:s,canvasBackground:r,devicePixelRatio:o=f2(),onRenderError:c,onRenderSuccess:d,page:p,renderForms:g,renderTextLayer:m,rotate:b,scale:v}=e,{canvasRef:S}=u;ae(p);const _=J.useRef(null);function T(){p&&d&&d(qv(p,v))}function C(H){g2(H)||(vn(!1,H.toString()),c&&c(H))}const M=J.useMemo(()=>p.getViewport({scale:v*o,rotation:b}),[o,p,b,v]),O=J.useMemo(()=>p.getViewport({scale:v,rotation:b}),[p,b,v]);J.useEffect(function(){if(!p)return;p.cleanup();const{current:j}=_;if(!j)return;j.width=M.width,j.height=M.height,j.style.width=`${Math.floor(O.width)}px`,j.style.height=`${Math.floor(O.height)}px`,j.style.visibility="hidden";const B={annotationMode:g?VE.ENABLE_FORMS:VE.ENABLE,canvasContext:j.getContext("2d",{alpha:!1}),viewport:M};r&&(B.background=r);const I=p.render(B),X=I;return I.promise.then(()=>{j.style.visibility="",T()}).catch(C),()=>ll(X)},[r,p,g,M,O]);const k=J.useCallback(()=>{const{current:H}=_;H&&(H.width=0,H.height=0)},[]);return J.useEffect(()=>k,[k]),N.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:FT(S,_),style:{display:"block",userSelect:"none"},children:m?N.jsx(x2,{}):null})}function C2(u){return"str"in u}function M2(){const u=Xg();ae(u);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:s,onRenderTextLayerError:r,onRenderTextLayerSuccess:o,page:c,pageIndex:d,pageNumber:p,rotate:g,scale:m}=u;ae(c);const[b,v]=cu(),{value:S,error:_}=b,T=J.useRef(null);vn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function C(){S&&s&&s(S)}function M(){_&&(vn(!1,_.toString()),e&&e(_))}J.useEffect(function(){v({type:"RESET"})},[c,v]),J.useEffect(function(){if(!c)return;const X=of(c.getTextContent()),G=X;return X.promise.then(nt=>{v({type:"RESOLVE",value:nt})}).catch(nt=>{v({type:"REJECT",error:nt})}),()=>ll(G)},[c,v]),J.useEffect(()=>{if(S!==void 0){if(S===!1){M();return}C()}},[S]);const O=J.useCallback(()=>{o&&o()},[o]),k=J.useCallback(I=>{vn(!1,I.toString()),r&&r(I)},[r]);function H(){const I=T.current;I&&I.classList.add("selecting")}function j(){const I=T.current;I&&I.classList.remove("selecting")}const B=J.useMemo(()=>c.getViewport({scale:m,rotation:g}),[c,g,m]);return J.useLayoutEffect(function(){if(!c||!S)return;const{current:X}=T;if(!X)return;X.innerHTML="";const G=c.streamTextContent({includeMarkedContent:!0}),nt={container:X,textContentSource:G,viewport:B},it=new xT(nt),ut=it;return it.render().then(()=>{const ht=document.createElement("div");ht.className="endOfContent",X.append(ht);const dt=X.querySelectorAll('[role="presentation"]');if(t){let mt=0;S.items.forEach((K,W)=>{if(!C2(K))return;const tt=dt[mt];if(!tt)return;const Tt=t(Object.assign({pageIndex:d,pageNumber:p,itemIndex:W},K));tt.innerHTML=Tt,mt+=K.str&&K.hasEOL?2:1})}O()}).catch(k),()=>ll(ut)},[t,k,O,c,d,p,S,B]),N.jsx("div",{className:qg("react-pdf__Page__textContent","textLayer"),onMouseUp:j,onMouseDown:H,ref:T})}function D2(){const u=kT(),t=Xg();ae(t);const e=Object.assign(Object.assign({},u),t),{imageResourcesPath:s,linkService:r,onGetAnnotationsError:o,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:d,onRenderAnnotationLayerSuccess:p,page:g,pdf:m,renderForms:b,rotate:v,scale:S=1}=e;ae(m),ae(g),ae(r);const[_,T]=cu(),{value:C,error:M}=_,O=J.useRef(null);vn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function k(){C&&c&&c(C)}function H(){M&&(vn(!1,M.toString()),o&&o(M))}J.useEffect(function(){T({type:"RESET"})},[T,g]),J.useEffect(function(){if(!g)return;const G=of(g.getAnnotations()),nt=G;return G.promise.then(it=>{T({type:"RESOLVE",value:it})}).catch(it=>{T({type:"REJECT",error:it})}),()=>{ll(nt)}},[T,g]),J.useEffect(()=>{if(C!==void 0){if(C===!1){H();return}k()}},[C]);function j(){p&&p()}function B(X){vn(!1,`${X}`),d&&d(X)}const I=J.useMemo(()=>g.getViewport({scale:S,rotation:v}),[g,v,S]);return J.useEffect(function(){if(!m||!g||!r||!C)return;const{current:G}=O;if(!G)return;const nt=I.clone({dontFlip:!0}),it={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:G,l10n:null,page:g,structTreeLayer:null,viewport:nt},ut={annotations:C,annotationStorage:m.annotationStorage,div:G,imageResourcesPath:s,linkService:r,page:g,renderForms:b,viewport:nt};G.innerHTML="";try{new wT(it).render(ut),j()}catch(ht){B(ht)}return()=>{}},[C,s,r,g,m,b,I]),N.jsx("div",{className:qg("react-pdf__Page__annotations","annotationLayer"),ref:O})}var O2=function(u,t){var e={};for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&t.indexOf(s)<0&&(e[s]=u[s]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(u);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(u,s[r])&&(e[s[r]]=u[s[r]]);return e};const XE=1;function L2(u){const t=kT(),e=Object.assign(Object.assign({},t),u),{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:o,canvasRef:c,children:d,className:p,customRenderer:g,customTextRenderer:m,devicePixelRatio:b,error:v="Failed to load the page.",height:S,inputRef:_,loading:T="Loading page…",noData:C="No page specified.",onGetAnnotationsError:M,onGetAnnotationsSuccess:O,onGetStructTreeError:k,onGetStructTreeSuccess:H,onGetTextError:j,onGetTextSuccess:B,onLoadError:I,onLoadSuccess:X,onRenderAnnotationLayerError:G,onRenderAnnotationLayerSuccess:nt,onRenderError:it,onRenderSuccess:ut,onRenderTextLayerError:ht,onRenderTextLayerSuccess:dt,pageIndex:mt,pageNumber:K,pdf:W,registerPage:tt,renderAnnotationLayer:Tt=!0,renderForms:L=!1,renderMode:Q="canvas",renderTextLayer:lt=!0,rotate:at,scale:st=XE,unregisterPage:_t,width:pt}=e,Et=O2(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Dt,Vt]=cu(),{value:gt,error:wt}=Dt,qe=J.useRef(null);ae(W);const Pt=Zr(K)?K-1:mt??null,ce=K??(Zr(mt)?mt+1:null),we=at??(gt?gt.rotate:null),ue=J.useMemo(()=>{if(!gt)return null;let Ts=1;const xs=st??XE;if(pt||S){const pl=gt.getViewport({scale:1,rotation:we});pt?Ts=pt/pl.width:S&&(Ts=S/pl.height)}return xs*Ts},[S,gt,we,st,pt]);J.useEffect(function(){return()=>{Zr(Pt)&&r&&_t&&_t(Pt)}},[r,W,Pt,_t]);function Zi(){if(X){if(!gt||!ue)return;X(qv(gt,ue))}if(r&&tt){if(!Zr(Pt)||!qe.current)return;tt(Pt,qe.current)}}function Ji(){wt&&(vn(!1,wt.toString()),I&&I(wt))}J.useEffect(function(){Vt({type:"RESET"})},[Vt,W,Pt]),J.useEffect(function(){if(!W||!ce)return;const xs=of(W.getPage(ce)),pl=xs;return xs.promise.then(gl=>{Vt({type:"RESOLVE",value:gl})}).catch(gl=>{Vt({type:"REJECT",error:gl})}),()=>ll(pl)},[Vt,W,ce]),J.useEffect(()=>{if(gt!==void 0){if(gt===!1){Ji();return}Zi()}},[gt,ue]);const du=J.useMemo(()=>gt&&Zr(Pt)&&ce&&Zr(we)&&Zr(ue)?{_className:s,canvasBackground:o,customTextRenderer:m,devicePixelRatio:b,onGetAnnotationsError:M,onGetAnnotationsSuccess:O,onGetStructTreeError:k,onGetStructTreeSuccess:H,onGetTextError:j,onGetTextSuccess:B,onRenderAnnotationLayerError:G,onRenderAnnotationLayerSuccess:nt,onRenderError:it,onRenderSuccess:ut,onRenderTextLayerError:ht,onRenderTextLayerSuccess:dt,page:gt,pageIndex:Pt,pageNumber:ce,renderForms:L,renderTextLayer:lt,rotate:we,scale:ue}:null,[s,o,m,b,M,O,k,H,j,B,G,nt,it,ut,ht,dt,gt,Pt,ce,L,lt,we,ue]),fu=J.useMemo(()=>MT(Et,()=>gt&&(ue?qv(gt,ue):void 0)),[Et,gt,ue]),Ta=`${Pt}@${ue}/${we}`;function Yg(){switch(Q){case"custom":return ae(g),N.jsx(g,{},`${Ta}_custom`);case"none":return null;case"canvas":default:return N.jsx(R2,{canvasRef:c},`${Ta}_canvas`)}}function Kg(){return lt?N.jsx(M2,{},`${Ta}_text`):null}function li(){return Tt?N.jsx(D2,{},`${Ta}_annotations`):null}function $g(){return N.jsxs(PT.Provider,{value:du,children:[Yg(),Kg(),li(),d]})}function lf(){return ce?W===null||gt===void 0||gt===null?N.jsx(cc,{type:"loading",children:typeof T=="function"?T():T}):W===!1||gt===!1?N.jsx(cc,{type:"error",children:typeof v=="function"?v():v}):$g():N.jsx(cc,{type:"no-data",children:typeof C=="function"?C():C})}return N.jsx("div",Object.assign({className:qg(s,p),"data-page-number":ce,ref:FT(_,qe),style:{"--scale-factor":`${ue}`,backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},fu,{children:lf()}))}p2();r0.workerSrc="pdf.worker.mjs";r0.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${CT}/pdf.worker.min.mjs`;function N2({deployment:u,setResume:t,resume:e,setResumeUrl:s,resumeUrl:r}){const[o,c]=J.useState(null),[d,p]=J.useState(null),[g,m]=J.useState(!1),[b,v]=J.useState(!1),S=async I=>{const X=URL.createObjectURL(I);localStorage.setItem("resume",I.name),localStorage.setItem("resumeUrl",X),t(I),s(X)},_=async()=>{c(null),m(!0);const I=new FormData;I.append("resume",e);const X=await fetch(u+"/summarize-resume",{method:"POST",body:I});if(X.ok){const G=await X.json();c(G.summary)}m(!1)},T=async()=>{p(null),v(!0);const I=new FormData;I.append("resume",e);const X=await fetch(u+"/improve-resume",{method:"POST",body:I});if(X.ok){const G=await X.json();p(G.improvements)}v(!1)},C=()=>{r?window.open(r,"_blank"):alert("No resume found in cache.")},M=()=>{if(window.confirm("Are you sure you want to update the resume? This will clear the current resume.")){localStorage.removeItem("resume"),localStorage.removeItem("resumeUrl"),t(null),s(null),c(null),p(null);const I=document.createElement("input");I.type="file",I.accept="application/pdf",I.onchange=X=>S(X.target.files[0]),I.click()}},O=()=>N.jsx("div",{id:"resume-basic-actions",children:r?N.jsxs("div",{children:[N.jsx("button",{onClick:M,children:"Update Resume"}),N.jsx("button",{onClick:C,children:"Show Resume"})]}):N.jsx("input",{type:"file",accept:"application/pdf",onChange:I=>S(I.target.files[0])})}),k=()=>r?N.jsx("div",{id:"resume-preview",children:N.jsx(S2,{file:r,children:N.jsx(L2,{pageNumber:1,renderAnnotationLayer:!1,renderTextLayer:!1})})}):null,H=()=>!o&&!g?null:N.jsxs("div",{id:"resume-summary",children:[N.jsx("h3",{children:"Resume Summary"}),o?N.jsx("p",{children:o}):N.jsx(lu,{loading:g,message:"Summarizing resume..."})]}),j=()=>N.jsxs("div",{id:"resume-improvements",children:[(d||b)&&N.jsx("h3",{style:{textAlign:"center"},children:"Resume Improvements"}),d?N.jsx("ul",{children:d.map((I,X)=>N.jsx("li",{className:"resume-improvement",children:I},X))}):N.jsx(lu,{loading:b,message:"Suggesting improvements..."})]}),B=()=>r?N.jsxs("div",{id:"resume-action-buttons",children:[N.jsx("button",{onClick:_,children:"Summarize Resume"}),N.jsx("button",{onClick:T,children:"Suggest Improvements"})]}):null;return N.jsxs("div",{id:"resume-section",children:[N.jsxs("div",{id:"resume-upload-section",children:[N.jsx(O,{}),N.jsx(H,{}),N.jsx(k,{})]})," ",N.jsxs("div",{id:"resume-operations-section",children:[N.jsx(B,{}),N.jsx(j,{})]})]})}function k2({resume:u,jobDescription:t,jobTitle:e,jobCompany:s,deployment:r}){const[o,c]=J.useState(null),[d,p]=J.useState(null),[g,m]=J.useState(null),[b,v]=J.useState(!1),S=async()=>{if(c(null),p(null),u===null){alert("Please upload a resume first.");return}else if(t===""){alert("Please enter a job description and process it first.");return}else if(e===""||s===""){alert("Please process the job description first");return}v(!0);const _=new FormData;_.append("resume",u),_.append("jd",t),_.append("position",e),_.append("company",s),_.append("context",g);const T=await fetch(r+"/generate-additional-msg",{method:"POST",body:_});if(T.ok){const C=await T.json();console.log("Additional message generated:",C.additional_msg),c(C.additional_msg),p(C.improvements)}else console.log("Error generating additional message"),console.log(T.json().then(C=>console.log(C.error)));v(!1)};return N.jsxs("div",{id:"additional-msg-section",children:[N.jsx("h3",{children:"Additional message with your application"}),N.jsxs("div",{children:[N.jsx("h4",{children:"Context (optional)"}),N.jsx("textarea",{rows:2,id:"additional-msg-context",placeholder:"Additional Message context",onChange:_=>m(_.target.value)})]})," ",N.jsx("button",{id:"gen-additional-msg",onClick:S,children:"Generate Additional Message"})," ",N.jsx(lu,{loading:b,message:"Generating Additional Message"}),o&&N.jsx("div",{id:"additional-msg",children:N.jsx("p",{children:o})}),o&&N.jsxs("p",{id:"additional-msg-characters-count",children:[o.length," characters"]}),d&&N.jsxs("div",{children:[N.jsx("u",{children:"Improvements for final version:"}),N.jsx("ul",{children:d.map((_,T)=>N.jsx("li",{children:_},T))})]})]})}function F2({resume:u,jobDescription:t,jobTitle:e,jobCompany:s,deployment:r}){const[o,c]=J.useState(null),[d,p]=J.useState(null),[g,m]=J.useState(null),[b,v]=J.useState(!1),S=async()=>{if(c(null),p(null),u===null){alert("Please upload a resume first.");return}else if(t===""){alert("Please enter a job description and process it first.");return}else if(e===""||s===""){alert("Please process the job description first");return}v(!0);const _=new FormData;_.append("resume",u),_.append("jd",t),_.append("position",e),_.append("company",s),_.append("context",g);const T=await fetch(r+"/generate-cover-letter",{method:"POST",body:_});if(T.ok){const C=await T.json();console.log("Cover Letter generated:",C.cover_letter),c(C.cover_letter),p(C.improvements)}else console.log("Error generating cover letter"),console.log(T.json().then(C=>console.log(C.error)));v(!1)};return N.jsxs("div",{id:"cover-letter-section",children:[N.jsx("h2",{children:"Cover Letter"}),N.jsxs("div",{children:[N.jsx("h4",{children:"Context for your cover letter (optional)"}),N.jsx("textarea",{rows:2,id:"cover-letter-context",placeholder:"Cover letter context",onChange:_=>m(_.target.value)})]})," ",N.jsx("button",{id:"gen-cover-letter",onClick:S,children:"Generate Cover Letter"})," ",N.jsx(lu,{loading:b,message:g?"Generating Cover Letter using JB, Resume and User context":"Generating Cover Letter using the Job Description and your resume"}),o&&N.jsxs("div",{id:"cover-letter",children:[N.jsx("p",{id:"cover-letter-greeting",children:o.greeting}),N.jsxs("div",{id:"cover-letter-body",children:[N.jsx("p",{children:o.opening_paragraph}),N.jsx("p",{children:o.body_paragraph}),N.jsx("p",{children:o.closing_paragraph})]}),N.jsxs("div",{id:"cover-letter-signature",children:[N.jsx("p",{children:o.sign_off}),N.jsx("p",{children:o.signature})]})]}),d&&N.jsxs("div",{id:"cover-letter-improvements",children:[N.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:"✏️ Improvements for final version:"}),N.jsx("ul",{children:d.map((_,T)=>N.jsx("li",{children:_},T))})]})]})}function P2({resume:u,jobDescription:t,jobTitle:e,jobCompany:s,deployment:r}){return N.jsxs("div",{id:"additional-docs-section",children:[N.jsx("h2",{className:"section-heading",children:"ADDITIONAL DOCUMENTS"}),N.jsxs("p",{children:["Please note, you ",N.jsx("strong",{children:"MUST NOT"})," use these generated documents directly. It has been generated based on your resume and job description via a Generative AI and it bound to have a lot of issues and will lack the personal touch of a human. Recruiters and Hiring Managers are capable of easily identifying AI generated documents.",N.jsx("br",{}),"Instead, use it as a starting point for your own document. There will be some suggestions on how to start to improve each generated document. Use them as your guide to make them your own."]}),N.jsx(F2,{resume:u,jobDescription:t,jobTitle:e,jobCompany:s,deployment:r})," ",N.jsx(k2,{resume:u,jobDescription:t,jobTitle:e,jobCompany:s,deployment:r})]})}function H2({deployment:u}){const[t,e]=J.useState(null),[s,r]=J.useState(null),[o,c]=J.useState(""),[d,p]=J.useState(t),g="https://cdn.brandfetch.io/";J.useEffect(()=>{const T=async()=>{const M=await fetch(u+"/get-apply-data",{method:"GET"});if(M.ok){const O=await M.json();e(O),p(O)}};(async()=>{const M=await fetch(u+"/get-logo-client-id",{method:"GET"});if(M.ok){const O=await M.text();r(O)}})().then(()=>T())},[u]);function m(T){c(T.target.value)}const b=T=>{if(!t)return;T=T.toLowerCase();const C=t.map(M=>{const O=M.data.filter(k=>k.name.toLowerCase().includes(T)||k.portal_link.toLowerCase().includes(T)||k.domain.toLowerCase().includes(T));return O.length>0||M.category.toLowerCase().includes(T)?{...M,data:O.length>0?O:M.data}:null}).filter(Boolean);p(C)};if(J.useEffect(()=>{b(o)},[o]),!t)return N.jsx("div",{children:"Loading the list..."});function v(T){return T=T.company,N.jsxs("a",{className:"apply-button",href:T.portal_link,target:"_blank",rel:"noopener noreferrer",children:[N.jsx("img",{className:"company-logo",src:`${g}${T.domain}?c=${s}`,alt:T.name}),N.jsx("div",{className:"company-name",children:T.name})]})}function S(T){return T=T.category,N.jsxs("div",{className:"apply-category",children:[N.jsx("h2",{className:"category-name",children:T.category}),N.jsx("div",{className:"company-list",children:T.data.map((C,M)=>N.jsx(v,{company:C},M))})]})}function _(T){return T.map((C,M)=>N.jsx(S,{category:C},M))}return N.jsxs("div",{id:"apply-section",children:[N.jsx("h2",{className:"section-heading",children:"APPLY DIRECTLY THROUGH THEIR PORTAL"}),N.jsx("p",{children:"I felt by the time a role was advertised on universal job portals like LinkedIn or Glassdoor, it would be too late to apply. With the current job market, it has become very competitive and a little late is a little too late. Hence, I used to apply directly through each company's portal. The problem was that it was not a structured effort and I used to apply to any company that came to my mind and resonated with me. This section would hence help to improve this process."}),N.jsx("p",{children:"I had also tried to research to find out if there are any data endpoints or public APIs that I could leverage so that I could accumulate all jobs in a single place but unfortunately that wasn't possible. It struck me later that if that would have been possible, most universal job portals would have not been competing for the applicants' attention."}),N.jsx("p",{children:"In some cases, I too felt like going to these universal job portals. Hence I have included them at the end of this section as well."}),N.jsx("h4",{children:"Please Note, there is no affiliation between RaDAR and any of these companies. These are just the direct links to the list of job opportunties there."}),N.jsx("h3",{children:"Happy Applying!"}),N.jsx("input",{type:"text",placeholder:"Search company ...",value:o,onChange:m,id:"search-company"}),o==""?_(t):_(d)]})}function j2({serverStatus:u}){return N.jsxs("div",{id:"introduction-section",children:[N.jsx("div",{id:"website-title",children:"RaDAR"}),N.jsx("div",{id:"server-status",children:u}),N.jsx("h3",{id:"website-subtitle",children:"Resume and Description Analysis Resource"}),N.jsx("p",{children:"Job Search can be a very daunting journey, one filled with a lot of failures. I, myself, am currently (as of March 2025) going through the same journey. With the current job market, the competition has become very tough. From layoffs going on one side of the industry, to even experienced candidates applying for entry level roles, getting an opportunity has never felt short of a battle."}),N.jsx("p",{children:"Anything help or guidance at this instance can be a blessing in disguise. Any suggestion for resume improvement, any suggestion for job hunting strategy improvement, anything could be your edge against other candidates out there. So I decided to create a tool that can help you in your job search journey."}),N.jsx("p",{children:"RaDAR is a tool I came up with which incorporates all the suggestions I have ever been given to optimize my job search, improve my resume, and improve my job hunting strategy."})]})}async function BT(u,t,e,s,r=null){let o=JSON.parse(localStorage.getItem(u));if(o!=null){if(t in o)return console.log("Using cached "+t+" within "+u+" cache"),console.log(o),o[t];console.log("Couldn't find cached "+t+" within "+u+" cache")}else console.log("Couldn't find "+u+" cache."),o={},console.log("Creating a empty cache for "+u),localStorage.setItem(u,JSON.stringify(o));const c=await fetch(e+s,r);if(c.ok){const d=await c.json();return o[t]=d,console.log("Cached the newly fetched data for "+t+" within "+u+" cache with the following:"),console.log(d),localStorage.setItem(u,JSON.stringify(o)),d}else return console.log("Weird. When fetching data for "+t+" within "+u+" cache, got response"),console.log(c),c}function z2({jobTitle:u,jobCompany:t,deployment:e}){const[s,r]=J.useState(null),[o,c]=J.useState(null),[d,p]=J.useState(!0);return J.useEffect(()=>{(async()=>{const m=await BT("RADAR_CACHED_COMPANY_VALUES",t.toLowerCase(),e,"/get-company-values",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({job_title:u,company:t})});r(m.values),c(m.link),p(!1)})()},[t]),N.jsx("div",{id:"company-values",className:"section-container",children:d?N.jsx(lu,{loading:d,message:"Fetching company values..."}):N.jsxs("div",{children:[N.jsxs("div",{id:"company-values-redirect",children:[N.jsx("h2",{children:"Core Values"})," ",N.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer",children:"🔗"})]}),s.map((g,m)=>N.jsxs("div",{className:"company-value-item",children:[N.jsx("div",{children:N.jsx("strong",{children:g.value_name})}),N.jsx("div",{children:N.jsx("em",{children:g.value_explanation})}),N.jsx("ul",{children:g.value_usage_recommendations_in_interview.map((b,v)=>N.jsx("li",{children:b},v))})]},m))]})})}const U2="/radar_frontend/assets/levelfyi-DrBVGahx.svg";function B2({deployment:u,jobCompany:t}){const[e,s]=J.useState(null),[r,o]=J.useState(null);return J.useEffect(()=>{const c=async()=>{const p=await fetch(u+"/get-logo-client-id",{method:"GET"});if(p.ok){const g=await p.text();s(g)}},d=async()=>{const p=await BT("RADAR_CACHED_COMPANY_DOMAINS",t.toLowerCase(),u,"/get-company-domain",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company:t})});o(p.domain)};c(),d()},[]),e&&r&&N.jsx("img",{className:"company-logo",src:`https://cdn.brandfetch.io/${r}?c=${e}`,alt:t})}function I2({deployment:u,setJobDescription:t,jobDescription:e,setJobTitle:s,setJobCompany:r,jobCompany:o,jobTitle:c,resume:d}){const[p,g]=J.useState(null),[m,b]=J.useState(null),[v,S]=J.useState(""),[_,T]=J.useState(null),[C,M]=J.useState(null),[O,k]=J.useState(!1),[H,j]=J.useState(null),[B,I]=J.useState(null),[X,G]=J.useState(null),[nt,it]=J.useState(!1),[ut,ht]=J.useState(null),[dt,mt]=J.useState(null),[K,W]=J.useState(!1),[tt,Tt]=J.useState(!1),L=async()=>{if(v===""){alert("Please enter a job description.");return}if(W(!0),k(!1),M(null),g(null),b(null),r(null),s(null),t(v),d){const wt=new FormData;wt.append("resume",d);const qe=await fetch(u+"/get-resume-text",{method:"POST",body:wt});if(qe.ok){Tt(!0);const Pt=await qe.text();T(Pt)}else alert("Failed to get resume text.")}const gt=await fetch(u+"/process-job-description",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jd:v})});if(gt.ok){const wt=await gt.json();s(wt.title),r(wt.company),g(wt.keywords),b(wt.notes),"salary_bracket"in wt&&j(wt.salary_bracket),"experience_level"in wt&&I(wt.experience_level),"visa_sponsorship"in wt&&it(wt.visa_sponsorship),"location"in wt&&ht(wt.location),"benefits"in wt&&mt(wt.benefits),"team_name"in wt&&G(wt.team_name)}else alert("Failed to process job description. "+result.error),W(!1);if(d){const wt=new FormData;wt.append("resume",d),wt.append("jd",v),wt.append("company",o),wt.append("position",c);const qe=await fetch(u+"/get-resume-alignment-score",{method:"POST",body:wt});if(qe.ok){const Pt=await qe.json();M(Pt.alignment_score)}else alert("Failed to get resume alignment score. "+qe.text().error),W(!1)}W(!1)},Q=()=>N.jsx("textarea",{id:"jd-input",rows:20,value:v,onChange:gt=>S(gt.target.value),placeholder:"Paste job description here...",wrap:"soft"}),lt=()=>!c||!o?null:N.jsxs("div",{id:"jd-header",children:[N.jsxs("div",{id:"jd-within-header-title",children:[N.jsx(B2,{deployment:u,jobCompany:o}),"   ",N.jsxs("div",{children:[c&&N.jsx("div",{id:"jd-title",children:c}),o&&N.jsx("div",{id:"jd-company",children:o})]})]}),N.jsxs("div",{id:"jd-within-header-rest",children:[N.jsx(Dt,{}),N.jsx(Vt,{})]})]}),at=()=>o?N.jsxs("div",{id:"jd-subheader",children:[X&&N.jsxs("div",{id:"jd-team-name",children:[N.jsx("span",{children:"👥"}),"   ",N.jsx("span",{children:X})]}),H&&N.jsxs("div",{id:"jd-salary-bracket",children:[N.jsx("span",{children:"🤑"}),"   ",N.jsx("span",{children:H})]}),B&&N.jsxs("div",{id:"jd-experience-level",children:[N.jsx("span",{children:"🏢"}),"   ",N.jsx("span",{children:B})]}),nt&&N.jsxs("div",{id:"jd-sponsorship",children:["Visa Sponsorship: ",nt?"✅":"❌"]}),ut&&N.jsxs("div",{id:"jd-location",children:[N.jsx("span",{children:"📌"}),"   ",N.jsx("span",{children:ut})]})]}):null;function st(gt){return!_||!tt?!1:_.toLowerCase().includes(gt.toLowerCase())}const _t=()=>p?N.jsxs("div",{children:[N.jsx("ul",{id:"jd-keywords-section",children:p.map((gt,wt)=>N.jsx("li",{className:st(gt)?"jd-keyword keyword-present":"jd-keyword",children:gt},wt))}),tt?N.jsxs("div",{className:"section-footnote",children:[N.jsx("span",{className:"jd-keyword keyword-present",children:"Green"})," indicate that the keyword was found in your resume."]}):N.jsx("div",{className:"section-footnote",children:d?N.jsxs("em",{children:[N.jsx("a",{href:"#jd-section",children:"Process JD"})," to highlight which keywords were found in your resume."]}):N.jsxs("em",{children:[N.jsx("a",{href:"#introduction-section",children:"Add resume"})," and process JD again to check which keywords were found in your resume."]})})," "]}):null,pt=()=>m?N.jsxs("div",{children:[dt&&N.jsxs("div",{id:"jd-benefits",children:[N.jsx("h3",{children:"💪  Key Benefits"}),N.jsx("ul",{children:dt.map((gt,wt)=>N.jsx("li",{children:gt},wt))})]}),N.jsx("h3",{children:"📝  Note:"}),N.jsx("ul",{id:"jd-note",children:m.map((gt,wt)=>N.jsx("li",{children:gt},wt))})]}):null,Et=()=>N.jsxs("div",{id:"company-values-section",children:[O&&N.jsx(z2,{deployment:u,jobTitle:c,jobCompany:o}),o&&N.jsxs("button",{style:{margin:"1% 0"},onClick:()=>k(!O),children:[O?"Hide":"Get"," Company Values"]})]}),Dt=()=>{if(!e||K)return null;if(d){if(!C)return N.jsx("div",{className:"section-footnote",children:N.jsxs("em",{children:[N.jsx("a",{href:"#jd-section",children:"Process JD"})," to get resume alignment score."]})})}else return N.jsx("div",{className:"section-footnote",children:N.jsxs("em",{children:[N.jsx("a",{href:"#introduction-section",children:"Add resume"})," and process the JD again to get resume alignment score."]})});if(C)return N.jsxs("div",{className:"resume-alignment-score",children:["Alignment Score:",N.jsxs("b",{className:C>=80?"A alignment-score":C<80&&C>=60?"B alignment-score":C<60&&C>=40?"C alignment-score":C<40&&C>=20?"D alignment-score":"F alignment-score",children:[C,"%"]})]})},Vt=()=>N.jsxs("button",{id:"check-salaries",children:[N.jsx("img",{src:U2,alt:"Redirect to Levels.fyi",width:"40px",height:"40px"}),"   ",N.jsx("a",{href:"https://www.levels.fyi/",target:"_blank",rel:"noopener noreferrer",children:"Check Salaries"})]});return N.jsxs("div",{id:"jd-section",children:[N.jsx("h2",{className:"section-heading",children:"Job Description"}),N.jsx(Q,{})," ",N.jsx("button",{onClick:L,children:"Process Job Description"})," ",N.jsx(lu,{loading:K,message:"Processing the Job Description"}),N.jsx(lt,{}),N.jsx(Et,{}),N.jsx(at,{}),N.jsx(_t,{}),N.jsx(pt,{})]})}function q2(){const[u,t]=J.useState("🟡 Initialising..."),[e,s]=J.useState(null),[r,o]=J.useState(null),[c,d]=J.useState(""),[p,g]=J.useState(null),[m,b]=J.useState(null),v="https://radar-backend-o1yd.onrender.com";return J.useEffect(()=>{async function S(){try{const _=await Re.get(v+"/hello-server");_.status===200?(t("🟢 Online"),console.log("RaDAR Online!")):console.log("This is weird. Server status: "+_)}catch(_){t("🔴 Offline"),alert("Server response: "+_+". Report back to the developer.")}}S()},[]),N.jsxs("div",{children:[N.jsx(j2,{serverStatus:u}),N.jsx(N2,{deployment:v,setResume:s,resume:e,setResumeUrl:o,resumeUrl:r}),N.jsx(I2,{deployment:v,setJobDescription:d,jobDescription:c,setJobTitle:g,jobTitle:p,setJobCompany:b,jobCompany:m,resume:e})," ",N.jsx(P2,{resume:e,jobDescription:c,jobTitle:p,jobCompany:m,deployment:v}),"   ",N.jsx(H2,{deployment:v})]})}yC.createRoot(document.getElementById("root")).render(N.jsx(J.StrictMode,{children:N.jsx(q2,{})}));
