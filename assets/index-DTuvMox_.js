var $R=Object.defineProperty;var zE=h=>{throw TypeError(h)};var WR=(h,t,e)=>t in h?$R(h,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):h[t]=e;var wt=(h,t,e)=>WR(h,typeof t!="symbol"?t+"":t,e),$y=(h,t,e)=>t.has(h)||zE("Cannot "+e);var u=(h,t,e)=>($y(h,t,"read from private field"),e?e.call(h):t.get(h)),x=(h,t,e)=>t.has(h)?zE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(h):t.set(h,e),_=(h,t,e,s)=>($y(h,t,"write to private field"),s?s.call(h,e):t.set(h,e),e),w=(h,t,e)=>($y(h,t,"access private method"),e);var Si=(h,t,e,s)=>({set _(r){_(h,t,r,e)},get _(){return u(h,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function QR(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var Wy={exports:{}},lh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function ZR(){if(UE)return lh;UE=1;var h=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var d in r)d!=="key"&&(o[d]=r[d])}else o=r;return r=o.ref,{$$typeof:h,type:s,key:c,ref:r!==void 0?r:null,props:o}}return lh.Fragment=t,lh.jsx=e,lh.jsxs=e,lh}var BE;function JR(){return BE||(BE=1,Wy.exports=ZR()),Wy.exports}var Y=JR(),Qy={exports:{}},Ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jE;function tC(){if(jE)return Ot;jE=1;var h=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.iterator;function v(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function M(O,W,lt){this.props=O,this.context=W,this.refs=T,this.updater=lt||S}M.prototype.isReactComponent={},M.prototype.setState=function(O,W){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,W,"setState")},M.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function C(){}C.prototype=M.prototype;function L(O,W,lt){this.props=O,this.context=W,this.refs=T,this.updater=lt||S}var N=L.prototype=new C;N.constructor=L,E(N,M.prototype),N.isPureReactComponent=!0;var F=Array.isArray,z={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function V(O,W,lt,at,it,Et){return lt=Et.ref,{$$typeof:h,type:O,key:W,ref:lt!==void 0?lt:null,props:Et}}function Z(O,W){return V(O.type,W,void 0,void 0,void 0,O.props)}function q(O){return typeof O=="object"&&O!==null&&O.$$typeof===h}function et(O){var W={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(lt){return W[lt]})}var st=/\/+/g;function St(O,W){return typeof O=="object"&&O!==null&&O.key!=null?et(""+O.key):W.toString(36)}function gt(){}function dt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(gt,gt):(O.status="pending",O.then(function(W){O.status==="pending"&&(O.status="fulfilled",O.value=W)},function(W){O.status==="pending"&&(O.status="rejected",O.reason=W)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function mt(O,W,lt,at,it){var Et=typeof O;(Et==="undefined"||Et==="boolean")&&(O=null);var ht=!1;if(O===null)ht=!0;else switch(Et){case"bigint":case"string":case"number":ht=!0;break;case"object":switch(O.$$typeof){case h:case t:ht=!0;break;case m:return ht=O._init,mt(ht(O._payload),W,lt,at,it)}}if(ht)return it=it(O),ht=at===""?"."+St(O,0):at,F(it)?(lt="",ht!=null&&(lt=ht.replace(st,"$&/")+"/"),mt(it,W,lt,"",function(Vt){return Vt})):it!=null&&(q(it)&&(it=Z(it,lt+(it.key==null||O&&O.key===it.key?"":(""+it.key).replace(st,"$&/")+"/")+ht)),W.push(it)),1;ht=0;var _t=at===""?".":at+":";if(F(O))for(var Lt=0;Lt<O.length;Lt++)at=O[Lt],Et=_t+St(at,Lt),ht+=mt(at,W,lt,Et,it);else if(Lt=v(O),typeof Lt=="function")for(O=Lt.call(O),Lt=0;!(at=O.next()).done;)at=at.value,Et=_t+St(at,Lt++),ht+=mt(at,W,lt,Et,it);else if(Et==="object"){if(typeof O.then=="function")return mt(dt(O),W,lt,at,it);throw W=String(O),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ht}function K(O,W,lt){if(O==null)return O;var at=[],it=0;return mt(O,at,"","",function(Et){return W.call(lt,Et,it++)}),at}function Q(O){if(O._status===-1){var W=O._result;W=W(),W.then(function(lt){(O._status===0||O._status===-1)&&(O._status=1,O._result=lt)},function(lt){(O._status===0||O._status===-1)&&(O._status=2,O._result=lt)}),O._status===-1&&(O._status=0,O._result=W)}if(O._status===1)return O._result.default;throw O._result}var tt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Ct(){}return Ot.Children={map:K,forEach:function(O,W,lt){K(O,function(){W.apply(this,arguments)},lt)},count:function(O){var W=0;return K(O,function(){W++}),W},toArray:function(O){return K(O,function(W){return W})||[]},only:function(O){if(!q(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ot.Component=M,Ot.Fragment=e,Ot.Profiler=r,Ot.PureComponent=L,Ot.StrictMode=s,Ot.Suspense=p,Ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Ot.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ot.cache=function(O){return function(){return O.apply(null,arguments)}},Ot.cloneElement=function(O,W,lt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=E({},O.props),it=O.key,Et=void 0;if(W!=null)for(ht in W.ref!==void 0&&(Et=void 0),W.key!==void 0&&(it=""+W.key),W)!B.call(W,ht)||ht==="key"||ht==="__self"||ht==="__source"||ht==="ref"&&W.ref===void 0||(at[ht]=W[ht]);var ht=arguments.length-2;if(ht===1)at.children=lt;else if(1<ht){for(var _t=Array(ht),Lt=0;Lt<ht;Lt++)_t[Lt]=arguments[Lt+2];at.children=_t}return V(O.type,it,void 0,void 0,Et,at)},Ot.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:o,_context:O},O},Ot.createElement=function(O,W,lt){var at,it={},Et=null;if(W!=null)for(at in W.key!==void 0&&(Et=""+W.key),W)B.call(W,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(it[at]=W[at]);var ht=arguments.length-2;if(ht===1)it.children=lt;else if(1<ht){for(var _t=Array(ht),Lt=0;Lt<ht;Lt++)_t[Lt]=arguments[Lt+2];it.children=_t}if(O&&O.defaultProps)for(at in ht=O.defaultProps,ht)it[at]===void 0&&(it[at]=ht[at]);return V(O,Et,void 0,void 0,null,it)},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(O){return{$$typeof:d,render:O}},Ot.isValidElement=q,Ot.lazy=function(O){return{$$typeof:m,_payload:{_status:-1,_result:O},_init:Q}},Ot.memo=function(O,W){return{$$typeof:g,type:O,compare:W===void 0?null:W}},Ot.startTransition=function(O){var W=z.T,lt={};z.T=lt;try{var at=O(),it=z.S;it!==null&&it(lt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Ct,tt)}catch(Et){tt(Et)}finally{z.T=W}},Ot.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Ot.use=function(O){return z.H.use(O)},Ot.useActionState=function(O,W,lt){return z.H.useActionState(O,W,lt)},Ot.useCallback=function(O,W){return z.H.useCallback(O,W)},Ot.useContext=function(O){return z.H.useContext(O)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(O,W){return z.H.useDeferredValue(O,W)},Ot.useEffect=function(O,W){return z.H.useEffect(O,W)},Ot.useId=function(){return z.H.useId()},Ot.useImperativeHandle=function(O,W,lt){return z.H.useImperativeHandle(O,W,lt)},Ot.useInsertionEffect=function(O,W){return z.H.useInsertionEffect(O,W)},Ot.useLayoutEffect=function(O,W){return z.H.useLayoutEffect(O,W)},Ot.useMemo=function(O,W){return z.H.useMemo(O,W)},Ot.useOptimistic=function(O,W){return z.H.useOptimistic(O,W)},Ot.useReducer=function(O,W,lt){return z.H.useReducer(O,W,lt)},Ot.useRef=function(O){return z.H.useRef(O)},Ot.useState=function(O){return z.H.useState(O)},Ot.useSyncExternalStore=function(O,W,lt){return z.H.useSyncExternalStore(O,W,lt)},Ot.useTransition=function(){return z.H.useTransition()},Ot.version="19.0.0",Ot}var IE;function zv(){return IE||(IE=1,Qy.exports=tC()),Qy.exports}var rt=zv(),Zy={exports:{}},ch={},Jy={exports:{}},tb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE;function eC(){return qE||(qE=1,function(h){function t(K,Q){var tt=K.length;K.push(Q);t:for(;0<tt;){var Ct=tt-1>>>1,O=K[Ct];if(0<r(O,Q))K[Ct]=Q,K[tt]=O,tt=Ct;else break t}}function e(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var Q=K[0],tt=K.pop();if(tt!==Q){K[0]=tt;t:for(var Ct=0,O=K.length,W=O>>>1;Ct<W;){var lt=2*(Ct+1)-1,at=K[lt],it=lt+1,Et=K[it];if(0>r(at,tt))it<O&&0>r(Et,at)?(K[Ct]=Et,K[it]=tt,Ct=it):(K[Ct]=at,K[lt]=tt,Ct=lt);else if(it<O&&0>r(Et,tt))K[Ct]=Et,K[it]=tt,Ct=it;else break t}}return Q}function r(K,Q){var tt=K.sortIndex-Q.sortIndex;return tt!==0?tt:K.id-Q.id}if(h.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;h.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();h.unstable_now=function(){return c.now()-d}}var p=[],g=[],m=1,b=null,v=3,S=!1,E=!1,T=!1,M=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function N(K){for(var Q=e(g);Q!==null;){if(Q.callback===null)s(g);else if(Q.startTime<=K)s(g),Q.sortIndex=Q.expirationTime,t(p,Q);else break;Q=e(g)}}function F(K){if(T=!1,N(K),!E)if(e(p)!==null)E=!0,dt();else{var Q=e(g);Q!==null&&mt(F,Q.startTime-K)}}var z=!1,B=-1,V=5,Z=-1;function q(){return!(h.unstable_now()-Z<V)}function et(){if(z){var K=h.unstable_now();Z=K;var Q=!0;try{t:{E=!1,T&&(T=!1,C(B),B=-1),S=!0;var tt=v;try{e:{for(N(K),b=e(p);b!==null&&!(b.expirationTime>K&&q());){var Ct=b.callback;if(typeof Ct=="function"){b.callback=null,v=b.priorityLevel;var O=Ct(b.expirationTime<=K);if(K=h.unstable_now(),typeof O=="function"){b.callback=O,N(K),Q=!0;break e}b===e(p)&&s(p),N(K)}else s(p);b=e(p)}if(b!==null)Q=!0;else{var W=e(g);W!==null&&mt(F,W.startTime-K),Q=!1}}break t}finally{b=null,v=tt,S=!1}Q=void 0}}finally{Q?st():z=!1}}}var st;if(typeof L=="function")st=function(){L(et)};else if(typeof MessageChannel<"u"){var St=new MessageChannel,gt=St.port2;St.port1.onmessage=et,st=function(){gt.postMessage(null)}}else st=function(){M(et,0)};function dt(){z||(z=!0,st())}function mt(K,Q){B=M(function(){K(h.unstable_now())},Q)}h.unstable_IdlePriority=5,h.unstable_ImmediatePriority=1,h.unstable_LowPriority=4,h.unstable_NormalPriority=3,h.unstable_Profiling=null,h.unstable_UserBlockingPriority=2,h.unstable_cancelCallback=function(K){K.callback=null},h.unstable_continueExecution=function(){E||S||(E=!0,dt())},h.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<K?Math.floor(1e3/K):5},h.unstable_getCurrentPriorityLevel=function(){return v},h.unstable_getFirstCallbackNode=function(){return e(p)},h.unstable_next=function(K){switch(v){case 1:case 2:case 3:var Q=3;break;default:Q=v}var tt=v;v=Q;try{return K()}finally{v=tt}},h.unstable_pauseExecution=function(){},h.unstable_requestPaint=function(){},h.unstable_runWithPriority=function(K,Q){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var tt=v;v=K;try{return Q()}finally{v=tt}},h.unstable_scheduleCallback=function(K,Q,tt){var Ct=h.unstable_now();switch(typeof tt=="object"&&tt!==null?(tt=tt.delay,tt=typeof tt=="number"&&0<tt?Ct+tt:Ct):tt=Ct,K){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=tt+O,K={id:m++,callback:Q,priorityLevel:K,startTime:tt,expirationTime:O,sortIndex:-1},tt>Ct?(K.sortIndex=tt,t(g,K),e(p)===null&&K===e(g)&&(T?(C(B),B=-1):T=!0,mt(F,tt-Ct))):(K.sortIndex=O,t(p,K),E||S||(E=!0,dt())),K},h.unstable_shouldYield=q,h.unstable_wrapCallback=function(K){var Q=v;return function(){var tt=v;v=Q;try{return K.apply(this,arguments)}finally{v=tt}}}}(tb)),tb}var GE;function iC(){return GE||(GE=1,Jy.exports=eC()),Jy.exports}var eb={exports:{}},ci={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function nC(){if(VE)return ci;VE=1;var h=zv();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)g+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(p,g,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:p,containerInfo:g,implementation:m}}var c=h.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ci.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ci.createPortal=function(p,g){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(p,g,null,m)},ci.flushSync=function(p){var g=c.T,m=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=m,s.d.f()}},ci.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},ci.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},ci.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var m=g.as,b=d(m,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;m==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:S}):m==="script"&&s.d.X(p,{crossOrigin:b,integrity:v,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ci.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var m=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},ci.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var m=g.as,b=d(m,g.crossOrigin);s.d.L(p,m,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ci.preloadModule=function(p,g){if(typeof p=="string")if(g){var m=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},ci.requestFormReset=function(p){s.d.r(p)},ci.unstable_batchedUpdates=function(p,g){return p(g)},ci.useFormState=function(p,g,m){return c.H.useFormState(p,g,m)},ci.useFormStatus=function(){return c.H.useHostTransitionStatus()},ci.version="19.0.0",ci}var XE;function sC(){if(XE)return eb.exports;XE=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(t){console.error(t)}}return h(),eb.exports=nC(),eb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE;function aC(){if(YE)return ch;YE=1;var h=iC(),t=zv(),e=sC();function s(i){var n="https://react.dev/errors/"+i;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var o=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),S=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),N=Symbol.for("react.offscreen"),F=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function Z(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case p:return"Fragment";case d:return"Portal";case m:return"Profiler";case g:return"StrictMode";case T:return"Suspense";case M:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case S:return(i.displayName||"Context")+".Provider";case v:return(i._context.displayName||"Context")+".Consumer";case E:var n=i.render;return i=i.displayName,i||(i=n.displayName||n.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return n=i.displayName||null,n!==null?n:Z(i.type)||"Memo";case L:n=i._payload,i=i._init;try{return Z(i(n))}catch{}}return null}var q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=Object.assign,st,St;function gt(i){if(st===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);st=n&&n[1]||"",St=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+st+i+St}var dt=!1;function mt(i,n){if(!i||dt)return"";dt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var j=G}Reflect.construct(i,[],J)}else{try{J.call()}catch(G){j=G}i.call(J.prototype)}}else{try{throw Error()}catch(G){j=G}(J=i())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&j&&typeof G.stack=="string")return[G.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=l.DetermineComponentFrameRoot(),A=y[0],R=y[1];if(A&&R){var D=A.split(`
`),P=R.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<P.length&&!P[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===P.length)for(l=D.length-1,f=P.length-1;1<=l&&0<=f&&D[l]!==P[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==P[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==P[f]){var X=`
`+D[l].replace(" at new "," at ");return i.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",i.displayName)),X}while(1<=l&&0<=f);break}}}finally{dt=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?gt(a):""}function K(i){switch(i.tag){case 26:case 27:case 5:return gt(i.type);case 16:return gt("Lazy");case 13:return gt("Suspense");case 19:return gt("SuspenseList");case 0:case 15:return i=mt(i.type,!1),i;case 11:return i=mt(i.type.render,!1),i;case 1:return i=mt(i.type,!0),i;default:return""}}function Q(i){try{var n="";do n+=K(i),i=i.return;while(i);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tt(i){var n=i,a=i;if(i.alternate)for(;n.return;)n=n.return;else{i=n;do n=i,(n.flags&4098)!==0&&(a=n.return),i=n.return;while(i)}return n.tag===3?a:null}function Ct(i){if(i.tag===13){var n=i.memoizedState;if(n===null&&(i=i.alternate,i!==null&&(n=i.memoizedState)),n!==null)return n.dehydrated}return null}function O(i){if(tt(i)!==i)throw Error(s(188))}function W(i){var n=i.alternate;if(!n){if(n=tt(i),n===null)throw Error(s(188));return n!==i?null:i}for(var a=i,l=n;;){var f=a.return;if(f===null)break;var y=f.alternate;if(y===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===a)return O(f),i;if(y===l)return O(f),n;y=y.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=y;else{for(var A=!1,R=f.child;R;){if(R===a){A=!0,a=f,l=y;break}if(R===l){A=!0,l=f,a=y;break}R=R.sibling}if(!A){for(R=y.child;R;){if(R===a){A=!0,a=y,l=f;break}if(R===l){A=!0,l=y,a=f;break}R=R.sibling}if(!A)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:n}function lt(i){var n=i.tag;if(n===5||n===26||n===27||n===6)return i;for(i=i.child;i!==null;){if(n=lt(i),n!==null)return n;i=i.sibling}return null}var at=Array.isArray,it=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Et={pending:!1,data:null,method:null,action:null},ht=[],_t=-1;function Lt(i){return{current:i}}function Vt(i){0>_t||(i.current=ht[_t],ht[_t]=null,_t--)}function At(i,n){_t++,ht[_t]=i.current,i.current=n}var ri=Lt(null),Mn=Lt(null),jt=Lt(null),le=Lt(null);function _e(i,n){switch(At(jt,n),At(Mn,i),At(ri,null),i=n.nodeType,i){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?fE(n):0;break;default:if(i=i===8?n.parentNode:n,n=i.tagName,i=i.namespaceURI)i=fE(i),n=pE(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Vt(ri),At(ri,n)}function ce(){Vt(ri),Vt(Mn),Vt(jt)}function Qn(i){i.memoizedState!==null&&At(le,i);var n=ri.current,a=pE(n,i.type);n!==a&&(At(Mn,i),At(ri,a))}function Zn(i){Mn.current===i&&(Vt(ri),Vt(Mn)),le.current===i&&(Vt(le),nh._currentValue=Et)}var uu=Object.prototype.hasOwnProperty,hu=h.unstable_scheduleCallback,wa=h.unstable_cancelCallback,jg=h.unstable_shouldYield,Ig=h.unstable_requestPaint,rn=h.unstable_now,qg=h.unstable_getCurrentPriorityLevel,nf=h.unstable_ImmediatePriority,ws=h.unstable_UserBlockingPriority,Ts=h.unstable_NormalPriority,fl=h.unstable_LowPriority,pl=h.unstable_IdlePriority,LT=h.log,OT=h.unstable_setDisableYieldValue,du=null,Ui=null;function NT(i){if(Ui&&typeof Ui.onCommitFiberRoot=="function")try{Ui.onCommitFiberRoot(du,i,void 0,(i.current.flags&128)===128)}catch{}}function Ta(i){if(typeof LT=="function"&&OT(i),Ui&&typeof Ui.setStrictMode=="function")try{Ui.setStrictMode(du,i)}catch{}}var Bi=Math.clz32?Math.clz32:FT,kT=Math.log,PT=Math.LN2;function FT(i){return i>>>=0,i===0?32:31-(kT(i)/PT|0)|0}var sf=128,af=4194304;function Mr(i){var n=i&42;if(n!==0)return n;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function rf(i,n){var a=i.pendingLanes;if(a===0)return 0;var l=0,f=i.suspendedLanes,y=i.pingedLanes,A=i.warmLanes;i=i.finishedLanes!==0;var R=a&134217727;return R!==0?(a=R&~f,a!==0?l=Mr(a):(y&=R,y!==0?l=Mr(y):i||(A=R&~A,A!==0&&(l=Mr(A))))):(R=a&~f,R!==0?l=Mr(R):y!==0?l=Mr(y):i||(A=a&~A,A!==0&&(l=Mr(A)))),l===0?0:n!==0&&n!==l&&(n&f)===0&&(f=l&-l,A=n&-n,f>=A||f===32&&(A&4194176)!==0)?n:l}function fu(i,n){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&n)===0}function HT(i,n){switch(i){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a0(){var i=sf;return sf<<=1,(sf&4194176)===0&&(sf=128),i}function r0(){var i=af;return af<<=1,(af&62914560)===0&&(af=4194304),i}function Gg(i){for(var n=[],a=0;31>a;a++)n.push(i);return n}function pu(i,n){i.pendingLanes|=n,n!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function zT(i,n,a,l,f,y){var A=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var R=i.entanglements,D=i.expirationTimes,P=i.hiddenUpdates;for(a=A&~a;0<a;){var X=31-Bi(a),J=1<<X;R[X]=0,D[X]=-1;var j=P[X];if(j!==null)for(P[X]=null,X=0;X<j.length;X++){var G=j[X];G!==null&&(G.lane&=-536870913)}a&=~J}l!==0&&o0(i,l,0),y!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=y&~(A&~n))}function o0(i,n,a){i.pendingLanes|=n,i.suspendedLanes&=~n;var l=31-Bi(n);i.entangledLanes|=n,i.entanglements[l]=i.entanglements[l]|1073741824|a&4194218}function l0(i,n){var a=i.entangledLanes|=n;for(i=i.entanglements;a;){var l=31-Bi(a),f=1<<l;f&n|i[l]&n&&(i[l]|=n),a&=~f}}function c0(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function u0(){var i=it.p;return i!==0?i:(i=window.event,i===void 0?32:OE(i.type))}function UT(i,n){var a=it.p;try{return it.p=i,n()}finally{it.p=a}}var xa=Math.random().toString(36).slice(2),oi="__reactFiber$"+xa,Ci="__reactProps$"+xa,gl="__reactContainer$"+xa,Vg="__reactEvents$"+xa,BT="__reactListeners$"+xa,jT="__reactHandles$"+xa,h0="__reactResources$"+xa,gu="__reactMarker$"+xa;function Xg(i){delete i[oi],delete i[Ci],delete i[Vg],delete i[BT],delete i[jT]}function Dr(i){var n=i[oi];if(n)return n;for(var a=i.parentNode;a;){if(n=a[gl]||a[oi]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(i=yE(i);i!==null;){if(a=i[oi])return a;i=yE(i)}return n}i=a,a=i.parentNode}return null}function ml(i){if(i=i[oi]||i[gl]){var n=i.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return i}return null}function mu(i){var n=i.tag;if(n===5||n===26||n===27||n===6)return i.stateNode;throw Error(s(33))}function yl(i){var n=i[h0];return n||(n=i[h0]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ie(i){i[gu]=!0}var d0=new Set,f0={};function Lr(i,n){bl(i,n),bl(i+"Capture",n)}function bl(i,n){for(f0[i]=n,i=0;i<n.length;i++)d0.add(n[i])}var xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),IT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),p0={},g0={};function qT(i){return uu.call(g0,i)?!0:uu.call(p0,i)?!1:IT.test(i)?g0[i]=!0:(p0[i]=!0,!1)}function of(i,n,a){if(qT(n))if(a===null)i.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(n);return}}i.setAttribute(n,""+a)}}function lf(i,n,a){if(a===null)i.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(n);return}i.setAttribute(n,""+a)}}function Rs(i,n,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(n,a,""+l)}}function on(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function m0(i){var n=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function GT(i){var n=m0(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,n),l=""+i[n];if(!i.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,y=a.set;return Object.defineProperty(i,n,{configurable:!0,get:function(){return f.call(this)},set:function(A){l=""+A,y.call(this,A)}}),Object.defineProperty(i,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(A){l=""+A},stopTracking:function(){i._valueTracker=null,delete i[n]}}}}function cf(i){i._valueTracker||(i._valueTracker=GT(i))}function y0(i){if(!i)return!1;var n=i._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return i&&(l=m0(i)?i.checked?"true":"false":i.value),i=l,i!==a?(n.setValue(i),!0):!1}function uf(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var VT=/[\n"\\]/g;function ln(i){return i.replace(VT,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Yg(i,n,a,l,f,y,A,R){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),n!=null?A==="number"?(n===0&&i.value===""||i.value!=n)&&(i.value=""+on(n)):i.value!==""+on(n)&&(i.value=""+on(n)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),n!=null?Kg(i,A,on(n)):a!=null?Kg(i,A,on(a)):l!=null&&i.removeAttribute("value"),f==null&&y!=null&&(i.defaultChecked=!!y),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.name=""+on(R):i.removeAttribute("name")}function b0(i,n,a,l,f,y,A,R){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),n!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||n!=null))return;a=a!=null?""+on(a):"",n=n!=null?""+on(n):a,R||n===i.value||(i.value=n),i.defaultValue=n}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=R?i.checked:!!l,i.defaultChecked=!!l,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A)}function Kg(i,n,a){n==="number"&&uf(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function vl(i,n,a,l){if(i=i.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=n.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+on(a),n=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}n!==null||i[f].disabled||(n=i[f])}n!==null&&(n.selected=!0)}}function v0(i,n,a){if(n!=null&&(n=""+on(n),n!==i.value&&(i.value=n),a==null)){i.defaultValue!==n&&(i.defaultValue=n);return}i.defaultValue=a!=null?""+on(a):""}function A0(i,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(at(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=on(n),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l)}function Al(i,n){if(n){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=n;return}}i.textContent=n}var XT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function S0(i,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(n,""):n==="float"?i.cssFloat="":i[n]="":l?i.setProperty(n,a):typeof a!="number"||a===0||XT.has(n)?n==="float"?i.cssFloat=a:i[n]=(""+a).trim():i[n]=a+"px"}function E0(i,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in n)l=n[f],n.hasOwnProperty(f)&&a[f]!==l&&S0(i,f,l)}else for(var y in n)n.hasOwnProperty(y)&&S0(i,y,n[y])}function $g(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var YT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),KT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hf(i){return KT.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Wg=null;function Qg(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Sl=null,El=null;function _0(i){var n=ml(i);if(n&&(i=n.stateNode)){var a=i[Ci]||null;t:switch(i=n.stateNode,n.type){case"input":if(Yg(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==i&&l.form===i.form){var f=l[Ci]||null;if(!f)throw Error(s(90));Yg(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===i.form&&y0(l)}break t;case"textarea":v0(i,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&vl(i,!!a.multiple,n,!1)}}}var Zg=!1;function w0(i,n,a){if(Zg)return i(n,a);Zg=!0;try{var l=i(n);return l}finally{if(Zg=!1,(Sl!==null||El!==null)&&(Kf(),Sl&&(n=Sl,i=El,El=Sl=null,_0(n),i)))for(n=0;n<i.length;n++)_0(i[n])}}function yu(i,n){var a=i.stateNode;if(a===null)return null;var l=a[Ci]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Jg=!1;if(xs)try{var bu={};Object.defineProperty(bu,"passive",{get:function(){Jg=!0}}),window.addEventListener("test",bu,bu),window.removeEventListener("test",bu,bu)}catch{Jg=!1}var Ra=null,tm=null,df=null;function T0(){if(df)return df;var i,n=tm,a=n.length,l,f="value"in Ra?Ra.value:Ra.textContent,y=f.length;for(i=0;i<a&&n[i]===f[i];i++);var A=a-i;for(l=1;l<=A&&n[a-l]===f[y-l];l++);return df=f.slice(i,1<l?1-l:void 0)}function ff(i){var n=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&n===13&&(i=13)):i=n,i===10&&(i=13),32<=i||i===13?i:0}function pf(){return!0}function x0(){return!1}function Mi(i){function n(a,l,f,y,A){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(a=i[R],this[R]=a?a(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?pf:x0,this.isPropagationStopped=x0,this}return et(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pf)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pf)},persist:function(){},isPersistent:pf}),n}var Or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gf=Mi(Or),vu=et({},Or,{view:0,detail:0}),$T=Mi(vu),em,im,Au,mf=et({},vu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sm,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Au&&(Au&&i.type==="mousemove"?(em=i.screenX-Au.screenX,im=i.screenY-Au.screenY):im=em=0,Au=i),em)},movementY:function(i){return"movementY"in i?i.movementY:im}}),R0=Mi(mf),WT=et({},mf,{dataTransfer:0}),QT=Mi(WT),ZT=et({},vu,{relatedTarget:0}),nm=Mi(ZT),JT=et({},Or,{animationName:0,elapsedTime:0,pseudoElement:0}),tx=Mi(JT),ex=et({},Or,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ix=Mi(ex),nx=et({},Or,{data:0}),C0=Mi(nx),sx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ax={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ox(i){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(i):(i=rx[i])?!!n[i]:!1}function sm(){return ox}var lx=et({},vu,{key:function(i){if(i.key){var n=sx[i.key]||i.key;if(n!=="Unidentified")return n}return i.type==="keypress"?(i=ff(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ax[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sm,charCode:function(i){return i.type==="keypress"?ff(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ff(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),cx=Mi(lx),ux=et({},mf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M0=Mi(ux),hx=et({},vu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sm}),dx=Mi(hx),fx=et({},Or,{propertyName:0,elapsedTime:0,pseudoElement:0}),px=Mi(fx),gx=et({},mf,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),mx=Mi(gx),yx=et({},Or,{newState:0,oldState:0}),bx=Mi(yx),vx=[9,13,27,32],am=xs&&"CompositionEvent"in window,Su=null;xs&&"documentMode"in document&&(Su=document.documentMode);var Ax=xs&&"TextEvent"in window&&!Su,D0=xs&&(!am||Su&&8<Su&&11>=Su),L0=" ",O0=!1;function N0(i,n){switch(i){case"keyup":return vx.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var _l=!1;function Sx(i,n){switch(i){case"compositionend":return k0(n);case"keypress":return n.which!==32?null:(O0=!0,L0);case"textInput":return i=n.data,i===L0&&O0?null:i;default:return null}}function Ex(i,n){if(_l)return i==="compositionend"||!am&&N0(i,n)?(i=T0(),df=tm=Ra=null,_l=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return D0&&n.locale!=="ko"?null:n.data;default:return null}}var _x={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P0(i){var n=i&&i.nodeName&&i.nodeName.toLowerCase();return n==="input"?!!_x[i.type]:n==="textarea"}function F0(i,n,a,l){Sl?El?El.push(l):El=[l]:Sl=l,n=Jf(n,"onChange"),0<n.length&&(a=new gf("onChange","change",null,a,l),i.push({event:a,listeners:n}))}var Eu=null,_u=null;function wx(i){lE(i,0)}function yf(i){var n=mu(i);if(y0(n))return i}function H0(i,n){if(i==="change")return n}var z0=!1;if(xs){var rm;if(xs){var om="oninput"in document;if(!om){var U0=document.createElement("div");U0.setAttribute("oninput","return;"),om=typeof U0.oninput=="function"}rm=om}else rm=!1;z0=rm&&(!document.documentMode||9<document.documentMode)}function B0(){Eu&&(Eu.detachEvent("onpropertychange",j0),_u=Eu=null)}function j0(i){if(i.propertyName==="value"&&yf(_u)){var n=[];F0(n,_u,i,Qg(i)),w0(wx,n)}}function Tx(i,n,a){i==="focusin"?(B0(),Eu=n,_u=a,Eu.attachEvent("onpropertychange",j0)):i==="focusout"&&B0()}function xx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return yf(_u)}function Rx(i,n){if(i==="click")return yf(n)}function Cx(i,n){if(i==="input"||i==="change")return yf(n)}function Mx(i,n){return i===n&&(i!==0||1/i===1/n)||i!==i&&n!==n}var ji=typeof Object.is=="function"?Object.is:Mx;function wu(i,n){if(ji(i,n))return!0;if(typeof i!="object"||i===null||typeof n!="object"||n===null)return!1;var a=Object.keys(i),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!uu.call(n,f)||!ji(i[f],n[f]))return!1}return!0}function I0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function q0(i,n){var a=I0(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=n&&l>=n)return{node:a,offset:n-i};i=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=I0(a)}}function G0(i,n){return i&&n?i===n?!0:i&&i.nodeType===3?!1:n&&n.nodeType===3?G0(i,n.parentNode):"contains"in i?i.contains(n):i.compareDocumentPosition?!!(i.compareDocumentPosition(n)&16):!1:!1}function V0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var n=uf(i.document);n instanceof i.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)i=n.contentWindow;else break;n=uf(i.document)}return n}function lm(i){var n=i&&i.nodeName&&i.nodeName.toLowerCase();return n&&(n==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||n==="textarea"||i.contentEditable==="true")}function Dx(i,n){var a=V0(n);n=i.focusedElem;var l=i.selectionRange;if(a!==n&&n&&n.ownerDocument&&G0(n.ownerDocument.documentElement,n)){if(l!==null&&lm(n)){if(i=l.start,a=l.end,a===void 0&&(a=i),"selectionStart"in n)n.selectionStart=i,n.selectionEnd=Math.min(a,n.value.length);else if(a=(i=n.ownerDocument||document)&&i.defaultView||window,a.getSelection){a=a.getSelection();var f=n.textContent.length,y=Math.min(l.start,f);l=l.end===void 0?y:Math.min(l.end,f),!a.extend&&y>l&&(f=l,l=y,y=f),f=q0(n,y);var A=q0(n,l);f&&A&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==A.node||a.focusOffset!==A.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),a.removeAllRanges(),y>l?(a.addRange(i),a.extend(A.node,A.offset)):(i.setEnd(A.node,A.offset),a.addRange(i)))}}for(i=[],a=n;a=a.parentNode;)a.nodeType===1&&i.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<i.length;n++)a=i[n],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Lx=xs&&"documentMode"in document&&11>=document.documentMode,wl=null,cm=null,Tu=null,um=!1;function X0(i,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;um||wl==null||wl!==uf(l)||(l=wl,"selectionStart"in l&&lm(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Tu&&wu(Tu,l)||(Tu=l,l=Jf(cm,"onSelect"),0<l.length&&(n=new gf("onSelect","select",null,n,a),i.push({event:n,listeners:l}),n.target=wl)))}function Nr(i,n){var a={};return a[i.toLowerCase()]=n.toLowerCase(),a["Webkit"+i]="webkit"+n,a["Moz"+i]="moz"+n,a}var Tl={animationend:Nr("Animation","AnimationEnd"),animationiteration:Nr("Animation","AnimationIteration"),animationstart:Nr("Animation","AnimationStart"),transitionrun:Nr("Transition","TransitionRun"),transitionstart:Nr("Transition","TransitionStart"),transitioncancel:Nr("Transition","TransitionCancel"),transitionend:Nr("Transition","TransitionEnd")},hm={},Y0={};xs&&(Y0=document.createElement("div").style,"AnimationEvent"in window||(delete Tl.animationend.animation,delete Tl.animationiteration.animation,delete Tl.animationstart.animation),"TransitionEvent"in window||delete Tl.transitionend.transition);function kr(i){if(hm[i])return hm[i];if(!Tl[i])return i;var n=Tl[i],a;for(a in n)if(n.hasOwnProperty(a)&&a in Y0)return hm[i]=n[a];return i}var K0=kr("animationend"),$0=kr("animationiteration"),W0=kr("animationstart"),Ox=kr("transitionrun"),Nx=kr("transitionstart"),kx=kr("transitioncancel"),Q0=kr("transitionend"),Z0=new Map,J0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Dn(i,n){Z0.set(i,n),Lr(n,[i])}var cn=[],xl=0,dm=0;function bf(){for(var i=xl,n=dm=xl=0;n<i;){var a=cn[n];cn[n++]=null;var l=cn[n];cn[n++]=null;var f=cn[n];cn[n++]=null;var y=cn[n];if(cn[n++]=null,l!==null&&f!==null){var A=l.pending;A===null?f.next=f:(f.next=A.next,A.next=f),l.pending=f}y!==0&&tA(a,f,y)}}function vf(i,n,a,l){cn[xl++]=i,cn[xl++]=n,cn[xl++]=a,cn[xl++]=l,dm|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function fm(i,n,a,l){return vf(i,n,a,l),Af(i)}function Ca(i,n){return vf(i,null,null,n),Af(i)}function tA(i,n,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,y=i.return;y!==null;)y.childLanes|=a,l=y.alternate,l!==null&&(l.childLanes|=a),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(f=!0)),i=y,y=y.return;f&&n!==null&&i.tag===3&&(y=i.stateNode,f=31-Bi(a),y=y.hiddenUpdates,i=y[f],i===null?y[f]=[n]:i.push(n),n.lane=a|536870912)}function Af(i){if(50<Wu)throw Wu=0,vy=null,Error(s(185));for(var n=i.return;n!==null;)i=n,n=i.return;return i.tag===3?i.stateNode:null}var Rl={},eA=new WeakMap;function un(i,n){if(typeof i=="object"&&i!==null){var a=eA.get(i);return a!==void 0?a:(n={value:i,source:n,stack:Q(n)},eA.set(i,n),n)}return{value:i,source:n,stack:Q(n)}}var Cl=[],Ml=0,Sf=null,Ef=0,hn=[],dn=0,Pr=null,Cs=1,Ms="";function Fr(i,n){Cl[Ml++]=Ef,Cl[Ml++]=Sf,Sf=i,Ef=n}function iA(i,n,a){hn[dn++]=Cs,hn[dn++]=Ms,hn[dn++]=Pr,Pr=i;var l=Cs;i=Ms;var f=32-Bi(l)-1;l&=~(1<<f),a+=1;var y=32-Bi(n)+f;if(30<y){var A=f-f%5;y=(l&(1<<A)-1).toString(32),l>>=A,f-=A,Cs=1<<32-Bi(n)+f|a<<f|l,Ms=y+i}else Cs=1<<y|a<<f|l,Ms=i}function pm(i){i.return!==null&&(Fr(i,1),iA(i,1,0))}function gm(i){for(;i===Sf;)Sf=Cl[--Ml],Cl[Ml]=null,Ef=Cl[--Ml],Cl[Ml]=null;for(;i===Pr;)Pr=hn[--dn],hn[dn]=null,Ms=hn[--dn],hn[dn]=null,Cs=hn[--dn],hn[dn]=null}var vi=null,Ze=null,Xt=!1,Ln=null,Jn=!1,mm=Error(s(519));function Hr(i){var n=Error(s(418,""));throw Cu(un(n,i)),mm}function nA(i){var n=i.stateNode,a=i.type,l=i.memoizedProps;switch(n[oi]=i,n[Ci]=l,a){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(a=0;a<Zu.length;a++)It(Zu[a],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),b0(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),cf(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),A0(n,l.value,l.defaultValue,l.children),cf(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||dE(n.textContent,a)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=tp),n=!0):n=!1,n||Hr(i)}function sA(i){for(vi=i.return;vi;)switch(vi.tag){case 3:case 27:Jn=!0;return;case 5:case 13:Jn=!1;return;default:vi=vi.return}}function xu(i){if(i!==vi)return!1;if(!Xt)return sA(i),Xt=!0,!1;var n=!1,a;if((a=i.tag!==3&&i.tag!==27)&&((a=i.tag===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Fy(i.type,i.memoizedProps)),a=!a),a&&(n=!0),n&&Ze&&Hr(i),sA(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,n=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(n===0){Ze=Nn(i.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;i=i.nextSibling}Ze=null}}else Ze=vi?Nn(i.stateNode.nextSibling):null;return!0}function Ru(){Ze=vi=null,Xt=!1}function Cu(i){Ln===null?Ln=[i]:Ln.push(i)}var Mu=Error(s(460)),aA=Error(s(474)),ym={then:function(){}};function rA(i){return i=i.status,i==="fulfilled"||i==="rejected"}function _f(){}function oA(i,n,a){switch(a=i[a],a===void 0?i.push(n):a!==n&&(n.then(_f,_f),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw i=n.reason,i===Mu?Error(s(483)):i;default:if(typeof n.status=="string")n.then(_f,_f);else{if(i=ae,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=n,i.status="pending",i.then(function(l){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=l}},function(l){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw i=n.reason,i===Mu?Error(s(483)):i}throw Du=n,Mu}}var Du=null;function lA(){if(Du===null)throw Error(s(459));var i=Du;return Du=null,i}var Dl=null,Lu=0;function wf(i){var n=Lu;return Lu+=1,Dl===null&&(Dl=[]),oA(Dl,i,n)}function Ou(i,n){n=n.props.ref,i.ref=n!==void 0?n:null}function Tf(i,n){throw n.$$typeof===o?Error(s(525)):(i=Object.prototype.toString.call(n),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":i)))}function cA(i){var n=i._init;return n(i._payload)}function uA(i){function n(H,k){if(i){var U=H.deletions;U===null?(H.deletions=[k],H.flags|=16):U.push(k)}}function a(H,k){if(!i)return null;for(;k!==null;)n(H,k),k=k.sibling;return null}function l(H){for(var k=new Map;H!==null;)H.key!==null?k.set(H.key,H):k.set(H.index,H),H=H.sibling;return k}function f(H,k){return H=Ba(H,k),H.index=0,H.sibling=null,H}function y(H,k,U){return H.index=U,i?(U=H.alternate,U!==null?(U=U.index,U<k?(H.flags|=33554434,k):U):(H.flags|=33554434,k)):(H.flags|=1048576,k)}function A(H){return i&&H.alternate===null&&(H.flags|=33554434),H}function R(H,k,U,$){return k===null||k.tag!==6?(k=hy(U,H.mode,$),k.return=H,k):(k=f(k,U),k.return=H,k)}function D(H,k,U,$){var ut=U.type;return ut===p?X(H,k,U.props.children,$,U.key):k!==null&&(k.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===L&&cA(ut)===k.type)?(k=f(k,U.props),Ou(k,U),k.return=H,k):(k=qf(U.type,U.key,U.props,null,H.mode,$),Ou(k,U),k.return=H,k)}function P(H,k,U,$){return k===null||k.tag!==4||k.stateNode.containerInfo!==U.containerInfo||k.stateNode.implementation!==U.implementation?(k=dy(U,H.mode,$),k.return=H,k):(k=f(k,U.children||[]),k.return=H,k)}function X(H,k,U,$,ut){return k===null||k.tag!==7?(k=Yr(U,H.mode,$,ut),k.return=H,k):(k=f(k,U),k.return=H,k)}function J(H,k,U){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=hy(""+k,H.mode,U),k.return=H,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case c:return U=qf(k.type,k.key,k.props,null,H.mode,U),Ou(U,k),U.return=H,U;case d:return k=dy(k,H.mode,U),k.return=H,k;case L:var $=k._init;return k=$(k._payload),J(H,k,U)}if(at(k)||B(k))return k=Yr(k,H.mode,U,null),k.return=H,k;if(typeof k.then=="function")return J(H,wf(k),U);if(k.$$typeof===S)return J(H,Bf(H,k),U);Tf(H,k)}return null}function j(H,k,U,$){var ut=k!==null?k.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ut!==null?null:R(H,k,""+U,$);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case c:return U.key===ut?D(H,k,U,$):null;case d:return U.key===ut?P(H,k,U,$):null;case L:return ut=U._init,U=ut(U._payload),j(H,k,U,$)}if(at(U)||B(U))return ut!==null?null:X(H,k,U,$,null);if(typeof U.then=="function")return j(H,k,wf(U),$);if(U.$$typeof===S)return j(H,k,Bf(H,U),$);Tf(H,U)}return null}function G(H,k,U,$,ut){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return H=H.get(U)||null,R(k,H,""+$,ut);if(typeof $=="object"&&$!==null){switch($.$$typeof){case c:return H=H.get($.key===null?U:$.key)||null,D(k,H,$,ut);case d:return H=H.get($.key===null?U:$.key)||null,P(k,H,$,ut);case L:var Ht=$._init;return $=Ht($._payload),G(H,k,U,$,ut)}if(at($)||B($))return H=H.get(U)||null,X(k,H,$,ut,null);if(typeof $.then=="function")return G(H,k,U,wf($),ut);if($.$$typeof===S)return G(H,k,U,Bf(k,$),ut);Tf(k,$)}return null}function ft(H,k,U,$){for(var ut=null,Ht=null,yt=k,vt=k=0,Ve=null;yt!==null&&vt<U.length;vt++){yt.index>vt?(Ve=yt,yt=null):Ve=yt.sibling;var Yt=j(H,yt,U[vt],$);if(Yt===null){yt===null&&(yt=Ve);break}i&&yt&&Yt.alternate===null&&n(H,yt),k=y(Yt,k,vt),Ht===null?ut=Yt:Ht.sibling=Yt,Ht=Yt,yt=Ve}if(vt===U.length)return a(H,yt),Xt&&Fr(H,vt),ut;if(yt===null){for(;vt<U.length;vt++)yt=J(H,U[vt],$),yt!==null&&(k=y(yt,k,vt),Ht===null?ut=yt:Ht.sibling=yt,Ht=yt);return Xt&&Fr(H,vt),ut}for(yt=l(yt);vt<U.length;vt++)Ve=G(yt,H,vt,U[vt],$),Ve!==null&&(i&&Ve.alternate!==null&&yt.delete(Ve.key===null?vt:Ve.key),k=y(Ve,k,vt),Ht===null?ut=Ve:Ht.sibling=Ve,Ht=Ve);return i&&yt.forEach(function(Ya){return n(H,Ya)}),Xt&&Fr(H,vt),ut}function xt(H,k,U,$){if(U==null)throw Error(s(151));for(var ut=null,Ht=null,yt=k,vt=k=0,Ve=null,Yt=U.next();yt!==null&&!Yt.done;vt++,Yt=U.next()){yt.index>vt?(Ve=yt,yt=null):Ve=yt.sibling;var Ya=j(H,yt,Yt.value,$);if(Ya===null){yt===null&&(yt=Ve);break}i&&yt&&Ya.alternate===null&&n(H,yt),k=y(Ya,k,vt),Ht===null?ut=Ya:Ht.sibling=Ya,Ht=Ya,yt=Ve}if(Yt.done)return a(H,yt),Xt&&Fr(H,vt),ut;if(yt===null){for(;!Yt.done;vt++,Yt=U.next())Yt=J(H,Yt.value,$),Yt!==null&&(k=y(Yt,k,vt),Ht===null?ut=Yt:Ht.sibling=Yt,Ht=Yt);return Xt&&Fr(H,vt),ut}for(yt=l(yt);!Yt.done;vt++,Yt=U.next())Yt=G(yt,H,vt,Yt.value,$),Yt!==null&&(i&&Yt.alternate!==null&&yt.delete(Yt.key===null?vt:Yt.key),k=y(Yt,k,vt),Ht===null?ut=Yt:Ht.sibling=Yt,Ht=Yt);return i&&yt.forEach(function(KR){return n(H,KR)}),Xt&&Fr(H,vt),ut}function Ae(H,k,U,$){if(typeof U=="object"&&U!==null&&U.type===p&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case c:t:{for(var ut=U.key;k!==null;){if(k.key===ut){if(ut=U.type,ut===p){if(k.tag===7){a(H,k.sibling),$=f(k,U.props.children),$.return=H,H=$;break t}}else if(k.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===L&&cA(ut)===k.type){a(H,k.sibling),$=f(k,U.props),Ou($,U),$.return=H,H=$;break t}a(H,k);break}else n(H,k);k=k.sibling}U.type===p?($=Yr(U.props.children,H.mode,$,U.key),$.return=H,H=$):($=qf(U.type,U.key,U.props,null,H.mode,$),Ou($,U),$.return=H,H=$)}return A(H);case d:t:{for(ut=U.key;k!==null;){if(k.key===ut)if(k.tag===4&&k.stateNode.containerInfo===U.containerInfo&&k.stateNode.implementation===U.implementation){a(H,k.sibling),$=f(k,U.children||[]),$.return=H,H=$;break t}else{a(H,k);break}else n(H,k);k=k.sibling}$=dy(U,H.mode,$),$.return=H,H=$}return A(H);case L:return ut=U._init,U=ut(U._payload),Ae(H,k,U,$)}if(at(U))return ft(H,k,U,$);if(B(U)){if(ut=B(U),typeof ut!="function")throw Error(s(150));return U=ut.call(U),xt(H,k,U,$)}if(typeof U.then=="function")return Ae(H,k,wf(U),$);if(U.$$typeof===S)return Ae(H,k,Bf(H,U),$);Tf(H,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,k!==null&&k.tag===6?(a(H,k.sibling),$=f(k,U),$.return=H,H=$):(a(H,k),$=hy(U,H.mode,$),$.return=H,H=$),A(H)):a(H,k)}return function(H,k,U,$){try{Lu=0;var ut=Ae(H,k,U,$);return Dl=null,ut}catch(yt){if(yt===Mu)throw yt;var Ht=mn(29,yt,null,H.mode);return Ht.lanes=$,Ht.return=H,Ht}finally{}}}var zr=uA(!0),hA=uA(!1),Ll=Lt(null),xf=Lt(0);function dA(i,n){i=Bs,At(xf,i),At(Ll,n),Bs=i|n.baseLanes}function bm(){At(xf,Bs),At(Ll,Ll.current)}function vm(){Bs=xf.current,Vt(Ll),Vt(xf)}var fn=Lt(null),ts=null;function Ma(i){var n=i.alternate;At(ke,ke.current&1),At(fn,i),ts===null&&(n===null||Ll.current!==null||n.memoizedState!==null)&&(ts=i)}function fA(i){if(i.tag===22){if(At(ke,ke.current),At(fn,i),ts===null){var n=i.alternate;n!==null&&n.memoizedState!==null&&(ts=i)}}else Da()}function Da(){At(ke,ke.current),At(fn,fn.current)}function Ds(i){Vt(fn),ts===i&&(ts=null),Vt(ke)}var ke=Lt(0);function Rf(i){for(var n=i;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break;for(;n.sibling===null;){if(n.return===null||n.return===i)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Px=typeof AbortController<"u"?AbortController:function(){var i=[],n=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){n.aborted=!0,i.forEach(function(a){return a()})}},Fx=h.unstable_scheduleCallback,Hx=h.unstable_NormalPriority,Pe={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Am(){return{controller:new Px,data:new Map,refCount:0}}function Nu(i){i.refCount--,i.refCount===0&&Fx(Hx,function(){i.controller.abort()})}var ku=null,Sm=0,Ol=0,Nl=null;function zx(i,n){if(ku===null){var a=ku=[];Sm=0,Ol=Ry(),Nl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Sm++,n.then(pA,pA),n}function pA(){if(--Sm===0&&ku!==null){Nl!==null&&(Nl.status="fulfilled");var i=ku;ku=null,Ol=0,Nl=null;for(var n=0;n<i.length;n++)(0,i[n])()}}function Ux(i,n){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=n;for(var f=0;f<a.length;f++)(0,a[f])(n)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var gA=q.S;q.S=function(i,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&zx(i,n),gA!==null&&gA(i,n)};var Ur=Lt(null);function Em(){var i=Ur.current;return i!==null?i:ae.pooledCache}function Cf(i,n){n===null?At(Ur,Ur.current):At(Ur,n.pool)}function mA(){var i=Em();return i===null?null:{parent:Pe._currentValue,pool:i}}var La=0,Pt=null,Jt=null,Ce=null,Mf=!1,kl=!1,Br=!1,Df=0,Pu=0,Pl=null,Bx=0;function we(){throw Error(s(321))}function _m(i,n){if(n===null)return!1;for(var a=0;a<n.length&&a<i.length;a++)if(!ji(i[a],n[a]))return!1;return!0}function wm(i,n,a,l,f,y){return La=y,Pt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=i===null||i.memoizedState===null?jr:Oa,Br=!1,y=a(l,f),Br=!1,kl&&(y=bA(n,a,l,f)),yA(i),y}function yA(i){q.H=es;var n=Jt!==null&&Jt.next!==null;if(La=0,Ce=Jt=Pt=null,Mf=!1,Pu=0,Pl=null,n)throw Error(s(300));i===null||qe||(i=i.dependencies,i!==null&&Uf(i)&&(qe=!0))}function bA(i,n,a,l){Pt=i;var f=0;do{if(kl&&(Pl=null),Pu=0,kl=!1,25<=f)throw Error(s(301));if(f+=1,Ce=Jt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}q.H=Ir,y=n(a,l)}while(kl);return y}function jx(){var i=q.H,n=i.useState()[0];return n=typeof n.then=="function"?Fu(n):n,i=i.useState()[0],(Jt!==null?Jt.memoizedState:null)!==i&&(Pt.flags|=1024),n}function Tm(){var i=Df!==0;return Df=0,i}function xm(i,n,a){n.updateQueue=i.updateQueue,n.flags&=-2053,i.lanes&=~a}function Rm(i){if(Mf){for(i=i.memoizedState;i!==null;){var n=i.queue;n!==null&&(n.pending=null),i=i.next}Mf=!1}La=0,Ce=Jt=Pt=null,kl=!1,Pu=Df=0,Pl=null}function Di(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?Pt.memoizedState=Ce=i:Ce=Ce.next=i,Ce}function Me(){if(Jt===null){var i=Pt.alternate;i=i!==null?i.memoizedState:null}else i=Jt.next;var n=Ce===null?Pt.memoizedState:Ce.next;if(n!==null)Ce=n,Jt=i;else{if(i===null)throw Pt.alternate===null?Error(s(467)):Error(s(310));Jt=i,i={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ce===null?Pt.memoizedState=Ce=i:Ce=Ce.next=i}return Ce}var Lf;Lf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Fu(i){var n=Pu;return Pu+=1,Pl===null&&(Pl=[]),i=oA(Pl,i,n),n=Pt,(Ce===null?n.memoizedState:Ce.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?jr:Oa),i}function Of(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Fu(i);if(i.$$typeof===S)return li(i)}throw Error(s(438,String(i)))}function Cm(i){var n=null,a=Pt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Pt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Lf(),Pt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(i),l=0;l<i;l++)a[l]=F;return n.index++,a}function Ls(i,n){return typeof n=="function"?n(i):n}function Nf(i){var n=Me();return Mm(n,Jt,i)}function Mm(i,n,a){var l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=i.baseQueue,y=l.pending;if(y!==null){if(f!==null){var A=f.next;f.next=y.next,y.next=A}n.baseQueue=f=y,l.pending=null}if(y=i.baseState,f===null)i.memoizedState=y;else{n=f.next;var R=A=null,D=null,P=n,X=!1;do{var J=P.lane&-536870913;if(J!==P.lane?(Gt&J)===J:(La&J)===J){var j=P.revertLane;if(j===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),J===Ol&&(X=!0);else if((La&j)===j){P=P.next,j===Ol&&(X=!0);continue}else J={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(R=D=J,A=y):D=D.next=J,Pt.lanes|=j,ja|=j;J=P.action,Br&&a(y,J),y=P.hasEagerState?P.eagerState:a(y,J)}else j={lane:J,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(R=D=j,A=y):D=D.next=j,Pt.lanes|=J,ja|=J;P=P.next}while(P!==null&&P!==n);if(D===null?A=y:D.next=R,!ji(y,i.memoizedState)&&(qe=!0,X&&(a=Nl,a!==null)))throw a;i.memoizedState=y,i.baseState=A,i.baseQueue=D,l.lastRenderedState=y}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function Dm(i){var n=Me(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,y=n.memoizedState;if(f!==null){a.pending=null;var A=f=f.next;do y=i(y,A.action),A=A.next;while(A!==f);ji(y,n.memoizedState)||(qe=!0),n.memoizedState=y,n.baseQueue===null&&(n.baseState=y),a.lastRenderedState=y}return[y,l]}function vA(i,n,a){var l=Pt,f=Me(),y=Xt;if(y){if(a===void 0)throw Error(s(407));a=a()}else a=n();var A=!ji((Jt||f).memoizedState,a);if(A&&(f.memoizedState=a,qe=!0),f=f.queue,Nm(EA.bind(null,l,f,i),[i]),f.getSnapshot!==n||A||Ce!==null&&Ce.memoizedState.tag&1){if(l.flags|=2048,Fl(9,SA.bind(null,l,f,a,n),{destroy:void 0},null),ae===null)throw Error(s(349));y||(La&60)!==0||AA(l,n,a)}return a}function AA(i,n,a){i.flags|=16384,i={getSnapshot:n,value:a},n=Pt.updateQueue,n===null?(n=Lf(),Pt.updateQueue=n,n.stores=[i]):(a=n.stores,a===null?n.stores=[i]:a.push(i))}function SA(i,n,a,l){n.value=a,n.getSnapshot=l,_A(n)&&wA(i)}function EA(i,n,a){return a(function(){_A(n)&&wA(i)})}function _A(i){var n=i.getSnapshot;i=i.value;try{var a=n();return!ji(i,a)}catch{return!0}}function wA(i){var n=Ca(i,2);n!==null&&Ai(n,i,2)}function Lm(i){var n=Di();if(typeof i=="function"){var a=i;if(i=a(),Br){Ta(!0);try{a()}finally{Ta(!1)}}}return n.memoizedState=n.baseState=i,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:i},n}function TA(i,n,a,l){return i.baseState=a,Mm(i,Jt,typeof l=="function"?l:Ls)}function Ix(i,n,a,l,f){if(Ff(i))throw Error(s(485));if(i=n.action,i!==null){var y={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){y.listeners.push(A)}};q.T!==null?a(!0):y.isTransition=!1,l(y),a=n.pending,a===null?(y.next=n.pending=y,xA(n,y)):(y.next=a.next,n.pending=a.next=y)}}function xA(i,n){var a=n.action,l=n.payload,f=i.state;if(n.isTransition){var y=q.T,A={};q.T=A;try{var R=a(f,l),D=q.S;D!==null&&D(A,R),RA(i,n,R)}catch(P){Om(i,n,P)}finally{q.T=y}}else try{y=a(f,l),RA(i,n,y)}catch(P){Om(i,n,P)}}function RA(i,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){CA(i,n,l)},function(l){return Om(i,n,l)}):CA(i,n,a)}function CA(i,n,a){n.status="fulfilled",n.value=a,MA(n),i.state=a,n=i.pending,n!==null&&(a=n.next,a===n?i.pending=null:(a=a.next,n.next=a,xA(i,a)))}function Om(i,n,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,MA(n),n=n.next;while(n!==l)}i.action=null}function MA(i){i=i.listeners;for(var n=0;n<i.length;n++)(0,i[n])()}function DA(i,n){return n}function LA(i,n){if(Xt){var a=ae.formState;if(a!==null){t:{var l=Pt;if(Xt){if(Ze){e:{for(var f=Ze,y=Jn;f.nodeType!==8;){if(!y){f=null;break e}if(f=Nn(f.nextSibling),f===null){f=null;break e}}y=f.data,f=y==="F!"||y==="F"?f:null}if(f){Ze=Nn(f.nextSibling),l=f.data==="F!";break t}}Hr(l)}l=!1}l&&(n=a[0])}}return a=Di(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:DA,lastRenderedState:n},a.queue=l,a=$A.bind(null,Pt,l),l.dispatch=a,l=Lm(!1),y=zm.bind(null,Pt,!1,l.queue),l=Di(),f={state:n,dispatch:null,action:i,pending:null},l.queue=f,a=Ix.bind(null,Pt,f,y,a),f.dispatch=a,l.memoizedState=i,[n,a,!1]}function OA(i){var n=Me();return NA(n,Jt,i)}function NA(i,n,a){n=Mm(i,n,DA)[0],i=Nf(Ls)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?Fu(n):n;var l=Me(),f=l.queue,y=f.dispatch;return a!==l.memoizedState&&(Pt.flags|=2048,Fl(9,qx.bind(null,f,a),{destroy:void 0},null)),[n,y,i]}function qx(i,n){i.action=n}function kA(i){var n=Me(),a=Jt;if(a!==null)return NA(n,a,i);Me(),n=n.memoizedState,a=Me();var l=a.queue.dispatch;return a.memoizedState=i,[n,l,!1]}function Fl(i,n,a,l){return i={tag:i,create:n,inst:a,deps:l,next:null},n=Pt.updateQueue,n===null&&(n=Lf(),Pt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,n.lastEffect=i),i}function PA(){return Me().memoizedState}function kf(i,n,a,l){var f=Di();Pt.flags|=i,f.memoizedState=Fl(1|n,a,{destroy:void 0},l===void 0?null:l)}function Pf(i,n,a,l){var f=Me();l=l===void 0?null:l;var y=f.memoizedState.inst;Jt!==null&&l!==null&&_m(l,Jt.memoizedState.deps)?f.memoizedState=Fl(n,a,y,l):(Pt.flags|=i,f.memoizedState=Fl(1|n,a,y,l))}function FA(i,n){kf(8390656,8,i,n)}function Nm(i,n){Pf(2048,8,i,n)}function HA(i,n){return Pf(4,2,i,n)}function zA(i,n){return Pf(4,4,i,n)}function UA(i,n){if(typeof n=="function"){i=i();var a=n(i);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return i=i(),n.current=i,function(){n.current=null}}function BA(i,n,a){a=a!=null?a.concat([i]):null,Pf(4,4,UA.bind(null,n,i),a)}function km(){}function jA(i,n){var a=Me();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&_m(n,l[1])?l[0]:(a.memoizedState=[i,n],i)}function IA(i,n){var a=Me();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&_m(n,l[1]))return l[0];if(l=i(),Br){Ta(!0);try{i()}finally{Ta(!1)}}return a.memoizedState=[l,n],l}function Pm(i,n,a){return a===void 0||(La&1073741824)!==0?i.memoizedState=n:(i.memoizedState=a,i=GS(),Pt.lanes|=i,ja|=i,a)}function qA(i,n,a,l){return ji(a,n)?a:Ll.current!==null?(i=Pm(i,a,l),ji(i,n)||(qe=!0),i):(La&42)===0?(qe=!0,i.memoizedState=a):(i=GS(),Pt.lanes|=i,ja|=i,n)}function GA(i,n,a,l,f){var y=it.p;it.p=y!==0&&8>y?y:8;var A=q.T,R={};q.T=R,zm(i,!1,n,a);try{var D=f(),P=q.S;if(P!==null&&P(R,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var X=Ux(D,l);Hu(i,n,X,Vi(i))}else Hu(i,n,l,Vi(i))}catch(J){Hu(i,n,{then:function(){},status:"rejected",reason:J},Vi())}finally{it.p=y,q.T=A}}function Gx(){}function Fm(i,n,a,l){if(i.tag!==5)throw Error(s(476));var f=VA(i).queue;GA(i,f,n,Et,a===null?Gx:function(){return XA(i),a(l)})}function VA(i){var n=i.memoizedState;if(n!==null)return n;n={memoizedState:Et,baseState:Et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:Et},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:a},next:null},i.memoizedState=n,i=i.alternate,i!==null&&(i.memoizedState=n),n}function XA(i){var n=VA(i).next.queue;Hu(i,n,{},Vi())}function Hm(){return li(nh)}function YA(){return Me().memoizedState}function KA(){return Me().memoizedState}function Vx(i){for(var n=i.return;n!==null;){switch(n.tag){case 24:case 3:var a=Vi();i=Pa(a);var l=Fa(n,i,a);l!==null&&(Ai(l,n,a),Bu(l,n,a)),n={cache:Am()},i.payload=n;return}n=n.return}}function Xx(i,n,a){var l=Vi();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ff(i)?WA(n,a):(a=fm(i,n,a,l),a!==null&&(Ai(a,i,l),QA(a,n,l)))}function $A(i,n,a){var l=Vi();Hu(i,n,a,l)}function Hu(i,n,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ff(i))WA(n,f);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=n.lastRenderedReducer,y!==null))try{var A=n.lastRenderedState,R=y(A,a);if(f.hasEagerState=!0,f.eagerState=R,ji(R,A))return vf(i,n,f,0),ae===null&&bf(),!1}catch{}finally{}if(a=fm(i,n,f,l),a!==null)return Ai(a,i,l),QA(a,n,l),!0}return!1}function zm(i,n,a,l){if(l={lane:2,revertLane:Ry(),action:l,hasEagerState:!1,eagerState:null,next:null},Ff(i)){if(n)throw Error(s(479))}else n=fm(i,a,l,2),n!==null&&Ai(n,i,2)}function Ff(i){var n=i.alternate;return i===Pt||n!==null&&n===Pt}function WA(i,n){kl=Mf=!0;var a=i.pending;a===null?n.next=n:(n.next=a.next,a.next=n),i.pending=n}function QA(i,n,a){if((a&4194176)!==0){var l=n.lanes;l&=i.pendingLanes,a|=l,n.lanes=a,l0(i,a)}}var es={readContext:li,use:Of,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we};es.useCacheRefresh=we,es.useMemoCache=we,es.useHostTransitionStatus=we,es.useFormState=we,es.useActionState=we,es.useOptimistic=we;var jr={readContext:li,use:Of,useCallback:function(i,n){return Di().memoizedState=[i,n===void 0?null:n],i},useContext:li,useEffect:FA,useImperativeHandle:function(i,n,a){a=a!=null?a.concat([i]):null,kf(4194308,4,UA.bind(null,n,i),a)},useLayoutEffect:function(i,n){return kf(4194308,4,i,n)},useInsertionEffect:function(i,n){kf(4,2,i,n)},useMemo:function(i,n){var a=Di();n=n===void 0?null:n;var l=i();if(Br){Ta(!0);try{i()}finally{Ta(!1)}}return a.memoizedState=[l,n],l},useReducer:function(i,n,a){var l=Di();if(a!==void 0){var f=a(n);if(Br){Ta(!0);try{a(n)}finally{Ta(!1)}}}else f=n;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=Xx.bind(null,Pt,i),[l.memoizedState,i]},useRef:function(i){var n=Di();return i={current:i},n.memoizedState=i},useState:function(i){i=Lm(i);var n=i.queue,a=$A.bind(null,Pt,n);return n.dispatch=a,[i.memoizedState,a]},useDebugValue:km,useDeferredValue:function(i,n){var a=Di();return Pm(a,i,n)},useTransition:function(){var i=Lm(!1);return i=GA.bind(null,Pt,i.queue,!0,!1),Di().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,n,a){var l=Pt,f=Di();if(Xt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),ae===null)throw Error(s(349));(Gt&60)!==0||AA(l,n,a)}f.memoizedState=a;var y={value:a,getSnapshot:n};return f.queue=y,FA(EA.bind(null,l,y,i),[i]),l.flags|=2048,Fl(9,SA.bind(null,l,y,a,n),{destroy:void 0},null),a},useId:function(){var i=Di(),n=ae.identifierPrefix;if(Xt){var a=Ms,l=Cs;a=(l&~(1<<32-Bi(l)-1)).toString(32)+a,n=":"+n+"R"+a,a=Df++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=Bx++,n=":"+n+"r"+a.toString(32)+":";return i.memoizedState=n},useCacheRefresh:function(){return Di().memoizedState=Vx.bind(null,Pt)}};jr.useMemoCache=Cm,jr.useHostTransitionStatus=Hm,jr.useFormState=LA,jr.useActionState=LA,jr.useOptimistic=function(i){var n=Di();n.memoizedState=n.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=zm.bind(null,Pt,!0,a),a.dispatch=n,[i,n]};var Oa={readContext:li,use:Of,useCallback:jA,useContext:li,useEffect:Nm,useImperativeHandle:BA,useInsertionEffect:HA,useLayoutEffect:zA,useMemo:IA,useReducer:Nf,useRef:PA,useState:function(){return Nf(Ls)},useDebugValue:km,useDeferredValue:function(i,n){var a=Me();return qA(a,Jt.memoizedState,i,n)},useTransition:function(){var i=Nf(Ls)[0],n=Me().memoizedState;return[typeof i=="boolean"?i:Fu(i),n]},useSyncExternalStore:vA,useId:YA};Oa.useCacheRefresh=KA,Oa.useMemoCache=Cm,Oa.useHostTransitionStatus=Hm,Oa.useFormState=OA,Oa.useActionState=OA,Oa.useOptimistic=function(i,n){var a=Me();return TA(a,Jt,i,n)};var Ir={readContext:li,use:Of,useCallback:jA,useContext:li,useEffect:Nm,useImperativeHandle:BA,useInsertionEffect:HA,useLayoutEffect:zA,useMemo:IA,useReducer:Dm,useRef:PA,useState:function(){return Dm(Ls)},useDebugValue:km,useDeferredValue:function(i,n){var a=Me();return Jt===null?Pm(a,i,n):qA(a,Jt.memoizedState,i,n)},useTransition:function(){var i=Dm(Ls)[0],n=Me().memoizedState;return[typeof i=="boolean"?i:Fu(i),n]},useSyncExternalStore:vA,useId:YA};Ir.useCacheRefresh=KA,Ir.useMemoCache=Cm,Ir.useHostTransitionStatus=Hm,Ir.useFormState=kA,Ir.useActionState=kA,Ir.useOptimistic=function(i,n){var a=Me();return Jt!==null?TA(a,Jt,i,n):(a.baseState=i,[i,a.queue.dispatch])};function Um(i,n,a,l){n=i.memoizedState,a=a(l,n),a=a==null?n:et({},n,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Bm={isMounted:function(i){return(i=i._reactInternals)?tt(i)===i:!1},enqueueSetState:function(i,n,a){i=i._reactInternals;var l=Vi(),f=Pa(l);f.payload=n,a!=null&&(f.callback=a),n=Fa(i,f,l),n!==null&&(Ai(n,i,l),Bu(n,i,l))},enqueueReplaceState:function(i,n,a){i=i._reactInternals;var l=Vi(),f=Pa(l);f.tag=1,f.payload=n,a!=null&&(f.callback=a),n=Fa(i,f,l),n!==null&&(Ai(n,i,l),Bu(n,i,l))},enqueueForceUpdate:function(i,n){i=i._reactInternals;var a=Vi(),l=Pa(a);l.tag=2,n!=null&&(l.callback=n),n=Fa(i,l,a),n!==null&&(Ai(n,i,a),Bu(n,i,a))}};function ZA(i,n,a,l,f,y,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,y,A):n.prototype&&n.prototype.isPureReactComponent?!wu(a,l)||!wu(f,y):!0}function JA(i,n,a,l){i=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==i&&Bm.enqueueReplaceState(n,n.state,null)}function qr(i,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(i=i.defaultProps){a===n&&(a=et({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}var Hf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function tS(i){Hf(i)}function eS(i){console.error(i)}function iS(i){Hf(i)}function zf(i,n){try{var a=i.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function nS(i,n,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function jm(i,n,a){return a=Pa(a),a.tag=3,a.payload={element:null},a.callback=function(){zf(i,n)},a}function sS(i){return i=Pa(i),i.tag=3,i}function aS(i,n,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var y=l.value;i.payload=function(){return f(y)},i.callback=function(){nS(n,a,l)}}var A=a.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){nS(n,a,l),typeof f!="function"&&(Ia===null?Ia=new Set([this]):Ia.add(this));var R=l.stack;this.componentDidCatch(l.value,{componentStack:R!==null?R:""})})}function Yx(i,n,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Uu(n,a,f,!0),a=fn.current,a!==null){switch(a.tag){case 13:return ts===null?Ey():a.alternate===null&&ve===0&&(ve=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===ym?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),wy(i,l,f)),!1;case 22:return a.flags|=65536,l===ym?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),wy(i,l,f)),!1}throw Error(s(435,a.tag))}return wy(i,l,f),Ey(),!1}if(Xt)return n=fn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,l!==mm&&(i=Error(s(422),{cause:l}),Cu(un(i,a)))):(l!==mm&&(n=Error(s(423),{cause:l}),Cu(un(n,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=un(l,a),f=jm(i.stateNode,l,f),iy(i,f),ve!==4&&(ve=2)),!1;var y=Error(s(520),{cause:l});if(y=un(y,a),Ku===null?Ku=[y]:Ku.push(y),ve!==4&&(ve=2),n===null)return!0;l=un(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=jm(a.stateNode,l,i),iy(a,i),!1;case 1:if(n=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ia===null||!Ia.has(y))))return a.flags|=65536,f&=-f,a.lanes|=f,f=sS(f),aS(f,i,a,l),iy(a,f),!1}a=a.return}while(a!==null);return!1}var rS=Error(s(461)),qe=!1;function Je(i,n,a,l){n.child=i===null?hA(n,null,a,l):zr(n,i.child,a,l)}function oS(i,n,a,l,f){a=a.render;var y=n.ref;if("ref"in l){var A={};for(var R in l)R!=="ref"&&(A[R]=l[R])}else A=l;return Vr(n),l=wm(i,n,a,A,y,f),R=Tm(),i!==null&&!qe?(xm(i,n,f),Os(i,n,f)):(Xt&&R&&pm(n),n.flags|=1,Je(i,n,l,f),n.child)}function lS(i,n,a,l,f){if(i===null){var y=a.type;return typeof y=="function"&&!uy(y)&&y.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=y,cS(i,n,y,l,f)):(i=qf(a.type,null,l,n,n.mode,f),i.ref=n.ref,i.return=n,n.child=i)}if(y=i.child,!Wm(i,f)){var A=y.memoizedProps;if(a=a.compare,a=a!==null?a:wu,a(A,l)&&i.ref===n.ref)return Os(i,n,f)}return n.flags|=1,i=Ba(y,l),i.ref=n.ref,i.return=n,n.child=i}function cS(i,n,a,l,f){if(i!==null){var y=i.memoizedProps;if(wu(y,l)&&i.ref===n.ref)if(qe=!1,n.pendingProps=l=y,Wm(i,f))(i.flags&131072)!==0&&(qe=!0);else return n.lanes=i.lanes,Os(i,n,f)}return Im(i,n,a,l,f)}function uS(i,n,a){var l=n.pendingProps,f=l.children,y=(n.stateNode._pendingVisibility&2)!==0,A=i!==null?i.memoizedState:null;if(zu(i,n),l.mode==="hidden"||y){if((n.flags&128)!==0){if(l=A!==null?A.baseLanes|a:a,i!==null){for(f=n.child=i.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;n.childLanes=y&~l}else n.childLanes=0,n.child=null;return hS(i,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},i!==null&&Cf(n,A!==null?A.cachePool:null),A!==null?dA(n,A):bm(),fA(n);else return n.lanes=n.childLanes=536870912,hS(i,n,A!==null?A.baseLanes|a:a,a)}else A!==null?(Cf(n,A.cachePool),dA(n,A),Da(),n.memoizedState=null):(i!==null&&Cf(n,null),bm(),Da());return Je(i,n,f,a),n.child}function hS(i,n,a,l){var f=Em();return f=f===null?null:{parent:Pe._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},i!==null&&Cf(n,null),bm(),fA(n),i!==null&&Uu(i,n,l,!0),null}function zu(i,n){var a=n.ref;if(a===null)i!==null&&i.ref!==null&&(n.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(n.flags|=2097664)}}function Im(i,n,a,l,f){return Vr(n),a=wm(i,n,a,l,void 0,f),l=Tm(),i!==null&&!qe?(xm(i,n,f),Os(i,n,f)):(Xt&&l&&pm(n),n.flags|=1,Je(i,n,a,f),n.child)}function dS(i,n,a,l,f,y){return Vr(n),n.updateQueue=null,a=bA(n,l,a,f),yA(i),l=Tm(),i!==null&&!qe?(xm(i,n,y),Os(i,n,y)):(Xt&&l&&pm(n),n.flags|=1,Je(i,n,a,y),n.child)}function fS(i,n,a,l,f){if(Vr(n),n.stateNode===null){var y=Rl,A=a.contextType;typeof A=="object"&&A!==null&&(y=li(A)),y=new a(l,y),n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Bm,n.stateNode=y,y._reactInternals=n,y=n.stateNode,y.props=l,y.state=n.memoizedState,y.refs={},ty(n),A=a.contextType,y.context=typeof A=="object"&&A!==null?li(A):Rl,y.state=n.memoizedState,A=a.getDerivedStateFromProps,typeof A=="function"&&(Um(n,a,A,l),y.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(A=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),A!==y.state&&Bm.enqueueReplaceState(y,y.state,null),Iu(n,l,y,f),ju(),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(i===null){y=n.stateNode;var R=n.memoizedProps,D=qr(a,R);y.props=D;var P=y.context,X=a.contextType;A=Rl,typeof X=="object"&&X!==null&&(A=li(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=n.pendingProps!==R,X||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||P!==A)&&JA(n,y,l,A),ka=!1;var j=n.memoizedState;y.state=j,Iu(n,l,y,f),ju(),P=n.memoizedState,R||j!==P||ka?(typeof J=="function"&&(Um(n,a,J,l),P=n.memoizedState),(D=ka||ZA(n,a,D,l,j,P,A))?(X||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),y.props=l,y.state=P,y.context=A,l=D):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{y=n.stateNode,ey(i,n),A=n.memoizedProps,X=qr(a,A),y.props=X,J=n.pendingProps,j=y.context,P=a.contextType,D=Rl,typeof P=="object"&&P!==null&&(D=li(P)),R=a.getDerivedStateFromProps,(P=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A!==J||j!==D)&&JA(n,y,l,D),ka=!1,j=n.memoizedState,y.state=j,Iu(n,l,y,f),ju();var G=n.memoizedState;A!==J||j!==G||ka||i!==null&&i.dependencies!==null&&Uf(i.dependencies)?(typeof R=="function"&&(Um(n,a,R,l),G=n.memoizedState),(X=ka||ZA(n,a,X,l,j,G,D)||i!==null&&i.dependencies!==null&&Uf(i.dependencies))?(P||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(l,G,D),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(l,G,D)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||A===i.memoizedProps&&j===i.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&j===i.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=G),y.props=l,y.state=G,y.context=D,l=X):(typeof y.componentDidUpdate!="function"||A===i.memoizedProps&&j===i.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&j===i.memoizedState||(n.flags|=1024),l=!1)}return y=l,zu(i,n),l=(n.flags&128)!==0,y||l?(y=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:y.render(),n.flags|=1,i!==null&&l?(n.child=zr(n,i.child,null,f),n.child=zr(n,null,a,f)):Je(i,n,a,f),n.memoizedState=y.state,i=n.child):i=Os(i,n,f),i}function pS(i,n,a,l){return Ru(),n.flags|=256,Je(i,n,a,l),n.child}var qm={dehydrated:null,treeContext:null,retryLane:0};function Gm(i){return{baseLanes:i,cachePool:mA()}}function Vm(i,n,a){return i=i!==null?i.childLanes&~a:0,n&&(i|=yn),i}function gS(i,n,a){var l=n.pendingProps,f=!1,y=(n.flags&128)!==0,A;if((A=y)||(A=i!==null&&i.memoizedState===null?!1:(ke.current&2)!==0),A&&(f=!0,n.flags&=-129),A=(n.flags&32)!==0,n.flags&=-33,i===null){if(Xt){if(f?Ma(n):Da(),Xt){var R=Ze,D;if(D=R){t:{for(D=R,R=Jn;D.nodeType!==8;){if(!R){R=null;break t}if(D=Nn(D.nextSibling),D===null){R=null;break t}}R=D}R!==null?(n.memoizedState={dehydrated:R,treeContext:Pr!==null?{id:Cs,overflow:Ms}:null,retryLane:536870912},D=mn(18,null,null,0),D.stateNode=R,D.return=n,n.child=D,vi=n,Ze=null,D=!0):D=!1}D||Hr(n)}if(R=n.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return R.data==="$!"?n.lanes=16:n.lanes=536870912,null;Ds(n)}return R=l.children,l=l.fallback,f?(Da(),f=n.mode,R=Ym({mode:"hidden",children:R},f),l=Yr(l,f,a,null),R.return=n,l.return=n,R.sibling=l,n.child=R,f=n.child,f.memoizedState=Gm(a),f.childLanes=Vm(i,A,a),n.memoizedState=qm,l):(Ma(n),Xm(n,R))}if(D=i.memoizedState,D!==null&&(R=D.dehydrated,R!==null)){if(y)n.flags&256?(Ma(n),n.flags&=-257,n=Km(i,n,a)):n.memoizedState!==null?(Da(),n.child=i.child,n.flags|=128,n=null):(Da(),f=l.fallback,R=n.mode,l=Ym({mode:"visible",children:l.children},R),f=Yr(f,R,a,null),f.flags|=2,l.return=n,f.return=n,l.sibling=f,n.child=l,zr(n,i.child,null,a),l=n.child,l.memoizedState=Gm(a),l.childLanes=Vm(i,A,a),n.memoizedState=qm,n=f);else if(Ma(n),R.data==="$!"){if(A=R.nextSibling&&R.nextSibling.dataset,A)var P=A.dgst;A=P,l=Error(s(419)),l.stack="",l.digest=A,Cu({value:l,source:null,stack:null}),n=Km(i,n,a)}else if(qe||Uu(i,n,a,!1),A=(a&i.childLanes)!==0,qe||A){if(A=ae,A!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(A.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane)throw D.retryLane=l,Ca(i,l),Ai(A,i,l),rS}R.data==="$?"||Ey(),n=Km(i,n,a)}else R.data==="$?"?(n.flags|=128,n.child=i.child,n=lR.bind(null,i),R._reactRetry=n,n=null):(i=D.treeContext,Ze=Nn(R.nextSibling),vi=n,Xt=!0,Ln=null,Jn=!1,i!==null&&(hn[dn++]=Cs,hn[dn++]=Ms,hn[dn++]=Pr,Cs=i.id,Ms=i.overflow,Pr=n),n=Xm(n,l.children),n.flags|=4096);return n}return f?(Da(),f=l.fallback,R=n.mode,D=i.child,P=D.sibling,l=Ba(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&31457280,P!==null?f=Ba(P,f):(f=Yr(f,R,a,null),f.flags|=2),f.return=n,l.return=n,l.sibling=f,n.child=l,l=f,f=n.child,R=i.child.memoizedState,R===null?R=Gm(a):(D=R.cachePool,D!==null?(P=Pe._currentValue,D=D.parent!==P?{parent:P,pool:P}:D):D=mA(),R={baseLanes:R.baseLanes|a,cachePool:D}),f.memoizedState=R,f.childLanes=Vm(i,A,a),n.memoizedState=qm,l):(Ma(n),a=i.child,i=a.sibling,a=Ba(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,i!==null&&(A=n.deletions,A===null?(n.deletions=[i],n.flags|=16):A.push(i)),n.child=a,n.memoizedState=null,a)}function Xm(i,n){return n=Ym({mode:"visible",children:n},i.mode),n.return=i,i.child=n}function Ym(i,n){return jS(i,n,0,null)}function Km(i,n,a){return zr(n,i.child,null,a),i=Xm(n,n.pendingProps.children),i.flags|=2,n.memoizedState=null,i}function mS(i,n,a){i.lanes|=n;var l=i.alternate;l!==null&&(l.lanes|=n),Zm(i.return,n,a)}function $m(i,n,a,l,f){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=f)}function yS(i,n,a){var l=n.pendingProps,f=l.revealOrder,y=l.tail;if(Je(i,n,l.children,a),l=ke.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=n.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&mS(i,a,n);else if(i.tag===19)mS(i,a,n);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}l&=1}switch(At(ke,l),f){case"forwards":for(a=n.child,f=null;a!==null;)i=a.alternate,i!==null&&Rf(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),$m(n,!1,f,a,y);break;case"backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(i=f.alternate,i!==null&&Rf(i)===null){n.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}$m(n,!0,a,null,y);break;case"together":$m(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Os(i,n,a){if(i!==null&&(n.dependencies=i.dependencies),ja|=n.lanes,(a&n.childLanes)===0)if(i!==null){if(Uu(i,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(i!==null&&n.child!==i.child)throw Error(s(153));if(n.child!==null){for(i=n.child,a=Ba(i,i.pendingProps),n.child=a,a.return=n;i.sibling!==null;)i=i.sibling,a=a.sibling=Ba(i,i.pendingProps),a.return=n;a.sibling=null}return n.child}function Wm(i,n){return(i.lanes&n)!==0?!0:(i=i.dependencies,!!(i!==null&&Uf(i)))}function Kx(i,n,a){switch(n.tag){case 3:_e(n,n.stateNode.containerInfo),Na(n,Pe,i.memoizedState.cache),Ru();break;case 27:case 5:Qn(n);break;case 4:_e(n,n.stateNode.containerInfo);break;case 10:Na(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ma(n),n.flags|=128,null):(a&n.child.childLanes)!==0?gS(i,n,a):(Ma(n),i=Os(i,n,a),i!==null?i.sibling:null);Ma(n);break;case 19:var f=(i.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Uu(i,n,a,!1),l=(a&n.childLanes)!==0),f){if(l)return yS(i,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),At(ke,ke.current),l)break;return null;case 22:case 23:return n.lanes=0,uS(i,n,a);case 24:Na(n,Pe,i.memoizedState.cache)}return Os(i,n,a)}function bS(i,n,a){if(i!==null)if(i.memoizedProps!==n.pendingProps)qe=!0;else{if(!Wm(i,a)&&(n.flags&128)===0)return qe=!1,Kx(i,n,a);qe=(i.flags&131072)!==0}else qe=!1,Xt&&(n.flags&1048576)!==0&&iA(n,Ef,n.index);switch(n.lanes=0,n.tag){case 16:t:{i=n.pendingProps;var l=n.elementType,f=l._init;if(l=f(l._payload),n.type=l,typeof l=="function")uy(l)?(i=qr(l,i),n.tag=1,n=fS(null,n,l,i,a)):(n.tag=0,n=Im(null,n,l,i,a));else{if(l!=null){if(f=l.$$typeof,f===E){n.tag=11,n=oS(null,n,l,i,a);break t}else if(f===C){n.tag=14,n=lS(null,n,l,i,a);break t}}throw n=Z(l)||l,Error(s(306,n,""))}}return n;case 0:return Im(i,n,n.type,n.pendingProps,a);case 1:return l=n.type,f=qr(l,n.pendingProps),fS(i,n,l,f,a);case 3:t:{if(_e(n,n.stateNode.containerInfo),i===null)throw Error(s(387));var y=n.pendingProps;f=n.memoizedState,l=f.element,ey(i,n),Iu(n,y,null,a);var A=n.memoizedState;if(y=A.cache,Na(n,Pe,y),y!==f.cache&&Jm(n,[Pe],a,!0),ju(),y=A.element,f.isDehydrated)if(f={element:y,isDehydrated:!1,cache:A.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=pS(i,n,y,a);break t}else if(y!==l){l=un(Error(s(424)),n),Cu(l),n=pS(i,n,y,a);break t}else for(Ze=Nn(n.stateNode.containerInfo.firstChild),vi=n,Xt=!0,Ln=null,Jn=!0,a=hA(n,null,y,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ru(),y===l){n=Os(i,n,a);break t}Je(i,n,y,a)}n=n.child}return n;case 26:return zu(i,n),i===null?(a=SE(n.type,null,n.pendingProps,null))?n.memoizedState=a:Xt||(a=n.type,i=n.pendingProps,l=ep(jt.current).createElement(a),l[oi]=n,l[Ci]=i,ti(l,a,i),Ie(l),n.stateNode=l):n.memoizedState=SE(n.type,i.memoizedProps,n.pendingProps,i.memoizedState),null;case 27:return Qn(n),i===null&&Xt&&(l=n.stateNode=bE(n.type,n.pendingProps,jt.current),vi=n,Jn=!0,Ze=Nn(l.firstChild)),l=n.pendingProps.children,i!==null||Xt?Je(i,n,l,a):n.child=zr(n,null,l,a),zu(i,n),n.child;case 5:return i===null&&Xt&&((f=l=Ze)&&(l=wR(l,n.type,n.pendingProps,Jn),l!==null?(n.stateNode=l,vi=n,Ze=Nn(l.firstChild),Jn=!1,f=!0):f=!1),f||Hr(n)),Qn(n),f=n.type,y=n.pendingProps,A=i!==null?i.memoizedProps:null,l=y.children,Fy(f,y)?l=null:A!==null&&Fy(f,A)&&(n.flags|=32),n.memoizedState!==null&&(f=wm(i,n,jx,null,null,a),nh._currentValue=f),zu(i,n),Je(i,n,l,a),n.child;case 6:return i===null&&Xt&&((i=a=Ze)&&(a=TR(a,n.pendingProps,Jn),a!==null?(n.stateNode=a,vi=n,Ze=null,i=!0):i=!1),i||Hr(n)),null;case 13:return gS(i,n,a);case 4:return _e(n,n.stateNode.containerInfo),l=n.pendingProps,i===null?n.child=zr(n,null,l,a):Je(i,n,l,a),n.child;case 11:return oS(i,n,n.type,n.pendingProps,a);case 7:return Je(i,n,n.pendingProps,a),n.child;case 8:return Je(i,n,n.pendingProps.children,a),n.child;case 12:return Je(i,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Na(n,n.type,l.value),Je(i,n,l.children,a),n.child;case 9:return f=n.type._context,l=n.pendingProps.children,Vr(n),f=li(f),l=l(f),n.flags|=1,Je(i,n,l,a),n.child;case 14:return lS(i,n,n.type,n.pendingProps,a);case 15:return cS(i,n,n.type,n.pendingProps,a);case 19:return yS(i,n,a);case 22:return uS(i,n,a);case 24:return Vr(n),l=li(Pe),i===null?(f=Em(),f===null&&(f=ae,y=Am(),f.pooledCache=y,y.refCount++,y!==null&&(f.pooledCacheLanes|=a),f=y),n.memoizedState={parent:l,cache:f},ty(n),Na(n,Pe,f)):((i.lanes&a)!==0&&(ey(i,n),Iu(n,null,null,a),ju()),f=i.memoizedState,y=n.memoizedState,f.parent!==l?(f={parent:l,cache:l},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Na(n,Pe,l)):(l=y.cache,Na(n,Pe,l),l!==f.cache&&Jm(n,[Pe],a,!0))),Je(i,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var Qm=Lt(null),Gr=null,Ns=null;function Na(i,n,a){At(Qm,n._currentValue),n._currentValue=a}function ks(i){i._currentValue=Qm.current,Vt(Qm)}function Zm(i,n,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&n)!==n?(i.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),i===a)break;i=i.return}}function Jm(i,n,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var y=f.dependencies;if(y!==null){var A=f.child;y=y.firstContext;t:for(;y!==null;){var R=y;y=f;for(var D=0;D<n.length;D++)if(R.context===n[D]){y.lanes|=a,R=y.alternate,R!==null&&(R.lanes|=a),Zm(y.return,a,i),l||(A=null);break t}y=R.next}}else if(f.tag===18){if(A=f.return,A===null)throw Error(s(341));A.lanes|=a,y=A.alternate,y!==null&&(y.lanes|=a),Zm(A,a,i),A=null}else A=f.child;if(A!==null)A.return=f;else for(A=f;A!==null;){if(A===i){A=null;break}if(f=A.sibling,f!==null){f.return=A.return,A=f;break}A=A.return}f=A}}function Uu(i,n,a,l){i=null;for(var f=n,y=!1;f!==null;){if(!y){if((f.flags&524288)!==0)y=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var A=f.alternate;if(A===null)throw Error(s(387));if(A=A.memoizedProps,A!==null){var R=f.type;ji(f.pendingProps.value,A.value)||(i!==null?i.push(R):i=[R])}}else if(f===le.current){if(A=f.alternate,A===null)throw Error(s(387));A.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(nh):i=[nh])}f=f.return}i!==null&&Jm(n,i,a,l),n.flags|=262144}function Uf(i){for(i=i.firstContext;i!==null;){if(!ji(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Vr(i){Gr=i,Ns=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function li(i){return vS(Gr,i)}function Bf(i,n){return Gr===null&&Vr(i),vS(i,n)}function vS(i,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ns===null){if(i===null)throw Error(s(308));Ns=n,i.dependencies={lanes:0,firstContext:n},i.flags|=524288}else Ns=Ns.next=n;return a}var ka=!1;function ty(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ey(i,n){i=i.updateQueue,n.updateQueue===i&&(n.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Pa(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Fa(i,n,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(fe&2)!==0){var f=l.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),l.pending=n,n=Af(i),tA(i,null,a),n}return vf(i,l,n,a),Af(i)}function Bu(i,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194176)!==0)){var l=n.lanes;l&=i.pendingLanes,a|=l,n.lanes=a,l0(i,a)}}function iy(i,n){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var A={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?f=y=A:y=y.next=A,a=a.next}while(a!==null);y===null?f=y=n:y=y.next=n}else f=y=n;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=n:i.next=n,a.lastBaseUpdate=n}var ny=!1;function ju(){if(ny){var i=Nl;if(i!==null)throw i}}function Iu(i,n,a,l){ny=!1;var f=i.updateQueue;ka=!1;var y=f.firstBaseUpdate,A=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var D=R,P=D.next;D.next=null,A===null?y=P:A.next=P,A=D;var X=i.alternate;X!==null&&(X=X.updateQueue,R=X.lastBaseUpdate,R!==A&&(R===null?X.firstBaseUpdate=P:R.next=P,X.lastBaseUpdate=D))}if(y!==null){var J=f.baseState;A=0,X=P=D=null,R=y;do{var j=R.lane&-536870913,G=j!==R.lane;if(G?(Gt&j)===j:(l&j)===j){j!==0&&j===Ol&&(ny=!0),X!==null&&(X=X.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var ft=i,xt=R;j=n;var Ae=a;switch(xt.tag){case 1:if(ft=xt.payload,typeof ft=="function"){J=ft.call(Ae,J,j);break t}J=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=xt.payload,j=typeof ft=="function"?ft.call(Ae,J,j):ft,j==null)break t;J=et({},J,j);break t;case 2:ka=!0}}j=R.callback,j!==null&&(i.flags|=64,G&&(i.flags|=8192),G=f.callbacks,G===null?f.callbacks=[j]:G.push(j))}else G={lane:j,tag:R.tag,payload:R.payload,callback:R.callback,next:null},X===null?(P=X=G,D=J):X=X.next=G,A|=j;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;G=R,R=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);X===null&&(D=J),f.baseState=D,f.firstBaseUpdate=P,f.lastBaseUpdate=X,y===null&&(f.shared.lanes=0),ja|=A,i.lanes=A,i.memoizedState=J}}function AS(i,n){if(typeof i!="function")throw Error(s(191,i));i.call(n)}function SS(i,n){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)AS(a[i],n)}function qu(i,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var y=a.create,A=a.inst;l=y(),A.destroy=l}a=a.next}while(a!==f)}}catch(R){ne(n,n.return,R)}}function Ha(i,n,a){try{var l=n.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var y=f.next;l=y;do{if((l.tag&i)===i){var A=l.inst,R=A.destroy;if(R!==void 0){A.destroy=void 0,f=n;var D=a;try{R()}catch(P){ne(f,D,P)}}}l=l.next}while(l!==y)}}catch(P){ne(n,n.return,P)}}function ES(i){var n=i.updateQueue;if(n!==null){var a=i.stateNode;try{SS(n,a)}catch(l){ne(i,i.return,l)}}}function _S(i,n,a){a.props=qr(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){ne(i,n,l)}}function Xr(i,n){try{var a=i.ref;if(a!==null){var l=i.stateNode;switch(i.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof a=="function"?i.refCleanup=a(f):a.current=f}}catch(y){ne(i,n,y)}}function Ii(i,n){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){ne(i,n,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ne(i,n,f)}else a.current=null}function wS(i){var n=i.type,a=i.memoizedProps,l=i.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){ne(i,i.return,f)}}function TS(i,n,a){try{var l=i.stateNode;vR(l,i.type,a,n),l[Ci]=n}catch(f){ne(i,i.return,f)}}function xS(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function sy(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||xS(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ay(i,n,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(i,n):a.insertBefore(i,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(i,a)):(n=a,n.appendChild(i)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=tp));else if(l!==4&&l!==27&&(i=i.child,i!==null))for(ay(i,n,a),i=i.sibling;i!==null;)ay(i,n,a),i=i.sibling}function jf(i,n,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,n?a.insertBefore(i,n):a.appendChild(i);else if(l!==4&&l!==27&&(i=i.child,i!==null))for(jf(i,n,a),i=i.sibling;i!==null;)jf(i,n,a),i=i.sibling}var Ps=!1,be=!1,ry=!1,RS=typeof WeakSet=="function"?WeakSet:Set,Ge=null,CS=!1;function $x(i,n){if(i=i.containerInfo,ky=op,i=V0(i),lm(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,y=l.focusNode;l=l.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break t}var A=0,R=-1,D=-1,P=0,X=0,J=i,j=null;e:for(;;){for(var G;J!==a||f!==0&&J.nodeType!==3||(R=A+f),J!==y||l!==0&&J.nodeType!==3||(D=A+l),J.nodeType===3&&(A+=J.nodeValue.length),(G=J.firstChild)!==null;)j=J,J=G;for(;;){if(J===i)break e;if(j===a&&++P===f&&(R=A),j===y&&++X===l&&(D=A),(G=J.nextSibling)!==null)break;J=j,j=J.parentNode}J=G}a=R===-1||D===-1?null:{start:R,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Py={focusedElem:i,selectionRange:a},op=!1,Ge=n;Ge!==null;)if(n=Ge,i=n.child,(n.subtreeFlags&1028)!==0&&i!==null)i.return=n,Ge=i;else for(;Ge!==null;){switch(n=Ge,y=n.alternate,i=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,a=n,f=y.memoizedProps,y=y.memoizedState,l=a.stateNode;try{var ft=qr(a.type,f,a.elementType===a.type);i=l.getSnapshotBeforeUpdate(ft,y),l.__reactInternalSnapshotBeforeUpdate=i}catch(xt){ne(a,a.return,xt)}}break;case 3:if((i&1024)!==0){if(i=n.stateNode.containerInfo,a=i.nodeType,a===9)Uy(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Uy(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=n.sibling,i!==null){i.return=n.return,Ge=i;break}Ge=n.return}return ft=CS,CS=!1,ft}function MS(i,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Hs(i,a),l&4&&qu(5,a);break;case 1:if(Hs(i,a),l&4)if(i=a.stateNode,n===null)try{i.componentDidMount()}catch(R){ne(a,a.return,R)}else{var f=qr(a.type,n.memoizedProps);n=n.memoizedState;try{i.componentDidUpdate(f,n,i.__reactInternalSnapshotBeforeUpdate)}catch(R){ne(a,a.return,R)}}l&64&&ES(a),l&512&&Xr(a,a.return);break;case 3:if(Hs(i,a),l&64&&(l=a.updateQueue,l!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{SS(l,i)}catch(R){ne(a,a.return,R)}}break;case 26:Hs(i,a),l&512&&Xr(a,a.return);break;case 27:case 5:Hs(i,a),n===null&&l&4&&wS(a),l&512&&Xr(a,a.return);break;case 12:Hs(i,a);break;case 13:Hs(i,a),l&4&&OS(i,a);break;case 22:if(f=a.memoizedState!==null||Ps,!f){n=n!==null&&n.memoizedState!==null||be;var y=Ps,A=be;Ps=f,(be=n)&&!A?za(i,a,(a.subtreeFlags&8772)!==0):Hs(i,a),Ps=y,be=A}l&512&&(a.memoizedProps.mode==="manual"?Xr(a,a.return):Ii(a,a.return));break;default:Hs(i,a)}}function DS(i){var n=i.alternate;n!==null&&(i.alternate=null,DS(n)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(n=i.stateNode,n!==null&&Xg(n)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var De=null,qi=!1;function Fs(i,n,a){for(a=a.child;a!==null;)LS(i,n,a),a=a.sibling}function LS(i,n,a){if(Ui&&typeof Ui.onCommitFiberUnmount=="function")try{Ui.onCommitFiberUnmount(du,a)}catch{}switch(a.tag){case 26:be||Ii(a,n),Fs(i,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:be||Ii(a,n);var l=De,f=qi;for(De=a.stateNode,Fs(i,n,a),a=a.stateNode,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);Xg(a),De=l,qi=f;break;case 5:be||Ii(a,n);case 6:f=De;var y=qi;if(De=null,Fs(i,n,a),De=f,qi=y,De!==null)if(qi)try{i=De,l=a.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)}catch(A){ne(a,n,A)}else try{De.removeChild(a.stateNode)}catch(A){ne(a,n,A)}break;case 18:De!==null&&(qi?(n=De,a=a.stateNode,n.nodeType===8?zy(n.parentNode,a):n.nodeType===1&&zy(n,a),oh(n)):zy(De,a.stateNode));break;case 4:l=De,f=qi,De=a.stateNode.containerInfo,qi=!0,Fs(i,n,a),De=l,qi=f;break;case 0:case 11:case 14:case 15:be||Ha(2,a,n),be||Ha(4,a,n),Fs(i,n,a);break;case 1:be||(Ii(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&_S(a,n,l)),Fs(i,n,a);break;case 21:Fs(i,n,a);break;case 22:be||Ii(a,n),be=(l=be)||a.memoizedState!==null,Fs(i,n,a),be=l;break;default:Fs(i,n,a)}}function OS(i,n){if(n.memoizedState===null&&(i=n.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{oh(i)}catch(a){ne(n,n.return,a)}}function Wx(i){switch(i.tag){case 13:case 19:var n=i.stateNode;return n===null&&(n=i.stateNode=new RS),n;case 22:return i=i.stateNode,n=i._retryCache,n===null&&(n=i._retryCache=new RS),n;default:throw Error(s(435,i.tag))}}function oy(i,n){var a=Wx(i);n.forEach(function(l){var f=cR.bind(null,i,l);a.has(l)||(a.add(l),l.then(f,f))})}function pn(i,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],y=i,A=n,R=A;t:for(;R!==null;){switch(R.tag){case 27:case 5:De=R.stateNode,qi=!1;break t;case 3:De=R.stateNode.containerInfo,qi=!0;break t;case 4:De=R.stateNode.containerInfo,qi=!0;break t}R=R.return}if(De===null)throw Error(s(160));LS(y,A,f),De=null,qi=!1,y=f.alternate,y!==null&&(y.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)NS(n,i),n=n.sibling}var On=null;function NS(i,n){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:pn(n,i),gn(i),l&4&&(Ha(3,i,i.return),qu(3,i),Ha(5,i,i.return));break;case 1:pn(n,i),gn(i),l&512&&(be||a===null||Ii(a,a.return)),l&64&&Ps&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=On;if(pn(n,i),gn(i),l&512&&(be||a===null||Ii(a,a.return)),l&4){var y=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){t:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":y=f.getElementsByTagName("title")[0],(!y||y[gu]||y[oi]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=f.createElement(l),f.head.insertBefore(y,f.querySelector("head > title"))),ti(y,l,a),y[oi]=i,Ie(y),l=y;break t;case"link":var A=wE("link","href",f).get(l+(a.href||""));if(A){for(var R=0;R<A.length;R++)if(y=A[R],y.getAttribute("href")===(a.href==null?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){A.splice(R,1);break e}}y=f.createElement(l),ti(y,l,a),f.head.appendChild(y);break;case"meta":if(A=wE("meta","content",f).get(l+(a.content||""))){for(R=0;R<A.length;R++)if(y=A[R],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){A.splice(R,1);break e}}y=f.createElement(l),ti(y,l,a),f.head.appendChild(y);break;default:throw Error(s(468,l))}y[oi]=i,Ie(y),l=y}i.stateNode=l}else TE(f,i.type,i.stateNode);else i.stateNode=_E(f,l,i.memoizedProps);else y!==l?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,l===null?TE(f,i.type,i.stateNode):_E(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&TS(i,i.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&i.alternate===null){f=i.stateNode,y=i.memoizedProps;try{for(var D=f.firstChild;D;){var P=D.nextSibling,X=D.nodeName;D[gu]||X==="HEAD"||X==="BODY"||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&D.rel.toLowerCase()==="stylesheet"||f.removeChild(D),D=P}for(var J=i.type,j=f.attributes;j.length;)f.removeAttributeNode(j[0]);ti(f,J,y),f[oi]=i,f[Ci]=y}catch(ft){ne(i,i.return,ft)}}case 5:if(pn(n,i),gn(i),l&512&&(be||a===null||Ii(a,a.return)),i.flags&32){f=i.stateNode;try{Al(f,"")}catch(ft){ne(i,i.return,ft)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,TS(i,f,a!==null?a.memoizedProps:f)),l&1024&&(ry=!0);break;case 6:if(pn(n,i),gn(i),l&4){if(i.stateNode===null)throw Error(s(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(ft){ne(i,i.return,ft)}}break;case 3:if(sp=null,f=On,On=ip(n.containerInfo),pn(n,i),On=f,gn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{oh(n.containerInfo)}catch(ft){ne(i,i.return,ft)}ry&&(ry=!1,kS(i));break;case 4:l=On,On=ip(i.stateNode.containerInfo),pn(n,i),gn(i),On=l;break;case 12:pn(n,i),gn(i);break;case 13:pn(n,i),gn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(my=rn()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,oy(i,l)));break;case 22:if(l&512&&(be||a===null||Ii(a,a.return)),D=i.memoizedState!==null,P=a!==null&&a.memoizedState!==null,X=Ps,J=be,Ps=X||D,be=J||P,pn(n,i),be=J,Ps=X,gn(i),n=i.stateNode,n._current=i,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=D?n._visibility&-2:n._visibility|1,D&&(n=Ps||be,a===null||P||n||Hl(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))t:for(a=null,n=i;;){if(n.tag===5||n.tag===26||n.tag===27){if(a===null){P=a=n;try{if(f=P.stateNode,D)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{A=P.stateNode,R=P.memoizedProps.style;var G=R!=null&&R.hasOwnProperty("display")?R.display:null;A.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ft){ne(P,P.return,ft)}}}else if(n.tag===6){if(a===null){P=n;try{P.stateNode.nodeValue=D?"":P.memoizedProps}catch(ft){ne(P,P.return,ft)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===i)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,oy(i,a))));break;case 19:pn(n,i),gn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,oy(i,l)));break;case 21:break;default:pn(n,i),gn(i)}}function gn(i){var n=i.flags;if(n&2){try{if(i.tag!==27){t:{for(var a=i.return;a!==null;){if(xS(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var f=l.stateNode,y=sy(i);jf(i,y,f);break;case 5:var A=l.stateNode;l.flags&32&&(Al(A,""),l.flags&=-33);var R=sy(i);jf(i,R,A);break;case 3:case 4:var D=l.stateNode.containerInfo,P=sy(i);ay(i,P,D);break;default:throw Error(s(161))}}}catch(X){ne(i,i.return,X)}i.flags&=-3}n&4096&&(i.flags&=-4097)}function kS(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var n=i;kS(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),i=i.sibling}}function Hs(i,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)MS(i,n.alternate,n),n=n.sibling}function Hl(i){for(i=i.child;i!==null;){var n=i;switch(n.tag){case 0:case 11:case 14:case 15:Ha(4,n,n.return),Hl(n);break;case 1:Ii(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&_S(n,n.return,a),Hl(n);break;case 26:case 27:case 5:Ii(n,n.return),Hl(n);break;case 22:Ii(n,n.return),n.memoizedState===null&&Hl(n);break;default:Hl(n)}i=i.sibling}}function za(i,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,f=i,y=n,A=y.flags;switch(y.tag){case 0:case 11:case 15:za(f,y,a),qu(4,y);break;case 1:if(za(f,y,a),l=y,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(P){ne(l,l.return,P)}if(l=y,f=l.updateQueue,f!==null){var R=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)AS(D[f],R)}catch(P){ne(l,l.return,P)}}a&&A&64&&ES(y),Xr(y,y.return);break;case 26:case 27:case 5:za(f,y,a),a&&l===null&&A&4&&wS(y),Xr(y,y.return);break;case 12:za(f,y,a);break;case 13:za(f,y,a),a&&A&4&&OS(f,y);break;case 22:y.memoizedState===null&&za(f,y,a),Xr(y,y.return);break;default:za(f,y,a)}n=n.sibling}}function ly(i,n){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Nu(a))}function cy(i,n){i=null,n.alternate!==null&&(i=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==i&&(n.refCount++,i!=null&&Nu(i))}function Ua(i,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)PS(i,n,a,l),n=n.sibling}function PS(i,n,a,l){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Ua(i,n,a,l),f&2048&&qu(9,n);break;case 3:Ua(i,n,a,l),f&2048&&(i=null,n.alternate!==null&&(i=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==i&&(n.refCount++,i!=null&&Nu(i)));break;case 12:if(f&2048){Ua(i,n,a,l),i=n.stateNode;try{var y=n.memoizedProps,A=y.id,R=y.onPostCommit;typeof R=="function"&&R(A,n.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){ne(n,n.return,D)}}else Ua(i,n,a,l);break;case 23:break;case 22:y=n.stateNode,n.memoizedState!==null?y._visibility&4?Ua(i,n,a,l):Gu(i,n):y._visibility&4?Ua(i,n,a,l):(y._visibility|=4,zl(i,n,a,l,(n.subtreeFlags&10256)!==0)),f&2048&&ly(n.alternate,n);break;case 24:Ua(i,n,a,l),f&2048&&cy(n.alternate,n);break;default:Ua(i,n,a,l)}}function zl(i,n,a,l,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var y=i,A=n,R=a,D=l,P=A.flags;switch(A.tag){case 0:case 11:case 15:zl(y,A,R,D,f),qu(8,A);break;case 23:break;case 22:var X=A.stateNode;A.memoizedState!==null?X._visibility&4?zl(y,A,R,D,f):Gu(y,A):(X._visibility|=4,zl(y,A,R,D,f)),f&&P&2048&&ly(A.alternate,A);break;case 24:zl(y,A,R,D,f),f&&P&2048&&cy(A.alternate,A);break;default:zl(y,A,R,D,f)}n=n.sibling}}function Gu(i,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=i,l=n,f=l.flags;switch(l.tag){case 22:Gu(a,l),f&2048&&ly(l.alternate,l);break;case 24:Gu(a,l),f&2048&&cy(l.alternate,l);break;default:Gu(a,l)}n=n.sibling}}var Vu=8192;function Ul(i){if(i.subtreeFlags&Vu)for(i=i.child;i!==null;)FS(i),i=i.sibling}function FS(i){switch(i.tag){case 26:Ul(i),i.flags&Vu&&i.memoizedState!==null&&zR(On,i.memoizedState,i.memoizedProps);break;case 5:Ul(i);break;case 3:case 4:var n=On;On=ip(i.stateNode.containerInfo),Ul(i),On=n;break;case 22:i.memoizedState===null&&(n=i.alternate,n!==null&&n.memoizedState!==null?(n=Vu,Vu=16777216,Ul(i),Vu=n):Ul(i));break;default:Ul(i)}}function HS(i){var n=i.alternate;if(n!==null&&(i=n.child,i!==null)){n.child=null;do n=i.sibling,i.sibling=null,i=n;while(i!==null)}}function Xu(i){var n=i.deletions;if((i.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ge=l,US(l,i)}HS(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)zS(i),i=i.sibling}function zS(i){switch(i.tag){case 0:case 11:case 15:Xu(i),i.flags&2048&&Ha(9,i,i.return);break;case 3:Xu(i);break;case 12:Xu(i);break;case 22:var n=i.stateNode;i.memoizedState!==null&&n._visibility&4&&(i.return===null||i.return.tag!==13)?(n._visibility&=-5,If(i)):Xu(i);break;default:Xu(i)}}function If(i){var n=i.deletions;if((i.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ge=l,US(l,i)}HS(i)}for(i=i.child;i!==null;){switch(n=i,n.tag){case 0:case 11:case 15:Ha(8,n,n.return),If(n);break;case 22:a=n.stateNode,a._visibility&4&&(a._visibility&=-5,If(n));break;default:If(n)}i=i.sibling}}function US(i,n){for(;Ge!==null;){var a=Ge;switch(a.tag){case 0:case 11:case 15:Ha(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Nu(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ge=l;else t:for(a=i;Ge!==null;){l=Ge;var f=l.sibling,y=l.return;if(DS(l),l===a){Ge=null;break t}if(f!==null){f.return=y,Ge=f;break t}Ge=y}}}function Qx(i,n,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(i,n,a,l){return new Qx(i,n,a,l)}function uy(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ba(i,n){var a=i.alternate;return a===null?(a=mn(i.tag,n,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=n,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&31457280,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,n=i.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function BS(i,n){i.flags&=31457282;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,n=a.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),i}function qf(i,n,a,l,f,y){var A=0;if(l=i,typeof i=="function")uy(i)&&(A=1);else if(typeof i=="string")A=FR(i,a,ri.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case p:return Yr(a.children,f,y,n);case g:A=8,f|=24;break;case m:return i=mn(12,a,n,f|2),i.elementType=m,i.lanes=y,i;case T:return i=mn(13,a,n,f),i.elementType=T,i.lanes=y,i;case M:return i=mn(19,a,n,f),i.elementType=M,i.lanes=y,i;case N:return jS(a,f,y,n);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case b:case S:A=10;break t;case v:A=9;break t;case E:A=11;break t;case C:A=14;break t;case L:A=16,l=null;break t}A=29,a=Error(s(130,i===null?"null":typeof i,"")),l=null}return n=mn(A,a,n,f),n.elementType=i,n.type=l,n.lanes=y,n}function Yr(i,n,a,l){return i=mn(7,i,l,n),i.lanes=a,i}function jS(i,n,a,l){i=mn(22,i,l,n),i.elementType=N,i.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=f._current;if(y===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var A=Ca(y,2);A!==null&&(f._pendingVisibility|=2,Ai(A,y,2))}},attach:function(){var y=f._current;if(y===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var A=Ca(y,2);A!==null&&(f._pendingVisibility&=-3,Ai(A,y,2))}}};return i.stateNode=f,i}function hy(i,n,a){return i=mn(6,i,null,n),i.lanes=a,i}function dy(i,n,a){return n=mn(4,i.children!==null?i.children:[],i.key,n),n.lanes=a,n.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},n}function zs(i){i.flags|=4}function IS(i,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!xE(n)){if(n=fn.current,n!==null&&((Gt&4194176)===Gt?ts!==null:(Gt&62914560)!==Gt&&(Gt&536870912)===0||n!==ts))throw Du=ym,aA;i.flags|=8192}}function Gf(i,n){n!==null&&(i.flags|=4),i.flags&16384&&(n=i.tag!==22?r0():536870912,i.lanes|=n,jl|=n)}function Yu(i,n){if(!Xt)switch(i.tailMode){case"hidden":n=i.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function de(i){var n=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(n)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,n}function Zx(i,n,a){var l=n.pendingProps;switch(gm(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(n),null;case 1:return de(n),null;case 3:return a=n.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ks(Pe),ce(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(xu(n)?zs(n):i===null||i.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ln!==null&&(Ay(Ln),Ln=null))),de(n),null;case 26:return a=n.memoizedState,i===null?(zs(n),a!==null?(de(n),IS(n,a)):(de(n),n.flags&=-16777217)):a?a!==i.memoizedState?(zs(n),de(n),IS(n,a)):(de(n),n.flags&=-16777217):(i.memoizedProps!==l&&zs(n),de(n),n.flags&=-16777217),null;case 27:Zn(n),a=jt.current;var f=n.type;if(i!==null&&n.stateNode!=null)i.memoizedProps!==l&&zs(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return de(n),null}i=ri.current,xu(n)?nA(n):(i=bE(f,l,a),n.stateNode=i,zs(n))}return de(n),null;case 5:if(Zn(n),a=n.type,i!==null&&n.stateNode!=null)i.memoizedProps!==l&&zs(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return de(n),null}if(i=ri.current,xu(n))nA(n);else{switch(f=ep(jt.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}i[oi]=n,i[Ci]=l;t:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break t;for(;f.sibling===null;){if(f.return===null||f.return===n)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=i;t:switch(ti(i,a,l),a){case"button":case"input":case"select":case"textarea":i=!!l.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&zs(n)}}return de(n),n.flags&=-16777217,null;case 6:if(i&&n.stateNode!=null)i.memoizedProps!==l&&zs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(i=jt.current,xu(n)){if(i=n.stateNode,a=n.memoizedProps,l=null,f=vi,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[oi]=n,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||dE(i.nodeValue,a)),i||Hr(n)}else i=ep(i).createTextNode(l),i[oi]=n,n.stateNode=i}return de(n),null;case 13:if(l=n.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=xu(n),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[oi]=n}else Ru(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;de(n),f=!1}else Ln!==null&&(Ay(Ln),Ln=null),f=!0;if(!f)return n.flags&256?(Ds(n),n):(Ds(n),null)}if(Ds(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,i=i!==null&&i.memoizedState!==null,a){l=n.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var y=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(y=l.memoizedState.cachePool.pool),y!==f&&(l.flags|=2048)}return a!==i&&a&&(n.child.flags|=8192),Gf(n,n.updateQueue),de(n),null;case 4:return ce(),i===null&&Ly(n.stateNode.containerInfo),de(n),null;case 10:return ks(n.type),de(n),null;case 19:if(Vt(ke),f=n.memoizedState,f===null)return de(n),null;if(l=(n.flags&128)!==0,y=f.rendering,y===null)if(l)Yu(f,!1);else{if(ve!==0||i!==null&&(i.flags&128)!==0)for(i=n.child;i!==null;){if(y=Rf(i),y!==null){for(n.flags|=128,Yu(f,!1),i=y.updateQueue,n.updateQueue=i,Gf(n,i),n.subtreeFlags=0,i=a,a=n.child;a!==null;)BS(a,i),a=a.sibling;return At(ke,ke.current&1|2),n.child}i=i.sibling}f.tail!==null&&rn()>Vf&&(n.flags|=128,l=!0,Yu(f,!1),n.lanes=4194304)}else{if(!l)if(i=Rf(y),i!==null){if(n.flags|=128,l=!0,i=i.updateQueue,n.updateQueue=i,Gf(n,i),Yu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!Xt)return de(n),null}else 2*rn()-f.renderingStartTime>Vf&&a!==536870912&&(n.flags|=128,l=!0,Yu(f,!1),n.lanes=4194304);f.isBackwards?(y.sibling=n.child,n.child=y):(i=f.last,i!==null?i.sibling=y:n.child=y,f.last=y)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=rn(),n.sibling=null,i=ke.current,At(ke,l?i&1|2:i&1),n):(de(n),null);case 22:case 23:return Ds(n),vm(),l=n.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(de(n),n.subtreeFlags&6&&(n.flags|=8192)):de(n),a=n.updateQueue,a!==null&&Gf(n,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),i!==null&&Vt(Ur),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ks(Pe),de(n),null;case 25:return null}throw Error(s(156,n.tag))}function Jx(i,n){switch(gm(n),n.tag){case 1:return i=n.flags,i&65536?(n.flags=i&-65537|128,n):null;case 3:return ks(Pe),ce(),i=n.flags,(i&65536)!==0&&(i&128)===0?(n.flags=i&-65537|128,n):null;case 26:case 27:case 5:return Zn(n),null;case 13:if(Ds(n),i=n.memoizedState,i!==null&&i.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ru()}return i=n.flags,i&65536?(n.flags=i&-65537|128,n):null;case 19:return Vt(ke),null;case 4:return ce(),null;case 10:return ks(n.type),null;case 22:case 23:return Ds(n),vm(),i!==null&&Vt(Ur),i=n.flags,i&65536?(n.flags=i&-65537|128,n):null;case 24:return ks(Pe),null;case 25:return null;default:return null}}function qS(i,n){switch(gm(n),n.tag){case 3:ks(Pe),ce();break;case 26:case 27:case 5:Zn(n);break;case 4:ce();break;case 13:Ds(n);break;case 19:Vt(ke);break;case 10:ks(n.type);break;case 22:case 23:Ds(n),vm(),i!==null&&Vt(Ur);break;case 24:ks(Pe)}}var tR={getCacheForType:function(i){var n=li(Pe),a=n.data.get(i);return a===void 0&&(a=i(),n.data.set(i,a)),a}},eR=typeof WeakMap=="function"?WeakMap:Map,fe=0,ae=null,Ut=null,Gt=0,re=0,Gi=null,Us=!1,Bl=!1,fy=!1,Bs=0,ve=0,ja=0,Kr=0,py=0,yn=0,jl=0,Ku=null,is=null,gy=!1,my=0,Vf=1/0,Xf=null,Ia=null,Yf=!1,$r=null,$u=0,yy=0,by=null,Wu=0,vy=null;function Vi(){if((fe&2)!==0&&Gt!==0)return Gt&-Gt;if(q.T!==null){var i=Ol;return i!==0?i:Ry()}return u0()}function GS(){yn===0&&(yn=(Gt&536870912)===0||Xt?a0():536870912);var i=fn.current;return i!==null&&(i.flags|=32),yn}function Ai(i,n,a){(i===ae&&re===2||i.cancelPendingCommit!==null)&&(Il(i,0),js(i,Gt,yn,!1)),pu(i,a),((fe&2)===0||i!==ae)&&(i===ae&&((fe&2)===0&&(Kr|=a),ve===4&&js(i,Gt,yn,!1)),ns(i))}function VS(i,n,a){if((fe&6)!==0)throw Error(s(327));var l=!a&&(n&60)===0&&(n&i.expiredLanes)===0||fu(i,n),f=l?sR(i,n):_y(i,n,!0),y=l;do{if(f===0){Bl&&!l&&js(i,n,0,!1);break}else if(f===6)js(i,n,0,!Us);else{if(a=i.current.alternate,y&&!iR(a)){f=_y(i,n,!1),y=!1;continue}if(f===2){if(y=n,i.errorRecoveryDisabledLanes&y)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){n=A;t:{var R=i;f=Ku;var D=R.current.memoizedState.isDehydrated;if(D&&(Il(R,A).flags|=256),A=_y(R,A,!1),A!==2){if(fy&&!D){R.errorRecoveryDisabledLanes|=y,Kr|=y,f=4;break t}y=is,is=f,y!==null&&Ay(y)}f=A}if(y=!1,f!==2)continue}}if(f===1){Il(i,0),js(i,n,0,!0);break}t:{switch(l=i,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){js(l,n,yn,!Us);break t}break;case 2:is=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=n,(n&62914560)===n&&(y=my+300-rn(),10<y)){if(js(l,n,yn,!Us),rf(l,0)!==0)break t;l.timeoutHandle=gE(XS.bind(null,l,a,is,Xf,gy,n,yn,Kr,jl,Us,2,-0,0),y);break t}XS(l,a,is,Xf,gy,n,yn,Kr,jl,Us,0,-0,0)}}break}while(!0);ns(i)}function Ay(i){is===null?is=i:is.push.apply(is,i)}function XS(i,n,a,l,f,y,A,R,D,P,X,J,j){var G=n.subtreeFlags;if((G&8192||(G&16785408)===16785408)&&(ih={stylesheets:null,count:0,unsuspend:HR},FS(n),n=UR(),n!==null)){i.cancelPendingCommit=n(JS.bind(null,i,a,l,f,A,R,D,1,J,j)),js(i,y,A,!P);return}JS(i,a,l,f,A,R,D,X,J,j)}function iR(i){for(var n=i;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],y=f.getSnapshot;f=f.value;try{if(!ji(y(),f))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===i)break;for(;n.sibling===null;){if(n.return===null||n.return===i)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function js(i,n,a,l){n&=~py,n&=~Kr,i.suspendedLanes|=n,i.pingedLanes&=~n,l&&(i.warmLanes|=n),l=i.expirationTimes;for(var f=n;0<f;){var y=31-Bi(f),A=1<<y;l[y]=-1,f&=~A}a!==0&&o0(i,a,n)}function Kf(){return(fe&6)===0?(Qu(0),!1):!0}function Sy(){if(Ut!==null){if(re===0)var i=Ut.return;else i=Ut,Ns=Gr=null,Rm(i),Dl=null,Lu=0,i=Ut;for(;i!==null;)qS(i.alternate,i),i=i.return;Ut=null}}function Il(i,n){i.finishedWork=null,i.finishedLanes=0;var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,SR(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Sy(),ae=i,Ut=a=Ba(i.current,null),Gt=n,re=0,Gi=null,Us=!1,Bl=fu(i,n),fy=!1,jl=yn=py=Kr=ja=ve=0,is=Ku=null,gy=!1,(n&8)!==0&&(n|=n&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=n;0<l;){var f=31-Bi(l),y=1<<f;n|=i[f],l&=~y}return Bs=n,bf(),a}function YS(i,n){Pt=null,q.H=es,n===Mu?(n=lA(),re=3):n===aA?(n=lA(),re=4):re=n===rS?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Gi=n,Ut===null&&(ve=1,zf(i,un(n,i.current)))}function KS(){var i=q.H;return q.H=es,i===null?es:i}function $S(){var i=q.A;return q.A=tR,i}function Ey(){ve=4,Us||(Gt&4194176)!==Gt&&fn.current!==null||(Bl=!0),(ja&134217727)===0&&(Kr&134217727)===0||ae===null||js(ae,Gt,yn,!1)}function _y(i,n,a){var l=fe;fe|=2;var f=KS(),y=$S();(ae!==i||Gt!==n)&&(Xf=null,Il(i,n)),n=!1;var A=ve;t:do try{if(re!==0&&Ut!==null){var R=Ut,D=Gi;switch(re){case 8:Sy(),A=6;break t;case 3:case 2:case 6:fn.current===null&&(n=!0);var P=re;if(re=0,Gi=null,ql(i,R,D,P),a&&Bl){A=0;break t}break;default:P=re,re=0,Gi=null,ql(i,R,D,P)}}nR(),A=ve;break}catch(X){YS(i,X)}while(!0);return n&&i.shellSuspendCounter++,Ns=Gr=null,fe=l,q.H=f,q.A=y,Ut===null&&(ae=null,Gt=0,bf()),A}function nR(){for(;Ut!==null;)WS(Ut)}function sR(i,n){var a=fe;fe|=2;var l=KS(),f=$S();ae!==i||Gt!==n?(Xf=null,Vf=rn()+500,Il(i,n)):Bl=fu(i,n);t:do try{if(re!==0&&Ut!==null){n=Ut;var y=Gi;e:switch(re){case 1:re=0,Gi=null,ql(i,n,y,1);break;case 2:if(rA(y)){re=0,Gi=null,QS(n);break}n=function(){re===2&&ae===i&&(re=7),ns(i)},y.then(n,n);break t;case 3:re=7;break t;case 4:re=5;break t;case 7:rA(y)?(re=0,Gi=null,QS(n)):(re=0,Gi=null,ql(i,n,y,7));break;case 5:var A=null;switch(Ut.tag){case 26:A=Ut.memoizedState;case 5:case 27:var R=Ut;if(!A||xE(A)){re=0,Gi=null;var D=R.sibling;if(D!==null)Ut=D;else{var P=R.return;P!==null?(Ut=P,$f(P)):Ut=null}break e}}re=0,Gi=null,ql(i,n,y,5);break;case 6:re=0,Gi=null,ql(i,n,y,6);break;case 8:Sy(),ve=6;break t;default:throw Error(s(462))}}aR();break}catch(X){YS(i,X)}while(!0);return Ns=Gr=null,q.H=l,q.A=f,fe=a,Ut!==null?0:(ae=null,Gt=0,bf(),ve)}function aR(){for(;Ut!==null&&!jg();)WS(Ut)}function WS(i){var n=bS(i.alternate,i,Bs);i.memoizedProps=i.pendingProps,n===null?$f(i):Ut=n}function QS(i){var n=i,a=n.alternate;switch(n.tag){case 15:case 0:n=dS(a,n,n.pendingProps,n.type,void 0,Gt);break;case 11:n=dS(a,n,n.pendingProps,n.type.render,n.ref,Gt);break;case 5:Rm(n);default:qS(a,n),n=Ut=BS(n,Bs),n=bS(a,n,Bs)}i.memoizedProps=i.pendingProps,n===null?$f(i):Ut=n}function ql(i,n,a,l){Ns=Gr=null,Rm(n),Dl=null,Lu=0;var f=n.return;try{if(Yx(i,f,n,a,Gt)){ve=1,zf(i,un(a,i.current)),Ut=null;return}}catch(y){if(f!==null)throw Ut=f,y;ve=1,zf(i,un(a,i.current)),Ut=null;return}n.flags&32768?(Xt||l===1?i=!0:Bl||(Gt&536870912)!==0?i=!1:(Us=i=!0,(l===2||l===3||l===6)&&(l=fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ZS(n,i)):$f(n)}function $f(i){var n=i;do{if((n.flags&32768)!==0){ZS(n,Us);return}i=n.return;var a=Zx(n.alternate,n,Bs);if(a!==null){Ut=a;return}if(n=n.sibling,n!==null){Ut=n;return}Ut=n=i}while(n!==null);ve===0&&(ve=5)}function ZS(i,n){do{var a=Jx(i.alternate,i);if(a!==null){a.flags&=32767,Ut=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(i=i.sibling,i!==null)){Ut=i;return}Ut=i=a}while(i!==null);ve=6,Ut=null}function JS(i,n,a,l,f,y,A,R,D,P){var X=q.T,J=it.p;try{it.p=2,q.T=null,rR(i,n,a,l,J,f,y,A,R,D,P)}finally{q.T=X,it.p=J}}function rR(i,n,a,l,f,y,A,R){do Gl();while($r!==null);if((fe&6)!==0)throw Error(s(327));var D=i.finishedWork;if(l=i.finishedLanes,D===null)return null;if(i.finishedWork=null,i.finishedLanes=0,D===i.current)throw Error(s(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var P=D.lanes|D.childLanes;if(P|=dm,zT(i,l,P,y,A,R),i===ae&&(Ut=ae=null,Gt=0),(D.subtreeFlags&10256)===0&&(D.flags&10256)===0||Yf||(Yf=!0,yy=P,by=a,uR(Ts,function(){return Gl(),null})),a=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||a?(a=q.T,q.T=null,y=it.p,it.p=2,A=fe,fe|=4,$x(i,D),NS(D,i),Dx(Py,i.containerInfo),op=!!ky,Py=ky=null,i.current=D,MS(i,D.alternate,D),Ig(),fe=A,it.p=y,q.T=a):i.current=D,Yf?(Yf=!1,$r=i,$u=l):tE(i,P),P=i.pendingLanes,P===0&&(Ia=null),NT(D.stateNode),ns(i),n!==null)for(f=i.onRecoverableError,D=0;D<n.length;D++)P=n[D],f(P.value,{componentStack:P.stack});return($u&3)!==0&&Gl(),P=i.pendingLanes,(l&4194218)!==0&&(P&42)!==0?i===vy?Wu++:(Wu=0,vy=i):Wu=0,Qu(0),null}function tE(i,n){(i.pooledCacheLanes&=n)===0&&(n=i.pooledCache,n!=null&&(i.pooledCache=null,Nu(n)))}function Gl(){if($r!==null){var i=$r,n=yy;yy=0;var a=c0($u),l=q.T,f=it.p;try{if(it.p=32>a?32:a,q.T=null,$r===null)var y=!1;else{a=by,by=null;var A=$r,R=$u;if($r=null,$u=0,(fe&6)!==0)throw Error(s(331));var D=fe;if(fe|=4,zS(A.current),PS(A,A.current,R,a),fe=D,Qu(0,!1),Ui&&typeof Ui.onPostCommitFiberRoot=="function")try{Ui.onPostCommitFiberRoot(du,A)}catch{}y=!0}return y}finally{it.p=f,q.T=l,tE(i,n)}}return!1}function eE(i,n,a){n=un(a,n),n=jm(i.stateNode,n,2),i=Fa(i,n,2),i!==null&&(pu(i,2),ns(i))}function ne(i,n,a){if(i.tag===3)eE(i,i,a);else for(;n!==null;){if(n.tag===3){eE(n,i,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ia===null||!Ia.has(l))){i=un(a,i),a=sS(2),l=Fa(n,a,2),l!==null&&(aS(a,l,n,i),pu(l,2),ns(l));break}}n=n.return}}function wy(i,n,a){var l=i.pingCache;if(l===null){l=i.pingCache=new eR;var f=new Set;l.set(n,f)}else f=l.get(n),f===void 0&&(f=new Set,l.set(n,f));f.has(a)||(fy=!0,f.add(a),i=oR.bind(null,i,n,a),n.then(i,i))}function oR(i,n,a){var l=i.pingCache;l!==null&&l.delete(n),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,ae===i&&(Gt&a)===a&&(ve===4||ve===3&&(Gt&62914560)===Gt&&300>rn()-my?(fe&2)===0&&Il(i,0):py|=a,jl===Gt&&(jl=0)),ns(i)}function iE(i,n){n===0&&(n=r0()),i=Ca(i,n),i!==null&&(pu(i,n),ns(i))}function lR(i){var n=i.memoizedState,a=0;n!==null&&(a=n.retryLane),iE(i,a)}function cR(i,n){var a=0;switch(i.tag){case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),iE(i,a)}function uR(i,n){return hu(i,n)}var Wf=null,Vl=null,Ty=!1,Qf=!1,xy=!1,Wr=0;function ns(i){i!==Vl&&i.next===null&&(Vl===null?Wf=Vl=i:Vl=Vl.next=i),Qf=!0,Ty||(Ty=!0,dR(hR))}function Qu(i,n){if(!xy&&Qf){xy=!0;do for(var a=!1,l=Wf;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var y=0;else{var A=l.suspendedLanes,R=l.pingedLanes;y=(1<<31-Bi(42|i)+1)-1,y&=f&~(A&~R),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(a=!0,aE(l,y))}else y=Gt,y=rf(l,l===ae?y:0),(y&3)===0||fu(l,y)||(a=!0,aE(l,y));l=l.next}while(a);xy=!1}}function hR(){Qf=Ty=!1;var i=0;Wr!==0&&(AR()&&(i=Wr),Wr=0);for(var n=rn(),a=null,l=Wf;l!==null;){var f=l.next,y=nE(l,n);y===0?(l.next=null,a===null?Wf=f:a.next=f,f===null&&(Vl=a)):(a=l,(i!==0||(y&3)!==0)&&(Qf=!0)),l=f}Qu(i)}function nE(i,n){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var A=31-Bi(y),R=1<<A,D=f[A];D===-1?((R&a)===0||(R&l)!==0)&&(f[A]=HT(R,n)):D<=n&&(i.expiredLanes|=R),y&=~R}if(n=ae,a=Gt,a=rf(i,i===n?a:0),l=i.callbackNode,a===0||i===n&&re===2||i.cancelPendingCommit!==null)return l!==null&&l!==null&&wa(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||fu(i,a)){if(n=a&-a,n===i.callbackPriority)return n;switch(l!==null&&wa(l),c0(a)){case 2:case 8:a=ws;break;case 32:a=Ts;break;case 268435456:a=pl;break;default:a=Ts}return l=sE.bind(null,i),a=hu(a,l),i.callbackPriority=n,i.callbackNode=a,n}return l!==null&&l!==null&&wa(l),i.callbackPriority=2,i.callbackNode=null,2}function sE(i,n){var a=i.callbackNode;if(Gl()&&i.callbackNode!==a)return null;var l=Gt;return l=rf(i,i===ae?l:0),l===0?null:(VS(i,l,n),nE(i,rn()),i.callbackNode!=null&&i.callbackNode===a?sE.bind(null,i):null)}function aE(i,n){if(Gl())return null;VS(i,n,!0)}function dR(i){ER(function(){(fe&6)!==0?hu(nf,i):i()})}function Ry(){return Wr===0&&(Wr=a0()),Wr}function rE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:hf(""+i)}function oE(i,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,i.id&&a.setAttribute("form",i.id),n.parentNode.insertBefore(a,n),i=new FormData(i),a.parentNode.removeChild(a),i}function fR(i,n,a,l,f){if(n==="submit"&&a&&a.stateNode===f){var y=rE((f[Ci]||null).action),A=l.submitter;A&&(n=(n=A[Ci]||null)?rE(n.formAction):A.getAttribute("formAction"),n!==null&&(y=n,A=null));var R=new gf("action","action",null,l,f);i.push({event:R,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Wr!==0){var D=A?oE(f,A):new FormData(f);Fm(a,{pending:!0,data:D,method:f.method,action:y},null,D)}}else typeof y=="function"&&(R.preventDefault(),D=A?oE(f,A):new FormData(f),Fm(a,{pending:!0,data:D,method:f.method,action:y},y,D))},currentTarget:f}]})}}for(var Cy=0;Cy<J0.length;Cy++){var My=J0[Cy],pR=My.toLowerCase(),gR=My[0].toUpperCase()+My.slice(1);Dn(pR,"on"+gR)}Dn(K0,"onAnimationEnd"),Dn($0,"onAnimationIteration"),Dn(W0,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(Ox,"onTransitionRun"),Dn(Nx,"onTransitionStart"),Dn(kx,"onTransitionCancel"),Dn(Q0,"onTransitionEnd"),bl("onMouseEnter",["mouseout","mouseover"]),bl("onMouseLeave",["mouseout","mouseover"]),bl("onPointerEnter",["pointerout","pointerover"]),bl("onPointerLeave",["pointerout","pointerover"]),Lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Lr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zu));function lE(i,n){n=(n&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;t:{var y=void 0;if(n)for(var A=l.length-1;0<=A;A--){var R=l[A],D=R.instance,P=R.currentTarget;if(R=R.listener,D!==y&&f.isPropagationStopped())break t;y=R,f.currentTarget=P;try{y(f)}catch(X){Hf(X)}f.currentTarget=null,y=D}else for(A=0;A<l.length;A++){if(R=l[A],D=R.instance,P=R.currentTarget,R=R.listener,D!==y&&f.isPropagationStopped())break t;y=R,f.currentTarget=P;try{y(f)}catch(X){Hf(X)}f.currentTarget=null,y=D}}}}function It(i,n){var a=n[Vg];a===void 0&&(a=n[Vg]=new Set);var l=i+"__bubble";a.has(l)||(cE(n,i,2,!1),a.add(l))}function Dy(i,n,a){var l=0;n&&(l|=4),cE(a,i,l,n)}var Zf="_reactListening"+Math.random().toString(36).slice(2);function Ly(i){if(!i[Zf]){i[Zf]=!0,d0.forEach(function(a){a!=="selectionchange"&&(mR.has(a)||Dy(a,!1,i),Dy(a,!0,i))});var n=i.nodeType===9?i:i.ownerDocument;n===null||n[Zf]||(n[Zf]=!0,Dy("selectionchange",!1,n))}}function cE(i,n,a,l){switch(OE(n)){case 2:var f=IR;break;case 8:f=qR;break;default:f=Gy}a=f.bind(null,n,a,i),f=void 0,!Jg||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(n,a,{capture:!0,passive:f}):i.addEventListener(n,a,!0):f!==void 0?i.addEventListener(n,a,{passive:f}):i.addEventListener(n,a,!1)}function Oy(i,n,a,l,f){var y=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var A=l.tag;if(A===3||A===4){var R=l.stateNode.containerInfo;if(R===f||R.nodeType===8&&R.parentNode===f)break;if(A===4)for(A=l.return;A!==null;){var D=A.tag;if((D===3||D===4)&&(D=A.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;A=A.return}for(;R!==null;){if(A=Dr(R),A===null)return;if(D=A.tag,D===5||D===6||D===26||D===27){l=y=A;continue t}R=R.parentNode}}l=l.return}w0(function(){var P=y,X=Qg(a),J=[];t:{var j=Z0.get(i);if(j!==void 0){var G=gf,ft=i;switch(i){case"keypress":if(ff(a)===0)break t;case"keydown":case"keyup":G=cx;break;case"focusin":ft="focus",G=nm;break;case"focusout":ft="blur",G=nm;break;case"beforeblur":case"afterblur":G=nm;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=R0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=QT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=dx;break;case K0:case $0:case W0:G=tx;break;case Q0:G=px;break;case"scroll":case"scrollend":G=$T;break;case"wheel":G=mx;break;case"copy":case"cut":case"paste":G=ix;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=M0;break;case"toggle":case"beforetoggle":G=bx}var xt=(n&4)!==0,Ae=!xt&&(i==="scroll"||i==="scrollend"),H=xt?j!==null?j+"Capture":null:j;xt=[];for(var k=P,U;k!==null;){var $=k;if(U=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||U===null||H===null||($=yu(k,H),$!=null&&xt.push(Ju(k,$,U))),Ae)break;k=k.return}0<xt.length&&(j=new G(j,ft,null,a,X),J.push({event:j,listeners:xt}))}}if((n&7)===0){t:{if(j=i==="mouseover"||i==="pointerover",G=i==="mouseout"||i==="pointerout",j&&a!==Wg&&(ft=a.relatedTarget||a.fromElement)&&(Dr(ft)||ft[gl]))break t;if((G||j)&&(j=X.window===X?X:(j=X.ownerDocument)?j.defaultView||j.parentWindow:window,G?(ft=a.relatedTarget||a.toElement,G=P,ft=ft?Dr(ft):null,ft!==null&&(Ae=tt(ft),xt=ft.tag,ft!==Ae||xt!==5&&xt!==27&&xt!==6)&&(ft=null)):(G=null,ft=P),G!==ft)){if(xt=R0,$="onMouseLeave",H="onMouseEnter",k="mouse",(i==="pointerout"||i==="pointerover")&&(xt=M0,$="onPointerLeave",H="onPointerEnter",k="pointer"),Ae=G==null?j:mu(G),U=ft==null?j:mu(ft),j=new xt($,k+"leave",G,a,X),j.target=Ae,j.relatedTarget=U,$=null,Dr(X)===P&&(xt=new xt(H,k+"enter",ft,a,X),xt.target=U,xt.relatedTarget=Ae,$=xt),Ae=$,G&&ft)e:{for(xt=G,H=ft,k=0,U=xt;U;U=Xl(U))k++;for(U=0,$=H;$;$=Xl($))U++;for(;0<k-U;)xt=Xl(xt),k--;for(;0<U-k;)H=Xl(H),U--;for(;k--;){if(xt===H||H!==null&&xt===H.alternate)break e;xt=Xl(xt),H=Xl(H)}xt=null}else xt=null;G!==null&&uE(J,j,G,xt,!1),ft!==null&&Ae!==null&&uE(J,Ae,ft,xt,!0)}}t:{if(j=P?mu(P):window,G=j.nodeName&&j.nodeName.toLowerCase(),G==="select"||G==="input"&&j.type==="file")var ut=H0;else if(P0(j))if(z0)ut=Cx;else{ut=xx;var Ht=Tx}else G=j.nodeName,!G||G.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?P&&$g(P.elementType)&&(ut=H0):ut=Rx;if(ut&&(ut=ut(i,P))){F0(J,ut,a,X);break t}Ht&&Ht(i,j,P),i==="focusout"&&P&&j.type==="number"&&P.memoizedProps.value!=null&&Kg(j,"number",j.value)}switch(Ht=P?mu(P):window,i){case"focusin":(P0(Ht)||Ht.contentEditable==="true")&&(wl=Ht,cm=P,Tu=null);break;case"focusout":Tu=cm=wl=null;break;case"mousedown":um=!0;break;case"contextmenu":case"mouseup":case"dragend":um=!1,X0(J,a,X);break;case"selectionchange":if(Lx)break;case"keydown":case"keyup":X0(J,a,X)}var yt;if(am)t:{switch(i){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else _l?N0(i,a)&&(vt="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(D0&&a.locale!=="ko"&&(_l||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&_l&&(yt=T0()):(Ra=X,tm="value"in Ra?Ra.value:Ra.textContent,_l=!0)),Ht=Jf(P,vt),0<Ht.length&&(vt=new C0(vt,i,null,a,X),J.push({event:vt,listeners:Ht}),yt?vt.data=yt:(yt=k0(a),yt!==null&&(vt.data=yt)))),(yt=Ax?Sx(i,a):Ex(i,a))&&(vt=Jf(P,"onBeforeInput"),0<vt.length&&(Ht=new C0("onBeforeInput","beforeinput",null,a,X),J.push({event:Ht,listeners:vt}),Ht.data=yt)),fR(J,i,P,a,X)}lE(J,n)})}function Ju(i,n,a){return{instance:i,listener:n,currentTarget:a}}function Jf(i,n){for(var a=n+"Capture",l=[];i!==null;){var f=i,y=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||y===null||(f=yu(i,a),f!=null&&l.unshift(Ju(i,f,y)),f=yu(i,n),f!=null&&l.push(Ju(i,f,y))),i=i.return}return l}function Xl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function uE(i,n,a,l,f){for(var y=n._reactName,A=[];a!==null&&a!==l;){var R=a,D=R.alternate,P=R.stateNode;if(R=R.tag,D!==null&&D===l)break;R!==5&&R!==26&&R!==27||P===null||(D=P,f?(P=yu(a,y),P!=null&&A.unshift(Ju(a,P,D))):f||(P=yu(a,y),P!=null&&A.push(Ju(a,P,D)))),a=a.return}A.length!==0&&i.push({event:n,listeners:A})}var yR=/\r\n?/g,bR=/\u0000|\uFFFD/g;function hE(i){return(typeof i=="string"?i:""+i).replace(yR,`
`).replace(bR,"")}function dE(i,n){return n=hE(n),hE(i)===n}function tp(){}function te(i,n,a,l,f,y){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Al(i,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Al(i,""+l);break;case"className":lf(i,"class",l);break;case"tabIndex":lf(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":lf(i,a,l);break;case"style":E0(i,l,y);break;case"data":if(n!=="object"){lf(i,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=hf(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(n!=="input"&&te(i,n,"name",f.name,f,null),te(i,n,"formEncType",f.formEncType,f,null),te(i,n,"formMethod",f.formMethod,f,null),te(i,n,"formTarget",f.formTarget,f,null)):(te(i,n,"encType",f.encType,f,null),te(i,n,"method",f.method,f,null),te(i,n,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=hf(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=tp);break;case"onScroll":l!=null&&It("scroll",i);break;case"onScrollEnd":l!=null&&It("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=hf(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":It("beforetoggle",i),It("toggle",i),of(i,"popover",l);break;case"xlinkActuate":Rs(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rs(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rs(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rs(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rs(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rs(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rs(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rs(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rs(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":of(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=YT.get(a)||a,of(i,a,l))}}function Ny(i,n,a,l,f,y){switch(a){case"style":E0(i,l,y);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof l=="string"?Al(i,l):(typeof l=="number"||typeof l=="bigint")&&Al(i,""+l);break;case"onScroll":l!=null&&It("scroll",i);break;case"onScrollEnd":l!=null&&It("scrollend",i);break;case"onClick":l!=null&&(i.onclick=tp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!f0.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),n=a.slice(2,f?a.length-7:void 0),y=i[Ci]||null,y=y!=null?y[a]:null,typeof y=="function"&&i.removeEventListener(n,y,f),typeof l=="function")){typeof y!="function"&&y!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(n,l,f);break t}a in i?i[a]=l:l===!0?i.setAttribute(a,""):of(i,a,l)}}}function ti(i,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",i),It("load",i);var l=!1,f=!1,y;for(y in a)if(a.hasOwnProperty(y)){var A=a[y];if(A!=null)switch(y){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:te(i,n,y,A,a,null)}}f&&te(i,n,"srcSet",a.srcSet,a,null),l&&te(i,n,"src",a.src,a,null);return;case"input":It("invalid",i);var R=y=A=f=null,D=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":A=X;break;case"checked":D=X;break;case"defaultChecked":P=X;break;case"value":y=X;break;case"defaultValue":R=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,n));break;default:te(i,n,l,X,a,null)}}b0(i,y,R,D,P,A,f,!1),cf(i);return;case"select":It("invalid",i),l=A=y=null;for(f in a)if(a.hasOwnProperty(f)&&(R=a[f],R!=null))switch(f){case"value":y=R;break;case"defaultValue":A=R;break;case"multiple":l=R;default:te(i,n,f,R,a,null)}n=y,a=A,i.multiple=!!l,n!=null?vl(i,!!l,n,!1):a!=null&&vl(i,!!l,a,!0);return;case"textarea":It("invalid",i),y=f=l=null;for(A in a)if(a.hasOwnProperty(A)&&(R=a[A],R!=null))switch(A){case"value":l=R;break;case"defaultValue":f=R;break;case"children":y=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(s(91));break;default:te(i,n,A,R,a,null)}A0(i,l,f,y),cf(i);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(i,n,D,l,a,null)}return;case"dialog":It("cancel",i),It("close",i);break;case"iframe":case"object":It("load",i);break;case"video":case"audio":for(l=0;l<Zu.length;l++)It(Zu[l],i);break;case"image":It("error",i),It("load",i);break;case"details":It("toggle",i);break;case"embed":case"source":case"link":It("error",i),It("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:te(i,n,P,l,a,null)}return;default:if($g(n)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Ny(i,n,X,l,a,void 0));return}}for(R in a)a.hasOwnProperty(R)&&(l=a[R],l!=null&&te(i,n,R,l,a,null))}function vR(i,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,y=null,A=null,R=null,D=null,P=null,X=null;for(G in a){var J=a[G];if(a.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":D=J;default:l.hasOwnProperty(G)||te(i,n,G,null,l,J)}}for(var j in l){var G=l[j];if(J=a[j],l.hasOwnProperty(j)&&(G!=null||J!=null))switch(j){case"type":y=G;break;case"name":f=G;break;case"checked":P=G;break;case"defaultChecked":X=G;break;case"value":A=G;break;case"defaultValue":R=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:G!==J&&te(i,n,j,G,l,J)}}Yg(i,A,R,D,P,X,y,f);return;case"select":G=A=R=j=null;for(y in a)if(D=a[y],a.hasOwnProperty(y)&&D!=null)switch(y){case"value":break;case"multiple":G=D;default:l.hasOwnProperty(y)||te(i,n,y,null,l,D)}for(f in l)if(y=l[f],D=a[f],l.hasOwnProperty(f)&&(y!=null||D!=null))switch(f){case"value":j=y;break;case"defaultValue":R=y;break;case"multiple":A=y;default:y!==D&&te(i,n,f,y,l,D)}n=R,a=A,l=G,j!=null?vl(i,!!a,j,!1):!!l!=!!a&&(n!=null?vl(i,!!a,n,!0):vl(i,!!a,a?[]:"",!1));return;case"textarea":G=j=null;for(R in a)if(f=a[R],a.hasOwnProperty(R)&&f!=null&&!l.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:te(i,n,R,null,l,f)}for(A in l)if(f=l[A],y=a[A],l.hasOwnProperty(A)&&(f!=null||y!=null))switch(A){case"value":j=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==y&&te(i,n,A,f,l,y)}v0(i,j,G);return;case"option":for(var ft in a)if(j=a[ft],a.hasOwnProperty(ft)&&j!=null&&!l.hasOwnProperty(ft))switch(ft){case"selected":i.selected=!1;break;default:te(i,n,ft,null,l,j)}for(D in l)if(j=l[D],G=a[D],l.hasOwnProperty(D)&&j!==G&&(j!=null||G!=null))switch(D){case"selected":i.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:te(i,n,D,j,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xt in a)j=a[xt],a.hasOwnProperty(xt)&&j!=null&&!l.hasOwnProperty(xt)&&te(i,n,xt,null,l,j);for(P in l)if(j=l[P],G=a[P],l.hasOwnProperty(P)&&j!==G&&(j!=null||G!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:te(i,n,P,j,l,G)}return;default:if($g(n)){for(var Ae in a)j=a[Ae],a.hasOwnProperty(Ae)&&j!==void 0&&!l.hasOwnProperty(Ae)&&Ny(i,n,Ae,void 0,l,j);for(X in l)j=l[X],G=a[X],!l.hasOwnProperty(X)||j===G||j===void 0&&G===void 0||Ny(i,n,X,j,l,G);return}}for(var H in a)j=a[H],a.hasOwnProperty(H)&&j!=null&&!l.hasOwnProperty(H)&&te(i,n,H,null,l,j);for(J in l)j=l[J],G=a[J],!l.hasOwnProperty(J)||j===G||j==null&&G==null||te(i,n,J,j,l,G)}var ky=null,Py=null;function ep(i){return i.nodeType===9?i:i.ownerDocument}function fE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pE(i,n){if(i===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&n==="foreignObject"?0:i}function Fy(i,n){return i==="textarea"||i==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Hy=null;function AR(){var i=window.event;return i&&i.type==="popstate"?i===Hy?!1:(Hy=i,!0):(Hy=null,!1)}var gE=typeof setTimeout=="function"?setTimeout:void 0,SR=typeof clearTimeout=="function"?clearTimeout:void 0,mE=typeof Promise=="function"?Promise:void 0,ER=typeof queueMicrotask=="function"?queueMicrotask:typeof mE<"u"?function(i){return mE.resolve(null).then(i).catch(_R)}:gE;function _R(i){setTimeout(function(){throw i})}function zy(i,n){var a=n,l=0;do{var f=a.nextSibling;if(i.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(l===0){i.removeChild(f),oh(n);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=f}while(a);oh(n)}function Uy(i){var n=i.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Uy(a),Xg(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function wR(i,n,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[gu])switch(n){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==f.rel||i.getAttribute("href")!==(f.href==null?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(n==="input"&&i.type==="hidden"){var y=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Nn(i.nextSibling),i===null)break}return null}function TR(i,n,a){if(n==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Nn(i.nextSibling),i===null))return null;return i}function Nn(i){for(;i!=null;i=i.nextSibling){var n=i.nodeType;if(n===1||n===3)break;if(n===8){if(n=i.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return i}function yE(i){i=i.previousSibling;for(var n=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return i;n--}else a==="/$"&&n++}i=i.previousSibling}return null}function bE(i,n,a){switch(n=ep(a),i){case"html":if(i=n.documentElement,!i)throw Error(s(452));return i;case"head":if(i=n.head,!i)throw Error(s(453));return i;case"body":if(i=n.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}var bn=new Map,vE=new Set;function ip(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Is=it.d;it.d={f:xR,r:RR,D:CR,C:MR,L:DR,m:LR,X:NR,S:OR,M:kR};function xR(){var i=Is.f(),n=Kf();return i||n}function RR(i){var n=ml(i);n!==null&&n.tag===5&&n.type==="form"?XA(n):Is.r(i)}var Yl=typeof document>"u"?null:document;function AE(i,n,a){var l=Yl;if(l&&typeof n=="string"&&n){var f=ln(n);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),vE.has(f)||(vE.add(f),i={rel:i,crossOrigin:a,href:n},l.querySelector(f)===null&&(n=l.createElement("link"),ti(n,"link",i),Ie(n),l.head.appendChild(n)))}}function CR(i){Is.D(i),AE("dns-prefetch",i,null)}function MR(i,n){Is.C(i,n),AE("preconnect",i,n)}function DR(i,n,a){Is.L(i,n,a);var l=Yl;if(l&&i&&n){var f='link[rel="preload"][as="'+ln(n)+'"]';n==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ln(a.imageSizes)+'"]')):f+='[href="'+ln(i)+'"]';var y=f;switch(n){case"style":y=Kl(i);break;case"script":y=$l(i)}bn.has(y)||(i=et({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:i,as:n},a),bn.set(y,i),l.querySelector(f)!==null||n==="style"&&l.querySelector(th(y))||n==="script"&&l.querySelector(eh(y))||(n=l.createElement("link"),ti(n,"link",i),Ie(n),l.head.appendChild(n)))}}function LR(i,n){Is.m(i,n);var a=Yl;if(a&&i){var l=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(i)+'"]',y=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=$l(i)}if(!bn.has(y)&&(i=et({rel:"modulepreload",href:i},n),bn.set(y,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(eh(y)))return}l=a.createElement("link"),ti(l,"link",i),Ie(l),a.head.appendChild(l)}}}function OR(i,n,a){Is.S(i,n,a);var l=Yl;if(l&&i){var f=yl(l).hoistableStyles,y=Kl(i);n=n||"default";var A=f.get(y);if(!A){var R={loading:0,preload:null};if(A=l.querySelector(th(y)))R.loading=5;else{i=et({rel:"stylesheet",href:i,"data-precedence":n},a),(a=bn.get(y))&&By(i,a);var D=A=l.createElement("link");Ie(D),ti(D,"link",i),D._p=new Promise(function(P,X){D.onload=P,D.onerror=X}),D.addEventListener("load",function(){R.loading|=1}),D.addEventListener("error",function(){R.loading|=2}),R.loading|=4,np(A,n,l)}A={type:"stylesheet",instance:A,count:1,state:R},f.set(y,A)}}}function NR(i,n){Is.X(i,n);var a=Yl;if(a&&i){var l=yl(a).hoistableScripts,f=$l(i),y=l.get(f);y||(y=a.querySelector(eh(f)),y||(i=et({src:i,async:!0},n),(n=bn.get(f))&&jy(i,n),y=a.createElement("script"),Ie(y),ti(y,"link",i),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},l.set(f,y))}}function kR(i,n){Is.M(i,n);var a=Yl;if(a&&i){var l=yl(a).hoistableScripts,f=$l(i),y=l.get(f);y||(y=a.querySelector(eh(f)),y||(i=et({src:i,async:!0,type:"module"},n),(n=bn.get(f))&&jy(i,n),y=a.createElement("script"),Ie(y),ti(y,"link",i),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},l.set(f,y))}}function SE(i,n,a,l){var f=(f=jt.current)?ip(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Kl(a.href),a=yl(f).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Kl(a.href);var y=yl(f).hoistableStyles,A=y.get(i);if(A||(f=f.ownerDocument||f,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,A),(y=f.querySelector(th(i)))&&!y._p&&(A.instance=y,A.state.loading=5),bn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},bn.set(i,a),y||PR(f,i,a,A.state))),n&&l===null)throw Error(s(528,""));return A}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=$l(a),a=yl(f).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Kl(i){return'href="'+ln(i)+'"'}function th(i){return'link[rel="stylesheet"]['+i+"]"}function EE(i){return et({},i,{"data-precedence":i.precedence,precedence:null})}function PR(i,n,a,l){i.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=i.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ti(n,"link",a),Ie(n),i.head.appendChild(n))}function $l(i){return'[src="'+ln(i)+'"]'}function eh(i){return"script[async]"+i}function _E(i,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=i.querySelector('style[data-href~="'+ln(a.href)+'"]');if(l)return n.instance=l,Ie(l),l;var f=et({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),Ie(l),ti(l,"style",f),np(l,a.precedence,i),n.instance=l;case"stylesheet":f=Kl(a.href);var y=i.querySelector(th(f));if(y)return n.state.loading|=4,n.instance=y,Ie(y),y;l=EE(a),(f=bn.get(f))&&By(l,f),y=(i.ownerDocument||i).createElement("link"),Ie(y);var A=y;return A._p=new Promise(function(R,D){A.onload=R,A.onerror=D}),ti(y,"link",l),n.state.loading|=4,np(y,a.precedence,i),n.instance=y;case"script":return y=$l(a.src),(f=i.querySelector(eh(y)))?(n.instance=f,Ie(f),f):(l=a,(f=bn.get(y))&&(l=et({},a),jy(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),Ie(f),ti(f,"link",l),i.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,np(l,a.precedence,i));return n.instance}function np(i,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,y=f,A=0;A<l.length;A++){var R=l[A];if(R.dataset.precedence===n)y=R;else if(y!==f)break}y?y.parentNode.insertBefore(i,y.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(i,n.firstChild))}function By(i,n){i.crossOrigin==null&&(i.crossOrigin=n.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=n.referrerPolicy),i.title==null&&(i.title=n.title)}function jy(i,n){i.crossOrigin==null&&(i.crossOrigin=n.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=n.referrerPolicy),i.integrity==null&&(i.integrity=n.integrity)}var sp=null;function wE(i,n,a){if(sp===null){var l=new Map,f=sp=new Map;f.set(a,l)}else f=sp,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var y=a[f];if(!(y[gu]||y[oi]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var A=y.getAttribute(n)||"";A=i+A;var R=l.get(A);R?R.push(y):l.set(A,[y])}}return l}function TE(i,n,a){i=i.ownerDocument||i,i.head.insertBefore(a,n==="title"?i.querySelector("head > title"):null)}function FR(i,n,a){if(a===1||n.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return i=n.disabled,typeof n.precedence=="string"&&i==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function xE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var ih=null;function HR(){}function zR(i,n,a){if(ih===null)throw Error(s(475));var l=ih;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=Kl(a.href),y=i.querySelector(th(f));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(l.count++,l=ap.bind(l),i.then(l,l)),n.state.loading|=4,n.instance=y,Ie(y);return}y=i.ownerDocument||i,a=EE(a),(f=bn.get(f))&&By(a,f),y=y.createElement("link"),Ie(y);var A=y;A._p=new Promise(function(R,D){A.onload=R,A.onerror=D}),ti(y,"link",a),n.instance=y}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,i),(i=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=ap.bind(l),i.addEventListener("load",n),i.addEventListener("error",n))}}function UR(){if(ih===null)throw Error(s(475));var i=ih;return i.stylesheets&&i.count===0&&Iy(i,i.stylesheets),0<i.count?function(n){var a=setTimeout(function(){if(i.stylesheets&&Iy(i,i.stylesheets),i.unsuspend){var l=i.unsuspend;i.unsuspend=null,l()}},6e4);return i.unsuspend=n,function(){i.unsuspend=null,clearTimeout(a)}}:null}function ap(){if(this.count--,this.count===0){if(this.stylesheets)Iy(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var rp=null;function Iy(i,n){i.stylesheets=null,i.unsuspend!==null&&(i.count++,rp=new Map,n.forEach(BR,i),rp=null,ap.call(i))}function BR(i,n){if(!(n.state.loading&4)){var a=rp.get(i);if(a)var l=a.get(null);else{a=new Map,rp.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<f.length;y++){var A=f[y];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(a.set(A.dataset.precedence,A),l=A)}l&&a.set(null,l)}f=n.instance,A=f.getAttribute("data-precedence"),y=a.get(A)||l,y===l&&a.set(null,f),a.set(A,f),this.count++,l=ap.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),y?y.parentNode.insertBefore(f,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),n.state.loading|=4}}var nh={$$typeof:S,Provider:null,Consumer:null,_currentValue:Et,_currentValue2:Et,_threadCount:0};function jR(i,n,a,l,f,y,A,R){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gg(0),this.hiddenUpdates=Gg(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=y,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function RE(i,n,a,l,f,y,A,R,D,P,X,J){return i=new jR(i,n,a,A,R,D,P,J),n=1,y===!0&&(n|=24),y=mn(3,null,null,n),i.current=y,y.stateNode=i,n=Am(),n.refCount++,i.pooledCache=n,n.refCount++,y.memoizedState={element:l,isDehydrated:a,cache:n},ty(y),i}function CE(i){return i?(i=Rl,i):Rl}function ME(i,n,a,l,f,y){f=CE(f),l.context===null?l.context=f:l.pendingContext=f,l=Pa(n),l.payload={element:a},y=y===void 0?null:y,y!==null&&(l.callback=y),a=Fa(i,l,n),a!==null&&(Ai(a,i,n),Bu(a,i,n))}function DE(i,n){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<n?a:n}}function qy(i,n){DE(i,n),(i=i.alternate)&&DE(i,n)}function LE(i){if(i.tag===13){var n=Ca(i,67108864);n!==null&&Ai(n,i,67108864),qy(i,67108864)}}var op=!0;function IR(i,n,a,l){var f=q.T;q.T=null;var y=it.p;try{it.p=2,Gy(i,n,a,l)}finally{it.p=y,q.T=f}}function qR(i,n,a,l){var f=q.T;q.T=null;var y=it.p;try{it.p=8,Gy(i,n,a,l)}finally{it.p=y,q.T=f}}function Gy(i,n,a,l){if(op){var f=Vy(l);if(f===null)Oy(i,n,l,lp,a),NE(i,l);else if(VR(f,i,n,a,l))l.stopPropagation();else if(NE(i,l),n&4&&-1<GR.indexOf(i)){for(;f!==null;){var y=ml(f);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var A=Mr(y.pendingLanes);if(A!==0){var R=y;for(R.pendingLanes|=2,R.entangledLanes|=2;A;){var D=1<<31-Bi(A);R.entanglements[1]|=D,A&=~D}ns(y),(fe&6)===0&&(Vf=rn()+500,Qu(0))}}break;case 13:R=Ca(y,2),R!==null&&Ai(R,y,2),Kf(),qy(y,2)}if(y=Vy(l),y===null&&Oy(i,n,l,lp,a),y===f)break;f=y}f!==null&&l.stopPropagation()}else Oy(i,n,l,null,a)}}function Vy(i){return i=Qg(i),Xy(i)}var lp=null;function Xy(i){if(lp=null,i=Dr(i),i!==null){var n=tt(i);if(n===null)i=null;else{var a=n.tag;if(a===13){if(i=Ct(n),i!==null)return i;i=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;i=null}else n!==i&&(i=null)}}return lp=i,null}function OE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qg()){case nf:return 2;case ws:return 8;case Ts:case fl:return 32;case pl:return 268435456;default:return 32}default:return 32}}var Yy=!1,qa=null,Ga=null,Va=null,sh=new Map,ah=new Map,Xa=[],GR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function NE(i,n){switch(i){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":Ga=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":sh.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ah.delete(n.pointerId)}}function rh(i,n,a,l,f,y){return i===null||i.nativeEvent!==y?(i={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:y,targetContainers:[f]},n!==null&&(n=ml(n),n!==null&&LE(n)),i):(i.eventSystemFlags|=l,n=i.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),i)}function VR(i,n,a,l,f){switch(n){case"focusin":return qa=rh(qa,i,n,a,l,f),!0;case"dragenter":return Ga=rh(Ga,i,n,a,l,f),!0;case"mouseover":return Va=rh(Va,i,n,a,l,f),!0;case"pointerover":var y=f.pointerId;return sh.set(y,rh(sh.get(y)||null,i,n,a,l,f)),!0;case"gotpointercapture":return y=f.pointerId,ah.set(y,rh(ah.get(y)||null,i,n,a,l,f)),!0}return!1}function kE(i){var n=Dr(i.target);if(n!==null){var a=tt(n);if(a!==null){if(n=a.tag,n===13){if(n=Ct(a),n!==null){i.blockedOn=n,UT(i.priority,function(){if(a.tag===13){var l=Vi(),f=Ca(a,l);f!==null&&Ai(f,a,l),qy(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function cp(i){if(i.blockedOn!==null)return!1;for(var n=i.targetContainers;0<n.length;){var a=Vy(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);Wg=l,a.target.dispatchEvent(l),Wg=null}else return n=ml(a),n!==null&&LE(n),i.blockedOn=a,!1;n.shift()}return!0}function PE(i,n,a){cp(i)&&a.delete(n)}function XR(){Yy=!1,qa!==null&&cp(qa)&&(qa=null),Ga!==null&&cp(Ga)&&(Ga=null),Va!==null&&cp(Va)&&(Va=null),sh.forEach(PE),ah.forEach(PE)}function up(i,n){i.blockedOn===n&&(i.blockedOn=null,Yy||(Yy=!0,h.unstable_scheduleCallback(h.unstable_NormalPriority,XR)))}var hp=null;function FE(i){hp!==i&&(hp=i,h.unstable_scheduleCallback(h.unstable_NormalPriority,function(){hp===i&&(hp=null);for(var n=0;n<i.length;n+=3){var a=i[n],l=i[n+1],f=i[n+2];if(typeof l!="function"){if(Xy(l||a)===null)continue;break}var y=ml(a);y!==null&&(i.splice(n,3),n-=3,Fm(y,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function oh(i){function n(D){return up(D,i)}qa!==null&&up(qa,i),Ga!==null&&up(Ga,i),Va!==null&&up(Va,i),sh.forEach(n),ah.forEach(n);for(var a=0;a<Xa.length;a++){var l=Xa[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<Xa.length&&(a=Xa[0],a.blockedOn===null);)kE(a),a.blockedOn===null&&Xa.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],y=a[l+1],A=f[Ci]||null;if(typeof y=="function")A||FE(a);else if(A){var R=null;if(y&&y.hasAttribute("formAction")){if(f=y,A=y[Ci]||null)R=A.formAction;else if(Xy(f)!==null)continue}else R=A.action;typeof R=="function"?a[l+1]=R:(a.splice(l,3),l-=3),FE(a)}}}function Ky(i){this._internalRoot=i}dp.prototype.render=Ky.prototype.render=function(i){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=Vi();ME(a,l,i,n,null,null)},dp.prototype.unmount=Ky.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var n=i.containerInfo;i.tag===0&&Gl(),ME(i.current,2,null,i,null,null),Kf(),n[gl]=null}};function dp(i){this._internalRoot=i}dp.prototype.unstable_scheduleHydration=function(i){if(i){var n=u0();i={blockedOn:null,target:i,priority:n};for(var a=0;a<Xa.length&&n!==0&&n<Xa[a].priority;a++);Xa.splice(a,0,i),a===0&&kE(i)}};var HE=t.version;if(HE!=="19.0.0")throw Error(s(527,HE,"19.0.0"));it.findDOMNode=function(i){var n=i._reactInternals;if(n===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=W(n),i=i!==null?lt(i):null,i=i===null?null:i.stateNode,i};var YR={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:q,findFiberByHostInstance:Dr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fp.isDisabled&&fp.supportsFiber)try{du=fp.inject(YR),Ui=fp}catch{}}return ch.createRoot=function(i,n){if(!r(i))throw Error(s(299));var a=!1,l="",f=tS,y=eS,A=iS,R=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(A=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(R=n.unstable_transitionCallbacks)),n=RE(i,1,!1,null,null,a,l,f,y,A,R,null),i[gl]=n.current,Ly(i.nodeType===8?i.parentNode:i),new Ky(n)},ch.hydrateRoot=function(i,n,a){if(!r(i))throw Error(s(299));var l=!1,f="",y=tS,A=eS,R=iS,D=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(A=a.onCaughtError),a.onRecoverableError!==void 0&&(R=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),n=RE(i,1,!0,n,a??null,l,f,y,A,R,D,P),n.context=CE(null),a=n.current,l=Vi(),f=Pa(l),f.callback=null,Fa(a,f,l),n.current.lanes=l,pu(n,l),ns(n),i[gl]=n.current,Ly(i),new dp(n)},ch.version="19.0.0",ch}var KE;function rC(){if(KE)return Zy.exports;KE=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(t){console.error(t)}}return h(),Zy.exports=aC(),Zy.exports}var oC=rC();function B_(h,t){return function(){return h.apply(t,arguments)}}const{toString:lC}=Object.prototype,{getPrototypeOf:Uv}=Object,_g=(h=>t=>{const e=lC.call(t);return h[e]||(h[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),Wn=h=>(h=h.toLowerCase(),t=>_g(t)===h),wg=h=>t=>typeof t===h,{isArray:lu}=Array,Nh=wg("undefined");function cC(h){return h!==null&&!Nh(h)&&h.constructor!==null&&!Nh(h.constructor)&&sn(h.constructor.isBuffer)&&h.constructor.isBuffer(h)}const j_=Wn("ArrayBuffer");function uC(h){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(h):t=h&&h.buffer&&j_(h.buffer),t}const hC=wg("string"),sn=wg("function"),I_=wg("number"),Tg=h=>h!==null&&typeof h=="object",dC=h=>h===!0||h===!1,Ap=h=>{if(_g(h)!=="object")return!1;const t=Uv(h);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in h)&&!(Symbol.iterator in h)},fC=Wn("Date"),pC=Wn("File"),gC=Wn("Blob"),mC=Wn("FileList"),yC=h=>Tg(h)&&sn(h.pipe),bC=h=>{let t;return h&&(typeof FormData=="function"&&h instanceof FormData||sn(h.append)&&((t=_g(h))==="formdata"||t==="object"&&sn(h.toString)&&h.toString()==="[object FormData]"))},vC=Wn("URLSearchParams"),[AC,SC,EC,_C]=["ReadableStream","Request","Response","Headers"].map(Wn),wC=h=>h.trim?h.trim():h.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Wd(h,t,{allOwnKeys:e=!1}={}){if(h===null||typeof h>"u")return;let s,r;if(typeof h!="object"&&(h=[h]),lu(h))for(s=0,r=h.length;s<r;s++)t.call(null,h[s],s,h);else{const o=e?Object.getOwnPropertyNames(h):Object.keys(h),c=o.length;let d;for(s=0;s<c;s++)d=o[s],t.call(null,h[d],d,h)}}function q_(h,t){t=t.toLowerCase();const e=Object.keys(h);let s=e.length,r;for(;s-- >0;)if(r=e[s],t===r.toLowerCase())return r;return null}const so=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,G_=h=>!Nh(h)&&h!==so;function db(){const{caseless:h}=G_(this)&&this||{},t={},e=(s,r)=>{const o=h&&q_(t,r)||r;Ap(t[o])&&Ap(s)?t[o]=db(t[o],s):Ap(s)?t[o]=db({},s):lu(s)?t[o]=s.slice():t[o]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&Wd(arguments[s],e);return t}const TC=(h,t,e,{allOwnKeys:s}={})=>(Wd(t,(r,o)=>{e&&sn(r)?h[o]=B_(r,e):h[o]=r},{allOwnKeys:s}),h),xC=h=>(h.charCodeAt(0)===65279&&(h=h.slice(1)),h),RC=(h,t,e,s)=>{h.prototype=Object.create(t.prototype,s),h.prototype.constructor=h,Object.defineProperty(h,"super",{value:t.prototype}),e&&Object.assign(h.prototype,e)},CC=(h,t,e,s)=>{let r,o,c;const d={};if(t=t||{},h==null)return t;do{for(r=Object.getOwnPropertyNames(h),o=r.length;o-- >0;)c=r[o],(!s||s(c,h,t))&&!d[c]&&(t[c]=h[c],d[c]=!0);h=e!==!1&&Uv(h)}while(h&&(!e||e(h,t))&&h!==Object.prototype);return t},MC=(h,t,e)=>{h=String(h),(e===void 0||e>h.length)&&(e=h.length),e-=t.length;const s=h.indexOf(t,e);return s!==-1&&s===e},DC=h=>{if(!h)return null;if(lu(h))return h;let t=h.length;if(!I_(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=h[t];return e},LC=(h=>t=>h&&t instanceof h)(typeof Uint8Array<"u"&&Uv(Uint8Array)),OC=(h,t)=>{const s=(h&&h[Symbol.iterator]).call(h);let r;for(;(r=s.next())&&!r.done;){const o=r.value;t.call(h,o[0],o[1])}},NC=(h,t)=>{let e;const s=[];for(;(e=h.exec(t))!==null;)s.push(e);return s},kC=Wn("HTMLFormElement"),PC=h=>h.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,s,r){return s.toUpperCase()+r}),$E=(({hasOwnProperty:h})=>(t,e)=>h.call(t,e))(Object.prototype),FC=Wn("RegExp"),V_=(h,t)=>{const e=Object.getOwnPropertyDescriptors(h),s={};Wd(e,(r,o)=>{let c;(c=t(r,o,h))!==!1&&(s[o]=c||r)}),Object.defineProperties(h,s)},HC=h=>{V_(h,(t,e)=>{if(sn(h)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const s=h[e];if(sn(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},zC=(h,t)=>{const e={},s=r=>{r.forEach(o=>{e[o]=!0})};return lu(h)?s(h):s(String(h).split(t)),e},UC=()=>{},BC=(h,t)=>h!=null&&Number.isFinite(h=+h)?h:t;function jC(h){return!!(h&&sn(h.append)&&h[Symbol.toStringTag]==="FormData"&&h[Symbol.iterator])}const IC=h=>{const t=new Array(10),e=(s,r)=>{if(Tg(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[r]=s;const o=lu(s)?[]:{};return Wd(s,(c,d)=>{const p=e(c,r+1);!Nh(p)&&(o[d]=p)}),t[r]=void 0,o}}return s};return e(h,0)},qC=Wn("AsyncFunction"),GC=h=>h&&(Tg(h)||sn(h))&&sn(h.then)&&sn(h.catch),X_=((h,t)=>h?setImmediate:t?((e,s)=>(so.addEventListener("message",({source:r,data:o})=>{r===so&&o===e&&s.length&&s.shift()()},!1),r=>{s.push(r),so.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",sn(so.postMessage)),VC=typeof queueMicrotask<"u"?queueMicrotask.bind(so):typeof process<"u"&&process.nextTick||X_,I={isArray:lu,isArrayBuffer:j_,isBuffer:cC,isFormData:bC,isArrayBufferView:uC,isString:hC,isNumber:I_,isBoolean:dC,isObject:Tg,isPlainObject:Ap,isReadableStream:AC,isRequest:SC,isResponse:EC,isHeaders:_C,isUndefined:Nh,isDate:fC,isFile:pC,isBlob:gC,isRegExp:FC,isFunction:sn,isStream:yC,isURLSearchParams:vC,isTypedArray:LC,isFileList:mC,forEach:Wd,merge:db,extend:TC,trim:wC,stripBOM:xC,inherits:RC,toFlatObject:CC,kindOf:_g,kindOfTest:Wn,endsWith:MC,toArray:DC,forEachEntry:OC,matchAll:NC,isHTMLForm:kC,hasOwnProperty:$E,hasOwnProp:$E,reduceDescriptors:V_,freezeMethods:HC,toObjectSet:zC,toCamelCase:PC,noop:UC,toFiniteNumber:BC,findKey:q_,global:so,isContextDefined:G_,isSpecCompliantForm:jC,toJSONObject:IC,isAsyncFn:qC,isThenable:GC,setImmediate:X_,asap:VC};function Mt(h,t,e,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=h,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}I.inherits(Mt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}});const Y_=Mt.prototype,K_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(h=>{K_[h]={value:h}});Object.defineProperties(Mt,K_);Object.defineProperty(Y_,"isAxiosError",{value:!0});Mt.from=(h,t,e,s,r,o)=>{const c=Object.create(Y_);return I.toFlatObject(h,c,function(p){return p!==Error.prototype},d=>d!=="isAxiosError"),Mt.call(c,h.message,t,e,s,r),c.cause=h,c.name=h.name,o&&Object.assign(c,o),c};const XC=null;function fb(h){return I.isPlainObject(h)||I.isArray(h)}function $_(h){return I.endsWith(h,"[]")?h.slice(0,-2):h}function WE(h,t,e){return h?h.concat(t).map(function(r,o){return r=$_(r),!e&&o?"["+r+"]":r}).join(e?".":""):t}function YC(h){return I.isArray(h)&&!h.some(fb)}const KC=I.toFlatObject(I,{},null,function(t){return/^is[A-Z]/.test(t)});function xg(h,t,e){if(!I.isObject(h))throw new TypeError("target must be an object");t=t||new FormData,e=I.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,M){return!I.isUndefined(M[T])});const s=e.metaTokens,r=e.visitor||m,o=e.dots,c=e.indexes,p=(e.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(t);if(!I.isFunction(r))throw new TypeError("visitor must be a function");function g(E){if(E===null)return"";if(I.isDate(E))return E.toISOString();if(!p&&I.isBlob(E))throw new Mt("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(E)||I.isTypedArray(E)?p&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function m(E,T,M){let C=E;if(E&&!M&&typeof E=="object"){if(I.endsWith(T,"{}"))T=s?T:T.slice(0,-2),E=JSON.stringify(E);else if(I.isArray(E)&&YC(E)||(I.isFileList(E)||I.endsWith(T,"[]"))&&(C=I.toArray(E)))return T=$_(T),C.forEach(function(N,F){!(I.isUndefined(N)||N===null)&&t.append(c===!0?WE([T],F,o):c===null?T:T+"[]",g(N))}),!1}return fb(E)?!0:(t.append(WE(M,T,o),g(E)),!1)}const b=[],v=Object.assign(KC,{defaultVisitor:m,convertValue:g,isVisitable:fb});function S(E,T){if(!I.isUndefined(E)){if(b.indexOf(E)!==-1)throw Error("Circular reference detected in "+T.join("."));b.push(E),I.forEach(E,function(C,L){(!(I.isUndefined(C)||C===null)&&r.call(t,C,I.isString(L)?L.trim():L,T,v))===!0&&S(C,T?T.concat(L):[L])}),b.pop()}}if(!I.isObject(h))throw new TypeError("data must be an object");return S(h),t}function QE(h){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(h).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Bv(h,t){this._pairs=[],h&&xg(h,this,t)}const W_=Bv.prototype;W_.append=function(t,e){this._pairs.push([t,e])};W_.toString=function(t){const e=t?function(s){return t.call(this,s,QE)}:QE;return this._pairs.map(function(r){return e(r[0])+"="+e(r[1])},"").join("&")};function $C(h){return encodeURIComponent(h).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Q_(h,t,e){if(!t)return h;const s=e&&e.encode||$C;I.isFunction(e)&&(e={serialize:e});const r=e&&e.serialize;let o;if(r?o=r(t,e):o=I.isURLSearchParams(t)?t.toString():new Bv(t,e).toString(s),o){const c=h.indexOf("#");c!==-1&&(h=h.slice(0,c)),h+=(h.indexOf("?")===-1?"?":"&")+o}return h}class ZE{constructor(){this.handlers=[]}use(t,e,s){return this.handlers.push({fulfilled:t,rejected:e,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){I.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Z_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},WC=typeof URLSearchParams<"u"?URLSearchParams:Bv,QC=typeof FormData<"u"?FormData:null,ZC=typeof Blob<"u"?Blob:null,JC={isBrowser:!0,classes:{URLSearchParams:WC,FormData:QC,Blob:ZC},protocols:["http","https","file","blob","url","data"]},jv=typeof window<"u"&&typeof document<"u",pb=typeof navigator=="object"&&navigator||void 0,tM=jv&&(!pb||["ReactNative","NativeScript","NS"].indexOf(pb.product)<0),eM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",iM=jv&&window.location.href||"http://localhost",nM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:jv,hasStandardBrowserEnv:tM,hasStandardBrowserWebWorkerEnv:eM,navigator:pb,origin:iM},Symbol.toStringTag,{value:"Module"})),mi={...nM,...JC};function sM(h,t){return xg(h,new mi.classes.URLSearchParams,Object.assign({visitor:function(e,s,r,o){return mi.isNode&&I.isBuffer(e)?(this.append(s,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function aM(h){return I.matchAll(/\w+|\[(\w*)]/g,h).map(t=>t[0]==="[]"?"":t[1]||t[0])}function rM(h){const t={},e=Object.keys(h);let s;const r=e.length;let o;for(s=0;s<r;s++)o=e[s],t[o]=h[o];return t}function J_(h){function t(e,s,r,o){let c=e[o++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),p=o>=e.length;return c=!c&&I.isArray(r)?r.length:c,p?(I.hasOwnProp(r,c)?r[c]=[r[c],s]:r[c]=s,!d):((!r[c]||!I.isObject(r[c]))&&(r[c]=[]),t(e,s,r[c],o)&&I.isArray(r[c])&&(r[c]=rM(r[c])),!d)}if(I.isFormData(h)&&I.isFunction(h.entries)){const e={};return I.forEachEntry(h,(s,r)=>{t(aM(s),r,e,0)}),e}return null}function oM(h,t,e){if(I.isString(h))try{return(t||JSON.parse)(h),I.trim(h)}catch(s){if(s.name!=="SyntaxError")throw s}return(e||JSON.stringify)(h)}const Qd={transitional:Z_,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const s=e.getContentType()||"",r=s.indexOf("application/json")>-1,o=I.isObject(t);if(o&&I.isHTMLForm(t)&&(t=new FormData(t)),I.isFormData(t))return r?JSON.stringify(J_(t)):t;if(I.isArrayBuffer(t)||I.isBuffer(t)||I.isStream(t)||I.isFile(t)||I.isBlob(t)||I.isReadableStream(t))return t;if(I.isArrayBufferView(t))return t.buffer;if(I.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return sM(t,this.formSerializer).toString();if((d=I.isFileList(t))||s.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return xg(d?{"files[]":t}:t,p&&new p,this.formSerializer)}}return o||r?(e.setContentType("application/json",!1),oM(t)):t}],transformResponse:[function(t){const e=this.transitional||Qd.transitional,s=e&&e.forcedJSONParsing,r=this.responseType==="json";if(I.isResponse(t)||I.isReadableStream(t))return t;if(t&&I.isString(t)&&(s&&!this.responseType||r)){const c=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(d){if(c)throw d.name==="SyntaxError"?Mt.from(d,Mt.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mi.classes.FormData,Blob:mi.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],h=>{Qd.headers[h]={}});const lM=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cM=h=>{const t={};let e,s,r;return h&&h.split(`
`).forEach(function(c){r=c.indexOf(":"),e=c.substring(0,r).trim().toLowerCase(),s=c.substring(r+1).trim(),!(!e||t[e]&&lM[e])&&(e==="set-cookie"?t[e]?t[e].push(s):t[e]=[s]:t[e]=t[e]?t[e]+", "+s:s)}),t},JE=Symbol("internals");function uh(h){return h&&String(h).trim().toLowerCase()}function Sp(h){return h===!1||h==null?h:I.isArray(h)?h.map(Sp):String(h)}function uM(h){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=e.exec(h);)t[s[1]]=s[2];return t}const hM=h=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(h.trim());function ib(h,t,e,s,r){if(I.isFunction(s))return s.call(this,t,e);if(r&&(t=e),!!I.isString(t)){if(I.isString(s))return t.indexOf(s)!==-1;if(I.isRegExp(s))return s.test(t)}}function dM(h){return h.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,s)=>e.toUpperCase()+s)}function fM(h,t){const e=I.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(h,s+e,{value:function(r,o,c){return this[s].call(this,t,r,o,c)},configurable:!0})})}let zi=class{constructor(t){t&&this.set(t)}set(t,e,s){const r=this;function o(d,p,g){const m=uh(p);if(!m)throw new Error("header name must be a non-empty string");const b=I.findKey(r,m);(!b||r[b]===void 0||g===!0||g===void 0&&r[b]!==!1)&&(r[b||p]=Sp(d))}const c=(d,p)=>I.forEach(d,(g,m)=>o(g,m,p));if(I.isPlainObject(t)||t instanceof this.constructor)c(t,e);else if(I.isString(t)&&(t=t.trim())&&!hM(t))c(cM(t),e);else if(I.isHeaders(t))for(const[d,p]of t.entries())o(p,d,s);else t!=null&&o(e,t,s);return this}get(t,e){if(t=uh(t),t){const s=I.findKey(this,t);if(s){const r=this[s];if(!e)return r;if(e===!0)return uM(r);if(I.isFunction(e))return e.call(this,r,s);if(I.isRegExp(e))return e.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=uh(t),t){const s=I.findKey(this,t);return!!(s&&this[s]!==void 0&&(!e||ib(this,this[s],s,e)))}return!1}delete(t,e){const s=this;let r=!1;function o(c){if(c=uh(c),c){const d=I.findKey(s,c);d&&(!e||ib(s,s[d],d,e))&&(delete s[d],r=!0)}}return I.isArray(t)?t.forEach(o):o(t),r}clear(t){const e=Object.keys(this);let s=e.length,r=!1;for(;s--;){const o=e[s];(!t||ib(this,this[o],o,t,!0))&&(delete this[o],r=!0)}return r}normalize(t){const e=this,s={};return I.forEach(this,(r,o)=>{const c=I.findKey(s,o);if(c){e[c]=Sp(r),delete e[o];return}const d=t?dM(o):String(o).trim();d!==o&&delete e[o],e[d]=Sp(r),s[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return I.forEach(this,(s,r)=>{s!=null&&s!==!1&&(e[r]=t&&I.isArray(s)?s.join(", "):s)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const s=new this(t);return e.forEach(r=>s.set(r)),s}static accessor(t){const s=(this[JE]=this[JE]={accessors:{}}).accessors,r=this.prototype;function o(c){const d=uh(c);s[d]||(fM(r,c),s[d]=!0)}return I.isArray(t)?t.forEach(o):o(t),this}};zi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(zi.prototype,({value:h},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>h,set(s){this[e]=s}}});I.freezeMethods(zi);function nb(h,t){const e=this||Qd,s=t||e,r=zi.from(s.headers);let o=s.data;return I.forEach(h,function(d){o=d.call(e,o,r.normalize(),t?t.status:void 0)}),r.normalize(),o}function tw(h){return!!(h&&h.__CANCEL__)}function cu(h,t,e){Mt.call(this,h??"canceled",Mt.ERR_CANCELED,t,e),this.name="CanceledError"}I.inherits(cu,Mt,{__CANCEL__:!0});function ew(h,t,e){const s=e.config.validateStatus;!e.status||!s||s(e.status)?h(e):t(new Mt("Request failed with status code "+e.status,[Mt.ERR_BAD_REQUEST,Mt.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function pM(h){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(h);return t&&t[1]||""}function gM(h,t){h=h||10;const e=new Array(h),s=new Array(h);let r=0,o=0,c;return t=t!==void 0?t:1e3,function(p){const g=Date.now(),m=s[o];c||(c=g),e[r]=p,s[r]=g;let b=o,v=0;for(;b!==r;)v+=e[b++],b=b%h;if(r=(r+1)%h,r===o&&(o=(o+1)%h),g-c<t)return;const S=m&&g-m;return S?Math.round(v*1e3/S):void 0}}function mM(h,t){let e=0,s=1e3/t,r,o;const c=(g,m=Date.now())=>{e=m,r=null,o&&(clearTimeout(o),o=null),h.apply(null,g)};return[(...g)=>{const m=Date.now(),b=m-e;b>=s?c(g,m):(r=g,o||(o=setTimeout(()=>{o=null,c(r)},s-b)))},()=>r&&c(r)]}const Jp=(h,t,e=3)=>{let s=0;const r=gM(50,250);return mM(o=>{const c=o.loaded,d=o.lengthComputable?o.total:void 0,p=c-s,g=r(p),m=c<=d;s=c;const b={loaded:c,total:d,progress:d?c/d:void 0,bytes:p,rate:g||void 0,estimated:g&&d&&m?(d-c)/g:void 0,event:o,lengthComputable:d!=null,[t?"download":"upload"]:!0};h(b)},e)},t_=(h,t)=>{const e=h!=null;return[s=>t[0]({lengthComputable:e,total:h,loaded:s}),t[1]]},e_=h=>(...t)=>I.asap(()=>h(...t)),yM=mi.hasStandardBrowserEnv?((h,t)=>e=>(e=new URL(e,mi.origin),h.protocol===e.protocol&&h.host===e.host&&(t||h.port===e.port)))(new URL(mi.origin),mi.navigator&&/(msie|trident)/i.test(mi.navigator.userAgent)):()=>!0,bM=mi.hasStandardBrowserEnv?{write(h,t,e,s,r,o){const c=[h+"="+encodeURIComponent(t)];I.isNumber(e)&&c.push("expires="+new Date(e).toGMTString()),I.isString(s)&&c.push("path="+s),I.isString(r)&&c.push("domain="+r),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read(h){const t=document.cookie.match(new RegExp("(^|;\\s*)("+h+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(h){this.write(h,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function vM(h){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(h)}function AM(h,t){return t?h.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):h}function iw(h,t,e){let s=!vM(t);return h&&(s||e==!1)?AM(h,t):t}const i_=h=>h instanceof zi?{...h}:h;function nl(h,t){t=t||{};const e={};function s(g,m,b,v){return I.isPlainObject(g)&&I.isPlainObject(m)?I.merge.call({caseless:v},g,m):I.isPlainObject(m)?I.merge({},m):I.isArray(m)?m.slice():m}function r(g,m,b,v){if(I.isUndefined(m)){if(!I.isUndefined(g))return s(void 0,g,b,v)}else return s(g,m,b,v)}function o(g,m){if(!I.isUndefined(m))return s(void 0,m)}function c(g,m){if(I.isUndefined(m)){if(!I.isUndefined(g))return s(void 0,g)}else return s(void 0,m)}function d(g,m,b){if(b in t)return s(g,m);if(b in h)return s(void 0,g)}const p={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(g,m,b)=>r(i_(g),i_(m),b,!0)};return I.forEach(Object.keys(Object.assign({},h,t)),function(m){const b=p[m]||r,v=b(h[m],t[m],m);I.isUndefined(v)&&b!==d||(e[m]=v)}),e}const nw=h=>{const t=nl({},h);let{data:e,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:o,headers:c,auth:d}=t;t.headers=c=zi.from(c),t.url=Q_(iw(t.baseURL,t.url,t.allowAbsoluteUrls),h.params,h.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let p;if(I.isFormData(e)){if(mi.hasStandardBrowserEnv||mi.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((p=c.getContentType())!==!1){const[g,...m]=p?p.split(";").map(b=>b.trim()).filter(Boolean):[];c.setContentType([g||"multipart/form-data",...m].join("; "))}}if(mi.hasStandardBrowserEnv&&(s&&I.isFunction(s)&&(s=s(t)),s||s!==!1&&yM(t.url))){const g=r&&o&&bM.read(o);g&&c.set(r,g)}return t},SM=typeof XMLHttpRequest<"u",EM=SM&&function(h){return new Promise(function(e,s){const r=nw(h);let o=r.data;const c=zi.from(r.headers).normalize();let{responseType:d,onUploadProgress:p,onDownloadProgress:g}=r,m,b,v,S,E;function T(){S&&S(),E&&E(),r.cancelToken&&r.cancelToken.unsubscribe(m),r.signal&&r.signal.removeEventListener("abort",m)}let M=new XMLHttpRequest;M.open(r.method.toUpperCase(),r.url,!0),M.timeout=r.timeout;function C(){if(!M)return;const N=zi.from("getAllResponseHeaders"in M&&M.getAllResponseHeaders()),z={data:!d||d==="text"||d==="json"?M.responseText:M.response,status:M.status,statusText:M.statusText,headers:N,config:h,request:M};ew(function(V){e(V),T()},function(V){s(V),T()},z),M=null}"onloadend"in M?M.onloadend=C:M.onreadystatechange=function(){!M||M.readyState!==4||M.status===0&&!(M.responseURL&&M.responseURL.indexOf("file:")===0)||setTimeout(C)},M.onabort=function(){M&&(s(new Mt("Request aborted",Mt.ECONNABORTED,h,M)),M=null)},M.onerror=function(){s(new Mt("Network Error",Mt.ERR_NETWORK,h,M)),M=null},M.ontimeout=function(){let F=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const z=r.transitional||Z_;r.timeoutErrorMessage&&(F=r.timeoutErrorMessage),s(new Mt(F,z.clarifyTimeoutError?Mt.ETIMEDOUT:Mt.ECONNABORTED,h,M)),M=null},o===void 0&&c.setContentType(null),"setRequestHeader"in M&&I.forEach(c.toJSON(),function(F,z){M.setRequestHeader(z,F)}),I.isUndefined(r.withCredentials)||(M.withCredentials=!!r.withCredentials),d&&d!=="json"&&(M.responseType=r.responseType),g&&([v,E]=Jp(g,!0),M.addEventListener("progress",v)),p&&M.upload&&([b,S]=Jp(p),M.upload.addEventListener("progress",b),M.upload.addEventListener("loadend",S)),(r.cancelToken||r.signal)&&(m=N=>{M&&(s(!N||N.type?new cu(null,h,M):N),M.abort(),M=null)},r.cancelToken&&r.cancelToken.subscribe(m),r.signal&&(r.signal.aborted?m():r.signal.addEventListener("abort",m)));const L=pM(r.url);if(L&&mi.protocols.indexOf(L)===-1){s(new Mt("Unsupported protocol "+L+":",Mt.ERR_BAD_REQUEST,h));return}M.send(o||null)})},_M=(h,t)=>{const{length:e}=h=h?h.filter(Boolean):[];if(t||e){let s=new AbortController,r;const o=function(g){if(!r){r=!0,d();const m=g instanceof Error?g:this.reason;s.abort(m instanceof Mt?m:new cu(m instanceof Error?m.message:m))}};let c=t&&setTimeout(()=>{c=null,o(new Mt(`timeout ${t} of ms exceeded`,Mt.ETIMEDOUT))},t);const d=()=>{h&&(c&&clearTimeout(c),c=null,h.forEach(g=>{g.unsubscribe?g.unsubscribe(o):g.removeEventListener("abort",o)}),h=null)};h.forEach(g=>g.addEventListener("abort",o));const{signal:p}=s;return p.unsubscribe=()=>I.asap(d),p}},wM=function*(h,t){let e=h.byteLength;if(e<t){yield h;return}let s=0,r;for(;s<e;)r=s+t,yield h.slice(s,r),s=r},TM=async function*(h,t){for await(const e of xM(h))yield*wM(e,t)},xM=async function*(h){if(h[Symbol.asyncIterator]){yield*h;return}const t=h.getReader();try{for(;;){const{done:e,value:s}=await t.read();if(e)break;yield s}}finally{await t.cancel()}},n_=(h,t,e,s)=>{const r=TM(h,t);let o=0,c,d=p=>{c||(c=!0,s&&s(p))};return new ReadableStream({async pull(p){try{const{done:g,value:m}=await r.next();if(g){d(),p.close();return}let b=m.byteLength;if(e){let v=o+=b;e(v)}p.enqueue(new Uint8Array(m))}catch(g){throw d(g),g}},cancel(p){return d(p),r.return()}},{highWaterMark:2})},Rg=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",sw=Rg&&typeof ReadableStream=="function",RM=Rg&&(typeof TextEncoder=="function"?(h=>t=>h.encode(t))(new TextEncoder):async h=>new Uint8Array(await new Response(h).arrayBuffer())),aw=(h,...t)=>{try{return!!h(...t)}catch{return!1}},CM=sw&&aw(()=>{let h=!1;const t=new Request(mi.origin,{body:new ReadableStream,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!t}),s_=64*1024,gb=sw&&aw(()=>I.isReadableStream(new Response("").body)),tg={stream:gb&&(h=>h.body)};Rg&&(h=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!tg[t]&&(tg[t]=I.isFunction(h[t])?e=>e[t]():(e,s)=>{throw new Mt(`Response type '${t}' is not supported`,Mt.ERR_NOT_SUPPORT,s)})})})(new Response);const MM=async h=>{if(h==null)return 0;if(I.isBlob(h))return h.size;if(I.isSpecCompliantForm(h))return(await new Request(mi.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(I.isArrayBufferView(h)||I.isArrayBuffer(h))return h.byteLength;if(I.isURLSearchParams(h)&&(h=h+""),I.isString(h))return(await RM(h)).byteLength},DM=async(h,t)=>{const e=I.toFiniteNumber(h.getContentLength());return e??MM(t)},LM=Rg&&(async h=>{let{url:t,method:e,data:s,signal:r,cancelToken:o,timeout:c,onDownloadProgress:d,onUploadProgress:p,responseType:g,headers:m,withCredentials:b="same-origin",fetchOptions:v}=nw(h);g=g?(g+"").toLowerCase():"text";let S=_M([r,o&&o.toAbortSignal()],c),E;const T=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let M;try{if(p&&CM&&e!=="get"&&e!=="head"&&(M=await DM(m,s))!==0){let z=new Request(t,{method:"POST",body:s,duplex:"half"}),B;if(I.isFormData(s)&&(B=z.headers.get("content-type"))&&m.setContentType(B),z.body){const[V,Z]=t_(M,Jp(e_(p)));s=n_(z.body,s_,V,Z)}}I.isString(b)||(b=b?"include":"omit");const C="credentials"in Request.prototype;E=new Request(t,{...v,signal:S,method:e.toUpperCase(),headers:m.normalize().toJSON(),body:s,duplex:"half",credentials:C?b:void 0});let L=await fetch(E);const N=gb&&(g==="stream"||g==="response");if(gb&&(d||N&&T)){const z={};["status","statusText","headers"].forEach(q=>{z[q]=L[q]});const B=I.toFiniteNumber(L.headers.get("content-length")),[V,Z]=d&&t_(B,Jp(e_(d),!0))||[];L=new Response(n_(L.body,s_,V,()=>{Z&&Z(),T&&T()}),z)}g=g||"text";let F=await tg[I.findKey(tg,g)||"text"](L,h);return!N&&T&&T(),await new Promise((z,B)=>{ew(z,B,{data:F,headers:zi.from(L.headers),status:L.status,statusText:L.statusText,config:h,request:E})})}catch(C){throw T&&T(),C&&C.name==="TypeError"&&/fetch/i.test(C.message)?Object.assign(new Mt("Network Error",Mt.ERR_NETWORK,h,E),{cause:C.cause||C}):Mt.from(C,C&&C.code,h,E)}}),mb={http:XC,xhr:EM,fetch:LM};I.forEach(mb,(h,t)=>{if(h){try{Object.defineProperty(h,"name",{value:t})}catch{}Object.defineProperty(h,"adapterName",{value:t})}});const a_=h=>`- ${h}`,OM=h=>I.isFunction(h)||h===null||h===!1,rw={getAdapter:h=>{h=I.isArray(h)?h:[h];const{length:t}=h;let e,s;const r={};for(let o=0;o<t;o++){e=h[o];let c;if(s=e,!OM(e)&&(s=mb[(c=String(e)).toLowerCase()],s===void 0))throw new Mt(`Unknown adapter '${c}'`);if(s)break;r[c||"#"+o]=s}if(!s){const o=Object.entries(r).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=t?o.length>1?`since :
`+o.map(a_).join(`
`):" "+a_(o[0]):"as no adapter specified";throw new Mt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s},adapters:mb};function sb(h){if(h.cancelToken&&h.cancelToken.throwIfRequested(),h.signal&&h.signal.aborted)throw new cu(null,h)}function r_(h){return sb(h),h.headers=zi.from(h.headers),h.data=nb.call(h,h.transformRequest),["post","put","patch"].indexOf(h.method)!==-1&&h.headers.setContentType("application/x-www-form-urlencoded",!1),rw.getAdapter(h.adapter||Qd.adapter)(h).then(function(s){return sb(h),s.data=nb.call(h,h.transformResponse,s),s.headers=zi.from(s.headers),s},function(s){return tw(s)||(sb(h),s&&s.response&&(s.response.data=nb.call(h,h.transformResponse,s.response),s.response.headers=zi.from(s.response.headers))),Promise.reject(s)})}const ow="1.8.4",Cg={};["object","boolean","number","function","string","symbol"].forEach((h,t)=>{Cg[h]=function(s){return typeof s===h||"a"+(t<1?"n ":" ")+h}});const o_={};Cg.transitional=function(t,e,s){function r(o,c){return"[Axios v"+ow+"] Transitional option '"+o+"'"+c+(s?". "+s:"")}return(o,c,d)=>{if(t===!1)throw new Mt(r(c," has been removed"+(e?" in "+e:"")),Mt.ERR_DEPRECATED);return e&&!o_[c]&&(o_[c]=!0,console.warn(r(c," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(o,c,d):!0}};Cg.spelling=function(t){return(e,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function NM(h,t,e){if(typeof h!="object")throw new Mt("options must be an object",Mt.ERR_BAD_OPTION_VALUE);const s=Object.keys(h);let r=s.length;for(;r-- >0;){const o=s[r],c=t[o];if(c){const d=h[o],p=d===void 0||c(d,o,h);if(p!==!0)throw new Mt("option "+o+" must be "+p,Mt.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new Mt("Unknown option "+o,Mt.ERR_BAD_OPTION)}}const Ep={assertOptions:NM,validators:Cg},ss=Ep.validators;let il=class{constructor(t){this.defaults=t,this.interceptors={request:new ZE,response:new ZE}}async request(t,e){try{return await this._request(t,e)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=nl(this.defaults,e);const{transitional:s,paramsSerializer:r,headers:o}=e;s!==void 0&&Ep.assertOptions(s,{silentJSONParsing:ss.transitional(ss.boolean),forcedJSONParsing:ss.transitional(ss.boolean),clarifyTimeoutError:ss.transitional(ss.boolean)},!1),r!=null&&(I.isFunction(r)?e.paramsSerializer={serialize:r}:Ep.assertOptions(r,{encode:ss.function,serialize:ss.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),Ep.assertOptions(e,{baseUrl:ss.spelling("baseURL"),withXsrfToken:ss.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let c=o&&I.merge(o.common,o[e.method]);o&&I.forEach(["delete","get","head","post","put","patch","common"],E=>{delete o[E]}),e.headers=zi.concat(c,o);const d=[];let p=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(e)===!1||(p=p&&T.synchronous,d.unshift(T.fulfilled,T.rejected))});const g=[];this.interceptors.response.forEach(function(T){g.push(T.fulfilled,T.rejected)});let m,b=0,v;if(!p){const E=[r_.bind(this),void 0];for(E.unshift.apply(E,d),E.push.apply(E,g),v=E.length,m=Promise.resolve(e);b<v;)m=m.then(E[b++],E[b++]);return m}v=d.length;let S=e;for(b=0;b<v;){const E=d[b++],T=d[b++];try{S=E(S)}catch(M){T.call(this,M);break}}try{m=r_.call(this,S)}catch(E){return Promise.reject(E)}for(b=0,v=g.length;b<v;)m=m.then(g[b++],g[b++]);return m}getUri(t){t=nl(this.defaults,t);const e=iw(t.baseURL,t.url,t.allowAbsoluteUrls);return Q_(e,t.params,t.paramsSerializer)}};I.forEach(["delete","get","head","options"],function(t){il.prototype[t]=function(e,s){return this.request(nl(s||{},{method:t,url:e,data:(s||{}).data}))}});I.forEach(["post","put","patch"],function(t){function e(s){return function(o,c,d){return this.request(nl(d||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}il.prototype[t]=e(),il.prototype[t+"Form"]=e(!0)});let kM=class lw{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(o){e=o});const s=this;this.promise.then(r=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](r);s._listeners=null}),this.promise.then=r=>{let o;const c=new Promise(d=>{s.subscribe(d),o=d}).then(r);return c.cancel=function(){s.unsubscribe(o)},c},t(function(o,c,d){s.reason||(s.reason=new cu(o,c,d),e(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=s=>{t.abort(s)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new lw(function(r){t=r}),cancel:t}}};function PM(h){return function(e){return h.apply(null,e)}}function FM(h){return I.isObject(h)&&h.isAxiosError===!0}const yb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yb).forEach(([h,t])=>{yb[t]=h});function cw(h){const t=new il(h),e=B_(il.prototype.request,t);return I.extend(e,il.prototype,t,{allOwnKeys:!0}),I.extend(e,t,null,{allOwnKeys:!0}),e.create=function(r){return cw(nl(h,r))},e}const xe=cw(Qd);xe.Axios=il;xe.CanceledError=cu;xe.CancelToken=kM;xe.isCancel=tw;xe.VERSION=ow;xe.toFormData=xg;xe.AxiosError=Mt;xe.Cancel=xe.CanceledError;xe.all=function(t){return Promise.all(t)};xe.spread=PM;xe.isAxiosError=FM;xe.mergeConfig=nl;xe.AxiosHeaders=zi;xe.formToJSON=h=>J_(I.isHTMLForm(h)?new FormData(h):h);xe.getAdapter=rw.getAdapter;xe.HttpStatusCode=yb;xe.default=xe;const{Axios:x2,AxiosError:R2,CanceledError:C2,isCancel:M2,CancelToken:D2,VERSION:L2,all:O2,Cancel:N2,isAxiosError:k2,spread:P2,toFormData:F2,AxiosHeaders:H2,HttpStatusCode:z2,formToJSON:U2,getAdapter:B2,mergeConfig:j2}=xe,HM="modulepreload",zM=function(h){return"/radar_frontend/"+h},l_={},pp=function(t,e,s){let r=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));r=Promise.allSettled(e.map(p=>{if(p=zM(p),p in l_)return;l_[p]=!0;const g=p.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${m}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":HM,g||(b.as="script"),b.crossOrigin="",b.href=p,d&&b.setAttribute("nonce",d),document.head.appendChild(b),g)return new Promise((v,S)=>{b.addEventListener("load",v),b.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return r.then(c=>{for(const d of c||[])d.status==="rejected"&&o(d.reason);return t().catch(o)})};var Dh={};Dh.d=(h,t)=>{for(var e in t)Dh.o(t,e)&&!Dh.o(h,e)&&Object.defineProperty(h,e,{enumerable:!0,get:t[e]})};Dh.o=(h,t)=>Object.prototype.hasOwnProperty.call(h,t);var Rt=globalThis.pdfjsLib={};Dh.d(Rt,{AbortException:()=>hl,AnnotationEditorLayer:()=>Mv,AnnotationEditorParamsType:()=>Tt,AnnotationEditorType:()=>Nt,AnnotationEditorUIManager:()=>al,AnnotationLayer:()=>FL,AnnotationMode:()=>Wa,ColorPicker:()=>sg,DOMSVGFactory:()=>Jv,DrawLayer:()=>Nv,FeatureTest:()=>Ti,GlobalWorkerOptions:()=>ba,ImageKind:()=>_p,InvalidPDFException:()=>hw,MissingPDFException:()=>ul,OPS:()=>Pn,OutputScale:()=>Eb,PDFDataRangeTransport:()=>o1,PDFDateString:()=>Xv,PDFWorker:()=>rc,PasswordResponses:()=>IM,PermissionFlag:()=>jM,PixelsPerInch:()=>wr,RenderingCancelledException:()=>Gv,TextLayer:()=>Wb,UnexpectedResponseException:()=>Og,Util:()=>pt,VerbosityLevel:()=>Mg,XfaLayer:()=>c1,build:()=>mL,createValidAbsoluteUrl:()=>XM,fetchData:()=>kg,getDocument:()=>oL,getFilenameFromUrl:()=>eD,getPdfFilenameFromUrl:()=>iD,getXfaPageViewport:()=>nD,isDataScheme:()=>Pg,isPdfFile:()=>Vv,noContextMenu:()=>Cn,normalizeUnicode:()=>ZM,setLayerDimensions:()=>sl,shadow:()=>qt,version:()=>gL});const bi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),uw=[1,0,0,1,0,0],bb=[.001,0,0,.001,0,0],UM=1e7,ab=1.35,en={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Wa={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},BM="pdfjs_internal_editor_",Nt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Tt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},jM={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ui={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},_p={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Fe={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},hh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Mg={ERRORS:0,WARNINGS:1,INFOS:5},Pn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},IM={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Dg=Mg.WARNINGS;function qM(h){Number.isInteger(h)&&(Dg=h)}function GM(){return Dg}function Lg(h){Dg>=Mg.INFOS&&console.log(`Info: ${h}`)}function Ft(h){Dg>=Mg.WARNINGS&&console.log(`Warning: ${h}`)}function ue(h){throw new Error(h)}function Be(h,t){h||ue(t)}function VM(h){switch(h==null?void 0:h.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function XM(h,t=null,e=null){if(!h)return null;try{if(e&&typeof h=="string"){if(e.addDefaultProtocol&&h.startsWith("www.")){const r=h.match(/\./g);(r==null?void 0:r.length)>=2&&(h=`http://${h}`)}if(e.tryConvertEncoding)try{h=QM(h)}catch{}}const s=t?new URL(h,t):new URL(h);if(VM(s))return s}catch{}return null}function qt(h,t,e,s=!1){return Object.defineProperty(h,t,{value:e,enumerable:!s,configurable:!0,writable:!1}),e}const Cr=function(){function t(e,s){this.message=e,this.name=s}return t.prototype=new Error,t.constructor=t,t}();class vb extends Cr{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Ab extends Cr{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class hw extends Cr{constructor(t){super(t,"InvalidPDFException")}}class ul extends Cr{constructor(t){super(t,"MissingPDFException")}}class Og extends Cr{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class YM extends Cr{constructor(t){super(t,"FormatError")}}class hl extends Cr{constructor(t){super(t,"AbortException")}}function dw(h){(typeof h!="object"||(h==null?void 0:h.length)===void 0)&&ue("Invalid argument for bytesToString");const t=h.length,e=8192;if(t<e)return String.fromCharCode.apply(null,h);const s=[];for(let r=0;r<t;r+=e){const o=Math.min(r+e,t),c=h.subarray(r,o);s.push(String.fromCharCode.apply(null,c))}return s.join("")}function Ng(h){typeof h!="string"&&ue("Invalid argument for stringToBytes");const t=h.length,e=new Uint8Array(t);for(let s=0;s<t;++s)e[s]=h.charCodeAt(s)&255;return e}function KM(h){return String.fromCharCode(h>>24&255,h>>16&255,h>>8&255,h&255)}function Iv(h){const t=Object.create(null);for(const[e,s]of h)t[e]=s;return t}function $M(){const h=new Uint8Array(4);return h[0]=1,new Uint32Array(h.buffer,0,1)[0]===1}function WM(){try{return new Function(""),!0}catch{return!1}}class Ti{static get isLittleEndian(){return qt(this,"isLittleEndian",$M())}static get isEvalSupported(){return qt(this,"isEvalSupported",WM())}static get isOffscreenCanvasSupported(){return qt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?qt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):qt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return qt(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const rb=Array.from(Array(256).keys(),h=>h.toString(16).padStart(2,"0"));var Aa,wp,Sb;class pt{static makeHexColor(t,e,s){return`#${rb[t]}${rb[e]}${rb[s]}`}static scaleMinMax(t,e){let s;t[0]?(t[0]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[3],e[3]*=t[3]):(s=e[0],e[0]=e[1],e[1]=s,s=e[2],e[2]=e[3],e[3]=s,t[1]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const s=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];return[s,r]}static applyInverseTransform(t,e){const s=e[0]*e[3]-e[1]*e[2],r=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/s,o=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/s;return[r,o]}static getAxialAlignedBoundingBox(t,e){const s=this.applyTransform(t,e),r=this.applyTransform(t.slice(2,4),e),o=this.applyTransform([t[0],t[3]],e),c=this.applyTransform([t[2],t[1]],e);return[Math.min(s[0],r[0],o[0],c[0]),Math.min(s[1],r[1],o[1],c[1]),Math.max(s[0],r[0],o[0],c[0]),Math.max(s[1],r[1],o[1],c[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],s=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],o=t[2]*e[0]+t[3]*e[2],c=t[2]*e[1]+t[3]*e[3],d=(s+c)/2,p=Math.sqrt((s+c)**2-4*(s*c-o*r))/2,g=d+p||1,m=d-p||1;return[Math.sqrt(g),Math.sqrt(m)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const s=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(s>r)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),c=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return o>c?null:[s,o,r,c]}static bezierBoundingBox(t,e,s,r,o,c,d,p,g){return g?(g[0]=Math.min(g[0],t,d),g[1]=Math.min(g[1],e,p),g[2]=Math.max(g[2],t,d),g[3]=Math.max(g[3],e,p)):g=[Math.min(t,d),Math.min(e,p),Math.max(t,d),Math.max(e,p)],w(this,Aa,Sb).call(this,t,s,o,d,e,r,c,p,3*(-t+3*(s-o)+d),6*(t-2*s+o),3*(s-t),g),w(this,Aa,Sb).call(this,t,s,o,d,e,r,c,p,3*(-e+3*(r-c)+p),6*(e-2*r+c),3*(r-e),g),g}}Aa=new WeakSet,wp=function(t,e,s,r,o,c,d,p,g,m){if(g<=0||g>=1)return;const b=1-g,v=g*g,S=v*g,E=b*(b*(b*t+3*g*e)+3*v*s)+S*r,T=b*(b*(b*o+3*g*c)+3*v*d)+S*p;m[0]=Math.min(m[0],E),m[1]=Math.min(m[1],T),m[2]=Math.max(m[2],E),m[3]=Math.max(m[3],T)},Sb=function(t,e,s,r,o,c,d,p,g,m,b,v){if(Math.abs(g)<1e-12){Math.abs(m)>=1e-12&&w(this,Aa,wp).call(this,t,e,s,r,o,c,d,p,-b/m,v);return}const S=m**2-4*b*g;if(S<0)return;const E=Math.sqrt(S),T=2*g;w(this,Aa,wp).call(this,t,e,s,r,o,c,d,p,(-m+E)/T,v),w(this,Aa,wp).call(this,t,e,s,r,o,c,d,p,(-m-E)/T,v)},x(pt,Aa);function QM(h){return decodeURIComponent(escape(h))}let ob=null,c_=null;function ZM(h){return ob||(ob=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,c_=new Map([["ﬅ","ſt"]])),h.replaceAll(ob,(t,e,s)=>e?e.normalize("NFKC"):c_.get(s))}function JM(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const h=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(h);else for(let t=0;t<32;t++)h[t]=Math.floor(Math.random()*255);return dw(h)}const qv="pdfjs_internal_id_",qs={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function tD(h){return Uint8Array.prototype.toBase64?h.toBase64():btoa(dw(h))}const Vs="http://www.w3.org/2000/svg",io=class io{};wt(io,"CSS",96),wt(io,"PDF",72),wt(io,"PDF_TO_CSS_UNITS",io.CSS/io.PDF);let wr=io;async function kg(h,t="text"){if(ph(h,document.baseURI)){const e=await fetch(h);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,s)=>{const r=new XMLHttpRequest;r.open("GET",h,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}s(new Error(r.statusText))}},r.send(null)})}class Zd{constructor({viewBox:t,scale:e,rotation:s,offsetX:r=0,offsetY:o=0,dontFlip:c=!1}){this.viewBox=t,this.scale=e,this.rotation=s,this.offsetX=r,this.offsetY=o;const d=(t[2]+t[0])/2,p=(t[3]+t[1])/2;let g,m,b,v;switch(s%=360,s<0&&(s+=360),s){case 180:g=-1,m=0,b=0,v=1;break;case 90:g=0,m=1,b=1,v=0;break;case 270:g=0,m=-1,b=-1,v=0;break;case 0:g=1,m=0,b=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(b=-b,v=-v);let S,E,T,M;g===0?(S=Math.abs(p-t[1])*e+r,E=Math.abs(d-t[0])*e+o,T=(t[3]-t[1])*e,M=(t[2]-t[0])*e):(S=Math.abs(d-t[0])*e+r,E=Math.abs(p-t[1])*e+o,T=(t[2]-t[0])*e,M=(t[3]-t[1])*e),this.transform=[g*e,m*e,b*e,v*e,S-g*e*d-b*e*p,E-m*e*d-v*e*p],this.width=T,this.height=M}get rawDims(){const{viewBox:t}=this;return qt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:s=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new Zd({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:s,offsetY:r,dontFlip:o})}convertToViewportPoint(t,e){return pt.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=pt.applyTransform([t[0],t[1]],this.transform),s=pt.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],s[0],s[1]]}convertToPdfPoint(t,e){return pt.applyInverseTransform([t,e],this.transform)}}class Gv extends Cr{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Pg(h){const t=h.length;let e=0;for(;e<t&&h[e].trim()==="";)e++;return h.substring(e,e+5).toLowerCase()==="data:"}function Vv(h){return typeof h=="string"&&/\.pdf$/i.test(h)}function eD(h){return[h]=h.split(/[#?]/,1),h.substring(h.lastIndexOf("/")+1)}function iD(h,t="document.pdf"){if(typeof h!="string")return t;if(Pg(h))return Ft('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=e.exec(h);let o=s.exec(r[1])||s.exec(r[2])||s.exec(r[3]);if(o&&(o=o[0],o.includes("%")))try{o=s.exec(decodeURIComponent(o))[0]}catch{}return o||t}class u_{constructor(){wt(this,"started",Object.create(null));wt(this,"times",[])}time(t){t in this.started&&Ft(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Ft(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:s}of this.times)e=Math.max(s.length,e);for(const{name:s,start:r,end:o}of this.times)t.push(`${s.padEnd(e)} ${o-r}ms
`);return t.join("")}}function ph(h,t){try{const{protocol:e}=t?new URL(h,t):new URL(h);return e==="http:"||e==="https:"}catch{return!1}}function Cn(h){h.preventDefault()}function h_(h){console.log("Deprecated API usage: "+h)}var Ph;class Xv{static toDateObject(t){if(!t||typeof t!="string")return null;u(this,Ph)||_(this,Ph,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=u(this,Ph).exec(t);if(!e)return null;const s=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(e[3],10);o=o>=1&&o<=31?o:1;let c=parseInt(e[4],10);c=c>=0&&c<=23?c:0;let d=parseInt(e[5],10);d=d>=0&&d<=59?d:0;let p=parseInt(e[6],10);p=p>=0&&p<=59?p:0;const g=e[7]||"Z";let m=parseInt(e[8],10);m=m>=0&&m<=23?m:0;let b=parseInt(e[9],10)||0;return b=b>=0&&b<=59?b:0,g==="-"?(c+=m,d+=b):g==="+"&&(c-=m,d-=b),new Date(Date.UTC(s,r,o,c,d,p))}}Ph=new WeakMap,x(Xv,Ph);function nD(h,{scale:t=1,rotation:e=0}){const{width:s,height:r}=h.attributes.style,o=[0,0,parseInt(s),parseInt(r)];return new Zd({viewBox:o,scale:t,rotation:e})}function Yv(h){if(h.startsWith("#")){const t=parseInt(h.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return h.startsWith("rgb(")?h.slice(4,-1).split(",").map(t=>parseInt(t)):h.startsWith("rgba(")?h.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Ft(`Not a valid color format: "${h}"`),[0,0,0])}function sD(h){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of h.keys()){t.style.color=e;const s=window.getComputedStyle(t).color;h.set(e,Yv(s))}t.remove()}function ye(h){const{a:t,b:e,c:s,d:r,e:o,f:c}=h.getTransform();return[t,e,s,r,o,c]}function Gs(h){const{a:t,b:e,c:s,d:r,e:o,f:c}=h.getTransform().invertSelf();return[t,e,s,r,o,c]}function sl(h,t,e=!1,s=!0){if(t instanceof Zd){const{pageWidth:r,pageHeight:o}=t.rawDims,{style:c}=h,d=Ti.isCSSRoundSupported,p=`var(--scale-factor) * ${r}px`,g=`var(--scale-factor) * ${o}px`,m=d?`round(down, ${p}, var(--scale-round-x, 1px))`:`calc(${p})`,b=d?`round(down, ${g}, var(--scale-round-y, 1px))`:`calc(${g})`;!e||t.rotation%180===0?(c.width=m,c.height=b):(c.width=b,c.height=m)}s&&h.setAttribute("data-main-rotation",t.rotation)}class Eb{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Qa,ao,Fn,ro,Fh,Hh,rg,fw,xi,pw,gw,Tp,mw,wb;const Xs=class Xs{constructor(t){x(this,xi);x(this,Qa,null);x(this,ao,null);x(this,Fn);x(this,ro,null);x(this,Fh,null);_(this,Fn,t),u(Xs,Hh)||_(Xs,Hh,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=_(this,Qa,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=u(this,Fn)._uiManager._signal;t.addEventListener("contextmenu",Cn,{signal:e}),t.addEventListener("pointerdown",w(Xs,rg,fw),{signal:e});const s=_(this,ro,document.createElement("div"));s.className="buttons",t.append(s);const r=u(this,Fn).toolbarPosition;if(r){const{style:o}=t,c=u(this,Fn)._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*c}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return w(this,xi,mw).call(this),t}get div(){return u(this,Qa)}hide(){var t;u(this,Qa).classList.add("hidden"),(t=u(this,ao))==null||t.hideDropdown()}show(){var t;u(this,Qa).classList.remove("hidden"),(t=u(this,Fh))==null||t.shown()}async addAltText(t){const e=await t.render();w(this,xi,Tp).call(this,e),u(this,ro).prepend(e,u(this,xi,wb)),_(this,Fh,t)}addColorPicker(t){_(this,ao,t);const e=t.renderButton();w(this,xi,Tp).call(this,e),u(this,ro).prepend(e,u(this,xi,wb))}remove(){var t;u(this,Qa).remove(),(t=u(this,ao))==null||t.destroy(),_(this,ao,null)}};Qa=new WeakMap,ao=new WeakMap,Fn=new WeakMap,ro=new WeakMap,Fh=new WeakMap,Hh=new WeakMap,rg=new WeakSet,fw=function(t){t.stopPropagation()},xi=new WeakSet,pw=function(t){u(this,Fn)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},gw=function(t){u(this,Fn)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},Tp=function(t){const e=u(this,Fn)._uiManager._signal;t.addEventListener("focusin",w(this,xi,pw).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",w(this,xi,gw).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Cn,{signal:e})},mw=function(){const{editorType:t,_uiManager:e}=u(this,Fn),s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",u(Xs,Hh)[t]),w(this,xi,Tp).call(this,s),s.addEventListener("click",r=>{e.delete()},{signal:e._signal}),u(this,ro).append(s)},wb=function(){const t=document.createElement("div");return t.className="divider",t},x(Xs,rg),x(Xs,Hh,null);let _b=Xs;var zh,oo,lo,xr,yw,bw,vw;class aD{constructor(t){x(this,xr);x(this,zh,null);x(this,oo,null);x(this,lo);_(this,lo,t)}show(t,e,s){const[r,o]=w(this,xr,bw).call(this,e,s),{style:c}=u(this,oo)||_(this,oo,w(this,xr,yw).call(this));t.append(u(this,oo)),c.insetInlineEnd=`${100*r}%`,c.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){u(this,oo).remove()}}zh=new WeakMap,oo=new WeakMap,lo=new WeakMap,xr=new WeakSet,yw=function(){const t=_(this,oo,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Cn,{signal:u(this,lo)._signal});const e=_(this,zh,document.createElement("div"));return e.className="buttons",t.append(e),w(this,xr,vw).call(this),t},bw=function(t,e){let s=0,r=0;for(const o of t){const c=o.y+o.height;if(c<s)continue;const d=o.x+(e?o.width:0);if(c>s){r=d,s=c;continue}e?d>r&&(r=d):d<r&&(r=d)}return[e?1-r:r,s]},vw=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=u(this,lo)._signal;t.addEventListener("contextmenu",Cn,{signal:s}),t.addEventListener("click",()=>{u(this,lo).highlightSelection("floating_button")},{signal:s}),u(this,zh).append(t)};function eg(h,t,e){for(const s of e)t.addEventListener(s,h[s].bind(h))}function rD(h){return Math.round(Math.min(255,Math.max(1,255*h))).toString(16).padStart(2,"0")}var og;class oD{constructor(){x(this,og,0)}get id(){return`${BM}${Si(this,og)._++}`}}og=new WeakMap;var cc,Uh,di,uc,xp;const i0=class i0{constructor(){x(this,uc);x(this,cc,JM());x(this,Uh,0);x(this,di,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const o=r.decode().then(()=>(s.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return qt(this,"_isSVGFittingCanvas",o)}async getFromFile(t){const{lastModified:e,name:s,size:r,type:o}=t;return w(this,uc,xp).call(this,`${e}_${s}_${r}_${o}`,t)}async getFromUrl(t){return w(this,uc,xp).call(this,t,t)}async getFromBlob(t,e){const s=await e;return w(this,uc,xp).call(this,t,s)}async getFromId(t){u(this,di)||_(this,di,new Map);const e=u(this,di).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:s}=e;return delete e.blobPromise,this.getFromBlob(e.id,s)}return this.getFromUrl(e.url)}getFromCanvas(t,e){u(this,di)||_(this,di,new Map);let s=u(this,di).get(t);if(s!=null&&s.bitmap)return s.refCounter+=1,s;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),s={bitmap:r.transferToImageBitmap(),id:`image_${u(this,cc)}_${Si(this,Uh)._++}`,refCounter:1,isSvg:!1},u(this,di).set(t,s),u(this,di).set(s.id,s),s}getSvgUrl(t){const e=u(this,di).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var r;u(this,di)||_(this,di,new Map);const e=u(this,di).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:s}=e;if(!e.url&&!e.file){const o=new OffscreenCanvas(s.width,s.height);o.getContext("bitmaprenderer").transferFromImageBitmap(s),e.blobPromise=o.convertToBlob()}(r=s.close)==null||r.call(s),e.bitmap=null}isValidId(t){return t.startsWith(`image_${u(this,cc)}_`)}};cc=new WeakMap,Uh=new WeakMap,di=new WeakMap,uc=new WeakSet,xp=async function(t,e){u(this,di)||_(this,di,new Map);let s=u(this,di).get(t);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${u(this,cc)}_${Si(this,Uh)._++}`,refCounter:0,isSvg:!1});let r;if(typeof e=="string"?(s.url=e,r=await kg(e,"blob")):e instanceof File?r=s.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const o=i0._isSVGFittingCanvas,c=new FileReader,d=new Image,p=new Promise((g,m)=>{d.onload=()=>{s.bitmap=d,s.isSvg=!0,g()},c.onload=async()=>{const b=s.svgUrl=c.result;d.src=await o?`${b}#svgView(preserveAspectRatio(none))`:b},d.onerror=c.onerror=m});c.readAsDataURL(r),await p}else s.bitmap=await createImageBitmap(r);s.refCounter=1}catch(r){console.error(r),s=null}return u(this,di).set(t,s),s&&u(this,di).set(s.id,s),s};let Tb=i0;var Ye,Za,Bh,Ke;class lD{constructor(t=128){x(this,Ye,[]);x(this,Za,!1);x(this,Bh);x(this,Ke,-1);_(this,Bh,t)}add({cmd:t,undo:e,post:s,mustExec:r,type:o=NaN,overwriteIfSameType:c=!1,keepUndo:d=!1}){if(r&&t(),u(this,Za))return;const p={cmd:t,undo:e,post:s,type:o};if(u(this,Ke)===-1){u(this,Ye).length>0&&(u(this,Ye).length=0),_(this,Ke,0),u(this,Ye).push(p);return}if(c&&u(this,Ye)[u(this,Ke)].type===o){d&&(p.undo=u(this,Ye)[u(this,Ke)].undo),u(this,Ye)[u(this,Ke)]=p;return}const g=u(this,Ke)+1;g===u(this,Bh)?u(this,Ye).splice(0,1):(_(this,Ke,g),g<u(this,Ye).length&&u(this,Ye).splice(g)),u(this,Ye).push(p)}undo(){if(u(this,Ke)===-1)return;_(this,Za,!0);const{undo:t,post:e}=u(this,Ye)[u(this,Ke)];t(),e==null||e(),_(this,Za,!1),_(this,Ke,u(this,Ke)-1)}redo(){if(u(this,Ke)<u(this,Ye).length-1){_(this,Ke,u(this,Ke)+1),_(this,Za,!0);const{cmd:t,post:e}=u(this,Ye)[u(this,Ke)];t(),e==null||e(),_(this,Za,!1)}}hasSomethingToUndo(){return u(this,Ke)!==-1}hasSomethingToRedo(){return u(this,Ke)<u(this,Ye).length-1}destroy(){_(this,Ye,null)}}Ye=new WeakMap,Za=new WeakMap,Bh=new WeakMap,Ke=new WeakMap;var lg,Aw;class Jd{constructor(t){x(this,lg);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Ti.platform;for(const[s,r,o={}]of t)for(const c of s){const d=c.startsWith("mac+");e&&d?(this.callbacks.set(c.slice(4),{callback:r,options:o}),this.allKeys.add(c.split("+").at(-1))):!e&&!d&&(this.callbacks.set(c,{callback:r,options:o}),this.allKeys.add(c.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const s=this.callbacks.get(w(this,lg,Aw).call(this,e));if(!s)return;const{callback:r,options:{bubbles:o=!1,args:c=[],checker:d=null}}=s;d&&!d(t,e)||(r.bind(t,...c,e)(),o||(e.stopPropagation(),e.preventDefault()))}}lg=new WeakSet,Aw=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const cg=class cg{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return sD(t),qt(this,"_colors",t)}convert(t){const e=Yv(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[s,r]of this._colors)if(r.every((o,c)=>o===e[c]))return cg._colorsMapping.get(s);return e}getHexCode(t){const e=this._colors.get(t);return e?pt.makeHexColor(...e):t}};wt(cg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let xb=cg;var hc,Yi,He,ii,dc,Ks,fc,Hn,Ja,pc,co,rs,zn,uo,jh,Ih,gc,qh,os,tr,mc,er,ls,ug,ir,Gh,nr,ho,Vh,Xh,$e,Wt,$s,fo,Yh,Kh,sr,cs,Ws,$h,An,ot,Rp,Rb,Sw,Ew,Cp,_w,ww,Tw,Cb,xw,Mb,Db,Rw,Ei,Ka,Cw,Mw,Lb,Dw,gh,Ob;const sc=class sc{constructor(t,e,s,r,o,c,d,p,g,m,b){x(this,ot);x(this,hc,new AbortController);x(this,Yi,null);x(this,He,new Map);x(this,ii,new Map);x(this,dc,null);x(this,Ks,null);x(this,fc,null);x(this,Hn,new lD);x(this,Ja,null);x(this,pc,0);x(this,co,new Set);x(this,rs,null);x(this,zn,null);x(this,uo,new Set);x(this,jh,!1);x(this,Ih,!1);x(this,gc,!1);x(this,qh,null);x(this,os,null);x(this,tr,null);x(this,mc,null);x(this,er,!1);x(this,ls,null);x(this,ug,new oD);x(this,ir,!1);x(this,Gh,!1);x(this,nr,null);x(this,ho,null);x(this,Vh,null);x(this,Xh,null);x(this,$e,Nt.NONE);x(this,Wt,new Set);x(this,$s,null);x(this,fo,null);x(this,Yh,null);x(this,Kh,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});x(this,sr,[0,0]);x(this,cs,null);x(this,Ws,null);x(this,$h,null);x(this,An,null);const v=this._signal=u(this,hc).signal;_(this,Ws,t),_(this,$h,e),_(this,dc,s),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:v}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),r._on("setpreference",this.onSetPreference.bind(this),{signal:v}),r._on("switchannotationeditorparams",S=>this.updateParams(S.type,S.value),{signal:v}),w(this,ot,_w).call(this),w(this,ot,Rw).call(this),w(this,ot,Cb).call(this),_(this,Ks,o.annotationStorage),_(this,qh,o.filterFactory),_(this,fo,c),_(this,mc,d||null),_(this,jh,p),_(this,Ih,g),_(this,gc,m),_(this,Xh,b||null),this.viewParameters={realScale:wr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=sc.prototype,e=c=>u(c,Ws).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),s=(c,{target:d})=>{if(d instanceof HTMLInputElement){const{type:p}=d;return p!=="text"&&p!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return qt(this,"_keyboardManager",new Jd([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],t.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:s}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:d})=>!(d instanceof HTMLButtonElement)&&u(c,Ws).contains(d)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:d})=>!(d instanceof HTMLButtonElement)&&u(c,Ws).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}]]))}destroy(){var t,e,s,r;(t=u(this,An))==null||t.resolve(),_(this,An,null),(e=u(this,hc))==null||e.abort(),_(this,hc,null),this._signal=null;for(const o of u(this,ii).values())o.destroy();u(this,ii).clear(),u(this,He).clear(),u(this,uo).clear(),_(this,Yi,null),u(this,Wt).clear(),u(this,Hn).destroy(),(s=u(this,dc))==null||s.destroy(),(r=u(this,ls))==null||r.hide(),_(this,ls,null),u(this,os)&&(clearTimeout(u(this,os)),_(this,os,null)),u(this,cs)&&(clearTimeout(u(this,cs)),_(this,cs,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return u(this,Xh)}get useNewAltTextFlow(){return u(this,Ih)}get useNewAltTextWhenAddingImage(){return u(this,gc)}get hcmFilter(){return qt(this,"hcmFilter",u(this,fo)?u(this,qh).addHCMFilter(u(this,fo).foreground,u(this,fo).background):"none")}get direction(){return qt(this,"direction",getComputedStyle(u(this,Ws)).direction)}get highlightColors(){return qt(this,"highlightColors",u(this,mc)?new Map(u(this,mc).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return qt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){_(this,Vh,t)}editAltText(t,e=!1){var s;(s=u(this,dc))==null||s.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":_(this,gc,e);break}}onPageChanging({pageNumber:t}){_(this,pc,t-1)}focusMainContainer(){u(this,Ws).focus()}findParent(t,e){for(const s of u(this,ii).values()){const{x:r,y:o,width:c,height:d}=s.div.getBoundingClientRect();if(t>=r&&t<=r+c&&e>=o&&e<=o+d)return s}return null}disableUserSelect(t=!1){u(this,$h).classList.toggle("noUserSelect",t)}addShouldRescale(t){u(this,uo).add(t)}removeShouldRescale(t){u(this,uo).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*wr.PDF_TO_CSS_UNITS;for(const e of u(this,uo))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:s,anchorOffset:r,focusNode:o,focusOffset:c}=e,d=e.toString(),g=w(this,ot,Rp).call(this,e).closest(".textLayer"),m=this.getSelectionBoxes(g);if(!m)return;e.empty();const b=w(this,ot,Rb).call(this,g),v=u(this,$e)===Nt.NONE,S=()=>{b==null||b.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:s,anchorOffset:r,focusNode:o,focusOffset:c,text:d}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(Nt.HIGHLIGHT,S);return}S()}addToAnnotationStorage(t){!t.isEmpty()&&u(this,Ks)&&!u(this,Ks).has(t.id)&&u(this,Ks).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,u(this,er)&&(_(this,er,!1),w(this,ot,Cp).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of u(this,Wt))if(e.div.contains(t)){_(this,ho,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!u(this,ho))return;const[t,e]=u(this,ho);_(this,ho,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){w(this,ot,Cb).call(this),w(this,ot,Mb).call(this)}removeEditListeners(){w(this,ot,xw).call(this),w(this,ot,Db).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const s of u(this,zn))if(s.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const s of u(this,zn))if(s.isHandlingMimeForPasting(e.type)){s.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var s;if(t.preventDefault(),(s=u(this,Yi))==null||s.commitOrRemove(),!this.hasSelection)return;const e=[];for(const r of u(this,Wt)){const o=r.serialize(!0);o&&e.push(o)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const o of e.items)for(const c of u(this,zn))if(c.isHandlingMimeForPasting(o.type)){c.paste(o,this.currentLayer);return}let s=e.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(o){Ft(`paste: "${o.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const p of s){const g=await r.deserialize(p);if(!g)return;o.push(g)}const c=()=>{for(const p of o)w(this,ot,Lb).call(this,p);w(this,ot,Ob).call(this,o)},d=()=>{for(const p of o)p.remove()};this.addCommands({cmd:c,undo:d,mustExec:!0})}catch(o){Ft(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),u(this,$e)!==Nt.NONE&&!this.isEditorHandlingKeyboard&&sc._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,u(this,er)&&(_(this,er,!1),w(this,ot,Cp).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(w(this,ot,ww).call(this),w(this,ot,Mb).call(this),w(this,ot,Ei).call(this,{isEditing:u(this,$e)!==Nt.NONE,isEmpty:w(this,ot,gh).call(this),hasSomethingToUndo:u(this,Hn).hasSomethingToUndo(),hasSomethingToRedo:u(this,Hn).hasSomethingToRedo(),hasSelectedEditor:!1})):(w(this,ot,Tw).call(this),w(this,ot,Db).call(this),w(this,ot,Ei).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!u(this,zn)){_(this,zn,t);for(const e of u(this,zn))w(this,ot,Ka).call(this,e.defaultPropertiesToUpdate)}}getId(){return u(this,ug).id}get currentLayer(){return u(this,ii).get(u(this,pc))}getLayer(t){return u(this,ii).get(t)}get currentPageIndex(){return u(this,pc)}addLayer(t){u(this,ii).set(t.pageIndex,t),u(this,ir)?t.enable():t.disable()}removeLayer(t){u(this,ii).delete(t.pageIndex)}async updateMode(t,e=null,s=!1){if(u(this,$e)!==t&&!(u(this,An)&&(await u(this,An).promise,!u(this,An)))){if(_(this,An,Promise.withResolvers()),_(this,$e,t),t===Nt.NONE){this.setEditingState(!1),w(this,ot,Mw).call(this),u(this,An).resolve();return}this.setEditingState(!0),await w(this,ot,Cw).call(this),this.unselectAll();for(const r of u(this,ii).values())r.updateMode(t);if(!e){s&&this.addNewEditorFromKeyboard(),u(this,An).resolve();return}for(const r of u(this,He).values())r.annotationElementId===e?(this.setSelected(r),r.enterInEditMode()):r.unselect();u(this,An).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==u(this,$e)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var s;if(u(this,zn)){switch(t){case Tt.CREATE:this.currentLayer.addNewEditor();return;case Tt.HIGHLIGHT_DEFAULT_COLOR:(s=u(this,Vh))==null||s.updateColor(e);break;case Tt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(u(this,Yh)||_(this,Yh,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const r of u(this,Wt))r.updateParams(t,e);for(const r of u(this,zn))r.updateDefaultParams(t,e)}}showAllEditors(t,e,s=!1){var o;for(const c of u(this,He).values())c.editorType===t&&c.show(e);(((o=u(this,Yh))==null?void 0:o.get(Tt.HIGHLIGHT_SHOW_ALL))??!0)!==e&&w(this,ot,Ka).call(this,[[Tt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(u(this,Gh)!==t){_(this,Gh,t);for(const e of u(this,ii).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const s of u(this,He).values())s.pageIndex===t&&e.push(s);return e}getEditor(t){return u(this,He).get(t)}addEditor(t){u(this,He).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(u(this,os)&&clearTimeout(u(this,os)),_(this,os,setTimeout(()=>{this.focusMainContainer(),_(this,os,null)},0))),u(this,He).delete(t.id),this.unselect(t),(!t.annotationElementId||!u(this,co).has(t.annotationElementId))&&((e=u(this,Ks))==null||e.remove(t.id))}addDeletedAnnotationElement(t){u(this,co).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return u(this,co).has(t)}removeDeletedAnnotationElement(t){u(this,co).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){u(this,Yi)!==t&&(_(this,Yi,t),t&&w(this,ot,Ka).call(this,t.propertiesToUpdate))}updateUI(t){u(this,ot,Dw)===t&&w(this,ot,Ka).call(this,t.propertiesToUpdate)}toggleSelected(t){if(u(this,Wt).has(t)){u(this,Wt).delete(t),t.unselect(),w(this,ot,Ei).call(this,{hasSelectedEditor:this.hasSelection});return}u(this,Wt).add(t),t.select(),w(this,ot,Ka).call(this,t.propertiesToUpdate),w(this,ot,Ei).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of u(this,Wt))e!==t&&e.unselect();u(this,Wt).clear(),u(this,Wt).add(t),t.select(),w(this,ot,Ka).call(this,t.propertiesToUpdate),w(this,ot,Ei).call(this,{hasSelectedEditor:!0})}isSelected(t){return u(this,Wt).has(t)}get firstSelectedEditor(){return u(this,Wt).values().next().value}unselect(t){t.unselect(),u(this,Wt).delete(t),w(this,ot,Ei).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return u(this,Wt).size!==0}get isEnterHandled(){return u(this,Wt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){u(this,Hn).undo(),w(this,ot,Ei).call(this,{hasSomethingToUndo:u(this,Hn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:w(this,ot,gh).call(this)})}redo(){u(this,Hn).redo(),w(this,ot,Ei).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,Hn).hasSomethingToRedo(),isEmpty:w(this,ot,gh).call(this)})}addCommands(t){u(this,Hn).add(t),w(this,ot,Ei).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:w(this,ot,gh).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...u(this,Wt)],e=()=>{for(const r of t)r.remove()},s=()=>{for(const r of t)w(this,ot,Lb).call(this,r)};this.addCommands({cmd:e,undo:s,mustExec:!0})}commitOrRemove(){var t;(t=u(this,Yi))==null||t.commitOrRemove()}hasSomethingToControl(){return u(this,Yi)||this.hasSelection}selectAll(){for(const t of u(this,Wt))t.commit();w(this,ot,Ob).call(this,u(this,He).values())}unselectAll(){if(!(u(this,Yi)&&(u(this,Yi).commitOrRemove(),u(this,$e)!==Nt.NONE))&&this.hasSelection){for(const t of u(this,Wt))t.unselect();u(this,Wt).clear(),w(this,ot,Ei).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;u(this,sr)[0]+=t,u(this,sr)[1]+=e;const[r,o]=u(this,sr),c=[...u(this,Wt)],d=1e3;u(this,cs)&&clearTimeout(u(this,cs)),_(this,cs,setTimeout(()=>{_(this,cs,null),u(this,sr)[0]=u(this,sr)[1]=0,this.addCommands({cmd:()=>{for(const p of c)u(this,He).has(p.id)&&p.translateInPage(r,o)},undo:()=>{for(const p of c)u(this,He).has(p.id)&&p.translateInPage(-r,-o)},mustExec:!1})},d));for(const p of c)p.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),_(this,rs,new Map);for(const t of u(this,Wt))u(this,rs).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!u(this,rs))return!1;this.disableUserSelect(!1);const t=u(this,rs);_(this,rs,null);let e=!1;for(const[{x:r,y:o,pageIndex:c},d]of t)d.newX=r,d.newY=o,d.newPageIndex=c,e||(e=r!==d.savedX||o!==d.savedY||c!==d.savedPageIndex);if(!e)return!1;const s=(r,o,c,d)=>{if(u(this,He).has(r.id)){const p=u(this,ii).get(d);p?r._setParentAndPosition(p,o,c):(r.pageIndex=d,r.x=o,r.y=c)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:c,newPageIndex:d}]of t)s(r,o,c,d)},undo:()=>{for(const[r,{savedX:o,savedY:c,savedPageIndex:d}]of t)s(r,o,c,d)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(u(this,rs))for(const s of u(this,rs).keys())s.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||u(this,Wt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return u(this,Yi)===t}getActive(){return u(this,Yi)}getMode(){return u(this,$e)}get imageManager(){return qt(this,"imageManager",new Tb)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let g=0,m=e.rangeCount;g<m;g++)if(!t.contains(e.getRangeAt(g).commonAncestorContainer))return null;const{x:s,y:r,width:o,height:c}=t.getBoundingClientRect();let d;switch(t.getAttribute("data-main-rotation")){case"90":d=(g,m,b,v)=>({x:(m-r)/c,y:1-(g+b-s)/o,width:v/c,height:b/o});break;case"180":d=(g,m,b,v)=>({x:1-(g+b-s)/o,y:1-(m+v-r)/c,width:b/o,height:v/c});break;case"270":d=(g,m,b,v)=>({x:1-(m+v-r)/c,y:(g-s)/o,width:v/c,height:b/o});break;default:d=(g,m,b,v)=>({x:(g-s)/o,y:(m-r)/c,width:b/o,height:v/c});break}const p=[];for(let g=0,m=e.rangeCount;g<m;g++){const b=e.getRangeAt(g);if(!b.collapsed)for(const{x:v,y:S,width:E,height:T}of b.getClientRects())E===0||T===0||p.push(d(v,S,E,T))}return p.length===0?null:p}addChangedExistingAnnotation({annotationElementId:t,id:e}){(u(this,fc)||_(this,fc,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=u(this,fc))==null||e.delete(t)}renderAnnotationElement(t){var r;const e=(r=u(this,fc))==null?void 0:r.get(t.data.id);if(!e)return;const s=u(this,Ks).getRawValue(e);s&&(u(this,$e)===Nt.NONE&&!s.hasBeenModified||s.renderAnnotationElement(t))}};hc=new WeakMap,Yi=new WeakMap,He=new WeakMap,ii=new WeakMap,dc=new WeakMap,Ks=new WeakMap,fc=new WeakMap,Hn=new WeakMap,Ja=new WeakMap,pc=new WeakMap,co=new WeakMap,rs=new WeakMap,zn=new WeakMap,uo=new WeakMap,jh=new WeakMap,Ih=new WeakMap,gc=new WeakMap,qh=new WeakMap,os=new WeakMap,tr=new WeakMap,mc=new WeakMap,er=new WeakMap,ls=new WeakMap,ug=new WeakMap,ir=new WeakMap,Gh=new WeakMap,nr=new WeakMap,ho=new WeakMap,Vh=new WeakMap,Xh=new WeakMap,$e=new WeakMap,Wt=new WeakMap,$s=new WeakMap,fo=new WeakMap,Yh=new WeakMap,Kh=new WeakMap,sr=new WeakMap,cs=new WeakMap,Ws=new WeakMap,$h=new WeakMap,An=new WeakMap,ot=new WeakSet,Rp=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},Rb=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const s of u(this,ii).values())if(s.hasTextLayer(t))return s;return null},Sw=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const s=w(this,ot,Rp).call(this,t).closest(".textLayer"),r=this.getSelectionBoxes(s);r&&(u(this,ls)||_(this,ls,new aD(this)),u(this,ls).show(s,r,this.direction==="ltr"))},Ew=function(){var o,c,d;const t=document.getSelection();if(!t||t.isCollapsed){u(this,$s)&&((o=u(this,ls))==null||o.hide(),_(this,$s,null),w(this,ot,Ei).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===u(this,$s))return;const r=w(this,ot,Rp).call(this,t).closest(".textLayer");if(!r){u(this,$s)&&((c=u(this,ls))==null||c.hide(),_(this,$s,null),w(this,ot,Ei).call(this,{hasSelectedText:!1}));return}if((d=u(this,ls))==null||d.hide(),_(this,$s,e),w(this,ot,Ei).call(this,{hasSelectedText:!0}),!(u(this,$e)!==Nt.HIGHLIGHT&&u(this,$e)!==Nt.NONE)&&(u(this,$e)===Nt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),_(this,er,this.isShiftKeyDown),!this.isShiftKeyDown)){const p=u(this,$e)===Nt.HIGHLIGHT?w(this,ot,Rb).call(this,r):null;p==null||p.toggleDrawing();const g=new AbortController,m=this.combinedSignal(g),b=v=>{v.type==="pointerup"&&v.button!==0||(g.abort(),p==null||p.toggleDrawing(!0),v.type==="pointerup"&&w(this,ot,Cp).call(this,"main_toolbar"))};window.addEventListener("pointerup",b,{signal:m}),window.addEventListener("blur",b,{signal:m})}},Cp=function(t=""){u(this,$e)===Nt.HIGHLIGHT?this.highlightSelection(t):u(this,jh)&&w(this,ot,Sw).call(this)},_w=function(){document.addEventListener("selectionchange",w(this,ot,Ew).bind(this),{signal:this._signal})},ww=function(){if(u(this,tr))return;_(this,tr,new AbortController);const t=this.combinedSignal(u(this,tr));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},Tw=function(){var t;(t=u(this,tr))==null||t.abort(),_(this,tr,null)},Cb=function(){if(u(this,nr))return;_(this,nr,new AbortController);const t=this.combinedSignal(u(this,nr));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},xw=function(){var t;(t=u(this,nr))==null||t.abort(),_(this,nr,null)},Mb=function(){if(u(this,Ja))return;_(this,Ja,new AbortController);const t=this.combinedSignal(u(this,Ja));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},Db=function(){var t;(t=u(this,Ja))==null||t.abort(),_(this,Ja,null)},Rw=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},Ei=function(t){Object.entries(t).some(([s,r])=>u(this,Kh)[s]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,Kh),t)}),u(this,$e)===Nt.HIGHLIGHT&&t.hasSelectedEditor===!1&&w(this,ot,Ka).call(this,[[Tt.HIGHLIGHT_FREE,!0]]))},Ka=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},Cw=async function(){if(!u(this,ir)){_(this,ir,!0);const t=[];for(const e of u(this,ii).values())t.push(e.enable());await Promise.all(t);for(const e of u(this,He).values())e.enable()}},Mw=function(){if(this.unselectAll(),u(this,ir)){_(this,ir,!1);for(const t of u(this,ii).values())t.disable();for(const t of u(this,He).values())t.disable()}},Lb=function(t){const e=u(this,ii).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},Dw=function(){let t=null;for(t of u(this,Wt));return t},gh=function(){if(u(this,He).size===0)return!0;if(u(this,He).size===1)for(const t of u(this,He).values())return t.isEmpty();return!1},Ob=function(t){for(const e of u(this,Wt))e.unselect();u(this,Wt).clear();for(const e of t)e.isEmpty()||(u(this,Wt).add(e),e.select());w(this,ot,Ei).call(this,{hasSelectedEditor:this.hasSelection})},wt(sc,"TRANSLATE_SMALL",1),wt(sc,"TRANSLATE_BIG",10);let al=sc;var We,us,Un,yc,hs,Ki,bc,ds,Ni,Qs,po,fs,ar,$n,mh,Mp;const _i=class _i{constructor(t){x(this,$n);x(this,We,null);x(this,us,!1);x(this,Un,null);x(this,yc,null);x(this,hs,null);x(this,Ki,null);x(this,bc,!1);x(this,ds,null);x(this,Ni,null);x(this,Qs,null);x(this,po,null);x(this,fs,!1);_(this,Ni,t),_(this,fs,t._uiManager.useNewAltTextFlow),u(_i,ar)||_(_i,ar,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){_i._l10n??(_i._l10n=t)}async render(){const t=_(this,Un,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=_(this,yc,document.createElement("span"));t.append(e),u(this,fs)?(t.classList.add("new"),t.setAttribute("data-l10n-id",u(_i,ar).missing),e.setAttribute("data-l10n-id",u(_i,ar)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=u(this,Ni)._uiManager._signal;t.addEventListener("contextmenu",Cn,{signal:s}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:s});const r=o=>{o.preventDefault(),u(this,Ni)._uiManager.editAltText(u(this,Ni)),u(this,fs)&&u(this,Ni)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:u(this,$n,mh)}})};return t.addEventListener("click",r,{capture:!0,signal:s}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(_(this,bc,!0),r(o))},{signal:s}),await w(this,$n,Mp).call(this),t}finish(){u(this,Un)&&(u(this,Un).focus({focusVisible:u(this,bc)}),_(this,bc,!1))}isEmpty(){return u(this,fs)?u(this,We)===null:!u(this,We)&&!u(this,us)}hasData(){return u(this,fs)?u(this,We)!==null||!!u(this,Qs):this.isEmpty()}get guessedText(){return u(this,Qs)}async setGuessedText(t){u(this,We)===null&&(_(this,Qs,t),_(this,po,await _i._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),w(this,$n,Mp).call(this))}toggleAltTextBadge(t=!1){var e;if(!u(this,fs)||u(this,We)){(e=u(this,ds))==null||e.remove(),_(this,ds,null);return}if(!u(this,ds)){const s=_(this,ds,document.createElement("div"));s.className="noAltTextBadge",u(this,Ni).div.append(s)}u(this,ds).classList.toggle("hidden",!t)}serialize(t){let e=u(this,We);return!t&&u(this,Qs)===e&&(e=u(this,po)),{altText:e,decorative:u(this,us),guessedText:u(this,Qs),textWithDisclaimer:u(this,po)}}get data(){return{altText:u(this,We),decorative:u(this,us)}}set data({altText:t,decorative:e,guessedText:s,textWithDisclaimer:r,cancel:o=!1}){s&&(_(this,Qs,s),_(this,po,r)),!(u(this,We)===t&&u(this,us)===e)&&(o||(_(this,We,t),_(this,us,e)),w(this,$n,Mp).call(this))}toggle(t=!1){u(this,Un)&&(!t&&u(this,Ki)&&(clearTimeout(u(this,Ki)),_(this,Ki,null)),u(this,Un).disabled=!t)}shown(){u(this,Ni)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:u(this,$n,mh)}})}destroy(){var t,e;(t=u(this,Un))==null||t.remove(),_(this,Un,null),_(this,yc,null),_(this,hs,null),(e=u(this,ds))==null||e.remove(),_(this,ds,null)}};We=new WeakMap,us=new WeakMap,Un=new WeakMap,yc=new WeakMap,hs=new WeakMap,Ki=new WeakMap,bc=new WeakMap,ds=new WeakMap,Ni=new WeakMap,Qs=new WeakMap,po=new WeakMap,fs=new WeakMap,ar=new WeakMap,$n=new WeakSet,mh=function(){return u(this,We)&&"added"||u(this,We)===null&&this.guessedText&&"review"||"missing"},Mp=async function(){var r,o,c;const t=u(this,Un);if(!t)return;if(u(this,fs)){if(t.classList.toggle("done",!!u(this,We)),t.setAttribute("data-l10n-id",u(_i,ar)[u(this,$n,mh)]),(r=u(this,yc))==null||r.setAttribute("data-l10n-id",u(_i,ar)[`${u(this,$n,mh)}-label`]),!u(this,We)){(o=u(this,hs))==null||o.remove();return}}else{if(!u(this,We)&&!u(this,us)){t.classList.remove("done"),(c=u(this,hs))==null||c.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=u(this,hs);if(!e){_(this,hs,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${u(this,Ni).id}`;const d=100,p=u(this,Ni)._uiManager._signal;p.addEventListener("abort",()=>{clearTimeout(u(this,Ki)),_(this,Ki,null)},{once:!0}),t.addEventListener("mouseenter",()=>{_(this,Ki,setTimeout(()=>{_(this,Ki,null),u(this,hs).classList.add("show"),u(this,Ni)._reportTelemetry({action:"alt_text_tooltip"})},d))},{signal:p}),t.addEventListener("mouseleave",()=>{var g;u(this,Ki)&&(clearTimeout(u(this,Ki)),_(this,Ki,null)),(g=u(this,hs))==null||g.classList.remove("show")},{signal:p})}u(this,us)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=u(this,We)),e.parentNode||t.append(e);const s=u(this,Ni).getImageForAltText();s==null||s.setAttribute("aria-describedby",e.id)},x(_i,ar,null),wt(_i,"_l10n",null);let ig=_i;var go,Bn,ge,vc,mo,ni,yo,rr,Wh,bo,or,Qh,vo,Zs,ps,Ac,Sc,Sn,Zh,hg,kt,Nb,Jh,kb,Pb,Lw,Ow,Fb,Hb,zb,Nw,Ub,kw,Pw,Fw,Bb,yh;const $t=class $t{constructor(t){x(this,kt);x(this,go,null);x(this,Bn,null);x(this,ge,null);x(this,vc,!1);x(this,mo,!1);x(this,ni,null);x(this,yo,null);x(this,rr,null);x(this,Wh,"");x(this,bo,!1);x(this,or,null);x(this,Qh,!1);x(this,vo,!1);x(this,Zs,!1);x(this,ps,null);x(this,Ac,0);x(this,Sc,0);x(this,Sn,null);wt(this,"_editToolbar",null);wt(this,"_initialOptions",Object.create(null));wt(this,"_initialData",null);wt(this,"_isVisible",!0);wt(this,"_uiManager",null);wt(this,"_focusEventsAllowed",!0);x(this,Zh,!1);x(this,hg,$t._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:s,pageHeight:r,pageX:o,pageY:c}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,r],this.pageTranslation=[o,c];const[d,p]=this.parentDimensions;this.x=t.x/d,this.y=t.y/p,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=$t.prototype._resizeWithKeyboard,e=al.TRANSLATE_SMALL,s=al.TRANSLATE_BIG;return qt(this,"_resizerKeyboardManager",new Jd([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,s]}],[["Escape","mac+Escape"],$t.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return qt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new cD({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if($t._l10n??($t._l10n=t),$t._l10nResizer||($t._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),$t._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);$t._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){ue("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return u(this,Zh)}set _isDraggable(t){var e;_(this,Zh,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=u(this,hg)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):w(this,kt,yh).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(u(this,bo)?_(this,bo,!1):this.parent.setSelected(this))}focusout(t){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,s,r){const[o,c]=this.parentDimensions;[s,r]=this.screenToPageTranslation(s,r),this.x=(t+s)/o,this.y=(e+r)/c,this.fixAndSetPosition()}translate(t,e){w(this,kt,Nb).call(this,this.parentDimensions,t,e)}translateInPage(t,e){u(this,or)||_(this,or,[this.x,this.y]),w(this,kt,Nb).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){u(this,or)||_(this,or,[this.x,this.y]);const[s,r]=this.parentDimensions;if(this.x+=t/s,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:c}=this;const[d,p]=this.getBaseTranslation();o+=d,c+=p,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*c).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!u(this,or)&&(u(this,or)[0]!==this.x||u(this,or)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:s}=$t,r=s/t,o=s/e;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,s]=this.pageDimensions;let{x:r,y:o,width:c,height:d}=this;if(c*=e,d*=s,r*=e,o*=s,this._mustFixPosition)switch(t){case 0:r=Math.max(0,Math.min(e-c,r)),o=Math.max(0,Math.min(s-d,o));break;case 90:r=Math.max(0,Math.min(e-d,r)),o=Math.min(s,Math.max(c,o));break;case 180:r=Math.min(e,Math.max(c,r)),o=Math.min(s,Math.max(d,o));break;case 270:r=Math.min(e,Math.max(d,r)),o=Math.max(0,Math.min(s-c,o));break}this.x=r/=e,this.y=o/=s;const[p,g]=this.getBaseTranslation();r+=p,o+=g;const{style:m}=this.div;m.left=`${(100*r).toFixed(2)}%`,m.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var s;return w(s=$t,Jh,kb).call(s,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var s;return w(s=$t,Jh,kb).call(s,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,s]}=this;return[e*t,s*t]}setDims(t,e){const[s,r]=this.parentDimensions;this.div.style.width=`${(100*t/s).toFixed(2)}%`,u(this,mo)||(this.div.style.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:s}=t,r=s.endsWith("%"),o=!u(this,mo)&&e.endsWith("%");if(r&&o)return;const[c,d]=this.parentDimensions;r||(t.width=`${(100*parseFloat(s)/c).toFixed(2)}%`),!u(this,mo)&&!o&&(t.height=`${(100*parseFloat(e)/d).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=u(this,ge))==null||t.finish()}async addEditToolbar(){return this._editToolbar||u(this,vo)?this._editToolbar:(this._editToolbar=new _b(this),this.div.append(this._editToolbar.render()),u(this,ge)&&await this._editToolbar.addAltText(u(this,ge)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=u(this,ge))==null||t.destroy())}addContainer(t){var s;const e=(s=this._editToolbar)==null?void 0:s.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){u(this,ge)||(ig.initialize($t._l10n),_(this,ge,new ig(this)),u(this,go)&&(u(this,ge).data=u(this,go),_(this,go,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=u(this,ge))==null?void 0:t.data}set altTextData(t){u(this,ge)&&(u(this,ge).data=t)}get guessedAltText(){var t;return(t=u(this,ge))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=u(this,ge))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=u(this,ge))==null?void 0:e.serialize(t)}hasAltText(){return!!u(this,ge)&&!u(this,ge).isEmpty()}hasAltTextData(){var t;return((t=u(this,ge))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=u(this,vc)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),w(this,kt,Ub).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),eg(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=Ti.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(_(this,bo,!0),this._isDraggable){w(this,kt,Nw).call(this,t);return}w(this,kt,zb).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){u(this,ps)&&clearTimeout(u(this,ps)),_(this,ps,setTimeout(()=>{var t;_(this,ps,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,s){t.changeParent(this),this.x=e,this.y=s,this.fixAndSetPosition()}getRect(t,e,s=this.rotation){const r=this.parentScale,[o,c]=this.pageDimensions,[d,p]=this.pageTranslation,g=t/r,m=e/r,b=this.x*o,v=this.y*c,S=this.width*o,E=this.height*c;switch(s){case 0:return[b+g+d,c-v-m-E+p,b+g+S+d,c-v-m+p];case 90:return[b+m+d,c-v+g+p,b+m+E+d,c-v+g+S+p];case 180:return[b-g-S+d,c-v+m+p,b-g+d,c-v+m+E+p];case 270:return[b-m-E+d,c-v-g-S+p,b-m+d,c-v-g+p];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[s,r,o,c]=t,d=o-s,p=c-r;switch(this.rotation){case 0:return[s,e-c,d,p];case 90:return[s,e-r,p,d];case 180:return[o,e-r,d,p];case 270:return[o,e-c,p,d];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){_(this,vo,!0)}disableEditMode(){_(this,vo,!1)}isInEditMode(){return u(this,vo)}shouldGetKeyboardEvents(){return u(this,Zs)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){w(this,kt,Ub).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){ue("An editor must be serializable")}static async deserialize(t,e,s){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:s});r.rotation=t.rotation,_(r,go,t.accessibilityData);const[o,c]=r.pageDimensions,[d,p,g,m]=r.getRectInCurrentCoords(t.rect,c);return r.x=d/o,r.y=p/c,r.width=g/o,r.height=m/c,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=u(this,rr))==null||t.abort(),_(this,rr,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),u(this,ps)&&(clearTimeout(u(this,ps)),_(this,ps,null)),w(this,kt,yh).call(this),this.removeEditToolbar(),u(this,Sn)){for(const e of u(this,Sn).values())clearTimeout(e);_(this,Sn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(w(this,kt,Lw).call(this),u(this,ni).classList.remove("hidden"),eg(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),_(this,yo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=u(this,ni).children;if(!u(this,Bn)){_(this,Bn,Array.from(e));const c=w(this,kt,kw).bind(this),d=w(this,kt,Pw).bind(this),p=this._uiManager._signal;for(const g of u(this,Bn)){const m=g.getAttribute("data-resizer-name");g.setAttribute("role","spinbutton"),g.addEventListener("keydown",c,{signal:p}),g.addEventListener("blur",d,{signal:p}),g.addEventListener("focus",w(this,kt,Fw).bind(this,m),{signal:p}),g.setAttribute("data-l10n-id",$t._l10nResizer[m])}}const s=u(this,Bn)[0];let r=0;for(const c of e){if(c===s)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(u(this,Bn).length/4);if(o!==r){if(o<r)for(let d=0;d<r-o;d++)u(this,ni).append(u(this,ni).firstChild);else if(o>r)for(let d=0;d<o-r;d++)u(this,ni).firstChild.before(u(this,ni).lastChild);let c=0;for(const d of e){const g=u(this,Bn)[c++].getAttribute("data-resizer-name");d.setAttribute("data-l10n-id",$t._l10nResizer[g])}}w(this,kt,Bb).call(this,0),_(this,Zs,!0),u(this,ni).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){u(this,Zs)&&w(this,kt,Hb).call(this,u(this,Wh),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){w(this,kt,yh).call(this),this.div.focus()}select(){var t,e,s;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,o;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(e=this._editToolbar)==null||e.show(),(s=u(this,ge))==null||s.toggleAltTextBadge(!1)}unselect(){var t,e,s,r,o;(t=u(this,ni))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(o=u(this,ge))==null||o.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return u(this,Qh)}set isEditing(t){_(this,Qh,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){_(this,mo,!0);const s=t/e,{style:r}=this.div;r.aspectRatio=s,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){u(this,Sn)||_(this,Sn,new Map);const{action:s}=t;let r=u(this,Sn).get(s);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),u(this,Sn).delete(s),u(this,Sn).size===0&&_(this,Sn,null)},$t._telemetryTimeout),u(this,Sn).set(s,r);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),_(this,vc,!1)}disable(){this.div&&(this.div.tabIndex=-1),_(this,vc,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const s=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),s.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};go=new WeakMap,Bn=new WeakMap,ge=new WeakMap,vc=new WeakMap,mo=new WeakMap,ni=new WeakMap,yo=new WeakMap,rr=new WeakMap,Wh=new WeakMap,bo=new WeakMap,or=new WeakMap,Qh=new WeakMap,vo=new WeakMap,Zs=new WeakMap,ps=new WeakMap,Ac=new WeakMap,Sc=new WeakMap,Sn=new WeakMap,Zh=new WeakMap,hg=new WeakMap,kt=new WeakSet,Nb=function([t,e],s,r){[s,r]=this.screenToPageTranslation(s,r),this.x+=s/t,this.y+=r/e,this.fixAndSetPosition()},Jh=new WeakSet,kb=function(t,e,s){switch(s){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},Pb=function(t){switch(t){case 90:{const[e,s]=this.pageDimensions;return[0,-e/s,s/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,s]=this.pageDimensions;return[0,e/s,-s/e,0]}default:return[1,0,0,1]}},Lw=function(){if(u(this,ni))return;_(this,ni,document.createElement("div")),u(this,ni).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const s of t){const r=document.createElement("div");u(this,ni).append(r),r.classList.add("resizer",s),r.setAttribute("data-resizer-name",s),r.addEventListener("pointerdown",w(this,kt,Ow).bind(this,s),{signal:e}),r.addEventListener("contextmenu",Cn,{signal:e}),r.tabIndex=-1}this.div.prepend(u(this,ni))},Ow=function(t,e){var E;e.preventDefault();const{isMac:s}=Ti.platform;if(e.button!==0||e.ctrlKey&&s)return;(E=u(this,ge))==null||E.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const o=new AbortController,c=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",w(this,kt,Hb).bind(this,t),{passive:!0,capture:!0,signal:c}),window.addEventListener("contextmenu",Cn,{signal:c});const d=this.x,p=this.y,g=this.width,m=this.height,b=this.parent.div.style.cursor,v=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const S=()=>{var T;o.abort(),this.parent.togglePointerEvents(!0),(T=u(this,ge))==null||T.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=b,this.div.style.cursor=v,w(this,kt,Fb).call(this,d,p,g,m)};window.addEventListener("pointerup",S,{signal:c}),window.addEventListener("blur",S,{signal:c})},Fb=function(t,e,s,r){const o=this.x,c=this.y,d=this.width,p=this.height;o===t&&c===e&&d===s&&p===r||this.addCommands({cmd:()=>{this.width=d,this.height=p,this.x=o,this.y=c;const[g,m]=this.parentDimensions;this.setDims(g*d,m*p),this.fixAndSetPosition()},undo:()=>{this.width=s,this.height=r,this.x=t,this.y=e;const[g,m]=this.parentDimensions;this.setDims(g*s,m*r),this.fixAndSetPosition()},mustExec:!0})},Hb=function(t,e){const[s,r]=this.parentDimensions,o=this.x,c=this.y,d=this.width,p=this.height,g=$t.MIN_SIZE/s,m=$t.MIN_SIZE/r,b=Q=>Math.round(Q*1e4)/1e4,v=w(this,kt,Pb).call(this,this.rotation),S=(Q,tt)=>[v[0]*Q+v[2]*tt,v[1]*Q+v[3]*tt],E=w(this,kt,Pb).call(this,360-this.rotation),T=(Q,tt)=>[E[0]*Q+E[2]*tt,E[1]*Q+E[3]*tt];let M,C,L=!1,N=!1;switch(t){case"topLeft":L=!0,M=(Q,tt)=>[0,0],C=(Q,tt)=>[Q,tt];break;case"topMiddle":M=(Q,tt)=>[Q/2,0],C=(Q,tt)=>[Q/2,tt];break;case"topRight":L=!0,M=(Q,tt)=>[Q,0],C=(Q,tt)=>[0,tt];break;case"middleRight":N=!0,M=(Q,tt)=>[Q,tt/2],C=(Q,tt)=>[0,tt/2];break;case"bottomRight":L=!0,M=(Q,tt)=>[Q,tt],C=(Q,tt)=>[0,0];break;case"bottomMiddle":M=(Q,tt)=>[Q/2,tt],C=(Q,tt)=>[Q/2,0];break;case"bottomLeft":L=!0,M=(Q,tt)=>[0,tt],C=(Q,tt)=>[Q,0];break;case"middleLeft":N=!0,M=(Q,tt)=>[0,tt/2],C=(Q,tt)=>[Q,tt/2];break}const F=M(d,p),z=C(d,p);let B=S(...z);const V=b(o+B[0]),Z=b(c+B[1]);let q=1,et=1,[st,St]=this.screenToPageTranslation(e.movementX,e.movementY);if([st,St]=T(st/s,St/r),L){const Q=Math.hypot(d,p);q=et=Math.max(Math.min(Math.hypot(z[0]-F[0]-st,z[1]-F[1]-St)/Q,1/d,1/p),g/d,m/p)}else N?q=Math.max(g,Math.min(1,Math.abs(z[0]-F[0]-st)))/d:et=Math.max(m,Math.min(1,Math.abs(z[1]-F[1]-St)))/p;const gt=b(d*q),dt=b(p*et);B=S(...C(gt,dt));const mt=V-B[0],K=Z-B[1];this.width=gt,this.height=dt,this.x=mt,this.y=K,this.setDims(s*gt,r*dt),this.fixAndSetPosition()},zb=function(t){const{isMac:e}=Ti.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},Nw=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const s=new AbortController,r=this._uiManager.combinedSignal(s);if(e){this.div.classList.add("moving"),_(this,Ac,t.clientX),_(this,Sc,t.clientY);const c=d=>{const{clientX:p,clientY:g}=d,[m,b]=this.screenToPageTranslation(p-u(this,Ac),g-u(this,Sc));_(this,Ac,p),_(this,Sc,g),this._uiManager.dragSelectedEditors(m,b)};window.addEventListener("pointermove",c,{passive:!0,capture:!0,signal:r})}const o=()=>{s.abort(),e&&this.div.classList.remove("moving"),_(this,bo,!1),this._uiManager.endDragSession()||w(this,kt,zb).call(this,t)};window.addEventListener("pointerup",o,{signal:r}),window.addEventListener("blur",o,{signal:r})},Ub=function(){if(u(this,rr)||!this.div)return;_(this,rr,new AbortController);const t=this._uiManager.combinedSignal(u(this,rr));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},kw=function(t){$t._resizerKeyboardManager.exec(this,t)},Pw=function(t){var e;u(this,Zs)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==u(this,ni)&&w(this,kt,yh).call(this)},Fw=function(t){_(this,Wh,u(this,Zs)?t:"")},Bb=function(t){if(u(this,Bn))for(const e of u(this,Bn))e.tabIndex=t},yh=function(){if(_(this,Zs,!1),w(this,kt,Bb).call(this,-1),u(this,yo)){const{savedX:t,savedY:e,savedWidth:s,savedHeight:r}=u(this,yo);w(this,kt,Fb).call(this,t,e,s,r),_(this,yo,null)}},x($t,Jh),wt($t,"_l10n",null),wt($t,"_l10nResizer",null),wt($t,"_borderLineWidth",-1),wt($t,"_colorManager",new xb),wt($t,"_zIndex",1),wt($t,"_telemetryTimeout",1e3);let Zt=$t;class cD extends Zt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const d_=3285377520,vn=4294901760,as=65535;class Hw{constructor(t){this.h1=t?t&4294967295:d_,this.h2=t?t&4294967295:d_}update(t){let e,s;if(typeof t=="string"){e=new Uint8Array(t.length*2),s=0;for(let T=0,M=t.length;T<M;T++){const C=t.charCodeAt(T);C<=255?e[s++]=C:(e[s++]=C>>>8,e[s++]=C&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),s=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=s>>2,o=s-r*4,c=new Uint32Array(e.buffer,0,r);let d=0,p=0,g=this.h1,m=this.h2;const b=3432918353,v=461845907,S=b&as,E=v&as;for(let T=0;T<r;T++)T&1?(d=c[T],d=d*b&vn|d*S&as,d=d<<15|d>>>17,d=d*v&vn|d*E&as,g^=d,g=g<<13|g>>>19,g=g*5+3864292196):(p=c[T],p=p*b&vn|p*S&as,p=p<<15|p>>>17,p=p*v&vn|p*E&as,m^=p,m=m<<13|m>>>19,m=m*5+3864292196);switch(d=0,o){case 3:d^=e[r*4+2]<<16;case 2:d^=e[r*4+1]<<8;case 1:d^=e[r*4],d=d*b&vn|d*S&as,d=d<<15|d>>>17,d=d*v&vn|d*E&as,r&1?g^=d:m^=d}this.h1=g,this.h2=m}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&vn|t*36045&as,e=e*4283543511&vn|((e<<16|t>>>16)*2950163797&vn)>>>16,t^=e>>>1,t=t*444984403&vn|t*60499&as,e=e*3301882366&vn|((e<<16|t>>>16)*3120437893&vn)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const jb=Object.freeze({map:null,hash:"",transfer:void 0});var Ao,So,Qe,dg,zw;class Kv{constructor(){x(this,dg);x(this,Ao,!1);x(this,So,null);x(this,Qe,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const s=u(this,Qe).get(t);return s===void 0?e:Object.assign(e,s)}getRawValue(t){return u(this,Qe).get(t)}remove(t){if(u(this,Qe).delete(t),u(this,Qe).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of u(this,Qe).values())if(e instanceof Zt)return;this.onAnnotationEditor(null)}}setValue(t,e){const s=u(this,Qe).get(t);let r=!1;if(s!==void 0)for(const[o,c]of Object.entries(e))s[o]!==c&&(r=!0,s[o]=c);else r=!0,u(this,Qe).set(t,e);r&&w(this,dg,zw).call(this),e instanceof Zt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return u(this,Qe).has(t)}getAll(){return u(this,Qe).size>0?Iv(u(this,Qe)):null}setAll(t){for(const[e,s]of Object.entries(t))this.setValue(e,s)}get size(){return u(this,Qe).size}resetModified(){u(this,Ao)&&(_(this,Ao,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Uw(this)}get serializable(){if(u(this,Qe).size===0)return jb;const t=new Map,e=new Hw,s=[],r=Object.create(null);let o=!1;for(const[c,d]of u(this,Qe)){const p=d instanceof Zt?d.serialize(!1,r):d;p&&(t.set(c,p),e.update(`${c}:${JSON.stringify(p)}`),o||(o=!!p.bitmap))}if(o)for(const c of t.values())c.bitmap&&s.push(c.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:s}:jb}get editorStats(){let t=null;const e=new Map;for(const s of u(this,Qe).values()){if(!(s instanceof Zt))continue;const r=s.telemetryFinalData;if(!r)continue;const{type:o}=r;e.has(o)||e.set(o,Object.getPrototypeOf(s).constructor),t||(t=Object.create(null));const c=t[o]||(t[o]=new Map);for(const[d,p]of Object.entries(r)){if(d==="type")continue;let g=c.get(d);g||(g=new Map,c.set(d,g));const m=g.get(p)??0;g.set(p,m+1)}}for(const[s,r]of e)t[s]=r.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){_(this,So,null)}get modifiedIds(){if(u(this,So))return u(this,So);const t=[];for(const e of u(this,Qe).values())!(e instanceof Zt)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return _(this,So,{ids:new Set(t),hash:t.join(",")})}}Ao=new WeakMap,So=new WeakMap,Qe=new WeakMap,dg=new WeakSet,zw=function(){u(this,Ao)||(_(this,Ao,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var td;class Uw extends Kv{constructor(e){super();x(this,td);const{map:s,hash:r,transfer:o}=e.serializable,c=structuredClone(s,o?{transfer:o}:null);_(this,td,{map:c,hash:r,transfer:o})}get print(){ue("Should not call PrintAnnotationStorage.print")}get serializable(){return u(this,td)}get modifiedIds(){return qt(this,"modifiedIds",{ids:new Set,hash:""})}}td=new WeakMap;var Ec;class uD{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){x(this,Ec,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),u(this,Ec).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||u(this,Ec).has(t.loadedName))){if(Be(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:o}=t,c=new FontFace(s,r,o);this.addNativeFontFace(c);try{await c.load(),u(this,Ec).add(s),e==null||e(t)}catch{Ft(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}ue("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const s=t.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(r){throw Ft(`Failed to load font '${s.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const r=this._queueLoadingCallback(s);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return qt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(bi||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),qt(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(Be(!r.done,"completeRequest() cannot be called twice."),r.done=!0;s.length>0&&s[0].done;){const o=s.shift();setTimeout(o.callback,0)}}const{loadingRequests:s}=this,r={done:!1,complete:e,callback:t};return s.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return qt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function s(F,z){return F.charCodeAt(z)<<24|F.charCodeAt(z+1)<<16|F.charCodeAt(z+2)<<8|F.charCodeAt(z+3)&255}function r(F,z,B,V){const Z=F.substring(0,z),q=F.substring(z+B);return Z+V+q}let o,c;const d=this._document.createElement("canvas");d.width=1,d.height=1;const p=d.getContext("2d");let g=0;function m(F,z){if(++g>30){Ft("Load test font never loaded."),z();return}if(p.font="30px "+F,p.fillText(".",0,20),p.getImageData(0,0,1,1).data[3]>0){z();return}setTimeout(m.bind(null,F,z))}const b=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=r(v,976,b.length,b);const E=16,T=1482184792;let M=s(v,E);for(o=0,c=b.length-3;o<c;o+=4)M=M-T+s(b,o)|0;o<b.length&&(M=M-T+s(b+"XXX",o)|0),v=r(v,E,4,KM(M));const C=`url(data:font/opentype;base64,${btoa(v)});`,L=`@font-face {font-family:"${b}";src:${C}}`;this.insertRule(L);const N=this._document.createElement("div");N.style.visibility="hidden",N.style.width=N.style.height="10px",N.style.position="absolute",N.style.top=N.style.left="0px";for(const F of[t.loadedName,b]){const z=this._document.createElement("span");z.textContent="Hi",z.style.fontFamily=F,N.append(z)}this._document.body.append(N),m(b,()=>{N.remove(),e.complete()})}}Ec=new WeakMap;class hD{constructor(t,{disableFontFace:e=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(const r in t)this[r]=t[r];this.disableFontFace=e===!0,this._inspectFont=s}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${tD(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(s=this._inspectFont)==null||s.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let s;try{s=t.get(this.loadedName+"_path_"+e)}catch(o){Ft(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(s)||s.length===0)return this.compiledGlyphs[e]=function(o,c){};const r=[];for(let o=0,c=s.length;o<c;)switch(s[o++]){case qs.BEZIER_CURVE_TO:{const[d,p,g,m,b,v]=s.slice(o,o+6);r.push(S=>S.bezierCurveTo(d,p,g,m,b,v)),o+=6}break;case qs.MOVE_TO:{const[d,p]=s.slice(o,o+2);r.push(g=>g.moveTo(d,p)),o+=2}break;case qs.LINE_TO:{const[d,p]=s.slice(o,o+2);r.push(g=>g.lineTo(d,p)),o+=2}break;case qs.QUADRATIC_CURVE_TO:{const[d,p,g,m]=s.slice(o,o+4);r.push(b=>b.quadraticCurveTo(d,p,g,m)),o+=4}break;case qs.RESTORE:r.push(d=>d.restore());break;case qs.SAVE:r.push(d=>d.save());break;case qs.SCALE:Be(r.length===2,"Scale command is only valid at the third position.");break;case qs.TRANSFORM:{const[d,p,g,m,b,v]=s.slice(o,o+6);r.push(S=>S.transform(d,p,g,m,b,v)),o+=6}break;case qs.TRANSLATE:{const[d,p]=s.slice(o,o+2);r.push(g=>g.translate(d,p)),o+=2}break}return this.compiledGlyphs[e]=function(c,d){r[0](c),r[1](c),c.scale(d,-d);for(let p=2,g=r.length;p<g;p++)r[p](c)}}}var ed;class Bw{constructor({enableHWA:t=!1}){x(this,ed,!1);_(this,ed,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(t,e);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!u(this,ed)})}}reset(t,e,s){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||s<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=s}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){ue("Abstract method `_createCanvas` called.")}}ed=new WeakMap;class dD extends Bw{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const s=this._document.createElement("canvas");return s.width=t,s.height=e,s}}class jw{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){ue("Abstract method `_fetch` called.")}}class Iw extends jw{async _fetch(t){const e=await kg(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Ng(e)}}class qw{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,s,r,o){return"none"}destroy(t=!1){}}var Eo,_o,gs,Js,fi,fg,wo,ct,hi,Wl,Ql,Dp,Zl,Gw,Ib,Jl,bh,vh,qb,Ah;class fD extends qw{constructor({docId:e,ownerDocument:s=globalThis.document}){super();x(this,ct);x(this,Eo);x(this,_o);x(this,gs);x(this,Js);x(this,fi);x(this,fg);x(this,wo,0);_(this,Js,e),_(this,fi,s)}addFilter(e){if(!e)return"none";let s=u(this,ct,hi).get(e);if(s)return s;const[r,o,c]=w(this,ct,Dp).call(this,e),d=e.length===1?r:`${r}${o}${c}`;if(s=u(this,ct,hi).get(d),s)return u(this,ct,hi).set(e,s),s;const p=`g_${u(this,Js)}_transfer_map_${Si(this,wo)._++}`,g=w(this,ct,Zl).call(this,p);u(this,ct,hi).set(e,g),u(this,ct,hi).set(d,g);const m=w(this,ct,Jl).call(this,p);return w(this,ct,vh).call(this,r,o,c,m),g}addHCMFilter(e,s){var E;const r=`${e}-${s}`,o="base";let c=u(this,ct,Wl).get(o);if((c==null?void 0:c.key)===r||(c?((E=c.filter)==null||E.remove(),c.key=r,c.url="none",c.filter=null):(c={key:r,url:"none",filter:null},u(this,ct,Wl).set(o,c)),!e||!s))return c.url;const d=w(this,ct,Ah).call(this,e);e=pt.makeHexColor(...d);const p=w(this,ct,Ah).call(this,s);if(s=pt.makeHexColor(...p),u(this,ct,Ql).style.color="",e==="#000000"&&s==="#ffffff"||e===s)return c.url;const g=new Array(256);for(let T=0;T<=255;T++){const M=T/255;g[T]=M<=.03928?M/12.92:((M+.055)/1.055)**2.4}const m=g.join(","),b=`g_${u(this,Js)}_hcm_filter`,v=c.filter=w(this,ct,Jl).call(this,b);w(this,ct,vh).call(this,m,m,m,v),w(this,ct,Ib).call(this,v);const S=(T,M)=>{const C=d[T]/255,L=p[T]/255,N=new Array(M+1);for(let F=0;F<=M;F++)N[F]=C+F/M*(L-C);return N.join(",")};return w(this,ct,vh).call(this,S(0,5),S(1,5),S(2,5),v),c.url=w(this,ct,Zl).call(this,b),c.url}addAlphaFilter(e){let s=u(this,ct,hi).get(e);if(s)return s;const[r]=w(this,ct,Dp).call(this,[e]),o=`alpha_${r}`;if(s=u(this,ct,hi).get(o),s)return u(this,ct,hi).set(e,s),s;const c=`g_${u(this,Js)}_alpha_map_${Si(this,wo)._++}`,d=w(this,ct,Zl).call(this,c);u(this,ct,hi).set(e,d),u(this,ct,hi).set(o,d);const p=w(this,ct,Jl).call(this,c);return w(this,ct,qb).call(this,r,p),d}addLuminosityFilter(e){let s=u(this,ct,hi).get(e||"luminosity");if(s)return s;let r,o;if(e?([r]=w(this,ct,Dp).call(this,[e]),o=`luminosity_${r}`):o="luminosity",s=u(this,ct,hi).get(o),s)return u(this,ct,hi).set(e,s),s;const c=`g_${u(this,Js)}_luminosity_map_${Si(this,wo)._++}`,d=w(this,ct,Zl).call(this,c);u(this,ct,hi).set(e,d),u(this,ct,hi).set(o,d);const p=w(this,ct,Jl).call(this,c);return w(this,ct,Gw).call(this,p),e&&w(this,ct,qb).call(this,r,p),d}addHighlightHCMFilter(e,s,r,o,c){var L;const d=`${s}-${r}-${o}-${c}`;let p=u(this,ct,Wl).get(e);if((p==null?void 0:p.key)===d||(p?((L=p.filter)==null||L.remove(),p.key=d,p.url="none",p.filter=null):(p={key:d,url:"none",filter:null},u(this,ct,Wl).set(e,p)),!s||!r))return p.url;const[g,m]=[s,r].map(w(this,ct,Ah).bind(this));let b=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),v=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),[S,E]=[o,c].map(w(this,ct,Ah).bind(this));v<b&&([b,v,S,E]=[v,b,E,S]),u(this,ct,Ql).style.color="";const T=(N,F,z)=>{const B=new Array(256),V=(v-b)/z,Z=N/255,q=(F-N)/(255*z);let et=0;for(let st=0;st<=z;st++){const St=Math.round(b+st*V),gt=Z+st*q;for(let dt=et;dt<=St;dt++)B[dt]=gt;et=St+1}for(let st=et;st<256;st++)B[st]=B[et-1];return B.join(",")},M=`g_${u(this,Js)}_hcm_${e}_filter`,C=p.filter=w(this,ct,Jl).call(this,M);return w(this,ct,Ib).call(this,C),w(this,ct,vh).call(this,T(S[0],E[0],5),T(S[1],E[1],5),T(S[2],E[2],5),C),p.url=w(this,ct,Zl).call(this,M),p.url}destroy(e=!1){e&&u(this,ct,Wl).size!==0||(u(this,gs)&&(u(this,gs).parentNode.parentNode.remove(),_(this,gs,null)),u(this,_o)&&(u(this,_o).clear(),_(this,_o,null)),_(this,wo,0))}}Eo=new WeakMap,_o=new WeakMap,gs=new WeakMap,Js=new WeakMap,fi=new WeakMap,fg=new WeakMap,wo=new WeakMap,ct=new WeakSet,hi=function(){return u(this,_o)||_(this,_o,new Map)},Wl=function(){return u(this,fg)||_(this,fg,new Map)},Ql=function(){if(!u(this,gs)){const e=u(this,fi).createElement("div"),{style:s}=e;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const r=u(this,fi).createElementNS(Vs,"svg");r.setAttribute("width",0),r.setAttribute("height",0),_(this,gs,u(this,fi).createElementNS(Vs,"defs")),e.append(r),r.append(u(this,gs)),u(this,fi).body.append(e)}return u(this,gs)},Dp=function(e){if(e.length===1){const g=e[0],m=new Array(256);for(let v=0;v<256;v++)m[v]=g[v]/255;const b=m.join(",");return[b,b,b]}const[s,r,o]=e,c=new Array(256),d=new Array(256),p=new Array(256);for(let g=0;g<256;g++)c[g]=s[g]/255,d[g]=r[g]/255,p[g]=o[g]/255;return[c.join(","),d.join(","),p.join(",")]},Zl=function(e){if(u(this,Eo)===void 0){_(this,Eo,"");const s=u(this,fi).URL;s!==u(this,fi).baseURI&&(Pg(s)?Ft('#createUrl: ignore "data:"-URL for performance reasons.'):_(this,Eo,s.split("#",1)[0]))}return`url(${u(this,Eo)}#${e})`},Gw=function(e){const s=u(this,fi).createElementNS(Vs,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(s)},Ib=function(e){const s=u(this,fi).createElementNS(Vs,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(s)},Jl=function(e){const s=u(this,fi).createElementNS(Vs,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",e),u(this,ct,Ql).append(s),s},bh=function(e,s,r){const o=u(this,fi).createElementNS(Vs,s);o.setAttribute("type","discrete"),o.setAttribute("tableValues",r),e.append(o)},vh=function(e,s,r,o){const c=u(this,fi).createElementNS(Vs,"feComponentTransfer");o.append(c),w(this,ct,bh).call(this,c,"feFuncR",e),w(this,ct,bh).call(this,c,"feFuncG",s),w(this,ct,bh).call(this,c,"feFuncB",r)},qb=function(e,s){const r=u(this,fi).createElementNS(Vs,"feComponentTransfer");s.append(r),w(this,ct,bh).call(this,r,"feFuncA",e)},Ah=function(e){return u(this,ct,Ql).style.color=e,Yv(getComputedStyle(u(this,ct,Ql)).getPropertyValue("color"))};class Vw{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(s=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){ue("Abstract method `_fetch` called.")}}class Xw extends Vw{async _fetch(t){const e=await kg(t,"arraybuffer");return new Uint8Array(e)}}if(bi){var Gb=Promise.withResolvers(),Lh=null;(async()=>{const t=await pp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await pp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await pp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await pp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let o,c;return new Map(Object.entries({fs:t,http:e,https:s,url:r,canvas:o,path2d:c}))})().then(t=>{Lh=t,Gb.resolve()},t=>{Ft(`loadPackages: ${t}`),Lh=new Map,Gb.resolve()})}class Tr{static get promise(){return Gb.promise}static get(t){return Lh==null?void 0:Lh.get(t)}}async function Yw(h){const e=await Tr.get("fs").promises.readFile(h);return new Uint8Array(e)}class pD extends qw{}class gD extends Bw{_createCanvas(t,e){return Tr.get("canvas").createCanvas(t,e)}}class mD extends jw{async _fetch(t){return Yw(t)}}class yD extends Vw{async _fetch(t){return Yw(t)}}const wi={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Vb(h,t){if(!t)return;const e=t[2]-t[0],s=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,s),h.clip(r)}class $v{getPattern(){ue("Abstract method `getPattern` called.")}}class bD extends $v{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)e.addColorStop(s[0],s[1]);return e}getPattern(t,e,s,r){let o;if(r===wi.STROKE||r===wi.FILL){const c=e.current.getClippedPathBoundingBox(r,ye(t))||[0,0,0,0],d=Math.ceil(c[2]-c[0])||1,p=Math.ceil(c[3]-c[1])||1,g=e.cachedCanvases.getCanvas("pattern",d,p),m=g.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-c[0],-c[1]),s=pt.transform(s,[1,0,0,1,c[0],c[1]]),m.transform(...e.baseTransform),this.matrix&&m.transform(...this.matrix),Vb(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),o=t.createPattern(g.canvas,"no-repeat");const b=new DOMMatrix(s);o.setTransform(b)}else Vb(t,this._bbox),o=this._createGradient(t);return o}}function lb(h,t,e,s,r,o,c,d){const p=t.coords,g=t.colors,m=h.data,b=h.width*4;let v;p[e+1]>p[s+1]&&(v=e,e=s,s=v,v=o,o=c,c=v),p[s+1]>p[r+1]&&(v=s,s=r,r=v,v=c,c=d,d=v),p[e+1]>p[s+1]&&(v=e,e=s,s=v,v=o,o=c,c=v);const S=(p[e]+t.offsetX)*t.scaleX,E=(p[e+1]+t.offsetY)*t.scaleY,T=(p[s]+t.offsetX)*t.scaleX,M=(p[s+1]+t.offsetY)*t.scaleY,C=(p[r]+t.offsetX)*t.scaleX,L=(p[r+1]+t.offsetY)*t.scaleY;if(E>=L)return;const N=g[o],F=g[o+1],z=g[o+2],B=g[c],V=g[c+1],Z=g[c+2],q=g[d],et=g[d+1],st=g[d+2],St=Math.round(E),gt=Math.round(L);let dt,mt,K,Q,tt,Ct,O,W;for(let lt=St;lt<=gt;lt++){if(lt<M){const _t=lt<E?0:(E-lt)/(E-M);dt=S-(S-T)*_t,mt=N-(N-B)*_t,K=F-(F-V)*_t,Q=z-(z-Z)*_t}else{let _t;lt>L?_t=1:M===L?_t=0:_t=(M-lt)/(M-L),dt=T-(T-C)*_t,mt=B-(B-q)*_t,K=V-(V-et)*_t,Q=Z-(Z-st)*_t}let at;lt<E?at=0:lt>L?at=1:at=(E-lt)/(E-L),tt=S-(S-C)*at,Ct=N-(N-q)*at,O=F-(F-et)*at,W=z-(z-st)*at;const it=Math.round(Math.min(dt,tt)),Et=Math.round(Math.max(dt,tt));let ht=b*lt+it*4;for(let _t=it;_t<=Et;_t++)at=(dt-_t)/(dt-tt),at<0?at=0:at>1&&(at=1),m[ht++]=mt-(mt-Ct)*at|0,m[ht++]=K-(K-O)*at|0,m[ht++]=Q-(Q-W)*at|0,m[ht++]=255}}function vD(h,t,e){const s=t.coords,r=t.colors;let o,c;switch(t.type){case"lattice":const d=t.verticesPerRow,p=Math.floor(s.length/d)-1,g=d-1;for(o=0;o<p;o++){let m=o*d;for(let b=0;b<g;b++,m++)lb(h,e,s[m],s[m+1],s[m+d],r[m],r[m+1],r[m+d]),lb(h,e,s[m+d+1],s[m+1],s[m+d],r[m+d+1],r[m+1],r[m+d])}break;case"triangles":for(o=0,c=s.length;o<c;o+=3)lb(h,e,s[o],s[o+1],s[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class AD extends $v{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,s){const d=Math.floor(this._bounds[0]),p=Math.floor(this._bounds[1]),g=Math.ceil(this._bounds[2])-d,m=Math.ceil(this._bounds[3])-p,b=Math.min(Math.ceil(Math.abs(g*t[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(m*t[1]*1.1)),3e3),S=g/b,E=m/v,T={coords:this._coords,colors:this._colors,offsetX:-d,offsetY:-p,scaleX:1/S,scaleY:1/E},M=b+2*2,C=v+2*2,L=s.getCanvas("mesh",M,C),N=L.context,F=N.createImageData(b,v);if(e){const B=F.data;for(let V=0,Z=B.length;V<Z;V+=4)B[V]=e[0],B[V+1]=e[1],B[V+2]=e[2],B[V+3]=255}for(const B of this._figures)vD(F,B,T);return N.putImageData(F,2,2),{canvas:L.canvas,offsetX:d-2*S,offsetY:p-2*E,scaleX:S,scaleY:E}}getPattern(t,e,s,r){Vb(t,this._bbox);let o;if(r===wi.SHADING)o=pt.singularValueDecompose2dScale(ye(t));else if(o=pt.singularValueDecompose2dScale(e.baseTransform),this.matrix){const d=pt.singularValueDecompose2dScale(this.matrix);o=[o[0]*d[0],o[1]*d[1]]}const c=this._createMeshCanvas(o,r===wi.SHADING?null:this._background,e.cachedCanvases);return r!==wi.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class SD extends $v{getPattern(){return"hotpink"}}function ED(h){switch(h[0]){case"RadialAxial":return new bD(h);case"Mesh":return new AD(h);case"Dummy":return new SD}throw new Error(`Unknown IR type: ${h[0]}`)}const f_={COLORED:1,UNCOLORED:2},pg=class pg{constructor(t,e,s,r,o){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=s,this.canvasGraphicsFactory=r,this.baseTransform=o}createPatternCanvas(t){const{bbox:e,operatorList:s,paintType:r,tilingType:o,color:c,canvasGraphicsFactory:d}=this;let{xstep:p,ystep:g}=this;p=Math.abs(p),g=Math.abs(g),Lg("TilingType: "+o);const m=e[0],b=e[1],v=e[2],S=e[3],E=v-m,T=S-b,M=pt.singularValueDecompose2dScale(this.matrix),C=pt.singularValueDecompose2dScale(this.baseTransform),L=M[0]*C[0],N=M[1]*C[1];let F=E,z=T,B=!1,V=!1;const Z=Math.ceil(p*L),q=Math.ceil(g*N),et=Math.ceil(E*L),st=Math.ceil(T*N);Z>=et?F=p:B=!0,q>=st?z=g:V=!0;const St=this.getSizeAndScale(F,this.ctx.canvas.width,L),gt=this.getSizeAndScale(z,this.ctx.canvas.height,N),dt=t.cachedCanvases.getCanvas("pattern",St.size,gt.size),mt=dt.context,K=d.createCanvasGraphics(mt);if(K.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(K,r,c),mt.translate(-St.scale*m,-gt.scale*b),K.transform(St.scale,0,0,gt.scale,0,0),mt.save(),this.clipBbox(K,m,b,v,S),K.baseTransform=ye(K.ctx),K.executeOperatorList(s),K.endDrawing(),mt.restore(),B||V){const Q=dt.canvas;B&&(F=p),V&&(z=g);const tt=this.getSizeAndScale(F,this.ctx.canvas.width,L),Ct=this.getSizeAndScale(z,this.ctx.canvas.height,N),O=tt.size,W=Ct.size,lt=t.cachedCanvases.getCanvas("pattern-workaround",O,W),at=lt.context,it=B?Math.floor(E/p):0,Et=V?Math.floor(T/g):0;for(let ht=0;ht<=it;ht++)for(let _t=0;_t<=Et;_t++)at.drawImage(Q,O*ht,W*_t,O,W,0,0,O,W);return{canvas:lt.canvas,scaleX:tt.scale,scaleY:Ct.scale,offsetX:m,offsetY:b}}return{canvas:dt.canvas,scaleX:St.scale,scaleY:gt.scale,offsetX:m,offsetY:b}}getSizeAndScale(t,e,s){const r=Math.max(pg.MAX_PATTERN_SIZE,e);let o=Math.ceil(t*s);return o>=r?o=r:s=o/t,{scale:s,size:o}}clipBbox(t,e,s,r,o){const c=r-e,d=o-s;t.ctx.rect(e,s,c,d),t.current.updateRectMinMax(ye(t.ctx),[e,s,r,o]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,s){const r=t.ctx,o=t.current;switch(e){case f_.COLORED:const c=this.ctx;r.fillStyle=c.fillStyle,r.strokeStyle=c.strokeStyle,o.fillColor=c.fillStyle,o.strokeColor=c.strokeStyle;break;case f_.UNCOLORED:const d=pt.makeHexColor(s[0],s[1],s[2]);r.fillStyle=d,r.strokeStyle=d,o.fillColor=d,o.strokeColor=d;break;default:throw new YM(`Unsupported paint type: ${e}`)}}getPattern(t,e,s,r){let o=s;r!==wi.SHADING&&(o=pt.transform(o,e.baseTransform),this.matrix&&(o=pt.transform(o,this.matrix)));const c=this.createPatternCanvas(e);let d=new DOMMatrix(o);d=d.translate(c.offsetX,c.offsetY),d=d.scale(1/c.scaleX,1/c.scaleY);const p=t.createPattern(c.canvas,"repeat");return p.setTransform(d),p}};wt(pg,"MAX_PATTERN_SIZE",3e3);let Xb=pg;function _D({src:h,srcPos:t=0,dest:e,width:s,height:r,nonBlackColor:o=4294967295,inverseDecode:c=!1}){const d=Ti.isLittleEndian?4278190080:255,[p,g]=c?[o,d]:[d,o],m=s>>3,b=s&7,v=h.length;e=new Uint32Array(e.buffer);let S=0;for(let E=0;E<r;E++){for(const M=t+m;t<M;t++){const C=t<v?h[t]:255;e[S++]=C&128?g:p,e[S++]=C&64?g:p,e[S++]=C&32?g:p,e[S++]=C&16?g:p,e[S++]=C&8?g:p,e[S++]=C&4?g:p,e[S++]=C&2?g:p,e[S++]=C&1?g:p}if(b===0)continue;const T=t<v?h[t++]:255;for(let M=0;M<b;M++)e[S++]=T&1<<7-M?g:p}return{srcPos:t,destPos:S}}const p_=16,g_=100,wD=15,m_=10,y_=1e3,Fi=16;function TD(h,t){if(h._removeMirroring)throw new Error("Context is already forwarding operations.");h.__originalSave=h.save,h.__originalRestore=h.restore,h.__originalRotate=h.rotate,h.__originalScale=h.scale,h.__originalTranslate=h.translate,h.__originalTransform=h.transform,h.__originalSetTransform=h.setTransform,h.__originalResetTransform=h.resetTransform,h.__originalClip=h.clip,h.__originalMoveTo=h.moveTo,h.__originalLineTo=h.lineTo,h.__originalBezierCurveTo=h.bezierCurveTo,h.__originalRect=h.rect,h.__originalClosePath=h.closePath,h.__originalBeginPath=h.beginPath,h._removeMirroring=()=>{h.save=h.__originalSave,h.restore=h.__originalRestore,h.rotate=h.__originalRotate,h.scale=h.__originalScale,h.translate=h.__originalTranslate,h.transform=h.__originalTransform,h.setTransform=h.__originalSetTransform,h.resetTransform=h.__originalResetTransform,h.clip=h.__originalClip,h.moveTo=h.__originalMoveTo,h.lineTo=h.__originalLineTo,h.bezierCurveTo=h.__originalBezierCurveTo,h.rect=h.__originalRect,h.closePath=h.__originalClosePath,h.beginPath=h.__originalBeginPath,delete h._removeMirroring},h.save=function(){t.save(),this.__originalSave()},h.restore=function(){t.restore(),this.__originalRestore()},h.translate=function(s,r){t.translate(s,r),this.__originalTranslate(s,r)},h.scale=function(s,r){t.scale(s,r),this.__originalScale(s,r)},h.transform=function(s,r,o,c,d,p){t.transform(s,r,o,c,d,p),this.__originalTransform(s,r,o,c,d,p)},h.setTransform=function(s,r,o,c,d,p){t.setTransform(s,r,o,c,d,p),this.__originalSetTransform(s,r,o,c,d,p)},h.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},h.rotate=function(s){t.rotate(s),this.__originalRotate(s)},h.clip=function(s){t.clip(s),this.__originalClip(s)},h.moveTo=function(e,s){t.moveTo(e,s),this.__originalMoveTo(e,s)},h.lineTo=function(e,s){t.lineTo(e,s),this.__originalLineTo(e,s)},h.bezierCurveTo=function(e,s,r,o,c,d){t.bezierCurveTo(e,s,r,o,c,d),this.__originalBezierCurveTo(e,s,r,o,c,d)},h.rect=function(e,s,r,o){t.rect(e,s,r,o),this.__originalRect(e,s,r,o)},h.closePath=function(){t.closePath(),this.__originalClosePath()},h.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class xD{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,s){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,s)):(r=this.canvasFactory.create(e,s),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function gp(h,t,e,s,r,o,c,d,p,g){const[m,b,v,S,E,T]=ye(h);if(b===0&&v===0){const L=c*m+E,N=Math.round(L),F=d*S+T,z=Math.round(F),B=(c+p)*m+E,V=Math.abs(Math.round(B)-N)||1,Z=(d+g)*S+T,q=Math.abs(Math.round(Z)-z)||1;return h.setTransform(Math.sign(m),0,0,Math.sign(S),N,z),h.drawImage(t,e,s,r,o,0,0,V,q),h.setTransform(m,b,v,S,E,T),[V,q]}if(m===0&&S===0){const L=d*v+E,N=Math.round(L),F=c*b+T,z=Math.round(F),B=(d+g)*v+E,V=Math.abs(Math.round(B)-N)||1,Z=(c+p)*b+T,q=Math.abs(Math.round(Z)-z)||1;return h.setTransform(0,Math.sign(b),Math.sign(v),0,N,z),h.drawImage(t,e,s,r,o,0,0,q,V),h.setTransform(m,b,v,S,E,T),[q,V]}h.drawImage(t,e,s,r,o,c,d,p,g);const M=Math.hypot(m,b),C=Math.hypot(v,S);return[M*p,C*g]}function RD(h){const{width:t,height:e}=h;if(t>y_||e>y_)return null;const s=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=t+1;let c=new Uint8Array(o*(e+1)),d,p,g;const m=t+7&-8;let b=new Uint8Array(m*e),v=0;for(const C of h.data){let L=128;for(;L>0;)b[v++]=C&L?0:255,L>>=1}let S=0;for(v=0,b[v]!==0&&(c[0]=1,++S),p=1;p<t;p++)b[v]!==b[v+1]&&(c[p]=b[v]?2:1,++S),v++;for(b[v]!==0&&(c[p]=2,++S),d=1;d<e;d++){v=d*m,g=d*o,b[v-m]!==b[v]&&(c[g]=b[v]?1:8,++S);let C=(b[v]?4:0)+(b[v-m]?8:0);for(p=1;p<t;p++)C=(C>>2)+(b[v+1]?4:0)+(b[v-m+1]?8:0),r[C]&&(c[g+p]=r[C],++S),v++;if(b[v-m]!==b[v]&&(c[g+p]=b[v]?2:4,++S),S>s)return null}for(v=m*(e-1),g=d*o,b[v]!==0&&(c[g]=8,++S),p=1;p<t;p++)b[v]!==b[v+1]&&(c[g+p]=b[v]?4:8,++S),v++;if(b[v]!==0&&(c[g+p]=4,++S),S>s)return null;const E=new Int32Array([0,o,-1,0,-o,0,0,0,1]),T=new Path2D;for(d=0;S&&d<=e;d++){let C=d*o;const L=C+t;for(;C<L&&!c[C];)C++;if(C===L)continue;T.moveTo(C%o,d);const N=C;let F=c[C];do{const z=E[F];do C+=z;while(!c[C]);const B=c[C];B!==5&&B!==10?(F=B,c[C]=0):(F=B&51*F>>4,c[C]&=F>>2|F<<2),T.lineTo(C%o,C/o|0),c[C]||--S}while(N!==C);--d}return b=null,c=null,function(C){C.save(),C.scale(1/t,-1/e),C.translate(0,-e),C.fill(T),C.beginPath(),C.restore()}}class b_{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=uw,this.textMatrixScale=1,this.fontMatrix=bb,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=ui.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,s){[e,s]=pt.applyTransform([e,s],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(t,e){const s=pt.applyTransform(e,t),r=pt.applyTransform(e.slice(2),t),o=pt.applyTransform([e[0],e[3]],t),c=pt.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,s[0],r[0],o[0],c[0]),this.minY=Math.min(this.minY,s[1],r[1],o[1],c[1]),this.maxX=Math.max(this.maxX,s[0],r[0],o[0],c[0]),this.maxY=Math.max(this.maxY,s[1],r[1],o[1],c[1])}updateScalingPathMinMax(t,e){pt.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,s,r,o,c,d,p,g,m){const b=pt.bezierBoundingBox(e,s,r,o,c,d,p,g,m);m||this.updateRectMinMax(t,b)}getPathBoundingBox(t=wi.FILL,e=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(t===wi.STROKE){e||ue("Stroke bounding box must include transform.");const r=pt.singularValueDecompose2dScale(e),o=r[0]*this.lineWidth/2,c=r[1]*this.lineWidth/2;s[0]-=o,s[1]-=c,s[2]+=o,s[3]+=c}return s}updateClipFromPath(){const t=pt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=wi.FILL,e=null){return pt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function v_(h,t){if(typeof ImageData<"u"&&t instanceof ImageData){h.putImageData(t,0,0);return}const e=t.height,s=t.width,r=e%Fi,o=(e-r)/Fi,c=r===0?o:o+1,d=h.createImageData(s,Fi);let p=0,g;const m=t.data,b=d.data;let v,S,E,T;if(t.kind===_p.GRAYSCALE_1BPP){const M=m.byteLength,C=new Uint32Array(b.buffer,0,b.byteLength>>2),L=C.length,N=s+7>>3,F=4294967295,z=Ti.isLittleEndian?4278190080:255;for(v=0;v<c;v++){for(E=v<o?Fi:r,g=0,S=0;S<E;S++){const B=M-p;let V=0;const Z=B>N?s:B*8-7,q=Z&-8;let et=0,st=0;for(;V<q;V+=8)st=m[p++],C[g++]=st&128?F:z,C[g++]=st&64?F:z,C[g++]=st&32?F:z,C[g++]=st&16?F:z,C[g++]=st&8?F:z,C[g++]=st&4?F:z,C[g++]=st&2?F:z,C[g++]=st&1?F:z;for(;V<Z;V++)et===0&&(st=m[p++],et=128),C[g++]=st&et?F:z,et>>=1}for(;g<L;)C[g++]=0;h.putImageData(d,0,v*Fi)}}else if(t.kind===_p.RGBA_32BPP){for(S=0,T=s*Fi*4,v=0;v<o;v++)b.set(m.subarray(p,p+T)),p+=T,h.putImageData(d,0,S),S+=Fi;v<c&&(T=s*r*4,b.set(m.subarray(p,p+T)),h.putImageData(d,0,S))}else if(t.kind===_p.RGB_24BPP)for(E=Fi,T=s*E,v=0;v<c;v++){for(v>=o&&(E=r,T=s*E),g=0,S=T;S--;)b[g++]=m[p++],b[g++]=m[p++],b[g++]=m[p++],b[g++]=255;h.putImageData(d,0,v*Fi)}else throw new Error(`bad image kind: ${t.kind}`)}function A_(h,t){if(t.bitmap){h.drawImage(t.bitmap,0,0);return}const e=t.height,s=t.width,r=e%Fi,o=(e-r)/Fi,c=r===0?o:o+1,d=h.createImageData(s,Fi);let p=0;const g=t.data,m=d.data;for(let b=0;b<c;b++){const v=b<o?Fi:r;({srcPos:p}=_D({src:g,srcPos:p,dest:m,width:s,height:v,nonBlackColor:0})),h.putImageData(d,0,b*Fi)}}function dh(h,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of e)h[s]!==void 0&&(t[s]=h[s]);h.setLineDash!==void 0&&(t.setLineDash(h.getLineDash()),t.lineDashOffset=h.lineDashOffset)}function mp(h){if(h.strokeStyle=h.fillStyle="#000000",h.fillRule="nonzero",h.globalAlpha=1,h.lineWidth=1,h.lineCap="butt",h.lineJoin="miter",h.miterLimit=10,h.globalCompositeOperation="source-over",h.font="10px sans-serif",h.setLineDash!==void 0&&(h.setLineDash([]),h.lineDashOffset=0),!bi){const{filter:t}=h;t!=="none"&&t!==""&&(h.filter="none")}}function S_(h,t){if(t)return!0;const e=pt.singularValueDecompose2dScale(h);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*wr.PDF_TO_CSS_UNITS);return e[0]<=s&&e[1]<=s}const CD=["butt","round","square"],MD=["miter","round","bevel"],DD={},E_={};var Rr,Yb,Kb;const n0=class n0{constructor(t,e,s,r,o,{optionalContentConfig:c,markedContentStack:d=null},p,g){x(this,Rr);this.ctx=t,this.current=new b_(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=s,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=c,this.cachedCanvases=new xD(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=p,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=g,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:s=!1,background:r=null}){const o=this.ctx.canvas.width,c=this.ctx.canvas.height,d=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,c),this.ctx.fillStyle=d,s){const p=this.cachedCanvases.getCanvas("transparent",o,c);this.compositeCtx=this.ctx,this.transparentCanvas=p.canvas,this.ctx=p.context,this.ctx.save(),this.ctx.transform(...ye(this.compositeCtx))}this.ctx.save(),mp(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=ye(this.ctx)}executeOperatorList(t,e,s,r){const o=t.argsArray,c=t.fnArray;let d=e||0;const p=o.length;if(p===d)return d;const g=p-d>m_&&typeof s=="function",m=g?Date.now()+wD:0;let b=0;const v=this.commonObjs,S=this.objs;let E;for(;;){if(r!==void 0&&d===r.nextBreakPoint)return r.breakIt(d,s),d;if(E=c[d],E!==Pn.dependency)this[E].apply(this,o[d]);else for(const T of o[d]){const M=T.startsWith("g_")?v:S;if(!M.has(T))return M.get(T,s),d}if(d++,d===p)return d;if(g&&++b>m_){if(Date.now()>m)return s(),d;b=0}}}endDrawing(){w(this,Rr,Yb).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),w(this,Rr,Kb).call(this)}_scaleImage(t,e){const s=t.width??t.displayWidth,r=t.height??t.displayHeight;let o=Math.max(Math.hypot(e[0],e[1]),1),c=Math.max(Math.hypot(e[2],e[3]),1),d=s,p=r,g="prescale1",m,b;for(;o>2&&d>1||c>2&&p>1;){let v=d,S=p;o>2&&d>1&&(v=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),o/=d/v),c>2&&p>1&&(S=p>=16384?Math.floor(p/2)-1||1:Math.ceil(p)/2,c/=p/S),m=this.cachedCanvases.getCanvas(g,v,S),b=m.context,b.clearRect(0,0,v,S),b.drawImage(t,0,0,d,p,0,0,v,S),t=m.canvas,d=v,p=S,g=g==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:d,paintHeight:p}}_createMaskCanvas(t){const e=this.ctx,{width:s,height:r}=t,o=this.current.fillColor,c=this.current.patternFill,d=ye(e);let p,g,m,b;if((t.bitmap||t.data)&&t.count>1){const Z=t.bitmap||t.data.buffer;g=JSON.stringify(c?d:[d.slice(0,4),o]),p=this._cachedBitmapsMap.get(Z),p||(p=new Map,this._cachedBitmapsMap.set(Z,p));const q=p.get(g);if(q&&!c){const et=Math.round(Math.min(d[0],d[2])+d[4]),st=Math.round(Math.min(d[1],d[3])+d[5]);return{canvas:q,offsetX:et,offsetY:st}}m=q}m||(b=this.cachedCanvases.getCanvas("maskCanvas",s,r),A_(b.context,t));let v=pt.transform(d,[1/s,0,0,-1/r,0,0]);v=pt.transform(v,[1,0,0,1,0,-r]);const[S,E,T,M]=pt.getAxialAlignedBoundingBox([0,0,s,r],v),C=Math.round(T-S)||1,L=Math.round(M-E)||1,N=this.cachedCanvases.getCanvas("fillCanvas",C,L),F=N.context,z=S,B=E;F.translate(-z,-B),F.transform(...v),m||(m=this._scaleImage(b.canvas,Gs(F)),m=m.img,p&&c&&p.set(g,m)),F.imageSmoothingEnabled=S_(ye(F),t.interpolate),gp(F,m,0,0,m.width,m.height,0,0,s,r),F.globalCompositeOperation="source-in";const V=pt.transform(Gs(F),[1,0,0,1,-z,-B]);return F.fillStyle=c?o.getPattern(e,this,V,wi.FILL):o,F.fillRect(0,0,s,r),p&&!c&&(this.cachedCanvases.delete("fillCanvas"),p.set(g,N.canvas)),{canvas:N.canvas,offsetX:Math.round(z),offsetY:Math.round(B)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=CD[t]}setLineJoin(t){this.ctx.lineJoin=MD[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(t),s.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,s]of t)switch(e){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.current.fillAlpha=s,this.ctx.globalAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(s,t,e);this.suspendedCtx=this.ctx,this.ctx=r.context;const o=this.ctx;o.setTransform(...ye(this.suspendedCtx)),dh(this.suspendedCtx,o),TD(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),dh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,s,r){const o=r[0],c=r[1],d=r[2]-o,p=r[3]-c;d===0||p===0||(this.genericComposeSMask(e.context,s,d,p,e.subtype,e.backdrop,e.transferMap,o,c,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(s.canvas,0,0),t.restore())}genericComposeSMask(t,e,s,r,o,c,d,p,g,m,b){let v=t.canvas,S=p-m,E=g-b;if(c){const M=pt.makeHexColor(...c);if(S<0||E<0||S+s>v.width||E+r>v.height){const C=this.cachedCanvases.getCanvas("maskExtension",s,r),L=C.context;L.drawImage(v,-S,-E),L.globalCompositeOperation="destination-atop",L.fillStyle=M,L.fillRect(0,0,s,r),L.globalCompositeOperation="source-over",v=C.canvas,S=E=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const C=new Path2D;C.rect(S,E,s,r),t.clip(C),t.globalCompositeOperation="destination-atop",t.fillStyle=M,t.fillRect(S,E,s,r),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),o==="Alpha"&&d?e.filter=this.filterFactory.addAlphaFilter(d):o==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(d));const T=new Path2D;T.rect(p,g,s,r),e.clip(T),e.globalCompositeOperation="destination-in",e.drawImage(v,S,E,s,r,p,g,s,r),e.restore()}save(){this.inSMaskMode?(dh(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),dh(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,s,r,o,c){this.ctx.transform(t,e,s,r,o,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,s){const r=this.ctx,o=this.current;let c=o.x,d=o.y,p,g;const m=ye(r),b=m[0]===0&&m[3]===0||m[1]===0&&m[2]===0,v=b?s.slice(0):null;for(let S=0,E=0,T=t.length;S<T;S++)switch(t[S]|0){case Pn.rectangle:c=e[E++],d=e[E++];const M=e[E++],C=e[E++],L=c+M,N=d+C;r.moveTo(c,d),M===0||C===0?r.lineTo(L,N):(r.lineTo(L,d),r.lineTo(L,N),r.lineTo(c,N)),b||o.updateRectMinMax(m,[c,d,L,N]),r.closePath();break;case Pn.moveTo:c=e[E++],d=e[E++],r.moveTo(c,d),b||o.updatePathMinMax(m,c,d);break;case Pn.lineTo:c=e[E++],d=e[E++],r.lineTo(c,d),b||o.updatePathMinMax(m,c,d);break;case Pn.curveTo:p=c,g=d,c=e[E+4],d=e[E+5],r.bezierCurveTo(e[E],e[E+1],e[E+2],e[E+3],c,d),o.updateCurvePathMinMax(m,p,g,e[E],e[E+1],e[E+2],e[E+3],c,d,v),E+=6;break;case Pn.curveTo2:p=c,g=d,r.bezierCurveTo(c,d,e[E],e[E+1],e[E+2],e[E+3]),o.updateCurvePathMinMax(m,p,g,c,d,e[E],e[E+1],e[E+2],e[E+3],v),c=e[E+2],d=e[E+3],E+=4;break;case Pn.curveTo3:p=c,g=d,c=e[E+2],d=e[E+3],r.bezierCurveTo(e[E],e[E+1],c,d,c,d),o.updateCurvePathMinMax(m,p,g,e[E],e[E+1],c,d,c,d,v),E+=4;break;case Pn.closePath:r.closePath();break}b&&o.updateScalingPathMinMax(m,v),o.setCurrentPoint(c,d)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,s=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof s=="object"&&(s!=null&&s.getPattern)?(e.save(),e.strokeStyle=s.getPattern(e,this,Gs(e),wi.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,s=this.current.fillColor,r=this.current.patternFill;let o=!1;r&&(e.save(),e.fillStyle=s.getPattern(e,this,Gs(e),wi.FILL),o=!0);const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),o&&e.restore(),t&&this.consumePath(c)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=DD}eoClip(){this.pendingClip=E_}beginText(){this.current.textMatrix=uw,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const s of t)e.setTransform(...s.transform),e.translate(s.x,s.y),s.addToPath(e,s.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var m;const s=this.commonObjs.get(t),r=this.current;if(!s)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=s.fontMatrix||bb,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Ft("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=e,s.isType3Font)return;const o=s.loadedName||"sans-serif",c=((m=s.systemFontInfo)==null?void 0:m.css)||`"${o}", ${s.fallbackName}`;let d="normal";s.black?d="900":s.bold&&(d="bold");const p=s.italic?"italic":"normal";let g=e;e<p_?g=p_:e>g_&&(g=g_),this.current.fontSizeScale=e/g,this.ctx.font=`${p} ${d} ${g}px ${c}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,s,r,o,c){this.current.textMatrix=[t,e,s,r,o,c],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,s,r){const o=this.ctx,c=this.current,d=c.font,p=c.textRenderingMode,g=c.fontSize/c.fontSizeScale,m=p&ui.FILL_STROKE_MASK,b=!!(p&ui.ADD_TO_PATH_FLAG),v=c.patternFill&&!d.missingFile;let S;(d.disableFontFace||b||v)&&(S=d.getPathGenerator(this.commonObjs,t)),d.disableFontFace||v?(o.save(),o.translate(e,s),o.beginPath(),S(o,g),r&&o.setTransform(...r),(m===ui.FILL||m===ui.FILL_STROKE)&&o.fill(),(m===ui.STROKE||m===ui.FILL_STROKE)&&o.stroke(),o.restore()):((m===ui.FILL||m===ui.FILL_STROKE)&&o.fillText(t,e,s),(m===ui.STROKE||m===ui.FILL_STROKE)&&o.strokeText(t,e,s)),b&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:ye(o),x:e,y:s,fontSize:g,addToPath:S})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let s=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){s=!0;break}return qt(this,"isFontSubpixelAAEnabled",s)}showText(t){const e=this.current,s=e.font;if(s.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const o=this.ctx,c=e.fontSizeScale,d=e.charSpacing,p=e.wordSpacing,g=e.fontDirection,m=e.textHScale*g,b=t.length,v=s.vertical,S=v?1:-1,E=s.defaultVMetrics,T=r*e.fontMatrix[0],M=e.textRenderingMode===ui.FILL&&!s.disableFontFace&&!e.patternFill;o.save(),o.transform(...e.textMatrix),o.translate(e.x,e.y+e.textRise),g>0?o.scale(m,-1):o.scale(m,1);let C;if(e.patternFill){o.save();const B=e.fillColor.getPattern(o,this,Gs(o),wi.FILL);C=ye(o),o.restore(),o.fillStyle=B}let L=e.lineWidth;const N=e.textMatrixScale;if(N===0||L===0){const B=e.textRenderingMode&ui.FILL_STROKE_MASK;(B===ui.STROKE||B===ui.FILL_STROKE)&&(L=this.getSinglePixelWidth())}else L/=N;if(c!==1&&(o.scale(c,c),L/=c),o.lineWidth=L,s.isInvalidPDFjsFont){const B=[];let V=0;for(const Z of t)B.push(Z.unicode),V+=Z.width;o.fillText(B.join(""),0,0),e.x+=V*T*m,o.restore(),this.compose();return}let F=0,z;for(z=0;z<b;++z){const B=t[z];if(typeof B=="number"){F+=S*B*r/1e3;continue}let V=!1;const Z=(B.isSpace?p:0)+d,q=B.fontChar,et=B.accent;let st,St,gt=B.width;if(v){const mt=B.vmetric||E,K=-(B.vmetric?mt[1]:gt*.5)*T,Q=mt[2]*T;gt=mt?-mt[0]:gt,st=K/c,St=(F+Q)/c}else st=F/c,St=0;if(s.remeasure&&gt>0){const mt=o.measureText(q).width*1e3/r*c;if(gt<mt&&this.isFontSubpixelAAEnabled){const K=gt/mt;V=!0,o.save(),o.scale(K,1),st/=K}else gt!==mt&&(st+=(gt-mt)/2e3*r/c)}if(this.contentVisible&&(B.isInFont||s.missingFile)){if(M&&!et)o.fillText(q,st,St);else if(this.paintChar(q,st,St,C),et){const mt=st+r*et.offset.x/c,K=St-r*et.offset.y/c;this.paintChar(et.fontChar,mt,K,C)}}const dt=v?gt*T-Z*g:gt*T+Z*g;F+=dt,V&&o.restore()}v?e.y-=F:e.x+=F*m,o.restore(),this.compose()}showType3Text(t){const e=this.ctx,s=this.current,r=s.font,o=s.fontSize,c=s.fontDirection,d=r.vertical?1:-1,p=s.charSpacing,g=s.wordSpacing,m=s.textHScale*c,b=s.fontMatrix||bb,v=t.length,S=s.textRenderingMode===ui.INVISIBLE;let E,T,M,C;if(!(S||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...s.textMatrix),e.translate(s.x,s.y),e.scale(m,c),E=0;E<v;++E){if(T=t[E],typeof T=="number"){C=d*T*o/1e3,this.ctx.translate(C,0),s.x+=C*m;continue}const L=(T.isSpace?g:0)+p,N=r.charProcOperatorList[T.operatorListId];if(!N){Ft(`Type3 character "${T.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=T,this.save(),e.scale(o,o),e.transform(...b),this.executeOperatorList(N),this.restore()),M=pt.applyTransform([T.width,0],b)[0]*o+L,e.translate(M,0),s.x+=M*m}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,s,r,o,c){this.ctx.rect(s,r,o-s,c-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const s=t[1],r=this.baseTransform||ye(this.ctx),o={createCanvasGraphics:c=>new n0(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Xb(t,s,this.ctx,o,r)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,s){this.ctx.strokeStyle=this.current.strokeColor=pt.makeHexColor(t,e,s)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,s){this.ctx.fillStyle=this.current.fillColor=pt.makeHexColor(t,e,s),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let s;return this.cachedPatterns.has(t)?s=this.cachedPatterns.get(t):(s=ED(this.getObject(t)),this.cachedPatterns.set(t,s)),e&&(s.matrix=e),s}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const s=this._getPattern(t);e.fillStyle=s.getPattern(e,this,Gs(e),wi.SHADING);const r=Gs(e);if(r){const{width:o,height:c}=e.canvas,[d,p,g,m]=pt.getAxialAlignedBoundingBox([0,0,o,c],r);this.ctx.fillRect(d,p,g-d,m-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ue("Should not call beginInlineImage")}beginImageData(){ue("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=ye(this.ctx),e)){const s=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],s,r),this.current.updateRectMinMax(ye(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Lg("TODO: Support non-isolated groups."),t.knockout&&Ft("Knockout groups not supported.");const s=ye(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=pt.getAxialAlignedBoundingBox(t.bbox,ye(e));const o=[0,0,e.canvas.width,e.canvas.height];r=pt.intersect(r,o)||[0,0,0,0];const c=Math.floor(r[0]),d=Math.floor(r[1]),p=Math.max(Math.ceil(r[2])-c,1),g=Math.max(Math.ceil(r[3])-d,1);this.current.startNewPathAndClipBox([0,0,p,g]);let m="groupAt"+this.groupLevel;t.smask&&(m+="_smask_"+this.smaskCounter++%2);const b=this.cachedCanvases.getCanvas(m,p,g),v=b.context;v.translate(-c,-d),v.transform(...s),t.smask?this.smaskStack.push({canvas:b.canvas,context:v,offsetX:c,offsetY:d,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(c,d),e.save()),dh(e,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=ye(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const o=pt.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(t,e,s,r,o){if(w(this,Rr,Yb).call(this),mp(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const c=e[2]-e[0],d=e[3]-e[1];if(o&&this.annotationCanvasMap){s=s.slice(),s[4]-=e[0],s[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=c,e[3]=d;const[p,g]=pt.singularValueDecompose2dScale(ye(this.ctx)),{viewportScale:m}=this,b=Math.ceil(c*this.outputScaleX*m),v=Math.ceil(d*this.outputScaleY*m);this.annotationCanvas=this.canvasFactory.create(b,v);const{canvas:S,context:E}=this.annotationCanvas;this.annotationCanvasMap.set(t,S),this.annotationCanvas.savedCtx=this.ctx,this.ctx=E,this.ctx.save(),this.ctx.setTransform(p,0,0,-g,0,d*g),mp(this.ctx)}else mp(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],c,d),this.ctx.clip(),this.ctx.beginPath()}this.current=new b_(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),w(this,Rr,Kb).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const s=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=RD(t)),r.compiled)){r.compiled(s);return}const o=this._createMaskCanvas(t),c=o.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(c,o.offsetX,o.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,s=0,r=0,o,c){if(!this.contentVisible)return;t=this.getObject(t.data,t);const d=this.ctx;d.save();const p=ye(d);d.transform(e,s,r,o,0,0);const g=this._createMaskCanvas(t);d.setTransform(1,0,0,1,g.offsetX-p[4],g.offsetY-p[5]);for(let m=0,b=c.length;m<b;m+=2){const v=pt.transform(p,[e,s,r,o,c[m],c[m+1]]),[S,E]=pt.applyTransform([0,0],v);d.drawImage(g.canvas,S,E)}d.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,s=this.current.fillColor,r=this.current.patternFill;for(const o of t){const{data:c,width:d,height:p,transform:g}=o,m=this.cachedCanvases.getCanvas("maskCanvas",d,p),b=m.context;b.save();const v=this.getObject(c,o);A_(b,v),b.globalCompositeOperation="source-in",b.fillStyle=r?s.getPattern(b,this,Gs(e),wi.FILL):s,b.fillRect(0,0,d,p),b.restore(),e.save(),e.transform(...g),e.scale(1,-1),gp(e,m.canvas,0,0,d,p,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){Ft("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,s,r){if(!this.contentVisible)return;const o=this.getObject(t);if(!o){Ft("Dependent image isn't ready yet");return}const c=o.width,d=o.height,p=[];for(let g=0,m=r.length;g<m;g+=2)p.push({transform:[e,0,0,s,r[g],r[g+1]],x:0,y:0,w:c,h:d});this.paintInlineImageXObjectGroup(o,p)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:s,height:r}=t,o=this.cachedCanvases.getCanvas("inlineImage",s,r),c=o.context;return c.filter=this.current.transferMaps,c.drawImage(e,0,0),c.filter="none",o.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,s=t.height,r=this.ctx;if(this.save(),!bi){const{filter:d}=r;d!=="none"&&d!==""&&(r.filter="none")}r.scale(1/e,-1/s);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const p=this.cachedCanvases.getCanvas("inlineImage",e,s).context;v_(p,t),o=this.applyTransferMapsToCanvas(p)}const c=this._scaleImage(o,Gs(r));r.imageSmoothingEnabled=S_(ye(r),t.interpolate),gp(r,c.img,0,0,c.paintWidth,c.paintHeight,0,-s,e,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const s=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const o=t.width,c=t.height,p=this.cachedCanvases.getCanvas("inlineImage",o,c).context;v_(p,t),r=this.applyTransferMapsToCanvas(p)}for(const o of e)s.save(),s.transform(...o.transform),s.scale(1,-1),gp(s,r,o.x,o.y,o.w,o.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const s=this.ctx;this.pendingClip&&(e||(this.pendingClip===E_?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=ye(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),s=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(s,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:s,c:r,d:o}=this.ctx.getTransform();let c,d;if(s===0&&r===0){const p=Math.abs(e),g=Math.abs(o);if(p===g)if(t===0)c=d=1/p;else{const m=p*t;c=d=m<1?1/m:1}else if(t===0)c=1/p,d=1/g;else{const m=p*t,b=g*t;c=m<1?1/m:1,d=b<1?1/b:1}}else{const p=Math.abs(e*o-s*r),g=Math.hypot(e,s),m=Math.hypot(r,o);if(t===0)c=m/p,d=g/p;else{const b=t*p;c=m>b?m/b:1,d=g>b?g/b:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=d}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:s}=this.current,[r,o]=this.getScaleForStroking();if(e.lineWidth=s||1,r===1&&o===1){e.stroke();return}const c=e.getLineDash();if(t&&e.save(),e.scale(r,o),c.length>0){const d=Math.max(r,o);e.setLineDash(c.map(p=>p/d)),e.lineDashOffset/=d}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Rr=new WeakSet,Yb=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Kb=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let ac=n0;for(const h in Pn)ac.prototype[h]!==void 0&&(ac.prototype[Pn[h]]=ac.prototype[h]);var id,nd;class ba{static get workerPort(){return u(this,id)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");_(this,id,t)}static get workerSrc(){return u(this,nd)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");_(this,nd,t)}}id=new WeakMap,nd=new WeakMap,x(ba,id,null),x(ba,nd,"");const yp={DATA:1,ERROR:2},Le={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Xi(h){switch(h instanceof Error||typeof h=="object"&&h!==null||ue('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),h.name){case"AbortException":return new hl(h.message);case"MissingPDFException":return new ul(h.message);case"PasswordException":return new vb(h.message,h.code);case"UnexpectedResponseException":return new Og(h.message,h.status);case"UnknownErrorException":return new Ab(h.message,h.details);default:return new Ab(h.message,h.toString())}}var _c,Rn,Kw,$w,Ww,Lp;class Sh{constructor(t,e,s){x(this,Rn);x(this,_c,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",w(this,Rn,Kw).bind(this),{signal:u(this,_c).signal})}on(t,e){const s=this.actionHandler;if(s[t])throw new Error(`There is already an actionName called "${t}"`);s[t]=e}send(t,e,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},s)}sendWithPromise(t,e,s){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},s)}catch(c){o.reject(c)}return o.promise}sendWithStream(t,e,s,r){const o=this.streamId++,c=this.sourceName,d=this.targetName,p=this.comObj;return new ReadableStream({start:g=>{const m=Promise.withResolvers();return this.streamControllers[o]={controller:g,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},p.postMessage({sourceName:c,targetName:d,action:t,streamId:o,data:e,desiredSize:g.desiredSize},r),m.promise},pull:g=>{const m=Promise.withResolvers();return this.streamControllers[o].pullCall=m,p.postMessage({sourceName:c,targetName:d,stream:Le.PULL,streamId:o,desiredSize:g.desiredSize}),m.promise},cancel:g=>{Be(g instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[o].cancelCall=m,this.streamControllers[o].isClosed=!0,p.postMessage({sourceName:c,targetName:d,stream:Le.CANCEL,streamId:o,reason:Xi(g)}),m.promise}},s)}destroy(){var t;(t=u(this,_c))==null||t.abort(),_(this,_c,null)}}_c=new WeakMap,Rn=new WeakSet,Kw=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){w(this,Rn,Ww).call(this,t);return}if(t.callback){const s=t.callbackId,r=this.callbackCapabilities[s];if(!r)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],t.callback===yp.DATA)r.resolve(t.data);else if(t.callback===yp.ERROR)r.reject(Xi(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const s=this.sourceName,r=t.sourceName,o=this.comObj;new Promise(function(c){c(e(t.data))}).then(function(c){o.postMessage({sourceName:s,targetName:r,callback:yp.DATA,callbackId:t.callbackId,data:c})},function(c){o.postMessage({sourceName:s,targetName:r,callback:yp.ERROR,callbackId:t.callbackId,reason:Xi(c)})});return}if(t.streamId){w(this,Rn,$w).call(this,t);return}e(t.data)},$w=function(t){const e=t.streamId,s=this.sourceName,r=t.sourceName,o=this.comObj,c=this,d=this.actionHandler[t.action],p={enqueue(g,m=1,b){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=m,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:s,targetName:r,stream:Le.ENQUEUE,streamId:e,chunk:g},b)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:s,targetName:r,stream:Le.CLOSE,streamId:e}),delete c.streamSinks[e])},error(g){Be(g instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:s,targetName:r,stream:Le.ERROR,streamId:e,reason:Xi(g)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};p.sinkCapability.resolve(),p.ready=p.sinkCapability.promise,this.streamSinks[e]=p,new Promise(function(g){g(d(t.data,p))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:Le.START_COMPLETE,streamId:e,success:!0})},function(g){o.postMessage({sourceName:s,targetName:r,stream:Le.START_COMPLETE,streamId:e,reason:Xi(g)})})},Ww=function(t){const e=t.streamId,s=this.sourceName,r=t.sourceName,o=this.comObj,c=this.streamControllers[e],d=this.streamSinks[e];switch(t.stream){case Le.START_COMPLETE:t.success?c.startCall.resolve():c.startCall.reject(Xi(t.reason));break;case Le.PULL_COMPLETE:t.success?c.pullCall.resolve():c.pullCall.reject(Xi(t.reason));break;case Le.PULL:if(!d){o.postMessage({sourceName:s,targetName:r,stream:Le.PULL_COMPLETE,streamId:e,success:!0});break}d.desiredSize<=0&&t.desiredSize>0&&d.sinkCapability.resolve(),d.desiredSize=t.desiredSize,new Promise(function(p){var g;p((g=d.onPull)==null?void 0:g.call(d))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:Le.PULL_COMPLETE,streamId:e,success:!0})},function(p){o.postMessage({sourceName:s,targetName:r,stream:Le.PULL_COMPLETE,streamId:e,reason:Xi(p)})});break;case Le.ENQUEUE:if(Be(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(t.chunk);break;case Le.CLOSE:if(Be(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),w(this,Rn,Lp).call(this,c,e);break;case Le.ERROR:Be(c,"error should have stream controller"),c.controller.error(Xi(t.reason)),w(this,Rn,Lp).call(this,c,e);break;case Le.CANCEL_COMPLETE:t.success?c.cancelCall.resolve():c.cancelCall.reject(Xi(t.reason)),w(this,Rn,Lp).call(this,c,e);break;case Le.CANCEL:if(!d)break;new Promise(function(p){var g;p((g=d.onCancel)==null?void 0:g.call(d,Xi(t.reason)))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:Le.CANCEL_COMPLETE,streamId:e,success:!0})},function(p){o.postMessage({sourceName:s,targetName:r,stream:Le.CANCEL_COMPLETE,streamId:e,reason:Xi(p)})}),d.sinkCapability.reject(Xi(t.reason)),d.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},Lp=async function(t,e){var s,r,o;await Promise.allSettled([(s=t.startCall)==null?void 0:s.promise,(r=t.pullCall)==null?void 0:r.promise,(o=t.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[e]};var To,sd;class LD{constructor({parsedData:t,rawData:e}){x(this,To);x(this,sd);_(this,To,t),_(this,sd,e)}getRaw(){return u(this,sd)}get(t){return u(this,To).get(t)??null}getAll(){return Iv(u(this,To))}has(t){return u(this,To).has(t)}}To=new WeakMap,sd=new WeakMap;const tc=Symbol("INTERNAL");var ad,rd,od,wc;class OD{constructor(t,{name:e,intent:s,usage:r,rbGroups:o}){x(this,ad,!1);x(this,rd,!1);x(this,od,!1);x(this,wc,!0);_(this,ad,!!(t&en.DISPLAY)),_(this,rd,!!(t&en.PRINT)),this.name=e,this.intent=s,this.usage=r,this.rbGroups=o}get visible(){if(u(this,od))return u(this,wc);if(!u(this,wc))return!1;const{print:t,view:e}=this.usage;return u(this,ad)?(e==null?void 0:e.viewState)!=="OFF":u(this,rd)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,s=!1){t!==tc&&ue("Internal method `_setVisible` called."),_(this,od,s),_(this,wc,e)}}ad=new WeakMap,rd=new WeakMap,od=new WeakMap,wc=new WeakMap;var lr,Qt,Tc,xc,ld,$b;class ND{constructor(t,e=en.DISPLAY){x(this,ld);x(this,lr,null);x(this,Qt,new Map);x(this,Tc,null);x(this,xc,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,_(this,xc,t.order);for(const s of t.groups)u(this,Qt).set(s.id,new OD(e,s));if(t.baseState==="OFF")for(const s of u(this,Qt).values())s._setVisible(tc,!1);for(const s of t.on)u(this,Qt).get(s)._setVisible(tc,!0);for(const s of t.off)u(this,Qt).get(s)._setVisible(tc,!1);_(this,Tc,this.getHash())}}isVisible(t){if(u(this,Qt).size===0)return!0;if(!t)return Lg("Optional content group not defined."),!0;if(t.type==="OCG")return u(this,Qt).has(t.id)?u(this,Qt).get(t.id).visible:(Ft(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return w(this,ld,$b).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!u(this,Qt).has(e))return Ft(`Optional content group not found: ${e}`),!0;if(u(this,Qt).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!u(this,Qt).has(e))return Ft(`Optional content group not found: ${e}`),!0;if(!u(this,Qt).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!u(this,Qt).has(e))return Ft(`Optional content group not found: ${e}`),!0;if(!u(this,Qt).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!u(this,Qt).has(e))return Ft(`Optional content group not found: ${e}`),!0;if(u(this,Qt).get(e).visible)return!1}return!0}return Ft(`Unknown optional content policy ${t.policy}.`),!0}return Ft(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,s=!0){var o;const r=u(this,Qt).get(t);if(!r){Ft(`Optional content group not found: ${t}`);return}if(s&&e&&r.rbGroups.length)for(const c of r.rbGroups)for(const d of c)d!==t&&((o=u(this,Qt).get(d))==null||o._setVisible(tc,!1,!0));r._setVisible(tc,!!e,!0),_(this,lr,null)}setOCGState({state:t,preserveRB:e}){let s;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":s=r;continue}const o=u(this,Qt).get(r);if(o)switch(s){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!o.visible,e);break}}_(this,lr,null)}get hasInitialVisibility(){return u(this,Tc)===null||this.getHash()===u(this,Tc)}getOrder(){return u(this,Qt).size?u(this,xc)?u(this,xc).slice():[...u(this,Qt).keys()]:null}getGroups(){return u(this,Qt).size>0?Iv(u(this,Qt)):null}getGroup(t){return u(this,Qt).get(t)||null}getHash(){if(u(this,lr)!==null)return u(this,lr);const t=new Hw;for(const[e,s]of u(this,Qt))t.update(`${e}:${s.visible}`);return _(this,lr,t.hexdigest())}}lr=new WeakMap,Qt=new WeakMap,Tc=new WeakMap,xc=new WeakMap,ld=new WeakSet,$b=function(t){const e=t.length;if(e<2)return!0;const s=t[0];for(let r=1;r<e;r++){const o=t[r];let c;if(Array.isArray(o))c=w(this,ld,$b).call(this,o);else if(u(this,Qt).has(o))c=u(this,Qt).get(o).visible;else return Ft(`Optional content group not found: ${o}`),!0;switch(s){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return s==="And"};class kD{constructor(t,{disableRange:e=!1,disableStream:s=!1}){Be(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:c,contentDispositionFilename:d}=t;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=d,(o==null?void 0:o.length)>0){const p=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(p)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!s,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((p,g)=>{this._onReceiveData({begin:p,chunk:g})}),t.addProgressListener((p,g)=>{this._onProgress({loaded:p,total:g})}),t.addProgressiveReadListener(p=>{this._onReceiveData({chunk:p})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const s=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const r=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(s),!0)});Be(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,s,r,o;t.total===void 0?(s=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||s.call(e,{loaded:t.loaded}):(o=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||o.call(r,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Be(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new PD(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new FD(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeReaders.slice(0))s.cancel(t);this._pdfDataRangeTransport.abort()}}class PD{constructor(t,e,s=!1,r=null){this._stream=t,this._done=s||!1,this._filename=Vv(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class FD{constructor(t,e,s){this._stream=t,this._begin=e,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function HD(h){let t=!0,e=s("filename\\*","i").exec(h);if(e){e=e[1];let m=d(e);return m=unescape(m),m=p(m),m=g(m),o(m)}if(e=c(h),e){const m=g(e);return o(m)}if(e=s("filename","i").exec(h),e){e=e[1];let m=d(e);return m=g(m),o(m)}function s(m,b){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',b)}function r(m,b){if(m){if(!/^[\x00-\xFF]+$/.test(b))return b;try{const v=new TextDecoder(m,{fatal:!0}),S=Ng(b);b=v.decode(S),t=!1}catch{}}return b}function o(m){return t&&/[\x80-\xff]/.test(m)&&(m=r("utf-8",m),t&&(m=r("iso-8859-1",m))),m}function c(m){const b=[];let v;const S=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=S.exec(m))!==null;){let[,T,M,C]=v;if(T=parseInt(T,10),T in b){if(T===0)break;continue}b[T]=[M,C]}const E=[];for(let T=0;T<b.length&&T in b;++T){let[M,C]=b[T];C=d(C),M&&(C=unescape(C),T===0&&(C=p(C))),E.push(C)}return E.join("")}function d(m){if(m.startsWith('"')){const b=m.slice(1).split('\\"');for(let v=0;v<b.length;++v){const S=b[v].indexOf('"');S!==-1&&(b[v]=b[v].slice(0,S),b.length=v+1),b[v]=b[v].replaceAll(/\\(.)/g,"$1")}m=b.join('"')}return m}function p(m){const b=m.indexOf("'");if(b===-1)return m;const v=m.slice(0,b),E=m.slice(b+1).replace(/^[^']*'/,"");return r(v,E)}function g(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(b,v,S,E){if(S==="q"||S==="Q")return E=E.replaceAll("_"," "),E=E.replaceAll(/=([0-9a-fA-F]{2})/g,function(T,M){return String.fromCharCode(parseInt(M,16))}),r(v,E);try{E=atob(E)}catch{}return r(v,E)})}return""}function Wv(h,t){const e=new Headers;if(!h||!t||typeof t!="object")return e;for(const s in t){const r=t[s];r!==void 0&&e.append(s,r)}return e}function Qv({responseHeaders:h,isHttp:t,rangeChunkSize:e,disableRange:s}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(h.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*e)||s||!t||h.get("Accept-Ranges")!=="bytes"||(h.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function Zv(h){const t=h.get("Content-Disposition");if(t){let e=HD(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Vv(e))return e}return null}function Fg(h,t){return h===404||h===0&&t.startsWith("file:")?new ul('Missing PDF "'+t+'".'):new Og(`Unexpected server response (${h}) while retrieving PDF "${t}".`,h)}function Qw(h){return h===200||h===206}function Zw(h,t,e){return{method:"GET",headers:h,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Jw(h){return h instanceof Uint8Array?h.buffer:h instanceof ArrayBuffer?h:(Ft(`getArrayBuffer - unexpected data format: ${h}`),new Uint8Array(h).buffer)}class __{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=Wv(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Be(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new zD(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new UD(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class zD{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const s=new Headers(t.headers),r=e.url;fetch(r,Zw(s,this._withCredentials,this._abortController)).then(o=>{if(!Qw(o.status))throw Fg(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const c=o.headers,{allowRangeRequests:d,suggestedLength:p}=Qv({responseHeaders:c,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=d,this._contentLength=p||this._contentLength,this._filename=Zv(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new hl("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Jw(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class UD{constructor(t,e,s){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${e}-${s-1}`);const c=r.url;fetch(c,Zw(o,this._withCredentials,this._abortController)).then(d=>{if(!Qw(d.status))throw Fg(d.status,c);this._readCapability.resolve(),this._reader=d.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:Jw(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const cb=200,ub=206;function BD(h){const t=h.response;return typeof t!="string"?t:Ng(t).buffer}class jD{constructor({url:t,httpHeaders:e,withCredentials:s}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=Wv(this.isHttp,e),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,s){const r={begin:t,end:e};for(const o in s)r[o]=s[o];return this.request(r)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,s=this.currXhrId++,r=this.pendingRequests[s]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[o,c]of this.headers)e.setRequestHeader(o,c);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=ub):r.expectedStatus=cb,e.responseType="arraybuffer",t.onError&&(e.onerror=function(o){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,s),e.onprogress=this.onProgress.bind(this,s),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),s}onProgress(t,e){var r;const s=this.pendingRequests[t];s&&((r=s.onProgress)==null||r.call(s,e))}onStateChange(t,e){var p,g,m;const s=this.pendingRequests[t];if(!s)return;const r=s.xhr;if(r.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){(p=s.onError)==null||p.call(s,r.status);return}const o=r.status||cb;if(!(o===cb&&s.expectedStatus===ub)&&o!==s.expectedStatus){(g=s.onError)==null||g.call(s,r.status);return}const d=BD(r);if(o===ub){const b=r.getResponseHeader("Content-Range"),v=/bytes (\d+)-(\d+)\/(\d+)/.exec(b);s.onDone({begin:parseInt(v[1],10),chunk:d})}else d?s.onDone({begin:0,chunk:d}):(m=s.onError)==null||m.call(s,r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class ID{constructor(t){this._source=t,this._manager=new jD(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Be(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new qD(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const s=new GD(this._manager,t,e);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class qD{constructor(t,e){this._manager=t;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(s),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),s=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(c=>{const[d,...p]=c.split(": ");return[d,p.join(": ")]})),{allowRangeRequests:r,suggestedLength:o}=Qv({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=Zv(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Fg(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class GD{constructor(t,e,s){this._manager=t;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,s,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=Fg(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const VD=/^[a-z][a-z0-9\-+.]+:/i;function XD(h){if(VD.test(h))return new URL(h);const t=Tr.get("url");return new URL(t.pathToFileURL(h))}function t1(h,t,e){return h.protocol==="http:"?Tr.get("http").request(h,{headers:t},e):Tr.get("https").request(h,{headers:t},e)}class YD{constructor(t){this.source=t,this.url=XD(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=Wv(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Be(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new WD(this):new KD(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=this.isFsUrl?new QD(this,t,e):new $D(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class e1{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new hl("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class i1{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class KD extends e1{constructor(t){super(t);const e=Object.fromEntries(t.headers),s=r=>{if(r.statusCode===404){const p=new ul(`Missing PDF "${this._url}".`);this._storedError=p,this._headersCapability.reject(p);return}this._headersCapability.resolve(),this._setReadableStream(r);const o=new Headers(this._readableStream.headers),{allowRangeRequests:c,suggestedLength:d}=Qv({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=d||this._contentLength,this._filename=Zv(o)};this._request=t1(this._url,e,s),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class $D extends i1{constructor(t,e,s){super(t);const r=Object.fromEntries(t.headers);r.Range=`bytes=${e}-${s-1}`;const o=c=>{if(c.statusCode===404){const d=new ul(`Missing PDF "${this._url}".`);this._storedError=d;return}this._setReadableStream(c)};this._request=t1(this._url,r,o),this._request.on("error",c=>{this._storedError=c}),this._request.end()}}class WD extends e1{constructor(t){super(t);const e=Tr.get("fs");e.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new ul(`Missing PDF "${this._url}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class QD extends i1{constructor(t,e,s){super(t);const r=Tr.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:s-1}))}}const ZD=1e5,Li=30,JD=.8;var z_,cr,ki,cd,ud,xo,ta,hd,dd,Ro,Rc,Cc,ur,Mc,fd,Dc,Co,pd,gd,Ee,Mo,Do,md,hr,Lc,Ea,n1,s1,Qb,an,Op,Zb,a1,r1;let Wb=(Ee=class{constructor({textContentSource:t,container:e,viewport:s}){x(this,Ea);x(this,cr,Promise.withResolvers());x(this,ki,null);x(this,cd,!1);x(this,ud,!!((z_=globalThis.FontInspector)!=null&&z_.enabled));x(this,xo,null);x(this,ta,null);x(this,hd,0);x(this,dd,0);x(this,Ro,null);x(this,Rc,null);x(this,Cc,0);x(this,ur,0);x(this,Mc,Object.create(null));x(this,fd,[]);x(this,Dc,null);x(this,Co,[]);x(this,pd,new WeakMap);x(this,gd,null);var p;if(t instanceof ReadableStream)_(this,Dc,t);else if(typeof t=="object")_(this,Dc,new ReadableStream({start(g){g.enqueue(t),g.close()}}));else throw new Error('No "textContentSource" parameter specified.');_(this,ki,_(this,Rc,e)),_(this,ur,s.scale*(globalThis.devicePixelRatio||1)),_(this,Cc,s.rotation),_(this,ta,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:o,pageX:c,pageY:d}=s.rawDims;_(this,gd,[1,0,0,-1,-c,d+o]),_(this,dd,r),_(this,hd,o),w(p=Ee,an,a1).call(p),sl(e,s),u(this,cr).promise.finally(()=>{u(Ee,Lc).delete(this),_(this,ta,null),_(this,Mc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Ti.platform;return qt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{u(this,Ro).read().then(({value:e,done:s})=>{if(s){u(this,cr).resolve();return}u(this,xo)??_(this,xo,e.lang),Object.assign(u(this,Mc),e.styles),w(this,Ea,n1).call(this,e.items),t()},u(this,cr).reject)};return _(this,Ro,u(this,Dc).getReader()),u(Ee,Lc).add(this),t(),u(this,cr).promise}update({viewport:t,onBefore:e=null}){var o;const s=t.scale*(globalThis.devicePixelRatio||1),r=t.rotation;if(r!==u(this,Cc)&&(e==null||e(),_(this,Cc,r),sl(u(this,Rc),{rotation:r})),s!==u(this,ur)){e==null||e(),_(this,ur,s);const c={div:null,properties:null,ctx:w(o=Ee,an,Op).call(o,u(this,xo))};for(const d of u(this,Co))c.properties=u(this,pd).get(d),c.div=d,w(this,Ea,Qb).call(this,c)}}cancel(){var e;const t=new hl("TextLayer task cancelled.");(e=u(this,Ro))==null||e.cancel(t).catch(()=>{}),_(this,Ro,null),u(this,cr).reject(t)}get textDivs(){return u(this,Co)}get textContentItemsStr(){return u(this,fd)}static cleanup(){if(!(u(this,Lc).size>0)){u(this,Mo).clear();for(const{canvas:t}of u(this,Do).values())t.remove();u(this,Do).clear()}}},cr=new WeakMap,ki=new WeakMap,cd=new WeakMap,ud=new WeakMap,xo=new WeakMap,ta=new WeakMap,hd=new WeakMap,dd=new WeakMap,Ro=new WeakMap,Rc=new WeakMap,Cc=new WeakMap,ur=new WeakMap,Mc=new WeakMap,fd=new WeakMap,Dc=new WeakMap,Co=new WeakMap,pd=new WeakMap,gd=new WeakMap,Mo=new WeakMap,Do=new WeakMap,md=new WeakMap,hr=new WeakMap,Lc=new WeakMap,Ea=new WeakSet,n1=function(t){var r,o;if(u(this,cd))return;(o=u(this,ta)).ctx??(o.ctx=w(r=Ee,an,Op).call(r,u(this,xo)));const e=u(this,Co),s=u(this,fd);for(const c of t){if(e.length>ZD){Ft("Ignoring additional textDivs for performance reasons."),_(this,cd,!0);return}if(c.str===void 0){if(c.type==="beginMarkedContentProps"||c.type==="beginMarkedContent"){const d=u(this,ki);_(this,ki,document.createElement("span")),u(this,ki).classList.add("markedContent"),c.id!==null&&u(this,ki).setAttribute("id",`${c.id}`),d.append(u(this,ki))}else c.type==="endMarkedContent"&&_(this,ki,u(this,ki).parentNode);continue}s.push(c.str),w(this,Ea,s1).call(this,c)}},s1=function(t){var T;const e=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};u(this,Co).push(e);const r=pt.transform(u(this,gd),t.transform);let o=Math.atan2(r[1],r[0]);const c=u(this,Mc)[t.fontName];c.vertical&&(o+=Math.PI/2);let d=u(this,ud)&&c.fontSubstitution||c.fontFamily;d=Ee.fontFamilyMap.get(d)||d;const p=Math.hypot(r[2],r[3]),g=p*w(T=Ee,an,r1).call(T,d,u(this,xo));let m,b;o===0?(m=r[4],b=r[5]-g):(m=r[4]+g*Math.sin(o),b=r[5]-g*Math.cos(o));const v="calc(var(--scale-factor)*",S=e.style;u(this,ki)===u(this,Rc)?(S.left=`${(100*m/u(this,dd)).toFixed(2)}%`,S.top=`${(100*b/u(this,hd)).toFixed(2)}%`):(S.left=`${v}${m.toFixed(2)}px)`,S.top=`${v}${b.toFixed(2)}px)`),S.fontSize=`${v}${(u(Ee,hr)*p).toFixed(2)}px)`,S.fontFamily=d,s.fontSize=p,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,u(this,ud)&&(e.dataset.fontName=c.fontSubstitutionLoadedName||t.fontName),o!==0&&(s.angle=o*(180/Math.PI));let E=!1;if(t.str.length>1)E=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const M=Math.abs(t.transform[0]),C=Math.abs(t.transform[3]);M!==C&&Math.max(M,C)/Math.min(M,C)>1.5&&(E=!0)}if(E&&(s.canvasWidth=c.vertical?t.height:t.width),u(this,pd).set(e,s),u(this,ta).div=e,u(this,ta).properties=s,w(this,Ea,Qb).call(this,u(this,ta)),s.hasText&&u(this,ki).append(e),s.hasEOL){const M=document.createElement("br");M.setAttribute("role","presentation"),u(this,ki).append(M)}},Qb=function(t){var d;const{div:e,properties:s,ctx:r}=t,{style:o}=e;let c="";if(u(Ee,hr)>1&&(c=`scale(${1/u(Ee,hr)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:p}=o,{canvasWidth:g,fontSize:m}=s;w(d=Ee,an,Zb).call(d,r,m*u(this,ur),p);const{width:b}=r.measureText(e.textContent);b>0&&(c=`scaleX(${g*u(this,ur)/b}) ${c}`)}s.angle!==0&&(c=`rotate(${s.angle}deg) ${c}`),c.length>0&&(o.transform=c)},an=new WeakSet,Op=function(t=null){let e=u(this,Do).get(t||(t=""));if(!e){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=t,document.body.append(s),e=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),u(this,Do).set(t,e),u(this,md).set(e,{size:0,family:""})}return e},Zb=function(t,e,s){const r=u(this,md).get(t);e===r.size&&s===r.family||(t.font=`${e}px ${s}`,r.size=e,r.family=s)},a1=function(){if(u(this,hr)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),_(this,hr,t.getBoundingClientRect().height),t.remove()},r1=function(t,e){const s=u(this,Mo).get(t);if(s)return s;const r=w(this,an,Op).call(this,e);r.canvas.width=r.canvas.height=Li,w(this,an,Zb).call(this,r,Li,t);const o=r.measureText("");let c=o.fontBoundingBoxAscent,d=Math.abs(o.fontBoundingBoxDescent);if(c){const m=c/(c+d);return u(this,Mo).set(t,m),r.canvas.width=r.canvas.height=0,m}r.strokeStyle="red",r.clearRect(0,0,Li,Li),r.strokeText("g",0,0);let p=r.getImageData(0,0,Li,Li).data;d=0;for(let m=p.length-1-3;m>=0;m-=4)if(p[m]>0){d=Math.ceil(m/4/Li);break}r.clearRect(0,0,Li,Li),r.strokeText("A",0,Li),p=r.getImageData(0,0,Li,Li).data,c=0;for(let m=0,b=p.length;m<b;m+=4)if(p[m]>0){c=Li-Math.floor(m/4/Li);break}r.canvas.width=r.canvas.height=0;const g=c?c/(c+d):JD;return u(this,Mo).set(t,g),g},x(Ee,an),x(Ee,Mo,new Map),x(Ee,Do,new Map),x(Ee,md,new WeakMap),x(Ee,hr,null),x(Ee,Lc,new Set),Ee);class kh{static textContent(t){const e=[],s={items:e,styles:Object.create(null)};function r(o){var p;if(!o)return;let c=null;const d=o.name;if(d==="#text")c=o.value;else if(kh.shouldBuildText(d))(p=o==null?void 0:o.attributes)!=null&&p.textContent?c=o.attributes.textContent:o.value&&(c=o.value);else return;if(c!==null&&e.push({str:c}),!!o.children)for(const g of o.children)r(g)}return r(t),s}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const tL=65536,eL=100,iL=5e3,nL=bi?gD:dD,sL=bi?mD:Iw,aL=bi?pD:fD,rL=bi?yD:Xw;function oL(h={}){typeof h=="string"||h instanceof URL?h={url:h}:(h instanceof ArrayBuffer||ArrayBuffer.isView(h))&&(h={data:h});const t=new Jb,{docId:e}=t,s=h.url?lL(h.url):null,r=h.data?cL(h.data):null,o=h.httpHeaders||null,c=h.withCredentials===!0,d=h.password??null,p=h.range instanceof o1?h.range:null,g=Number.isInteger(h.rangeChunkSize)&&h.rangeChunkSize>0?h.rangeChunkSize:tL;let m=h.worker instanceof rc?h.worker:null;const b=h.verbosity,v=typeof h.docBaseUrl=="string"&&!Pg(h.docBaseUrl)?h.docBaseUrl:null,S=typeof h.cMapUrl=="string"?h.cMapUrl:null,E=h.cMapPacked!==!1,T=h.CMapReaderFactory||sL,M=typeof h.standardFontDataUrl=="string"?h.standardFontDataUrl:null,C=h.StandardFontDataFactory||rL,L=h.stopAtErrors!==!0,N=Number.isInteger(h.maxImageSize)&&h.maxImageSize>-1?h.maxImageSize:-1,F=h.isEvalSupported!==!1,z=typeof h.isOffscreenCanvasSupported=="boolean"?h.isOffscreenCanvasSupported:!bi,B=typeof h.isChrome=="boolean"?h.isChrome:!Ti.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),V=Number.isInteger(h.canvasMaxAreaInBytes)?h.canvasMaxAreaInBytes:-1,Z=typeof h.disableFontFace=="boolean"?h.disableFontFace:bi,q=h.fontExtraProperties===!0,et=h.enableXfa===!0,st=h.ownerDocument||globalThis.document,St=h.disableRange===!0,gt=h.disableStream===!0,dt=h.disableAutoFetch===!0,mt=h.pdfBug===!0,K=h.CanvasFactory||nL,Q=h.FilterFactory||aL,tt=h.enableHWA===!0,Ct=p?p.length:h.length??NaN,O=typeof h.useSystemFonts=="boolean"?h.useSystemFonts:!bi&&!Z,W=typeof h.useWorkerFetch=="boolean"?h.useWorkerFetch:T===Iw&&C===Xw&&S&&M&&ph(S,document.baseURI)&&ph(M,document.baseURI);h.canvasFactory&&h_("`canvasFactory`-instance option, please use `CanvasFactory` instead."),h.filterFactory&&h_("`filterFactory`-instance option, please use `FilterFactory` instead.");const lt=null;qM(b);const at={canvasFactory:new K({ownerDocument:st,enableHWA:tt}),filterFactory:new Q({docId:e,ownerDocument:st}),cMapReaderFactory:W?null:new T({baseUrl:S,isCompressed:E}),standardFontDataFactory:W?null:new C({baseUrl:M})};if(!m){const ht={verbosity:b,port:ba.workerPort};m=ht.port?rc.fromPort(ht):new rc(ht),t._worker=m}const it={docId:e,apiVersion:"4.8.69",data:r,password:d,disableAutoFetch:dt,rangeChunkSize:g,length:Ct,docBaseUrl:v,enableXfa:et,evaluatorOptions:{maxImageSize:N,disableFontFace:Z,ignoreErrors:L,isEvalSupported:F,isOffscreenCanvasSupported:z,isChrome:B,canvasMaxAreaInBytes:V,fontExtraProperties:q,useSystemFonts:O,cMapUrl:W?S:null,standardFontDataUrl:W?M:null}},Et={disableFontFace:Z,fontExtraProperties:q,ownerDocument:st,pdfBug:mt,styleElement:lt,loadingParams:{disableAutoFetch:dt,enableXfa:et}};return m.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const ht=m.messageHandler.sendWithPromise("GetDocRequest",it,r?[r.buffer]:null);let _t;if(p)_t=new kD(p,{disableRange:St,disableStream:gt});else if(!r){if(!s)throw new Error("getDocument - no `url` parameter provided.");let Lt;bi?Lt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&ph(s)?__:YD:Lt=ph(s)?__:ID,_t=new Lt({url:s,length:Ct,httpHeaders:o,withCredentials:c,rangeChunkSize:g,disableRange:St,disableStream:gt})}return ht.then(Lt=>{if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const Vt=new Sh(e,Lt,m.port),At=new fL(Vt,t,_t,Et,at);t._transport=At,Vt.send("Ready",null)})}).catch(t._capability.reject),t}function lL(h){if(h instanceof URL)return h.href;try{return new URL(h,window.location).href}catch{if(bi&&typeof h=="string")return h}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function cL(h){if(bi&&typeof Buffer<"u"&&h instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(h instanceof Uint8Array&&h.byteLength===h.buffer.byteLength)return h;if(typeof h=="string")return Ng(h);if(h instanceof ArrayBuffer||ArrayBuffer.isView(h)||typeof h=="object"&&!isNaN(h==null?void 0:h.length))return new Uint8Array(h);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function w_(h){return typeof h=="object"&&Number.isInteger(h==null?void 0:h.num)&&h.num>=0&&Number.isInteger(h==null?void 0:h.gen)&&h.gen>=0}var gg;const mg=class mg{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Si(mg,gg)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,s;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(r){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};gg=new WeakMap,x(mg,gg,0);let Jb=mg,o1=class{constructor(t,e,s=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=s,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const s of this._rangeListeners)s(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){ue("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class uL{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return qt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var dr,ea,Tn,ec,Np;class hL{constructor(t,e,s,r=!1){x(this,Tn);x(this,dr,null);x(this,ea,!1);this._pageIndex=t,this._pageInfo=e,this._transport=s,this._stats=r?new u_:null,this._pdfBug=r,this.commonObjs=s.commonObjs,this.objs=new l1,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:s=0,offsetY:r=0,dontFlip:o=!1}={}){return new Zd({viewBox:this.view,scale:t,rotation:e,offsetX:s,offsetY:r,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return qt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:s="display",annotationMode:r=Wa.ENABLE,transform:o=null,background:c=null,optionalContentConfigPromise:d=null,annotationCanvasMap:p=null,pageColors:g=null,printAnnotationStorage:m=null,isEditing:b=!1}){var F,z;(F=this._stats)==null||F.time("Overall");const v=this._transport.getRenderingIntent(s,r,m,b),{renderingIntent:S,cacheKey:E}=v;_(this,ea,!1),w(this,Tn,Np).call(this),d||(d=this._transport.getOptionalContentConfig(S));let T=this._intentStates.get(E);T||(T=Object.create(null),this._intentStates.set(E,T)),T.streamReaderCancelTimeout&&(clearTimeout(T.streamReaderCancelTimeout),T.streamReaderCancelTimeout=null);const M=!!(S&en.PRINT);T.displayReadyCapability||(T.displayReadyCapability=Promise.withResolvers(),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(z=this._stats)==null||z.time("Page Request"),this._pumpOperatorList(v));const C=B=>{var V;T.renderTasks.delete(L),(this._maybeCleanupAfterRender||M)&&_(this,ea,!0),w(this,Tn,ec).call(this,!M),B?(L.capability.reject(B),this._abortOperatorList({intentState:T,reason:B instanceof Error?B:new Error(B)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(V=globalThis.Stats)!=null&&V.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new ev({callback:C,params:{canvasContext:t,viewport:e,transform:o,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:p,operatorList:T.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!M,pdfBug:this._pdfBug,pageColors:g});(T.renderTasks||(T.renderTasks=new Set)).add(L);const N=L.task;return Promise.all([T.displayReadyCapability.promise,d]).then(([B,V])=>{var Z;if(this.destroyed){C();return}if((Z=this._stats)==null||Z.time("Rendering"),!(V.renderingIntent&S))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:B,optionalContentConfig:V}),L.operatorListChanged()}).catch(C),N}getOperatorList({intent:t="display",annotationMode:e=Wa.ENABLE,printAnnotationStorage:s=null,isEditing:r=!1}={}){var g;function o(){d.operatorList.lastChunk&&(d.opListReadCapability.resolve(d.operatorList),d.renderTasks.delete(p))}const c=this._transport.getRenderingIntent(t,e,s,r,!0);let d=this._intentStates.get(c.cacheKey);d||(d=Object.create(null),this._intentStates.set(c.cacheKey,d));let p;return d.opListReadCapability||(p=Object.create(null),p.operatorListChanged=o,d.opListReadCapability=Promise.withResolvers(),(d.renderTasks||(d.renderTasks=new Set)).add(p),d.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(g=this._stats)==null||g.time("Page Request"),this._pumpOperatorList(c)),d.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>kh.textContent(s));const e=this.streamTextContent(t);return new Promise(function(s,r){function o(){c.read().then(function({value:p,done:g}){if(g){s(d);return}d.lang??(d.lang=p.lang),Object.assign(d.styles,p.styles),d.items.push(...p.items),o()},r)}const c=e.getReader(),d={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const s of e.renderTasks)t.push(s.completed),s.cancel();return this.objs.clear(),_(this,ea,!1),w(this,Tn,Np).call(this),Promise.all(t)}cleanup(t=!1){_(this,ea,!0);const e=w(this,Tn,ec).call(this,!1);return t&&e&&this._stats&&(this._stats=new u_),e}_startRenderPage(t,e){var r,o;const s=this._intentStates.get(e);s&&((r=this._stats)==null||r.timeEnd("Page Request"),(o=s.displayReadyCapability)==null||o.resolve(t))}_renderPageChunk(t,e){for(let s=0,r=t.length;s<r;s++)e.operatorList.fnArray.push(t.fnArray[s]),e.operatorList.argsArray.push(t.argsArray[s]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const s of e.renderTasks)s.operatorListChanged();t.lastChunk&&w(this,Tn,ec).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:s,modifiedIds:r}){const{map:o,transfer:c}=s,p=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o,modifiedIds:r},c).getReader(),g=this._intentStates.get(e);g.streamReader=p;const m=()=>{p.read().then(({value:b,done:v})=>{if(v){g.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(b,g),m())},b=>{if(g.streamReader=null,!this._transport.destroyed){if(g.operatorList){g.operatorList.lastChunk=!0;for(const v of g.renderTasks)v.operatorListChanged();w(this,Tn,ec).call(this,!0)}if(g.displayReadyCapability)g.displayReadyCapability.reject(b);else if(g.opListReadCapability)g.opListReadCapability.reject(b);else throw b}})};m()}_abortOperatorList({intentState:t,reason:e,force:s=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!s){if(t.renderTasks.size>0)return;if(e instanceof Gv){let r=eL;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new hl(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}dr=new WeakMap,ea=new WeakMap,Tn=new WeakSet,ec=function(t=!1){if(w(this,Tn,Np).call(this),!u(this,ea)||this.destroyed)return!1;if(t)return _(this,dr,setTimeout(()=>{_(this,dr,null),w(this,Tn,ec).call(this,!1)},iL)),!1;for(const{renderTasks:e,operatorList:s}of this._intentStates.values())if(e.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_(this,ea,!1),!0},Np=function(){u(this,dr)&&(clearTimeout(u(this,dr)),_(this,dr,null))};var ia,yg;class dL{constructor(){x(this,ia,new Map);x(this,yg,Promise.resolve())}postMessage(t,e){const s={data:structuredClone(t,e?{transfer:e}:null)};u(this,yg).then(()=>{for(const[r]of u(this,ia))r.call(this,s)})}addEventListener(t,e,s=null){let r=null;if((s==null?void 0:s.signal)instanceof AbortSignal){const{signal:o}=s;if(o.aborted){Ft("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(t,e);r=()=>o.removeEventListener("abort",c),o.addEventListener("abort",c)}u(this,ia).set(e,r)}removeEventListener(t,e){const s=u(this,ia).get(e);s==null||s(),u(this,ia).delete(e)}terminate(){for(const[,t]of u(this,ia))t==null||t();u(this,ia).clear()}}ia=new WeakMap,yg=new WeakMap;var bg,Lo,Oo,Oc,kp,Nc,Pp;const he=class he{constructor({name:t=null,port:e=null,verbosity:s=GM()}={}){x(this,Oc);var r;if(this.name=t,this.destroyed=!1,this.verbosity=s,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((r=u(he,Oo))!=null&&r.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(u(he,Oo)||_(he,Oo,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return bi?Promise.all([Tr.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new Sh("main","worker",t),this._messageHandler.on("ready",function(){}),w(this,Oc,kp).call(this)}_initialize(){if(u(he,Lo)||u(he,Nc,Pp)){this._setupFakeWorker();return}let{workerSrc:t}=he;try{he._isSameOrigin(window.location.href,t)||(t=he._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),s=new Sh("main","worker",e),r=()=>{o.abort(),s.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;e.addEventListener("error",()=>{this._webWorker||r()},{signal:o.signal}),s.on("test",d=>{if(o.abort(),this.destroyed||!d){r();return}this._messageHandler=s,this._port=e,this._webWorker=e,w(this,Oc,kp).call(this)}),s.on("ready",d=>{if(o.abort(),this.destroyed){r();return}try{c()}catch{this._setupFakeWorker()}});const c=()=>{const d=new Uint8Array;s.send("test",d,[d.buffer])};c();return}catch{Lg("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){u(he,Lo)||(Ft("Setting up fake worker."),_(he,Lo,!0)),he._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new dL;this._port=e;const s=`fake${Si(he,bg)._++}`,r=new Sh(s+"_worker",s,e);t.setup(r,e),this._messageHandler=new Sh(s,s+"_worker",e),w(this,Oc,kp).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=u(he,Oo))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var s;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(s=u(this,Oo))==null?void 0:s.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new he(t)}static get workerSrc(){if(ba.workerSrc)return ba.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return qt(this,"_setupFakeWorkerGlobal",(async()=>u(this,Nc,Pp)?u(this,Nc,Pp):(await import(this.workerSrc)).WorkerMessageHandler)())}};bg=new WeakMap,Lo=new WeakMap,Oo=new WeakMap,Oc=new WeakSet,kp=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Nc=new WeakSet,Pp=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},x(he,Nc),x(he,bg,0),x(he,Lo,!1),x(he,Oo),bi&&(_(he,Lo,!0),ba.workerSrc||(ba.workerSrc="./pdf.worker.mjs")),he._isSameOrigin=(t,e)=>{let s;try{if(s=new URL(t),!s.origin||s.origin==="null")return!1}catch{return!1}const r=new URL(e,s);return s.origin===r.origin},he._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let rc=he;var na,ms,kc,Pc,ys,No,Eh;class fL{constructor(t,e,s,r,o){x(this,No);x(this,na,new Map);x(this,ms,new Map);x(this,kc,new Map);x(this,Pc,new Map);x(this,ys,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new l1,this.fontLoader=new uD({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return qt(this,"annotationStorage",new Kv)}getRenderingIntent(t,e=Wa.ENABLE,s=null,r=!1,o=!1){let c=en.DISPLAY,d=jb;switch(t){case"any":c=en.ANY;break;case"display":break;case"print":c=en.PRINT;break;default:Ft(`getRenderingIntent - invalid intent: ${t}`)}const p=c&en.PRINT&&s instanceof Uw?s:this.annotationStorage;switch(e){case Wa.DISABLE:c+=en.ANNOTATIONS_DISABLE;break;case Wa.ENABLE:break;case Wa.ENABLE_FORMS:c+=en.ANNOTATIONS_FORMS;break;case Wa.ENABLE_STORAGE:c+=en.ANNOTATIONS_STORAGE,d=p.serializable;break;default:Ft(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(c+=en.IS_EDITING),o&&(c+=en.OPLIST);const{ids:g,hash:m}=p.modifiedIds,b=[c,d.hash,m];return{renderingIntent:c,cacheKey:b.join("_"),annotationStorageSerializable:d,modifiedIds:g}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=u(this,ys))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of u(this,ms).values())t.push(r._destroy());u(this,ms).clear(),u(this,kc).clear(),u(this,Pc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),u(this,na).clear(),this.filterFactory.destroy(),Wb.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new hl("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(s,r)=>{Be(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:c}){if(c){r.close();return}Be(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("ReaderHeadersReady",async s=>{var d;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:c}=this._fullReader;return(!r||!o)&&(this._lastProgress&&((d=e.onProgress)==null||d.call(e,this._lastProgress)),this._fullReader.onProgress=p=>{var g;(g=e.onProgress)==null||g.call(e,{loaded:p.loaded,total:p.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:c}}),t.on("GetRangeReader",(s,r)=>{Be(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(s.begin,s.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:c,done:d}){if(d){r.close();return}Be(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{r.error(c)})},r.onCancel=c=>{o.cancel(c),r.ready.catch(d=>{if(!this.destroyed)throw d})}}),t.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,e._capability.resolve(new uL(s,this))}),t.on("DocException",function(s){let r;switch(s.name){case"PasswordException":r=new vb(s.message,s.code);break;case"InvalidPDFException":r=new hw(s.message);break;case"MissingPDFException":r=new ul(s.message);break;case"UnexpectedResponseException":r=new Og(s.message,s.status);break;case"UnknownErrorException":r=new Ab(s.message,s.details);break;default:ue("DocException - expected a valid Error.")}e._capability.reject(r)}),t.on("PasswordRequest",s=>{if(_(this,ys,Promise.withResolvers()),e.onPassword){const r=o=>{o instanceof Error?u(this,ys).reject(o):u(this,ys).resolve({password:o})};try{e.onPassword(r,s.code)}catch(o){u(this,ys).reject(o)}}else u(this,ys).reject(new vb(s.message,s.code));return u(this,ys).promise}),t.on("DataLoaded",s=>{var r;(r=e.onProgress)==null||r.call(e,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),t.on("StartRenderPage",s=>{if(this.destroyed)return;u(this,ms).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),t.on("commonobj",([s,r,o])=>{var c;if(this.destroyed||this.commonObjs.has(s))return null;switch(r){case"Font":const{disableFontFace:d,fontExtraProperties:p,pdfBug:g}=this._params;if("error"in o){const S=o.error;Ft(`Error during font loading: ${S}`),this.commonObjs.resolve(s,S);break}const m=g&&((c=globalThis.FontInspector)!=null&&c.enabled)?(S,E)=>globalThis.FontInspector.fontAdded(S,E):null,b=new hD(o,{disableFontFace:d,inspectFont:m});this.fontLoader.bind(b).catch(()=>t.sendWithPromise("FontFallback",{id:s})).finally(()=>{!p&&b.data&&(b.data=null),this.commonObjs.resolve(s,b)});break;case"CopyLocalImage":const{imageRef:v}=o;Be(v,"The imageRef must be defined.");for(const S of u(this,ms).values())for(const[,E]of S.objs)if((E==null?void 0:E.ref)===v)return E.dataLen?(this.commonObjs.resolve(s,structuredClone(E)),E.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([s,r,o,c])=>{var p;if(this.destroyed)return;const d=u(this,ms).get(r);if(!d.objs.has(s)){if(d._intentStates.size===0){(p=c==null?void 0:c.bitmap)==null||p.close();return}switch(o){case"Image":d.objs.resolve(s,c),(c==null?void 0:c.dataLen)>UM&&(d._maybeCleanupAfterRender=!0);break;case"Pattern":d.objs.resolve(s,c);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",s=>{var r;this.destroyed||(r=e.onProgress)==null||r.call(e,{loaded:s.loaded,total:s.total})}),t.on("FetchBuiltInCMap",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(s)}),t.on("FetchStandardFontData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&Ft("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((s=this._fullReader)==null?void 0:s.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,s=u(this,kc).get(e);if(s)return s;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&u(this,Pc).set(o.refStr,t);const c=new hL(e,o,this,this._params.pdfBug);return u(this,ms).set(e,c),c});return u(this,kc).set(e,r),r}getPageIndex(t){return w_(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return w(this,No,Eh).call(this,"GetFieldObjects")}hasJSActions(){return w(this,No,Eh).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return w(this,No,Eh).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return w(this,No,Eh).call(this,"GetOptionalContentConfig").then(e=>new ND(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=u(this,na).get(t);if(e)return e;const s=this.messageHandler.sendWithPromise(t,null).then(r=>{var o,c;return{info:r[0],metadata:r[1]?new LD(r[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((c=this._fullReader)==null?void 0:c.contentLength)??null}});return u(this,na).set(t,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of u(this,ms).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),u(this,na).clear(),this.filterFactory.destroy(!0),Wb.cleanup()}}cachedPageNumber(t){if(!w_(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return u(this,Pc).get(e)??null}}na=new WeakMap,ms=new WeakMap,kc=new WeakMap,Pc=new WeakMap,ys=new WeakMap,No=new WeakSet,Eh=function(t,e=null){const s=u(this,na).get(t);if(s)return s;const r=this.messageHandler.sendWithPromise(t,e);return u(this,na).set(t,r),r};const bp=Symbol("INITIAL_DATA");var jn,yd,tv;class l1{constructor(){x(this,yd);x(this,jn,Object.create(null))}get(t,e=null){if(e){const r=w(this,yd,tv).call(this,t);return r.promise.then(()=>e(r.data)),null}const s=u(this,jn)[t];if(!s||s.data===bp)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return s.data}has(t){const e=u(this,jn)[t];return!!e&&e.data!==bp}resolve(t,e=null){const s=w(this,yd,tv).call(this,t);s.data=e,s.resolve()}clear(){var t;for(const e in u(this,jn)){const{data:s}=u(this,jn)[e];(t=s==null?void 0:s.bitmap)==null||t.close()}_(this,jn,Object.create(null))}*[Symbol.iterator](){for(const t in u(this,jn)){const{data:e}=u(this,jn)[t];e!==bp&&(yield[t,e])}}}jn=new WeakMap,yd=new WeakSet,tv=function(t){var e;return(e=u(this,jn))[t]||(e[t]={...Promise.withResolvers(),data:bp})};var fr;class pL{constructor(t){x(this,fr,null);_(this,fr,t),this.onContinue=null}get promise(){return u(this,fr).capability.promise}cancel(t=0){u(this,fr).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=u(this,fr).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=u(this,fr);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}fr=new WeakMap;var pr,ko;const no=class no{constructor({callback:t,params:e,objs:s,commonObjs:r,annotationCanvasMap:o,operatorList:c,pageIndex:d,canvasFactory:p,filterFactory:g,useRequestAnimationFrame:m=!1,pdfBug:b=!1,pageColors:v=null}){x(this,pr,null);this.callback=t,this.params=e,this.objs=s,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=d,this.canvasFactory=p,this.filterFactory=g,this._pdfBug=b,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new pL(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var d,p;if(this.cancelled)return;if(this._canvas){if(u(no,ko).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u(no,ko).add(this._canvas)}this._pdfBug&&((d=globalThis.StepperManager)!=null&&d.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:r,transform:o,background:c}=this.params;this.gfx=new ac(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:r,transparency:t,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,(p=this.graphicsReadyCallback)==null||p.call(this)}cancel(t=null,e=0){var s;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),u(this,pr)&&(window.cancelAnimationFrame(u(this,pr)),_(this,pr,null)),u(no,ko).delete(this._canvas),this.callback(t||new Gv(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?_(this,pr,window.requestAnimationFrame(()=>{_(this,pr,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),u(no,ko).delete(this._canvas),this.callback())))}};pr=new WeakMap,ko=new WeakMap,x(no,ko,new WeakSet);let ev=no;const gL="4.8.69",mL="3634dab10";function T_(h){return Math.floor(Math.max(0,Math.min(1,h))*255).toString(16).padStart(2,"0")}function fh(h){return Math.max(0,Math.min(255,255*h))}class x_{static CMYK_G([t,e,s,r]){return["G",1-Math.min(1,.3*t+.59*s+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=fh(t),[t,t,t]}static G_HTML([t]){const e=T_(t);return`#${e}${e}${e}`}static RGB_G([t,e,s]){return["G",.3*t+.59*e+.11*s]}static RGB_rgb(t){return t.map(fh)}static RGB_HTML(t){return`#${t.map(T_).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,s,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,s+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,s,r]){return[fh(1-Math.min(1,t+r)),fh(1-Math.min(1,s+r)),fh(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,s]){const r=1-t,o=1-e,c=1-s,d=Math.min(r,o,c);return["CMYK",r,o,c,d]}}class yL{create(t,e,s=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),s||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){ue("Abstract method `_createSVG` called.")}}class Jv extends yL{_createSVG(t){return document.createElementNS(Vs,t)}}class c1{static setupStorage(t,e,s,r,o){const c=r.getValue(e,{value:null});switch(s.name){case"textarea":if(c.value!==null&&(t.textContent=c.value),o==="print")break;t.addEventListener("input",d=>{r.setValue(e,{value:d.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(c.value===s.attributes.xfaOn?t.setAttribute("checked",!0):c.value===s.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",d=>{r.setValue(e,{value:d.target.checked?d.target.getAttribute("xfaOn"):d.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&t.setAttribute("value",c.value),o==="print")break;t.addEventListener("input",d=>{r.setValue(e,{value:d.target.value})})}break;case"select":if(c.value!==null){t.setAttribute("value",c.value);for(const d of s.children)d.attributes.value===c.value?d.attributes.selected=!0:d.attributes.hasOwnProperty("selected")&&delete d.attributes.selected}t.addEventListener("input",d=>{const p=d.target.options,g=p.selectedIndex===-1?"":p[p.selectedIndex].value;r.setValue(e,{value:g})});break}}static setAttributes({html:t,element:e,storage:s=null,intent:r,linkService:o}){const{attributes:c}=e,d=t instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${r}`);for(const[p,g]of Object.entries(c))if(g!=null)switch(p){case"class":g.length&&t.setAttribute(p,g.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",g);break;case"style":Object.assign(t.style,g);break;case"textContent":t.textContent=g;break;default:(!d||p!=="href"&&p!=="newWindow")&&t.setAttribute(p,g)}d&&o.addLinkAttributes(t,c.href,c.newWindow),s&&c.dataId&&this.setupStorage(t,c.dataId,e,s)}static render(t){var b,v;const e=t.annotationStorage,s=t.linkService,r=t.xfaHtml,o=t.intent||"display",c=document.createElement(r.name);r.attributes&&this.setAttributes({html:c,element:r,intent:o,linkService:s});const d=o!=="richText",p=t.div;if(p.append(c),t.viewport){const S=`matrix(${t.viewport.transform.join(",")})`;p.style.transform=S}d&&p.setAttribute("class","xfaLayer xfaFont");const g=[];if(r.children.length===0){if(r.value){const S=document.createTextNode(r.value);c.append(S),d&&kh.shouldBuildText(r.name)&&g.push(S)}return{textDivs:g}}const m=[[r,-1,c]];for(;m.length>0;){const[S,E,T]=m.at(-1);if(E+1===S.children.length){m.pop();continue}const M=S.children[++m.at(-1)[1]];if(M===null)continue;const{name:C}=M;if(C==="#text"){const N=document.createTextNode(M.value);g.push(N),T.append(N);continue}const L=(b=M==null?void 0:M.attributes)!=null&&b.xmlns?document.createElementNS(M.attributes.xmlns,C):document.createElement(C);if(T.append(L),M.attributes&&this.setAttributes({html:L,element:M,storage:e,intent:o,linkService:s}),((v=M.children)==null?void 0:v.length)>0)m.push([M,-1,L]);else if(M.value){const N=document.createTextNode(M.value);d&&kh.shouldBuildText(C)&&g.push(N),L.append(N)}}for(const S of p.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))S.setAttribute("readOnly",!0);return{textDivs:g}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const tf=1e3,bL=9,rl=new WeakSet;function va(h){return{width:h[2]-h[0],height:h[3]-h[1]}}class vL{static create(t){switch(t.data.annotationType){case Fe.LINK:return new u1(t);case Fe.TEXT:return new AL(t);case Fe.WIDGET:switch(t.data.fieldType){case"Tx":return new SL(t);case"Btn":return t.data.radioButton?new f1(t):t.data.checkBox?new _L(t):new wL(t);case"Ch":return new TL(t);case"Sig":return new EL(t)}return new dl(t);case Fe.POPUP:return new nv(t);case Fe.FREETEXT:return new b1(t);case Fe.LINE:return new RL(t);case Fe.SQUARE:return new CL(t);case Fe.CIRCLE:return new ML(t);case Fe.POLYLINE:return new v1(t);case Fe.CARET:return new LL(t);case Fe.INK:return new t0(t);case Fe.POLYGON:return new DL(t);case Fe.HIGHLIGHT:return new A1(t);case Fe.UNDERLINE:return new OL(t);case Fe.SQUIGGLY:return new NL(t);case Fe.STRIKEOUT:return new kL(t);case Fe.STAMP:return new S1(t);case Fe.FILEATTACHMENT:return new PL(t);default:return new Re(t)}}}var Po,Fc,Hc,bd,iv;const s0=class s0{constructor(t,{isRenderable:e=!1,ignoreBorder:s=!1,createQuadrilaterals:r=!1}={}){x(this,bd);x(this,Po,null);x(this,Fc,!1);x(this,Hc,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(s)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:s}){return!!(t!=null&&t.str||e!=null&&e.str||s!=null&&s.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return s0._hasPopupData(this.data)}updateEdited(t){var s;if(!this.container)return;u(this,Po)||_(this,Po,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&w(this,bd,iv).call(this,e),(s=u(this,Hc))==null||s.popup.updateEdited(t)}resetEdited(){var t;u(this,Po)&&(w(this,bd,iv).call(this,u(this,Po).rect),(t=u(this,Hc))==null||t.popup.resetEdited(),_(this,Po,null))}_createContainer(t){const{data:e,parent:{page:s,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),this instanceof dl||(o.tabIndex=tf);const{style:c}=o;if(c.zIndex=this.parent.zIndex++,e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof nv){const{rotation:T}=e;return!e.hasOwnCanvas&&T!==0&&this.setRotation(T,o),o}const{width:d,height:p}=va(e.rect);if(!t&&e.borderStyle.width>0){c.borderWidth=`${e.borderStyle.width}px`;const T=e.borderStyle.horizontalCornerRadius,M=e.borderStyle.verticalCornerRadius;if(T>0||M>0){const L=`calc(${T}px * var(--scale-factor)) / calc(${M}px * var(--scale-factor))`;c.borderRadius=L}else if(this instanceof f1){const L=`calc(${d}px * var(--scale-factor)) / calc(${p}px * var(--scale-factor))`;c.borderRadius=L}switch(e.borderStyle.style){case hh.SOLID:c.borderStyle="solid";break;case hh.DASHED:c.borderStyle="dashed";break;case hh.BEVELED:Ft("Unimplemented border style: beveled");break;case hh.INSET:Ft("Unimplemented border style: inset");break;case hh.UNDERLINE:c.borderBottomStyle="solid";break}const C=e.borderColor||null;C?(_(this,Fc,!0),c.borderColor=pt.makeHexColor(C[0]|0,C[1]|0,C[2]|0)):c.borderWidth=0}const g=pt.normalizeRect([e.rect[0],s.view[3]-e.rect[1]+s.view[1],e.rect[2],s.view[3]-e.rect[3]+s.view[1]]),{pageWidth:m,pageHeight:b,pageX:v,pageY:S}=r.rawDims;c.left=`${100*(g[0]-v)/m}%`,c.top=`${100*(g[1]-S)/b}%`;const{rotation:E}=e;return e.hasOwnCanvas||E===0?(c.width=`${100*d/m}%`,c.height=`${100*p/b}%`):this.setRotation(E,o),o}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:r}=this.parent.viewport.rawDims,{width:o,height:c}=va(this.data.rect);let d,p;t%180===0?(d=100*o/s,p=100*c/r):(d=100*c/s,p=100*o/r),e.style.width=`${d}%`,e.style.height=`${p}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,s,r)=>{const o=r.detail[e],c=o[0],d=o.slice(1);r.target.style[s]=x_[`${c}_HTML`](d),this.annotationStorage.setValue(this.data.id,{[s]:x_[`${c}_rgb`](d)})};return qt(this,"_commonActions",{display:e=>{const{display:s}=e.detail,r=s%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:s===1||s===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:s}=e.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const s=e.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(t,e){const s=this._commonActions;for(const r of Object.keys(e.detail)){const o=t[r]||s[r];o==null||o(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const s=this._commonActions;for(const[r,o]of Object.entries(e)){const c=s[r];if(c){const d={detail:{[r]:o},target:t};c(d),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,s,r,o]=this.data.rect.map(T=>Math.fround(T));if(t.length===8){const[T,M,C,L]=t.subarray(2,6);if(r===T&&o===M&&e===C&&s===L)return}const{style:c}=this.container;let d;if(u(this,Fc)){const{borderColor:T,borderWidth:M}=c;c.borderWidth=0,d=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${T}" stroke-width="${M}">`],this.container.classList.add("hasBorder")}const p=r-e,g=o-s,{svgFactory:m}=this,b=m.createElement("svg");b.classList.add("quadrilateralsContainer"),b.setAttribute("width",0),b.setAttribute("height",0);const v=m.createElement("defs");b.append(v);const S=m.createElement("clipPath"),E=`clippath_${this.data.id}`;S.setAttribute("id",E),S.setAttribute("clipPathUnits","objectBoundingBox"),v.append(S);for(let T=2,M=t.length;T<M;T+=8){const C=t[T],L=t[T+1],N=t[T+2],F=t[T+3],z=m.createElement("rect"),B=(N-e)/p,V=(o-L)/g,Z=(C-N)/p,q=(L-F)/g;z.setAttribute("x",B),z.setAttribute("y",V),z.setAttribute("width",Z),z.setAttribute("height",q),S.append(z),d==null||d.push(`<rect vector-effect="non-scaling-stroke" x="${B}" y="${V}" width="${Z}" height="${q}"/>`)}u(this,Fc)&&(d.push("</g></svg>')"),c.backgroundImage=d.join("")),this.container.append(b),this.container.style.clipPath=`url(#${E})`}_createPopup(){const{data:t}=this,e=_(this,Hc,new nv({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){ue("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const s=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:o,id:c,exportValues:d}of r){if(o===-1||c===e)continue;const p=typeof d=="string"?d:null,g=document.querySelector(`[data-element-id="${c}"]`);if(g&&!rl.has(g)){Ft(`_getElementsByName - element not allowed: ${c}`);continue}s.push({id:c,exportValue:p,domElement:g})}return s}for(const r of document.getElementsByName(t)){const{exportValue:o}=r,c=r.getAttribute("data-element-id");c!==e&&rl.has(r)&&s.push({id:c,exportValue:o,domElement:r})}return s}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};Po=new WeakMap,Fc=new WeakMap,Hc=new WeakMap,bd=new WeakSet,iv=function(t){const{container:{style:e},data:{rect:s,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:c,pageX:d,pageY:p}}}}=this;s==null||s.splice(0,4,...t);const{width:g,height:m}=va(t);e.left=`${100*(t[0]-d)/o}%`,e.top=`${100*(c-t[3]+p)/c}%`,r===0?(e.width=`${100*g/o}%`,e.height=`${100*m/c}%`):this.setRotation(r)};let Re=s0;var nn,Zr,h1,d1;class u1 extends Re{constructor(e,s=null){super(e,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});x(this,nn);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:s}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let o=!1;return e.url?(s.addLinkAttributes(r,e.url,e.newWindow),o=!0):e.action?(this._bindNamedAction(r,e.action),o=!0):e.attachment?(w(this,nn,h1).call(this,r,e.attachment,e.attachmentDest),o=!0):e.setOCGState?(w(this,nn,d1).call(this,r,e.setOCGState),o=!0):e.dest?(this._bindLink(r,e.dest),o=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),o=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(r,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(r),this.container}_bindLink(e,s){e.href=this.linkService.getDestinationHash(s),e.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&w(this,nn,Zr).call(this)}_bindNamedAction(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(s),!1),w(this,nn,Zr).call(this)}_bindJSAction(e,s){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(s.actions)){const c=r.get(o);c&&(e[c]=()=>{var d;return(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:o}}),!1})}e.onclick||(e.onclick=()=>!1),w(this,nn,Zr).call(this)}_bindResetFormAction(e,s){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),w(this,nn,Zr).call(this),!this._fieldObjects){Ft('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{var b;r==null||r();const{fields:o,refs:c,include:d}=s,p=[];if(o.length!==0||c.length!==0){const v=new Set(c);for(const S of o){const E=this._fieldObjects[S]||[];for(const{id:T}of E)v.add(T)}for(const S of Object.values(this._fieldObjects))for(const E of S)v.has(E.id)===d&&p.push(E)}else for(const v of Object.values(this._fieldObjects))p.push(...v);const g=this.annotationStorage,m=[];for(const v of p){const{id:S}=v;switch(m.push(S),v.type){case"text":{const T=v.defaultValue||"";g.setValue(S,{value:T});break}case"checkbox":case"radiobutton":{const T=v.defaultValue===v.exportValues;g.setValue(S,{value:T});break}case"combobox":case"listbox":{const T=v.defaultValue||"";g.setValue(S,{value:T});break}default:continue}const E=document.querySelector(`[data-element-id="${S}"]`);if(E){if(!rl.has(E)){Ft(`_bindResetFormAction - element not allowed: ${S}`);continue}}else continue;E.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:m,name:"ResetForm"}})),!1}}}nn=new WeakSet,Zr=function(){this.container.setAttribute("data-internal-link","")},h1=function(e,s,r=null){e.href=this.linkService.getAnchorUrl(""),s.description&&(e.title=s.description),e.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(s.content,s.filename,r),!1},w(this,nn,Zr).call(this)},d1=function(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(s),!1),w(this,nn,Zr).call(this)};class AL extends Re{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class dl extends Re{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Ti.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,s,r,o){s.includes("mouse")?t.addEventListener(s,c=>{var d;(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(s,c=>{var d;if(s==="blur"){if(!e.focused||!c.relatedTarget)return;e.focused=!1}else if(s==="focus"){if(e.focused)return;e.focused=!0}o&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(c)}}))})}_setEventListeners(t,e,s,r){var o,c,d;for(const[p,g]of s)(g==="Action"||(o=this.data.actions)!=null&&o[g])&&((g==="Focus"||g==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,p,g,r),g==="Focus"&&!((c=this.data.actions)!=null&&c.Blur)?this._setEventListener(t,e,"blur","Blur",null):g==="Blur"&&!((d=this.data.actions)!=null&&d.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":pt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||bL,o=t.style;let c;const d=2,p=g=>Math.round(10*g)/10;if(this.data.multiLine){const g=Math.abs(this.data.rect[3]-this.data.rect[1]-d),m=Math.round(g/(ab*r))||1,b=g/m;c=Math.min(r,p(b/ab))}else{const g=Math.abs(this.data.rect[3]-this.data.rect[1]-d);c=Math.min(r,p(g/ab))}o.fontSize=`calc(${c}px * var(--scale-factor))`,o.color=pt.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(o.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class SL extends dl{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,s,r){const o=this.annotationStorage;for(const c of this._getElementsByName(t.name,t.id))c.domElement&&(c.domElement[e]=s),o.setValue(c.id,{[r]:s})}render(){var r,o;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const c=t.getValue(e,{value:this.data.fieldValue});let d=c.value||"";const p=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;p&&d.length>p&&(d=d.slice(0,p));let g=c.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;g&&this.data.comb&&(g=g.replaceAll(/\s+/g,""));const m={userValue:d,formattedValue:g,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=g??d,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type="text",s.setAttribute("value",g??d),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),rl.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=tf,this._setRequired(s,this.data.required),p&&(s.maxLength=p),s.addEventListener("input",v=>{t.setValue(e,{value:v.target.value}),this.setPropertyOnSiblings(s,"value",v.target.value,"value"),m.formattedValue=null}),s.addEventListener("resetform",v=>{const S=this.data.defaultFieldValue??"";s.value=m.userValue=S,m.formattedValue=null});let b=v=>{const{formattedValue:S}=m;S!=null&&(v.target.value=S),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",S=>{var T;if(m.focused)return;const{target:E}=S;m.userValue&&(E.value=m.userValue),m.lastCommittedValue=E.value,m.commitKey=1,(T=this.data.actions)!=null&&T.Focus||(m.focused=!0)}),s.addEventListener("updatefromsandbox",S=>{this.showElementAndHideCanvas(S.target);const E={value(T){m.userValue=T.detail.value??"",t.setValue(e,{value:m.userValue.toString()}),T.target.value=m.userValue},formattedValue(T){const{formattedValue:M}=T.detail;m.formattedValue=M,M!=null&&T.target!==document.activeElement&&(T.target.value=M),t.setValue(e,{formattedValue:M})},selRange(T){T.target.setSelectionRange(...T.detail.selRange)},charLimit:T=>{var N;const{charLimit:M}=T.detail,{target:C}=T;if(M===0){C.removeAttribute("maxLength");return}C.setAttribute("maxLength",M);let L=m.userValue;!L||L.length<=M||(L=L.slice(0,M),C.value=m.userValue=L,t.setValue(e,{value:L}),(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:L,willCommit:!0,commitKey:1,selStart:C.selectionStart,selEnd:C.selectionEnd}}))}};this._dispatchEventFromSandbox(E,S)}),s.addEventListener("keydown",S=>{var M;m.commitKey=1;let E=-1;if(S.key==="Escape"?E=0:S.key==="Enter"&&!this.data.multiLine?E=2:S.key==="Tab"&&(m.commitKey=3),E===-1)return;const{value:T}=S.target;m.lastCommittedValue!==T&&(m.lastCommittedValue=T,m.userValue=T,(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,willCommit:!0,commitKey:E,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}))});const v=b;b=null,s.addEventListener("blur",S=>{var T,M;if(!m.focused||!S.relatedTarget)return;(T=this.data.actions)!=null&&T.Blur||(m.focused=!1);const{value:E}=S.target;m.userValue=E,m.lastCommittedValue!==E&&((M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,willCommit:!0,commitKey:m.commitKey,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}})),v(S)}),(o=this.data.actions)!=null&&o.Keystroke&&s.addEventListener("beforeinput",S=>{var z;m.lastCommittedValue=null;const{data:E,target:T}=S,{value:M,selectionStart:C,selectionEnd:L}=T;let N=C,F=L;switch(S.inputType){case"deleteWordBackward":{const B=M.substring(0,C).match(/\w*[^\w]*$/);B&&(N-=B[0].length);break}case"deleteWordForward":{const B=M.substring(C).match(/^[^\w]*\w*/);B&&(F+=B[0].length);break}case"deleteContentBackward":C===L&&(N-=1);break;case"deleteContentForward":C===L&&(F+=1);break}S.preventDefault(),(z=this.linkService.eventBus)==null||z.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:M,change:E||"",willCommit:!1,selStart:N,selEnd:F}})}),this._setEventListeners(s,m,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],S=>S.target.value)}if(b&&s.addEventListener("blur",b),this.data.comb){const S=(this.data.rect[2]-this.data.rect[0])/p;s.classList.add("comb"),s.style.letterSpacing=`calc(${S}px * var(--scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class EL extends dl{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class _L extends dl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,s=e.id;let r=t.getValue(s,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(s,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return rl.add(o),o.setAttribute("data-element-id",s),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",e.exportValue),o.tabIndex=tf,o.addEventListener("change",c=>{const{name:d,checked:p}=c.target;for(const g of this._getElementsByName(d,s)){const m=p&&g.exportValue===e.exportValue;g.domElement&&(g.domElement.checked=m),t.setValue(g.id,{value:m})}t.setValue(s,{value:p})}),o.addEventListener("resetform",c=>{const d=e.defaultFieldValue||"Off";c.target.checked=d===e.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",c=>{const d={value(p){p.target.checked=p.detail.value!=="Off",t.setValue(s,{value:p.target.checked})}};this._dispatchEventFromSandbox(d,c)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class f1 extends dl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,s=e.id;let r=t.getValue(s,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(s,{value:r})),r)for(const c of this._getElementsByName(e.fieldName,s))t.setValue(c.id,{value:!1});const o=document.createElement("input");if(rl.add(o),o.setAttribute("data-element-id",s),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=tf,o.addEventListener("change",c=>{const{name:d,checked:p}=c.target;for(const g of this._getElementsByName(d,s))t.setValue(g.id,{value:!1});t.setValue(s,{value:p})}),o.addEventListener("resetform",c=>{const d=e.defaultFieldValue;c.target.checked=d!=null&&d===e.buttonValue}),this.enableScripting&&this.hasJSActions){const c=e.buttonValue;o.addEventListener("updatefromsandbox",d=>{const p={value:g=>{const m=c===g.detail.value;for(const b of this._getElementsByName(g.target.name)){const v=m&&b.id===s;b.domElement&&(b.domElement.checked=v),t.setValue(b.id,{value:v})}}};this._dispatchEventFromSandbox(p,d)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class wL extends u1{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),t}}class TL extends dl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,s=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");rl.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=tf;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",m=>{const b=this.data.defaultFieldValue;for(const v of r.options)v.selected=v.value===b});for(const m of this.data.options){const b=document.createElement("option");b.textContent=m.displayValue,b.value=m.exportValue,s.value.includes(m.exportValue)&&(b.setAttribute("selected",!0),o=!1),r.append(b)}let c=null;if(o){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),r.prepend(m),c=()=>{m.remove(),r.removeEventListener("input",c),c=null},r.addEventListener("input",c)}const d=m=>{const b=m?"value":"textContent",{options:v,multiple:S}=r;return S?Array.prototype.filter.call(v,E=>E.selected).map(E=>E[b]):v.selectedIndex===-1?null:v[v.selectedIndex][b]};let p=d(!1);const g=m=>{const b=m.target.options;return Array.prototype.map.call(b,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",m=>{const b={value(v){c==null||c();const S=v.detail.value,E=new Set(Array.isArray(S)?S:[S]);for(const T of r.options)T.selected=E.has(T.value);t.setValue(e,{value:d(!0)}),p=d(!1)},multipleSelection(v){r.multiple=!0},remove(v){const S=r.options,E=v.detail.remove;S[E].selected=!1,r.remove(E),S.length>0&&Array.prototype.findIndex.call(S,M=>M.selected)===-1&&(S[0].selected=!0),t.setValue(e,{value:d(!0),items:g(v)}),p=d(!1)},clear(v){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),p=d(!1)},insert(v){const{index:S,displayValue:E,exportValue:T}=v.detail.insert,M=r.children[S],C=document.createElement("option");C.textContent=E,C.value=T,M?M.before(C):r.append(C),t.setValue(e,{value:d(!0),items:g(v)}),p=d(!1)},items(v){const{items:S}=v.detail;for(;r.length!==0;)r.remove(0);for(const E of S){const{displayValue:T,exportValue:M}=E,C=document.createElement("option");C.textContent=T,C.value=M,r.append(C)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:d(!0),items:g(v)}),p=d(!1)},indices(v){const S=new Set(v.detail.indices);for(const E of v.target.options)E.selected=S.has(E.index);t.setValue(e,{value:d(!0)}),p=d(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(b,m)}),r.addEventListener("input",m=>{var S;const b=d(!0),v=d(!1);t.setValue(e,{value:b}),m.preventDefault(),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:p,change:v,changeEx:b,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):r.addEventListener("input",function(m){t.setValue(e,{value:d(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class nv extends Re{constructor(t){const{data:e,elements:s}=t;super(t,{isRenderable:Re._hasPopupData(e)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new xL({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const s of this.elements)s.popup=t,s.container.ariaHasPopup="dialog",e.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(s=>`${qv}${s}`).join(",")),this.container}}var zc,vg,Ag,Uc,Fo,Se,sa,Bc,vd,Ad,jc,aa,In,ra,Sd,oa,Ed,Ho,zo,ie,Fp,sv,p1,g1,m1,y1,Hp,zp,av;class xL{constructor({container:t,color:e,elements:s,titleObj:r,modificationDate:o,contentsObj:c,richText:d,parent:p,rect:g,parentRect:m,open:b}){x(this,ie);x(this,zc,w(this,ie,m1).bind(this));x(this,vg,w(this,ie,av).bind(this));x(this,Ag,w(this,ie,zp).bind(this));x(this,Uc,w(this,ie,Hp).bind(this));x(this,Fo,null);x(this,Se,null);x(this,sa,null);x(this,Bc,null);x(this,vd,null);x(this,Ad,null);x(this,jc,null);x(this,aa,!1);x(this,In,null);x(this,ra,null);x(this,Sd,null);x(this,oa,null);x(this,Ed,null);x(this,Ho,null);x(this,zo,!1);var v;_(this,Se,t),_(this,Ed,r),_(this,sa,c),_(this,oa,d),_(this,Ad,p),_(this,Fo,e),_(this,Sd,g),_(this,jc,m),_(this,vd,s),_(this,Bc,Xv.toDateObject(o)),this.trigger=s.flatMap(S=>S.getElementsToTriggerPopup());for(const S of this.trigger)S.addEventListener("click",u(this,Uc)),S.addEventListener("mouseenter",u(this,Ag)),S.addEventListener("mouseleave",u(this,vg)),S.classList.add("popupTriggerArea");for(const S of s)(v=S.container)==null||v.addEventListener("keydown",u(this,zc));u(this,Se).hidden=!0,b&&w(this,ie,Hp).call(this)}render(){if(u(this,In))return;const t=_(this,In,document.createElement("div"));if(t.className="popup",u(this,Fo)){const o=t.style.outlineColor=pt.makeHexColor(...u(this,Fo));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:t.style.backgroundColor=pt.makeHexColor(...u(this,Fo).map(d=>Math.floor(.7*(255-d)+d)))}const e=document.createElement("span");e.className="header";const s=document.createElement("h1");if(e.append(s),{dir:s.dir,str:s.textContent}=u(this,Ed),t.append(e),u(this,Bc)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:u(this,Bc).valueOf()})),e.append(o)}const r=u(this,ie,Fp);if(r)c1.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(u(this,sa));t.append(o)}u(this,Se).append(t)}_formatContents({str:t,dir:e}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let o=0,c=r.length;o<c;++o){const d=r[o];s.append(document.createTextNode(d)),o<c-1&&s.append(document.createElement("br"))}return s}updateEdited({rect:t,popupContent:e}){var s;u(this,Ho)||_(this,Ho,{contentsObj:u(this,sa),richText:u(this,oa)}),t&&_(this,ra,null),e&&(_(this,oa,w(this,ie,g1).call(this,e)),_(this,sa,null)),(s=u(this,In))==null||s.remove(),_(this,In,null)}resetEdited(){var t;u(this,Ho)&&({contentsObj:Si(this,sa)._,richText:Si(this,oa)._}=u(this,Ho),_(this,Ho,null),(t=u(this,In))==null||t.remove(),_(this,In,null),_(this,ra,null))}forceHide(){_(this,zo,this.isVisible),u(this,zo)&&(u(this,Se).hidden=!0)}maybeShow(){u(this,zo)&&(u(this,In)||w(this,ie,zp).call(this),_(this,zo,!1),u(this,Se).hidden=!1)}get isVisible(){return u(this,Se).hidden===!1}}zc=new WeakMap,vg=new WeakMap,Ag=new WeakMap,Uc=new WeakMap,Fo=new WeakMap,Se=new WeakMap,sa=new WeakMap,Bc=new WeakMap,vd=new WeakMap,Ad=new WeakMap,jc=new WeakMap,aa=new WeakMap,In=new WeakMap,ra=new WeakMap,Sd=new WeakMap,oa=new WeakMap,Ed=new WeakMap,Ho=new WeakMap,zo=new WeakMap,ie=new WeakSet,Fp=function(){const t=u(this,oa),e=u(this,sa);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&u(this,oa).html||null},sv=function(){var t,e,s;return((s=(e=(t=u(this,ie,Fp))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:s.fontSize)||0},p1=function(){var t,e,s;return((s=(e=(t=u(this,ie,Fp))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:s.color)||null},g1=function(t){const e=[],s={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:u(this,ie,p1),fontSize:u(this,ie,sv)?`calc(${u(this,ie,sv)}px * var(--scale-factor))`:""}};for(const o of t.split(`
`))e.push({name:"span",value:o,attributes:r});return s},m1=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&u(this,aa))&&w(this,ie,Hp).call(this)},y1=function(){if(u(this,ra)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:s,pageX:r,pageY:o}}}=u(this,Ad);let c=!!u(this,jc),d=c?u(this,jc):u(this,Sd);for(const E of u(this,vd))if(!d||pt.intersect(E.data.rect,d)!==null){d=E.data.rect,c=!0;break}const p=pt.normalizeRect([d[0],t[3]-d[1]+t[1],d[2],t[3]-d[3]+t[1]]),m=c?d[2]-d[0]+5:0,b=p[0]+m,v=p[1];_(this,ra,[100*(b-r)/e,100*(v-o)/s]);const{style:S}=u(this,Se);S.left=`${u(this,ra)[0]}%`,S.top=`${u(this,ra)[1]}%`},Hp=function(){_(this,aa,!u(this,aa)),u(this,aa)?(w(this,ie,zp).call(this),u(this,Se).addEventListener("click",u(this,Uc)),u(this,Se).addEventListener("keydown",u(this,zc))):(w(this,ie,av).call(this),u(this,Se).removeEventListener("click",u(this,Uc)),u(this,Se).removeEventListener("keydown",u(this,zc)))},zp=function(){u(this,In)||this.render(),this.isVisible?u(this,aa)&&u(this,Se).classList.add("focused"):(w(this,ie,y1).call(this),u(this,Se).hidden=!1,u(this,Se).style.zIndex=parseInt(u(this,Se).style.zIndex)+1e3)},av=function(){u(this,Se).classList.remove("focused"),!(u(this,aa)||!this.isVisible)&&(u(this,Se).hidden=!0,u(this,Se).style.zIndex=parseInt(u(this,Se).style.zIndex)-1e3)};class b1 extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Nt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const s=document.createElement("span");s.textContent=e,t.append(s)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var _d;class RL extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,_d,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:s,height:r}=va(e.rect),o=this.svgFactory.create(s,r,!0),c=_(this,_d,this.svgFactory.createElement("svg:line"));return c.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),c.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),c.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),c.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),c.setAttribute("stroke-width",e.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),o.append(c),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,_d)}addHighlightArea(){this.container.classList.add("highlightArea")}}_d=new WeakMap;var wd;class CL extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,wd,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:s,height:r}=va(e.rect),o=this.svgFactory.create(s,r,!0),c=e.borderStyle.width,d=_(this,wd,this.svgFactory.createElement("svg:rect"));return d.setAttribute("x",c/2),d.setAttribute("y",c/2),d.setAttribute("width",s-c),d.setAttribute("height",r-c),d.setAttribute("stroke-width",c||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),o.append(d),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,wd)}addHighlightArea(){this.container.classList.add("highlightArea")}}wd=new WeakMap;var Td;class ML extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,Td,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:s,height:r}=va(e.rect),o=this.svgFactory.create(s,r,!0),c=e.borderStyle.width,d=_(this,Td,this.svgFactory.createElement("svg:ellipse"));return d.setAttribute("cx",s/2),d.setAttribute("cy",r/2),d.setAttribute("rx",s/2-c/2),d.setAttribute("ry",r/2-c/2),d.setAttribute("stroke-width",c||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),o.append(d),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Td)}addHighlightArea(){this.container.classList.add("highlightArea")}}Td=new WeakMap;var xd;class v1 extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,xd,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:s,borderStyle:r,popupRef:o}}=this;if(!s)return this.container;const{width:c,height:d}=va(e),p=this.svgFactory.create(c,d,!0);let g=[];for(let b=0,v=s.length;b<v;b+=2){const S=s[b]-e[0],E=e[3]-s[b+1];g.push(`${S},${E}`)}g=g.join(" ");const m=_(this,xd,this.svgFactory.createElement(this.svgElementName));return m.setAttribute("points",g),m.setAttribute("stroke-width",r.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),p.append(m),this.container.append(p),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,xd)}addHighlightArea(){this.container.classList.add("highlightArea")}}xd=new WeakMap;class DL extends v1{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class LL extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Rd;class t0 extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,Rd,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Nt.HIGHLIGHT:Nt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:s,borderStyle:r,popupRef:o}}=this,{width:c,height:d}=va(e),p=this.svgFactory.create(c,d,!0);for(const g of s){let m=[];for(let v=0,S=g.length;v<S;v+=2){const E=g[v]-e[0],T=e[3]-g[v+1];m.push(`${E},${T}`)}m=m.join(" ");const b=this.svgFactory.createElement(this.svgElementName);u(this,Rd).push(b),b.setAttribute("points",m),b.setAttribute("stroke-width",r.width||1),b.setAttribute("stroke","transparent"),b.setAttribute("fill","transparent"),p.append(b)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(p),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return u(this,Rd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Rd=new WeakMap;class A1 extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Nt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class OL extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class NL extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class kL extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class S1 extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Nt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Cd,Md,rv;class PL extends Re{constructor(e){var r;super(e,{isRenderable:!0});x(this,Md);x(this,Cd,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:s}=this;let r;s.hasAppearance||s.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),r.addEventListener("dblclick",w(this,Md,rv).bind(this)),_(this,Cd,r);const{isMac:o}=Ti.platform;return e.addEventListener("keydown",c=>{c.key==="Enter"&&(o?c.metaKey:c.ctrlKey)&&w(this,Md,rv).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return u(this,Cd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Cd=new WeakMap,Md=new WeakSet,rv=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var Dd,Uo,Bo,Ld,ll,E1,ov,U_;let FL=(U_=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:s,annotationEditorUIManager:r,page:o,viewport:c,structTreeLayer:d}){x(this,ll);x(this,Dd,null);x(this,Uo,null);x(this,Bo,new Map);x(this,Ld,null);this.div=t,_(this,Dd,e),_(this,Uo,s),_(this,Ld,d||null),this.page=o,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return u(this,Bo).size>0}async render(t){var c;const{annotations:e}=t,s=this.div;sl(s,this.viewport);const r=new Map,o={data:null,layer:s,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Jv,annotationStorage:t.annotationStorage||new Kv,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const d of e){if(d.noHTML)continue;const p=d.annotationType===Fe.POPUP;if(p){const b=r.get(d.id);if(!b)continue;o.elements=b}else{const{width:b,height:v}=va(d.rect);if(b<=0||v<=0)continue}o.data=d;const g=vL.create(o);if(!g.isRenderable)continue;if(!p&&d.popupRef){const b=r.get(d.popupRef);b?b.push(g):r.set(d.popupRef,[g])}const m=g.render();d.hidden&&(m.style.visibility="hidden"),await w(this,ll,E1).call(this,m,d.id),g._isEditable&&(u(this,Bo).set(g.data.id,g),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(g))}w(this,ll,ov).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,sl(e,{rotation:t.rotation}),w(this,ll,ov).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(u(this,Bo).values())}getEditableAnnotation(t){return u(this,Bo).get(t)}},Dd=new WeakMap,Uo=new WeakMap,Bo=new WeakMap,Ld=new WeakMap,ll=new WeakSet,E1=async function(t,e){var c,d;const s=t.firstChild||t,r=s.id=`${qv}${e}`,o=await((c=u(this,Ld))==null?void 0:c.getAriaAttributes(r));if(o)for(const[p,g]of o)s.setAttribute(p,g);this.div.append(t),(d=u(this,Dd))==null||d.moveElementInDOM(this.div,t,s,!1)},ov=function(){if(!u(this,Uo))return;const t=this.div;for(const[e,s]of u(this,Uo)){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;s.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(s):o.classList.contains("annotationContent")?o.after(s):o.before(s):r.append(s)}u(this,Uo).clear()},U_);const vp=/\r\n?|\n/g;var qn,$i,Od,jo,Wi,Ne,_1,w1,T1,Up,Sa,Bp,jp,x1,cv,R1;const oe=class oe extends Zt{constructor(e){super({...e,name:"freeTextEditor"});x(this,Ne);x(this,qn);x(this,$i,"");x(this,Od,`${this.id}-editor`);x(this,jo,null);x(this,Wi);_(this,qn,e.color||oe._defaultColor||Zt._defaultLineColor),_(this,Wi,e.fontSize||oe._defaultFontSize)}static get _keyboardManager(){const e=oe.prototype,s=c=>c.isEmpty(),r=al.TRANSLATE_SMALL,o=al.TRANSLATE_BIG;return qt(this,"_keyboardManager",new Jd([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-o,0],checker:s}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[o,0],checker:s}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-o],checker:s}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,o],checker:s}]]))}static initialize(e,s){Zt.initialize(e,s);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,s){switch(e){case Tt.FREETEXT_SIZE:oe._defaultFontSize=s;break;case Tt.FREETEXT_COLOR:oe._defaultColor=s;break}}updateParams(e,s){switch(e){case Tt.FREETEXT_SIZE:w(this,Ne,_1).call(this,s);break;case Tt.FREETEXT_COLOR:w(this,Ne,w1).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Tt.FREETEXT_SIZE,oe._defaultFontSize],[Tt.FREETEXT_COLOR,oe._defaultColor||Zt._defaultLineColor]]}get propertiesToUpdate(){return[[Tt.FREETEXT_SIZE,u(this,Wi)],[Tt.FREETEXT_COLOR,u(this,qn)]]}_translateEmpty(e,s){this._uiManager.translateSelectedEditors(e,s,!0)}getInitialTranslation(){const e=this.parentScale;return[-oe._internalPadding*e,-(oe._internalPadding+u(this,Wi))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Nt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),_(this,jo,new AbortController);const e=this._uiManager.combinedSignal(u(this,jo));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",u(this,Od)),this._isDraggable=!0,(e=u(this,jo))==null||e.abort(),_(this,jo,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=u(this,$i),s=_(this,$i,w(this,Ne,T1).call(this).trimEnd());if(e===s)return;const r=o=>{if(_(this,$i,o),!o){this.remove();return}w(this,Ne,jp).call(this),this._uiManager.rebuild(this),w(this,Ne,Up).call(this)};this.addCommands({cmd:()=>{r(s)},undo:()=>{r(e)},mustExec:!1}),w(this,Ne,Up).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){oe._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,s;this.width&&(e=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",u(this,Od)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${u(this,Wi)}px * var(--scale-factor))`,r.color=u(this,qn),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),eg(this,this.div,["dblclick","keydown"]),this.width){const[o,c]=this.parentDimensions;if(this.annotationElementId){const{position:d}=this._initialData;let[p,g]=this.getInitialTranslation();[p,g]=this.pageTranslationToScreen(p,g);const[m,b]=this.pageDimensions,[v,S]=this.pageTranslation;let E,T;switch(this.rotation){case 0:E=e+(d[0]-v)/m,T=s+this.height-(d[1]-S)/b;break;case 90:E=e+(d[0]-v)/m,T=s-(d[1]-S)/b,[p,g]=[g,-p];break;case 180:E=e-this.width+(d[0]-v)/m,T=s-(d[1]-S)/b,[p,g]=[-p,-g];break;case 270:E=e+(d[0]-v-this.height*b)/m,T=s+(d[1]-S-this.width*m)/b,[p,g]=[-g,p];break}this.setAt(E*o,T*c,p,g)}else this.setAt(e*o,s*c,this.width*o,this.height*c);w(this,Ne,jp).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var E,T,M;const s=e.clipboardData||window.clipboardData,{types:r}=s;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const o=w(E=oe,Sa,cv).call(E,s.getData("text")||"").replaceAll(vp,`
`);if(!o)return;const c=window.getSelection();if(!c.rangeCount)return;this.editorDiv.normalize(),c.deleteFromDocument();const d=c.getRangeAt(0);if(!o.includes(`
`)){d.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),c.collapseToStart();return}const{startContainer:p,startOffset:g}=d,m=[],b=[];if(p.nodeType===Node.TEXT_NODE){const C=p.parentElement;if(b.push(p.nodeValue.slice(g).replaceAll(vp,"")),C!==this.editorDiv){let L=m;for(const N of this.editorDiv.childNodes){if(N===C){L=b;continue}L.push(w(T=oe,Sa,Bp).call(T,N))}}m.push(p.nodeValue.slice(0,g).replaceAll(vp,""))}else if(p===this.editorDiv){let C=m,L=0;for(const N of this.editorDiv.childNodes)L++===g&&(C=b),C.push(w(M=oe,Sa,Bp).call(M,N))}_(this,$i,`${m.join(`
`)}${o}${b.join(`
`)}`),w(this,Ne,jp).call(this);const v=new Range;let S=m.reduce((C,L)=>C+L.length,0);for(const{firstChild:C}of this.editorDiv.childNodes)if(C.nodeType===Node.TEXT_NODE){const L=C.nodeValue.length;if(S<=L){v.setStart(C,S),v.setEnd(C,S);break}S-=L}c.removeAllRanges(),c.addRange(v)}get contentDiv(){return this.editorDiv}static async deserialize(e,s,r){var d;let o=null;if(e instanceof b1){const{data:{defaultAppearanceData:{fontSize:p,fontColor:g},rect:m,rotation:b,id:v,popupRef:S},textContent:E,textPosition:T,parent:{page:{pageNumber:M}}}=e;if(!E||E.length===0)return null;o=e={annotationType:Nt.FREETEXT,color:Array.from(g),fontSize:p,value:E.join(`
`),position:T,pageIndex:M-1,rect:m.slice(0),rotation:b,id:v,deleted:!1,popupRef:S}}const c=await super.deserialize(e,s,r);return _(c,Wi,e.fontSize),_(c,qn,pt.makeHexColor(...e.color)),_(c,$i,w(d=oe,Sa,cv).call(d,e.value)),c.annotationElementId=e.id||null,c._initialData=o,c}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=oe._internalPadding*this.parentScale,r=this.getRect(s,s),o=Zt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:u(this,qn)),c={annotationType:Nt.FREETEXT,color:o,fontSize:u(this,Wi),value:w(this,Ne,x1).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?c:this.annotationElementId&&!w(this,Ne,R1).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(e){const s=super.renderAnnotationElement(e);if(this.deleted)return s;const{style:r}=s;r.fontSize=`calc(${u(this,Wi)}px * var(--scale-factor))`,r.color=u(this,qn),s.replaceChildren();for(const c of u(this,$i).split(`
`)){const d=document.createElement("div");d.append(c?document.createTextNode(c):document.createElement("br")),s.append(d)}const o=oe._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(o,o),popupContent:u(this,$i)}),s}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};qn=new WeakMap,$i=new WeakMap,Od=new WeakMap,jo=new WeakMap,Wi=new WeakMap,Ne=new WeakSet,_1=function(e){const s=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-u(this,Wi))*this.parentScale),_(this,Wi,o),w(this,Ne,Up).call(this)},r=u(this,Wi);this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},w1=function(e){const s=o=>{_(this,qn,this.editorDiv.style.color=o)},r=u(this,qn);this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},T1=function(){var r;const e=[];this.editorDiv.normalize();let s=null;for(const o of this.editorDiv.childNodes)(s==null?void 0:s.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(e.push(w(r=oe,Sa,Bp).call(r,o)),s=o);return e.join(`
`)},Up=function(){const[e,s]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:o,div:c}=this,d=c.style.display,p=c.classList.contains("hidden");c.classList.remove("hidden"),c.style.display="hidden",o.div.append(this.div),r=c.getBoundingClientRect(),c.remove(),c.style.display=d,c.classList.toggle("hidden",p)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/s):(this.width=r.height/e,this.height=r.width/s),this.fixAndSetPosition()},Sa=new WeakSet,Bp=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(vp,"")},jp=function(){if(this.editorDiv.replaceChildren(),!!u(this,$i))for(const e of u(this,$i).split(`
`)){const s=document.createElement("div");s.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(s)}},x1=function(){return u(this,$i).replaceAll(" "," ")},cv=function(e){return e.replaceAll(" "," ")},R1=function(e){const{value:s,fontSize:r,color:o,pageIndex:c}=this._initialData;return this._hasBeenMoved||e.value!==s||e.fontSize!==r||e.color.some((d,p)=>d!==o[p])||e.pageIndex!==c},x(oe,Sa),wt(oe,"_freeTextDefaultContent",""),wt(oe,"_internalPadding",0),wt(oe,"_defaultColor",null),wt(oe,"_defaultFontSize",10),wt(oe,"_type","freetext"),wt(oe,"_editorType",Nt.FREETEXT);let lv=oe;class C1{toSVGPath(){ue("Abstract method `toSVGPath` must be implemented.")}get box(){ue("Abstract getter `box` must be implemented.")}serialize(t,e){ue("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){ue("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){ue("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Qi,Gn,Ic,qc,bs,zt,Io,qo,Nd,kd,Gc,Vc,gr,Pd,Sg,Eg,je,_h,M1,D1,L1,O1,N1,k1;const Ys=class Ys{constructor({x:t,y:e},s,r,o,c,d=0){x(this,je);x(this,Qi);x(this,Gn,[]);x(this,Ic);x(this,qc);x(this,bs,[]);x(this,zt,new Float64Array(18));x(this,Io);x(this,qo);x(this,Nd);x(this,kd);x(this,Gc);x(this,Vc);x(this,gr,[]);_(this,Qi,s),_(this,Vc,o*r),_(this,qc,c),u(this,zt).set([NaN,NaN,NaN,NaN,t,e],6),_(this,Ic,d),_(this,kd,u(Ys,Pd)*r),_(this,Nd,u(Ys,Eg)*r),_(this,Gc,r),u(this,gr).push(t,e)}isEmpty(){return isNaN(u(this,zt)[8])}add({x:t,y:e}){var q;_(this,Io,t),_(this,qo,e);const[s,r,o,c]=u(this,Qi);let[d,p,g,m]=u(this,zt).subarray(8,12);const b=t-g,v=e-m,S=Math.hypot(b,v);if(S<u(this,Nd))return!1;const E=S-u(this,kd),T=E/S,M=T*b,C=T*v;let L=d,N=p;d=g,p=m,g+=M,m+=C,(q=u(this,gr))==null||q.push(t,e);const F=-C/E,z=M/E,B=F*u(this,Vc),V=z*u(this,Vc);return u(this,zt).set(u(this,zt).subarray(2,8),0),u(this,zt).set([g+B,m+V],4),u(this,zt).set(u(this,zt).subarray(14,18),12),u(this,zt).set([g-B,m-V],16),isNaN(u(this,zt)[6])?(u(this,bs).length===0&&(u(this,zt).set([d+B,p+V],2),u(this,bs).push(NaN,NaN,NaN,NaN,(d+B-s)/o,(p+V-r)/c),u(this,zt).set([d-B,p-V],14),u(this,Gn).push(NaN,NaN,NaN,NaN,(d-B-s)/o,(p-V-r)/c)),u(this,zt).set([L,N,d,p,g,m],6),!this.isEmpty()):(u(this,zt).set([L,N,d,p,g,m],6),Math.abs(Math.atan2(N-p,L-d)-Math.atan2(C,M))<Math.PI/2?([d,p,g,m]=u(this,zt).subarray(2,6),u(this,bs).push(NaN,NaN,NaN,NaN,((d+g)/2-s)/o,((p+m)/2-r)/c),[d,p,L,N]=u(this,zt).subarray(14,18),u(this,Gn).push(NaN,NaN,NaN,NaN,((L+d)/2-s)/o,((N+p)/2-r)/c),!0):([L,N,d,p,g,m]=u(this,zt).subarray(0,6),u(this,bs).push(((L+5*d)/6-s)/o,((N+5*p)/6-r)/c,((5*d+g)/6-s)/o,((5*p+m)/6-r)/c,((d+g)/2-s)/o,((p+m)/2-r)/c),[g,m,d,p,L,N]=u(this,zt).subarray(12,18),u(this,Gn).push(((L+5*d)/6-s)/o,((N+5*p)/6-r)/c,((5*d+g)/6-s)/o,((5*p+m)/6-r)/c,((d+g)/2-s)/o,((p+m)/2-r)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const t=u(this,bs),e=u(this,Gn);if(isNaN(u(this,zt)[6])&&!this.isEmpty())return w(this,je,M1).call(this);const s=[];s.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?s.push(`L${t[r+4]} ${t[r+5]}`):s.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);w(this,je,L1).call(this,s);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?s.push(`L${e[r+4]} ${e[r+5]}`):s.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return w(this,je,D1).call(this,s),s.join(" ")}newFreeDrawOutline(t,e,s,r,o,c){return new P1(t,e,s,r,o,c)}getOutlines(){var b;const t=u(this,bs),e=u(this,Gn),s=u(this,zt),[r,o,c,d]=u(this,Qi),p=new Float64Array((((b=u(this,gr))==null?void 0:b.length)??0)+2);for(let v=0,S=p.length-2;v<S;v+=2)p[v]=(u(this,gr)[v]-r)/c,p[v+1]=(u(this,gr)[v+1]-o)/d;if(p[p.length-2]=(u(this,Io)-r)/c,p[p.length-1]=(u(this,qo)-o)/d,isNaN(s[6])&&!this.isEmpty())return w(this,je,O1).call(this,p);const g=new Float64Array(u(this,bs).length+24+u(this,Gn).length);let m=t.length;for(let v=0;v<m;v+=2){if(isNaN(t[v])){g[v]=g[v+1]=NaN;continue}g[v]=t[v],g[v+1]=t[v+1]}m=w(this,je,k1).call(this,g,m);for(let v=e.length-6;v>=6;v-=6)for(let S=0;S<6;S+=2){if(isNaN(e[v+S])){g[m]=g[m+1]=NaN,m+=2;continue}g[m]=e[v+S],g[m+1]=e[v+S+1],m+=2}return w(this,je,N1).call(this,g,m),this.newFreeDrawOutline(g,p,u(this,Qi),u(this,Gc),u(this,Ic),u(this,qc))}};Qi=new WeakMap,Gn=new WeakMap,Ic=new WeakMap,qc=new WeakMap,bs=new WeakMap,zt=new WeakMap,Io=new WeakMap,qo=new WeakMap,Nd=new WeakMap,kd=new WeakMap,Gc=new WeakMap,Vc=new WeakMap,gr=new WeakMap,Pd=new WeakMap,Sg=new WeakMap,Eg=new WeakMap,je=new WeakSet,_h=function(){const t=u(this,zt).subarray(4,6),e=u(this,zt).subarray(16,18),[s,r,o,c]=u(this,Qi);return[(u(this,Io)+(t[0]-e[0])/2-s)/o,(u(this,qo)+(t[1]-e[1])/2-r)/c,(u(this,Io)+(e[0]-t[0])/2-s)/o,(u(this,qo)+(e[1]-t[1])/2-r)/c]},M1=function(){const[t,e,s,r]=u(this,Qi),[o,c,d,p]=w(this,je,_h).call(this);return`M${(u(this,zt)[2]-t)/s} ${(u(this,zt)[3]-e)/r} L${(u(this,zt)[4]-t)/s} ${(u(this,zt)[5]-e)/r} L${o} ${c} L${d} ${p} L${(u(this,zt)[16]-t)/s} ${(u(this,zt)[17]-e)/r} L${(u(this,zt)[14]-t)/s} ${(u(this,zt)[15]-e)/r} Z`},D1=function(t){const e=u(this,Gn);t.push(`L${e[4]} ${e[5]} Z`)},L1=function(t){const[e,s,r,o]=u(this,Qi),c=u(this,zt).subarray(4,6),d=u(this,zt).subarray(16,18),[p,g,m,b]=w(this,je,_h).call(this);t.push(`L${(c[0]-e)/r} ${(c[1]-s)/o} L${p} ${g} L${m} ${b} L${(d[0]-e)/r} ${(d[1]-s)/o}`)},O1=function(t){const e=u(this,zt),[s,r,o,c]=u(this,Qi),[d,p,g,m]=w(this,je,_h).call(this),b=new Float64Array(36);return b.set([NaN,NaN,NaN,NaN,(e[2]-s)/o,(e[3]-r)/c,NaN,NaN,NaN,NaN,(e[4]-s)/o,(e[5]-r)/c,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,(e[16]-s)/o,(e[17]-r)/c,NaN,NaN,NaN,NaN,(e[14]-s)/o,(e[15]-r)/c],0),this.newFreeDrawOutline(b,t,u(this,Qi),u(this,Gc),u(this,Ic),u(this,qc))},N1=function(t,e){const s=u(this,Gn);return t.set([NaN,NaN,NaN,NaN,s[4],s[5]],e),e+=6},k1=function(t,e){const s=u(this,zt).subarray(4,6),r=u(this,zt).subarray(16,18),[o,c,d,p]=u(this,Qi),[g,m,b,v]=w(this,je,_h).call(this);return t.set([NaN,NaN,NaN,NaN,(s[0]-o)/d,(s[1]-c)/p,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,b,v,NaN,NaN,NaN,NaN,(r[0]-o)/d,(r[1]-c)/p],e),e+=24},x(Ys,Pd,8),x(Ys,Sg,2),x(Ys,Eg,u(Ys,Pd)+u(Ys,Sg));let ng=Ys;var Xc,Go,la,Fd,Zi,Hd,Te,Hi,wh,Th,F1;class P1 extends C1{constructor(e,s,r,o,c,d){super();x(this,Hi);x(this,Xc);x(this,Go,null);x(this,la);x(this,Fd);x(this,Zi);x(this,Hd);x(this,Te);_(this,Te,e),_(this,Zi,s),_(this,Xc,r),_(this,Hd,o),_(this,la,c),_(this,Fd,d),w(this,Hi,F1).call(this,d);const{x:p,y:g,width:m,height:b}=u(this,Go);for(let v=0,S=e.length;v<S;v+=2)e[v]=(e[v]-p)/m,e[v+1]=(e[v+1]-g)/b;for(let v=0,S=s.length;v<S;v+=2)s[v]=(s[v]-p)/m,s[v+1]=(s[v+1]-g)/b}toSVGPath(){const e=[`M${u(this,Te)[4]} ${u(this,Te)[5]}`];for(let s=6,r=u(this,Te).length;s<r;s+=6){if(isNaN(u(this,Te)[s])){e.push(`L${u(this,Te)[s+4]} ${u(this,Te)[s+5]}`);continue}e.push(`C${u(this,Te)[s]} ${u(this,Te)[s+1]} ${u(this,Te)[s+2]} ${u(this,Te)[s+3]} ${u(this,Te)[s+4]} ${u(this,Te)[s+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,s,r,o],c){const d=r-e,p=o-s;let g,m;switch(c){case 0:g=w(this,Hi,wh).call(this,u(this,Te),e,o,d,-p),m=w(this,Hi,wh).call(this,u(this,Zi),e,o,d,-p);break;case 90:g=w(this,Hi,Th).call(this,u(this,Te),e,s,d,p),m=w(this,Hi,Th).call(this,u(this,Zi),e,s,d,p);break;case 180:g=w(this,Hi,wh).call(this,u(this,Te),r,s,-d,p),m=w(this,Hi,wh).call(this,u(this,Zi),r,s,-d,p);break;case 270:g=w(this,Hi,Th).call(this,u(this,Te),r,o,-d,-p),m=w(this,Hi,Th).call(this,u(this,Zi),r,o,-d,-p);break}return{outline:Array.from(g),points:[Array.from(m)]}}get box(){return u(this,Go)}newOutliner(e,s,r,o,c,d=0){return new ng(e,s,r,o,c,d)}getNewOutline(e,s){const{x:r,y:o,width:c,height:d}=u(this,Go),[p,g,m,b]=u(this,Xc),v=c*m,S=d*b,E=r*m+p,T=o*b+g,M=this.newOutliner({x:u(this,Zi)[0]*v+E,y:u(this,Zi)[1]*S+T},u(this,Xc),u(this,Hd),e,u(this,Fd),s??u(this,la));for(let C=2;C<u(this,Zi).length;C+=2)M.add({x:u(this,Zi)[C]*v+E,y:u(this,Zi)[C+1]*S+T});return M.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Xc=new WeakMap,Go=new WeakMap,la=new WeakMap,Fd=new WeakMap,Zi=new WeakMap,Hd=new WeakMap,Te=new WeakMap,Hi=new WeakSet,wh=function(e,s,r,o,c){const d=new Float64Array(e.length);for(let p=0,g=e.length;p<g;p+=2)d[p]=s+e[p]*o,d[p+1]=r+e[p+1]*c;return d},Th=function(e,s,r,o,c){const d=new Float64Array(e.length);for(let p=0,g=e.length;p<g;p+=2)d[p]=s+e[p+1]*o,d[p+1]=r+e[p]*c;return d},F1=function(e){const s=u(this,Te);let r=s[4],o=s[5],c=r,d=o,p=r,g=o,m=r,b=o;const v=e?Math.max:Math.min;for(let C=6,L=s.length;C<L;C+=6){if(isNaN(s[C]))c=Math.min(c,s[C+4]),d=Math.min(d,s[C+5]),p=Math.max(p,s[C+4]),g=Math.max(g,s[C+5]),b<s[C+5]?(m=s[C+4],b=s[C+5]):b===s[C+5]&&(m=v(m,s[C+4]));else{const N=pt.bezierBoundingBox(r,o,...s.slice(C,C+6));c=Math.min(c,N[0]),d=Math.min(d,N[1]),p=Math.max(p,N[2]),g=Math.max(g,N[3]),b<N[3]?(m=N[2],b=N[3]):b===N[3]&&(m=v(m,N[2]))}r=s[C+4],o=s[C+5]}const S=c-u(this,la),E=d-u(this,la),T=p-c+2*u(this,la),M=g-d+2*u(this,la);_(this,Go,{x:S,y:E,width:T,height:M,lastPoint:[m,b]})};var zd,mr,Vn,Ri,H1,Ip,z1,U1,uv;class R_{constructor(t,e=0,s=0,r=!0){x(this,Ri);x(this,zd);x(this,mr,[]);x(this,Vn,[]);let o=1/0,c=-1/0,d=1/0,p=-1/0;const g=10**-4;for(const{x:M,y:C,width:L,height:N}of t){const F=Math.floor((M-e)/g)*g,z=Math.ceil((M+L+e)/g)*g,B=Math.floor((C-e)/g)*g,V=Math.ceil((C+N+e)/g)*g,Z=[F,B,V,!0],q=[z,B,V,!1];u(this,mr).push(Z,q),o=Math.min(o,F),c=Math.max(c,z),d=Math.min(d,B),p=Math.max(p,V)}const m=c-o+2*s,b=p-d+2*s,v=o-s,S=d-s,E=u(this,mr).at(r?-1:-2),T=[E[0],E[2]];for(const M of u(this,mr)){const[C,L,N]=M;M[0]=(C-v)/m,M[1]=(L-S)/b,M[2]=(N-S)/b}_(this,zd,{x:v,y:S,width:m,height:b,lastPoint:T})}getOutlines(){u(this,mr).sort((e,s)=>e[0]-s[0]||e[1]-s[1]||e[2]-s[2]);const t=[];for(const e of u(this,mr))e[3]?(t.push(...w(this,Ri,uv).call(this,e)),w(this,Ri,z1).call(this,e)):(w(this,Ri,U1).call(this,e),t.push(...w(this,Ri,uv).call(this,e)));return w(this,Ri,H1).call(this,t)}}zd=new WeakMap,mr=new WeakMap,Vn=new WeakMap,Ri=new WeakSet,H1=function(t){const e=[],s=new Set;for(const c of t){const[d,p,g]=c;e.push([d,p,c],[d,g,c])}e.sort((c,d)=>c[1]-d[1]||c[0]-d[0]);for(let c=0,d=e.length;c<d;c+=2){const p=e[c][2],g=e[c+1][2];p.push(g),g.push(p),s.add(p),s.add(g)}const r=[];let o;for(;s.size>0;){const c=s.values().next().value;let[d,p,g,m,b]=c;s.delete(c);let v=d,S=p;for(o=[d,g],r.push(o);;){let E;if(s.has(m))E=m;else if(s.has(b))E=b;else break;s.delete(E),[d,p,g,m,b]=E,v!==d&&(o.push(v,S,d,S===p?p:g),v=d),S=S===p?g:p}o.push(v,S)}return new HL(r,u(this,zd))},Ip=function(t){const e=u(this,Vn);let s=0,r=e.length-1;for(;s<=r;){const o=s+r>>1,c=e[o][0];if(c===t)return o;c<t?s=o+1:r=o-1}return r+1},z1=function([,t,e]){const s=w(this,Ri,Ip).call(this,t);u(this,Vn).splice(s,0,[t,e])},U1=function([,t,e]){const s=w(this,Ri,Ip).call(this,t);for(let r=s;r<u(this,Vn).length;r++){const[o,c]=u(this,Vn)[r];if(o!==t)break;if(o===t&&c===e){u(this,Vn).splice(r,1);return}}for(let r=s-1;r>=0;r--){const[o,c]=u(this,Vn)[r];if(o!==t)break;if(o===t&&c===e){u(this,Vn).splice(r,1);return}}},uv=function(t){const[e,s,r]=t,o=[[e,s,r]],c=w(this,Ri,Ip).call(this,r);for(let d=0;d<c;d++){const[p,g]=u(this,Vn)[d];for(let m=0,b=o.length;m<b;m++){const[,v,S]=o[m];if(!(g<=v||S<=p)){if(v>=p){if(S>g)o[m][1]=g;else{if(b===1)return[];o.splice(m,1),m--,b--}continue}o[m][2]=p,S>g&&o.push([e,g,S])}}}return o};var Ud,Yc;class HL extends C1{constructor(e,s){super();x(this,Ud);x(this,Yc);_(this,Yc,e),_(this,Ud,s)}toSVGPath(){const e=[];for(const s of u(this,Yc)){let[r,o]=s;e.push(`M${r} ${o}`);for(let c=2;c<s.length;c+=2){const d=s[c],p=s[c+1];d===r?(e.push(`V${p}`),o=p):p===o&&(e.push(`H${d}`),r=d)}e.push("Z")}return e.join(" ")}serialize([e,s,r,o],c){const d=[],p=r-e,g=o-s;for(const m of u(this,Yc)){const b=new Array(m.length);for(let v=0;v<m.length;v+=2)b[v]=e+m[v]*p,b[v+1]=o-m[v+1]*g;d.push(b)}return d}get box(){return u(this,Ud)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Ud=new WeakMap,Yc=new WeakMap;class hv extends ng{newFreeDrawOutline(t,e,s,r,o,c){return new zL(t,e,s,r,o,c)}get classNamesForDrawing(){return["highlight","free"]}}class zL extends P1{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,e,s,r,o,c=0){return new hv(t,e,s,r,o,c)}}var Xn,Vo,Kc,ze,Bd,$c,jd,Id,yr,Yn,Wc,qd,ee,dv,fv,pv,Jr,B1,$a;const Oi=class Oi{constructor({editor:t=null,uiManager:e=null}){x(this,ee);x(this,Xn,null);x(this,Vo,null);x(this,Kc);x(this,ze,null);x(this,Bd,!1);x(this,$c,!1);x(this,jd,null);x(this,Id);x(this,yr,null);x(this,Yn,null);x(this,Wc);var s;t?(_(this,$c,!1),_(this,Wc,Tt.HIGHLIGHT_COLOR),_(this,jd,t)):(_(this,$c,!0),_(this,Wc,Tt.HIGHLIGHT_DEFAULT_COLOR)),_(this,Yn,(t==null?void 0:t._uiManager)||e),_(this,Id,u(this,Yn)._eventBus),_(this,Kc,(t==null?void 0:t.color)||((s=u(this,Yn))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),u(Oi,qd)||_(Oi,qd,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return qt(this,"_keyboardManager",new Jd([[["Escape","mac+Escape"],Oi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Oi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Oi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Oi.prototype._moveToPrevious],[["Home","mac+Home"],Oi.prototype._moveToBeginning],[["End","mac+End"],Oi.prototype._moveToEnd]]))}renderButton(){const t=_(this,Xn,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=u(this,Yn)._signal;t.addEventListener("click",w(this,ee,Jr).bind(this),{signal:e}),t.addEventListener("keydown",w(this,ee,pv).bind(this),{signal:e});const s=_(this,Vo,document.createElement("span"));return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=u(this,Kc),t.append(s),t}renderMainDropdown(){const t=_(this,ze,w(this,ee,dv).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===u(this,Xn)){w(this,ee,Jr).call(this,t);return}const e=t.target.getAttribute("data-color");e&&w(this,ee,fv).call(this,e,t)}_moveToNext(t){var e,s;if(!u(this,ee,$a)){w(this,ee,Jr).call(this,t);return}if(t.target===u(this,Xn)){(e=u(this,ze).firstChild)==null||e.focus();return}(s=t.target.nextSibling)==null||s.focus()}_moveToPrevious(t){var e,s;if(t.target===((e=u(this,ze))==null?void 0:e.firstChild)||t.target===u(this,Xn)){u(this,ee,$a)&&this._hideDropdownFromKeyboard();return}u(this,ee,$a)||w(this,ee,Jr).call(this,t),(s=t.target.previousSibling)==null||s.focus()}_moveToBeginning(t){var e;if(!u(this,ee,$a)){w(this,ee,Jr).call(this,t);return}(e=u(this,ze).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!u(this,ee,$a)){w(this,ee,Jr).call(this,t);return}(e=u(this,ze).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=u(this,ze))==null||t.classList.add("hidden"),(e=u(this,yr))==null||e.abort(),_(this,yr,null)}_hideDropdownFromKeyboard(){var t;if(!u(this,$c)){if(!u(this,ee,$a)){(t=u(this,jd))==null||t.unselect();return}this.hideDropdown(),u(this,Xn).focus({preventScroll:!0,focusVisible:u(this,Bd)})}}updateColor(t){if(u(this,Vo)&&(u(this,Vo).style.backgroundColor=t),!u(this,ze))return;const e=u(this,Yn).highlightColors.values();for(const s of u(this,ze).children)s.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=u(this,Xn))==null||t.remove(),_(this,Xn,null),_(this,Vo,null),(e=u(this,ze))==null||e.remove(),_(this,ze,null)}};Xn=new WeakMap,Vo=new WeakMap,Kc=new WeakMap,ze=new WeakMap,Bd=new WeakMap,$c=new WeakMap,jd=new WeakMap,Id=new WeakMap,yr=new WeakMap,Yn=new WeakMap,Wc=new WeakMap,qd=new WeakMap,ee=new WeakSet,dv=function(){const t=document.createElement("div"),e=u(this,Yn)._signal;t.addEventListener("contextmenu",Cn,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,r]of u(this,Yn).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=s,o.setAttribute("data-l10n-id",u(Oi,qd)[s]);const c=document.createElement("span");o.append(c),c.className="swatch",c.style.backgroundColor=r,o.setAttribute("aria-selected",r===u(this,Kc)),o.addEventListener("click",w(this,ee,fv).bind(this,r),{signal:e}),t.append(o)}return t.addEventListener("keydown",w(this,ee,pv).bind(this),{signal:e}),t},fv=function(t,e){e.stopPropagation(),u(this,Id).dispatch("switchannotationeditorparams",{source:this,type:u(this,Wc),value:t})},pv=function(t){Oi._keyboardManager.exec(this,t)},Jr=function(t){if(u(this,ee,$a)){this.hideDropdown();return}if(_(this,Bd,t.detail===0),u(this,yr)||(_(this,yr,new AbortController),window.addEventListener("pointerdown",w(this,ee,B1).bind(this),{signal:u(this,Yn).combinedSignal(u(this,yr))})),u(this,ze)){u(this,ze).classList.remove("hidden");return}const e=_(this,ze,w(this,ee,dv).call(this));u(this,Xn).append(e)},B1=function(t){var e;(e=u(this,ze))!=null&&e.contains(t.target)||this.hideDropdown()},$a=function(){return u(this,ze)&&!u(this,ze).classList.contains("hidden")},x(Oi,qd,null);let sg=Oi;var Qc,Gd,ca,Xo,Zc,En,Vd,Xd,Yo,Kn,pi,Pi,Jc,ua,Ue,tu,_n,Yd,Dt,gv,qp,j1,I1,q1,mv,to,xn,ic,G1,Gp,xh,V1,X1,Y1,K1,$1;const Kt=class Kt extends Zt{constructor(e){super({...e,name:"highlightEditor"});x(this,Dt);x(this,Qc,null);x(this,Gd,0);x(this,ca);x(this,Xo,null);x(this,Zc,null);x(this,En,null);x(this,Vd,null);x(this,Xd,0);x(this,Yo,null);x(this,Kn,null);x(this,pi,null);x(this,Pi,!1);x(this,Jc,null);x(this,ua);x(this,Ue,null);x(this,tu,"");x(this,_n);x(this,Yd,"");this.color=e.color||Kt._defaultColor,_(this,_n,e.thickness||Kt._defaultThickness),_(this,ua,e.opacity||Kt._defaultOpacity),_(this,ca,e.boxes||null),_(this,Yd,e.methodOfCreation||""),_(this,tu,e.text||""),this._isDraggable=!1,e.highlightId>-1?(_(this,Pi,!0),w(this,Dt,qp).call(this,e),w(this,Dt,to).call(this)):u(this,ca)&&(_(this,Qc,e.anchorNode),_(this,Gd,e.anchorOffset),_(this,Vd,e.focusNode),_(this,Xd,e.focusOffset),w(this,Dt,gv).call(this),w(this,Dt,to).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=Kt.prototype;return qt(this,"_keyboardManager",new Jd([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:u(this,Pi)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:u(this,_n),methodOfCreation:u(this,Yd)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,s){var r;Zt.initialize(e,s),Kt._defaultColor||(Kt._defaultColor=((r=s.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(e,s){switch(e){case Tt.HIGHLIGHT_DEFAULT_COLOR:Kt._defaultColor=s;break;case Tt.HIGHLIGHT_THICKNESS:Kt._defaultThickness=s;break}}translateInPage(e,s){}get toolbarPosition(){return u(this,Jc)}updateParams(e,s){switch(e){case Tt.HIGHLIGHT_COLOR:w(this,Dt,j1).call(this,s);break;case Tt.HIGHLIGHT_THICKNESS:w(this,Dt,I1).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Tt.HIGHLIGHT_DEFAULT_COLOR,Kt._defaultColor],[Tt.HIGHLIGHT_THICKNESS,Kt._defaultThickness]]}get propertiesToUpdate(){return[[Tt.HIGHLIGHT_COLOR,this.color||Kt._defaultColor],[Tt.HIGHLIGHT_THICKNESS,u(this,_n)||Kt._defaultThickness],[Tt.HIGHLIGHT_FREE,u(this,Pi)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(_(this,Zc,new sg({editor:this})),e.addColorPicker(u(this,Zc))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(w(this,Dt,xh).call(this))}getBaseTranslation(){return[0,0]}getRect(e,s){return super.getRect(e,s,w(this,Dt,xh).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){w(this,Dt,mv).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(w(this,Dt,to).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let s=!1;this.parent&&!e?w(this,Dt,mv).call(this):e&&(w(this,Dt,to).call(this,e),s=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),s&&this.select()}rotate(e){var o,c,d;const{drawLayer:s}=this.parent;let r;u(this,Pi)?(e=(e-this.rotation+360)%360,r=w(o=Kt,xn,ic).call(o,u(this,Kn).box,e)):r=w(c=Kt,xn,ic).call(c,this,e),s.rotate(u(this,pi),e),s.rotate(u(this,Ue),e),s.updateBox(u(this,pi),r),s.updateBox(u(this,Ue),w(d=Kt,xn,ic).call(d,u(this,En).box,e))}render(){if(this.div)return this.div;const e=super.render();u(this,tu)&&(e.setAttribute("aria-label",u(this,tu)),e.setAttribute("role","mark")),u(this,Pi)?e.classList.add("free"):this.div.addEventListener("keydown",w(this,Dt,G1).bind(this),{signal:this._uiManager._signal});const s=_(this,Yo,document.createElement("div"));e.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=u(this,Xo);const[r,o]=this.parentDimensions;return this.setDims(this.width*r,this.height*o),eg(this,u(this,Yo),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(u(this,Ue),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(u(this,Ue),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:w(this,Dt,Gp).call(this,!0);break;case 1:case 3:w(this,Dt,Gp).call(this,!1);break}}select(){var e,s;super.select(),u(this,Ue)&&((e=this.parent)==null||e.drawLayer.removeClass(u(this,Ue),"hovered"),(s=this.parent)==null||s.drawLayer.addClass(u(this,Ue),"selected"))}unselect(){var e;super.unselect(),u(this,Ue)&&((e=this.parent)==null||e.drawLayer.removeClass(u(this,Ue),"selected"),u(this,Pi)||w(this,Dt,Gp).call(this,!1))}get _mustFixPosition(){return!u(this,Pi)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(u(this,pi),e),this.parent.drawLayer.show(u(this,Ue),e))}static startHighlighting(e,s,{target:r,x:o,y:c}){const{x:d,y:p,width:g,height:m}=r.getBoundingClientRect(),b=new AbortController,v=e.combinedSignal(b),S=T=>{T.preventDefault(),T.stopPropagation()},E=T=>{b.abort(),w(this,xn,K1).call(this,e,T)};window.addEventListener("blur",E,{signal:v}),window.addEventListener("pointerup",E,{signal:v}),window.addEventListener("pointerdown",S,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",Cn,{signal:v}),r.addEventListener("pointermove",w(this,xn,Y1).bind(this,e),{signal:v}),this._freeHighlight=new hv({x:o,y:c},[d,p,g,m],e.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(e,s,r){var T,M,C,L;let o=null;if(e instanceof A1){const{data:{quadPoints:N,rect:F,rotation:z,id:B,color:V,opacity:Z,popupRef:q},parent:{page:{pageNumber:et}}}=e;o=e={annotationType:Nt.HIGHLIGHT,color:Array.from(V),opacity:Z,quadPoints:N,boxes:null,pageIndex:et-1,rect:F.slice(0),rotation:z,id:B,deleted:!1,popupRef:q}}else if(e instanceof t0){const{data:{inkLists:N,rect:F,rotation:z,id:B,color:V,borderStyle:{rawWidth:Z},popupRef:q},parent:{page:{pageNumber:et}}}=e;o=e={annotationType:Nt.HIGHLIGHT,color:Array.from(V),thickness:Z,inkLists:N,boxes:null,pageIndex:et-1,rect:F.slice(0),rotation:z,id:B,deleted:!1,popupRef:q}}const{color:c,quadPoints:d,inkLists:p,opacity:g}=e,m=await super.deserialize(e,s,r);m.color=pt.makeHexColor(...c),_(m,ua,g||1),p&&_(m,_n,e.thickness),m.annotationElementId=e.id||null,m._initialData=o;const[b,v]=m.pageDimensions,[S,E]=m.pageTranslation;if(d){const N=_(m,ca,[]);for(let F=0;F<d.length;F+=8)N.push({x:(d[F]-S)/b,y:1-(d[F+1]-E)/v,width:(d[F+2]-d[F])/b,height:(d[F+1]-d[F+5])/v});w(T=m,Dt,gv).call(T),w(M=m,Dt,to).call(M),m.rotate(m.rotation)}else if(p){_(m,Pi,!0);const N=p[0],F={x:N[0]-S,y:v-(N[1]-E)},z=new hv(F,[0,0,b,v],1,u(m,_n)/2,!0,.001);for(let Z=0,q=N.length;Z<q;Z+=2)F.x=N[Z]-S,F.y=v-(N[Z+1]-E),z.add(F);const{id:B,clipPathId:V}=s.drawLayer.draw(z,m.color,m._defaultOpacity,!0);w(C=m,Dt,qp).call(C,{highlightOutlines:z.getOutlines(),highlightId:B,clipPathId:V}),w(L=m,Dt,to).call(L)}return m}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const s=this.getRect(0,0),r=Zt._colorManager.convert(this.color),o={annotationType:Nt.HIGHLIGHT,color:r,opacity:u(this,ua),thickness:u(this,_n),quadPoints:w(this,Dt,V1).call(this),outlines:w(this,Dt,X1).call(this,s),pageIndex:this.pageIndex,rect:s,rotation:w(this,Dt,xh).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!w(this,Dt,$1).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Qc=new WeakMap,Gd=new WeakMap,ca=new WeakMap,Xo=new WeakMap,Zc=new WeakMap,En=new WeakMap,Vd=new WeakMap,Xd=new WeakMap,Yo=new WeakMap,Kn=new WeakMap,pi=new WeakMap,Pi=new WeakMap,Jc=new WeakMap,ua=new WeakMap,Ue=new WeakMap,tu=new WeakMap,_n=new WeakMap,Yd=new WeakMap,Dt=new WeakSet,gv=function(){const e=new R_(u(this,ca),.001);_(this,Kn,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=u(this,Kn).box;const s=new R_(u(this,ca),.0025,.001,this._uiManager.direction==="ltr");_(this,En,s.getOutlines());const{lastPoint:r}=u(this,En).box;_(this,Jc,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},qp=function({highlightOutlines:e,highlightId:s,clipPathId:r}){var b,v;if(_(this,Kn,e),_(this,En,e.getNewOutline(u(this,_n)/2+1.5,.0025)),s>=0)_(this,pi,s),_(this,Xo,r),this.parent.drawLayer.finalizeLine(s,e),_(this,Ue,this.parent.drawLayer.drawOutline(u(this,En)));else if(this.parent){const S=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(u(this,pi),e),this.parent.drawLayer.updateBox(u(this,pi),w(b=Kt,xn,ic).call(b,u(this,Kn).box,(S-this.rotation+360)%360)),this.parent.drawLayer.updateLine(u(this,Ue),u(this,En)),this.parent.drawLayer.updateBox(u(this,Ue),w(v=Kt,xn,ic).call(v,u(this,En).box,S))}const{x:c,y:d,width:p,height:g}=e.box;switch(this.rotation){case 0:this.x=c,this.y=d,this.width=p,this.height=g;break;case 90:{const[S,E]=this.parentDimensions;this.x=d,this.y=1-c,this.width=p*E/S,this.height=g*S/E;break}case 180:this.x=1-c,this.y=1-d,this.width=p,this.height=g;break;case 270:{const[S,E]=this.parentDimensions;this.x=1-d,this.y=c,this.width=p*E/S,this.height=g*S/E;break}}const{lastPoint:m}=u(this,En).box;_(this,Jc,[(m[0]-c)/p,(m[1]-d)/g])},j1=function(e){const s=(c,d)=>{var p,g,m;this.color=c,(p=this.parent)==null||p.drawLayer.changeColor(u(this,pi),c),(g=u(this,Zc))==null||g.updateColor(c),_(this,ua,d),(m=this.parent)==null||m.drawLayer.changeOpacity(u(this,pi),d)},r=this.color,o=u(this,ua);this.addCommands({cmd:s.bind(this,e,Kt._defaultOpacity),undo:s.bind(this,r,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},I1=function(e){const s=u(this,_n),r=o=>{_(this,_n,o),w(this,Dt,q1).call(this,o)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},q1=function(e){if(!u(this,Pi))return;w(this,Dt,qp).call(this,{highlightOutlines:u(this,Kn).getNewOutline(e/2)}),this.fixAndSetPosition();const[s,r]=this.parentDimensions;this.setDims(this.width*s,this.height*r)},mv=function(){u(this,pi)===null||!this.parent||(this.parent.drawLayer.remove(u(this,pi)),_(this,pi,null),this.parent.drawLayer.remove(u(this,Ue)),_(this,Ue,null))},to=function(e=this.parent){u(this,pi)===null&&({id:Si(this,pi)._,clipPathId:Si(this,Xo)._}=e.drawLayer.draw(u(this,Kn),this.color,u(this,ua)),_(this,Ue,e.drawLayer.drawOutline(u(this,En))),u(this,Yo)&&(u(this,Yo).style.clipPath=u(this,Xo)))},xn=new WeakSet,ic=function({x:e,y:s,width:r,height:o},c){switch(c){case 90:return{x:1-s-o,y:e,width:o,height:r};case 180:return{x:1-e-r,y:1-s-o,width:r,height:o};case 270:return{x:s,y:1-e-r,width:o,height:r}}return{x:e,y:s,width:r,height:o}},G1=function(e){Kt._keyboardManager.exec(this,e)},Gp=function(e){if(!u(this,Qc))return;const s=window.getSelection();e?s.setPosition(u(this,Qc),u(this,Gd)):s.setPosition(u(this,Vd),u(this,Xd))},xh=function(){return u(this,Pi)?this.rotation:0},V1=function(){if(u(this,Pi))return null;const[e,s]=this.pageDimensions,[r,o]=this.pageTranslation,c=u(this,ca),d=new Float32Array(c.length*8);let p=0;for(const{x:g,y:m,width:b,height:v}of c){const S=g*e+r,E=(1-m-v)*s+o;d[p]=d[p+4]=S,d[p+1]=d[p+3]=E,d[p+2]=d[p+6]=S+b*e,d[p+5]=d[p+7]=E+v*s,p+=8}return d},X1=function(e){return u(this,Kn).serialize(e,w(this,Dt,xh).call(this))},Y1=function(e,s){this._freeHighlight.add(s)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},K1=function(e,s){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},$1=function(e){const{color:s}=this._initialData;return e.color.some((r,o)=>r!==s[o])},x(Kt,xn),wt(Kt,"_defaultColor",null),wt(Kt,"_defaultOpacity",1),wt(Kt,"_defaultThickness",12),wt(Kt,"_type","highlight"),wt(Kt,"_editorType",Nt.HIGHLIGHT),wt(Kt,"_freeHighlightId",-1),wt(Kt,"_freeHighlight",null),wt(Kt,"_freeHighlightClipId","");let ag=Kt;var Ko,$o,vs,ha,wn,Wo,Qo,Zo,da,eu,Jo,tl,br,nt,W1,Q1,Z1,J1,bv,tT,vv,eT,iT,nT,sT,aT,eo,Av,Sv,Ev,Vp,Xp,nc,_v,Yp,_a,rT,wv,oT,lT,Tv,Kp,Rh;const pe=class pe extends Zt{constructor(e){super({...e,name:"inkEditor"});x(this,nt);x(this,Ko,0);x(this,$o,0);x(this,vs,null);x(this,ha,new Path2D);x(this,wn,!1);x(this,Wo,null);x(this,Qo,!1);x(this,Zo,!1);x(this,da,null);x(this,eu,null);x(this,Jo,0);x(this,tl,0);x(this,br,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,s){Zt.initialize(e,s)}static updateDefaultParams(e,s){switch(e){case Tt.INK_THICKNESS:pe._defaultThickness=s;break;case Tt.INK_COLOR:pe._defaultColor=s;break;case Tt.INK_OPACITY:pe._defaultOpacity=s/100;break}}updateParams(e,s){switch(e){case Tt.INK_THICKNESS:w(this,nt,W1).call(this,s);break;case Tt.INK_COLOR:w(this,nt,Q1).call(this,s);break;case Tt.INK_OPACITY:w(this,nt,Z1).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Tt.INK_THICKNESS,pe._defaultThickness],[Tt.INK_COLOR,pe._defaultColor||Zt._defaultLineColor],[Tt.INK_OPACITY,Math.round(pe._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Tt.INK_THICKNESS,this.thickness||pe._defaultThickness],[Tt.INK_COLOR,this.color||pe._defaultColor||Zt._defaultLineColor],[Tt.INK_OPACITY,Math.round(100*(this.opacity??pe._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(w(this,nt,Vp).call(this),w(this,nt,Xp).call(this)),this.isAttachedToDOM||(this.parent.add(this),w(this,nt,nc).call(this)),w(this,nt,Rh).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,u(this,vs)&&(clearTimeout(u(this,vs)),_(this,vs,null)),(e=u(this,da))==null||e.disconnect(),_(this,da,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,s]=this.parentDimensions,r=this.width*e,o=this.height*s;this.setDimensions(r,o)}enableEditMode(){u(this,wn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,w(this,nt,Av).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),w(this,nt,Sv).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){u(this,wn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),_(this,wn,!0),this.div.classList.add("disabled"),w(this,nt,Rh).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||u(this,wn)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),w(this,nt,tT).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),w(this,nt,vv).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),w(this,nt,Ev).call(this,e)}canvasPointerleave(e){w(this,nt,Ev).call(this,e)}get isResizable(){return!this.isEmpty()&&u(this,wn)}render(){if(this.div)return this.div;let e,s;this.width&&(e=this.x,s=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,o,c,d]=w(this,nt,J1).call(this);if(this.setAt(r,o,0,0),this.setDims(c,d),w(this,nt,Vp).call(this),this.width){const[p,g]=this.parentDimensions;this.setAspectRatio(this.width*p,this.height*g),this.setAt(e*p,s*g,this.width*p,this.height*g),_(this,Zo,!0),w(this,nt,nc).call(this),this.setDims(this.width*p,this.height*g),w(this,nt,eo).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return w(this,nt,Xp).call(this),this.div}setDimensions(e,s){const r=Math.round(e),o=Math.round(s);if(u(this,Jo)===r&&u(this,tl)===o)return;_(this,Jo,r),_(this,tl,o),this.canvas.style.visibility="hidden";const[c,d]=this.parentDimensions;this.width=e/c,this.height=s/d,this.fixAndSetPosition(),u(this,wn)&&w(this,nt,_v).call(this,e,s),w(this,nt,nc).call(this),w(this,nt,eo).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,s,r){var M,C,L;if(e instanceof t0)return null;const o=await super.deserialize(e,s,r);o.thickness=e.thickness,o.color=pt.makeHexColor(...e.color),o.opacity=e.opacity;const[c,d]=o.pageDimensions,p=o.width*c,g=o.height*d,m=o.parentScale,b=e.thickness/2;_(o,wn,!0),_(o,Jo,Math.round(p)),_(o,tl,Math.round(g));const{paths:v,rect:S,rotation:E}=e;for(let{bezier:N}of v){N=w(M=pe,_a,oT).call(M,N,S,E);const F=[];o.paths.push(F);let z=m*(N[0]-b),B=m*(N[1]-b);for(let Z=2,q=N.length;Z<q;Z+=6){const et=m*(N[Z]-b),st=m*(N[Z+1]-b),St=m*(N[Z+2]-b),gt=m*(N[Z+3]-b),dt=m*(N[Z+4]-b),mt=m*(N[Z+5]-b);F.push([[z,B],[et,st],[St,gt],[dt,mt]]),z=dt,B=mt}const V=w(this,_a,rT).call(this,F);o.bezierPath2D.push(V)}const T=w(C=o,nt,Tv).call(C);return _(o,$o,Math.max(Zt.MIN_SIZE,T[2]-T[0])),_(o,Ko,Math.max(Zt.MIN_SIZE,T[3]-T[1])),w(L=o,nt,_v).call(L,p,g),o}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),s=Zt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Nt.INK,color:s,thickness:this.thickness,opacity:this.opacity,paths:w(this,nt,lT).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Ko=new WeakMap,$o=new WeakMap,vs=new WeakMap,ha=new WeakMap,wn=new WeakMap,Wo=new WeakMap,Qo=new WeakMap,Zo=new WeakMap,da=new WeakMap,eu=new WeakMap,Jo=new WeakMap,tl=new WeakMap,br=new WeakMap,nt=new WeakSet,W1=function(e){const s=o=>{this.thickness=o,w(this,nt,Rh).call(this)},r=this.thickness;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Q1=function(e){const s=o=>{this.color=o,w(this,nt,eo).call(this)},r=this.color;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Z1=function(e){const s=o=>{this.opacity=o,w(this,nt,eo).call(this)};e/=100;const r=this.opacity;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},J1=function(){const{parentRotation:e,parentDimensions:[s,r]}=this;switch(e){case 90:return[0,r,r,s];case 180:return[s,r,s,r];case 270:return[s,0,r,s];default:return[0,0,s,r]}},bv=function(){const{ctx:e,color:s,opacity:r,thickness:o,parentScale:c,scaleFactor:d}=this;e.lineWidth=o*c/d,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${s}${rD(r)}`},tT=function(e,s){this.canvas.addEventListener("contextmenu",Cn,{signal:this._uiManager._signal}),w(this,nt,Sv).call(this),_(this,Wo,new AbortController);const r=this._uiManager.combinedSignal(u(this,Wo));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,u(this,Zo)||(_(this,Zo,!0),w(this,nt,nc).call(this),this.thickness||(this.thickness=pe._defaultThickness),this.color||(this.color=pe._defaultColor||Zt._defaultLineColor),this.opacity??(this.opacity=pe._defaultOpacity)),this.currentPath.push([e,s]),_(this,Qo,!1),w(this,nt,bv).call(this),_(this,br,()=>{w(this,nt,nT).call(this),u(this,br)&&window.requestAnimationFrame(u(this,br))}),window.requestAnimationFrame(u(this,br))},vv=function(e,s){const[r,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===r&&s===o)return;const c=this.currentPath;let d=u(this,ha);if(c.push([e,s]),_(this,Qo,!0),c.length<=2){d.moveTo(...c[0]),d.lineTo(e,s);return}c.length===3&&(_(this,ha,d=new Path2D),d.moveTo(...c[0])),w(this,nt,sT).call(this,d,...c.at(-3),...c.at(-2),e,s)},eT=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);u(this,ha).lineTo(...e)},iT=function(e,s){_(this,br,null),e=Math.min(Math.max(e,0),this.canvas.width),s=Math.min(Math.max(s,0),this.canvas.height),w(this,nt,vv).call(this,e,s),w(this,nt,eT).call(this);let r;if(this.currentPath.length!==1)r=w(this,nt,aT).call(this);else{const g=[e,s];r=[[g,g.slice(),g.slice(),g]]}const o=u(this,ha),c=this.currentPath;this.currentPath=[],_(this,ha,new Path2D);const d=()=>{this.allRawPaths.push(c),this.paths.push(r),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},p=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(w(this,nt,Vp).call(this),w(this,nt,Xp).call(this)),w(this,nt,Rh).call(this))};this.addCommands({cmd:d,undo:p,mustExec:!0})},nT=function(){if(!u(this,Qo))return;_(this,Qo,!1);const e=Math.ceil(this.thickness*this.parentScale),s=this.currentPath.slice(-3),r=s.map(d=>d[0]),o=s.map(d=>d[1]);Math.min(...r)-e,Math.max(...r)+e,Math.min(...o)-e,Math.max(...o)+e;const{ctx:c}=this;c.save(),c.clearRect(0,0,this.canvas.width,this.canvas.height);for(const d of this.bezierPath2D)c.stroke(d);c.stroke(u(this,ha)),c.restore()},sT=function(e,s,r,o,c,d,p){const g=(s+o)/2,m=(r+c)/2,b=(o+d)/2,v=(c+p)/2;e.bezierCurveTo(g+2*(o-g)/3,m+2*(c-m)/3,b+2*(o-b)/3,v+2*(c-v)/3,b,v)},aT=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const s=[];let r,[o,c]=e[0];for(r=1;r<e.length-2;r++){const[S,E]=e[r],[T,M]=e[r+1],C=(S+T)/2,L=(E+M)/2,N=[o+2*(S-o)/3,c+2*(E-c)/3],F=[C+2*(S-C)/3,L+2*(E-L)/3];s.push([[o,c],N,F,[C,L]]),[o,c]=[C,L]}const[d,p]=e[r],[g,m]=e[r+1],b=[o+2*(d-o)/3,c+2*(p-c)/3],v=[g+2*(d-g)/3,m+2*(p-m)/3];return s.push([[o,c],b,v,[g,m]]),s},eo=function(){if(this.isEmpty()){w(this,nt,Yp).call(this);return}w(this,nt,bv).call(this);const{canvas:e,ctx:s}=this;s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,e.width,e.height),w(this,nt,Yp).call(this);for(const r of this.bezierPath2D)s.stroke(r)},Av=function(){if(u(this,eu))return;_(this,eu,new AbortController);const e=this._uiManager.combinedSignal(u(this,eu));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})},Sv=function(){var e;(e=this.pointerdownAC)==null||e.abort(),this.pointerdownAC=null},Ev=function(e){var s;(s=u(this,Wo))==null||s.abort(),_(this,Wo,null),w(this,nt,Av).call(this),u(this,vs)&&clearTimeout(u(this,vs)),_(this,vs,setTimeout(()=>{_(this,vs,null),this.canvas.removeEventListener("contextmenu",Cn)},10)),w(this,nt,iT).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Vp=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Xp=function(){_(this,da,new ResizeObserver(e=>{const s=e[0].contentRect;s.width&&s.height&&this.setDimensions(s.width,s.height)})),u(this,da).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=u(this,da))==null||e.disconnect(),_(this,da,null)},{once:!0})},nc=function(){if(!u(this,Zo))return;const[e,s]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*s),w(this,nt,Yp).call(this)},_v=function(e,s){const r=w(this,nt,Kp).call(this),o=(e-r)/u(this,$o),c=(s-r)/u(this,Ko);this.scaleFactor=Math.min(o,c)},Yp=function(){const e=w(this,nt,Kp).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},_a=new WeakSet,rT=function(e){const s=new Path2D;for(let r=0,o=e.length;r<o;r++){const[c,d,p,g]=e[r];r===0&&s.moveTo(...c),s.bezierCurveTo(d[0],d[1],p[0],p[1],g[0],g[1])}return s},wv=function(e,s,r){const[o,c,d,p]=s;switch(r){case 0:for(let g=0,m=e.length;g<m;g+=2)e[g]+=o,e[g+1]=p-e[g+1];break;case 90:for(let g=0,m=e.length;g<m;g+=2){const b=e[g];e[g]=e[g+1]+o,e[g+1]=b+c}break;case 180:for(let g=0,m=e.length;g<m;g+=2)e[g]=d-e[g],e[g+1]+=c;break;case 270:for(let g=0,m=e.length;g<m;g+=2){const b=e[g];e[g]=d-e[g+1],e[g+1]=p-b}break;default:throw new Error("Invalid rotation")}return e},oT=function(e,s,r){const[o,c,d,p]=s;switch(r){case 0:for(let g=0,m=e.length;g<m;g+=2)e[g]-=o,e[g+1]=p-e[g+1];break;case 90:for(let g=0,m=e.length;g<m;g+=2){const b=e[g];e[g]=e[g+1]-c,e[g+1]=b-o}break;case 180:for(let g=0,m=e.length;g<m;g+=2)e[g]=d-e[g],e[g+1]-=c;break;case 270:for(let g=0,m=e.length;g<m;g+=2){const b=e[g];e[g]=p-e[g+1],e[g+1]=d-b}break;default:throw new Error("Invalid rotation")}return e},lT=function(e,s,r,o){var m,b;const c=[],d=this.thickness/2,p=e*s+d,g=e*r+d;for(const v of this.paths){const S=[],E=[];for(let T=0,M=v.length;T<M;T++){const[C,L,N,F]=v[T];if(C[0]===F[0]&&C[1]===F[1]&&M===1){const gt=e*C[0]+p,dt=e*C[1]+g;S.push(gt,dt),E.push(gt,dt);break}const z=e*C[0]+p,B=e*C[1]+g,V=e*L[0]+p,Z=e*L[1]+g,q=e*N[0]+p,et=e*N[1]+g,st=e*F[0]+p,St=e*F[1]+g;T===0&&(S.push(z,B),E.push(z,B)),S.push(V,Z,q,et,st,St),E.push(V,Z),T===M-1&&E.push(st,St)}c.push({bezier:w(m=pe,_a,wv).call(m,S,o,this.rotation),points:w(b=pe,_a,wv).call(b,E,o,this.rotation)})}return c},Tv=function(){let e=1/0,s=-1/0,r=1/0,o=-1/0;for(const c of this.paths)for(const[d,p,g,m]of c){const b=pt.bezierBoundingBox(...d,...p,...g,...m);e=Math.min(e,b[0]),r=Math.min(r,b[1]),s=Math.max(s,b[2]),o=Math.max(o,b[3])}return[e,r,s,o]},Kp=function(){return u(this,wn)?Math.ceil(this.thickness*this.parentScale):0},Rh=function(e=!1){if(this.isEmpty())return;if(!u(this,wn)){w(this,nt,eo).call(this);return}const s=w(this,nt,Tv).call(this),r=w(this,nt,Kp).call(this);_(this,$o,Math.max(Zt.MIN_SIZE,s[2]-s[0])),_(this,Ko,Math.max(Zt.MIN_SIZE,s[3]-s[1]));const o=Math.ceil(r+u(this,$o)*this.scaleFactor),c=Math.ceil(r+u(this,Ko)*this.scaleFactor),[d,p]=this.parentDimensions;this.width=o/d,this.height=c/p,this.setAspectRatio(o,c);const g=this.translationX,m=this.translationY;this.translationX=-s[0],this.translationY=-s[1],w(this,nt,nc).call(this),w(this,nt,eo).call(this),_(this,Jo,o),_(this,tl,c),this.setDims(o,c);const b=e?r/this.scaleFactor/2:0;this.translate(g-this.translationX-b,m-this.translationY-b)},x(pe,_a),wt(pe,"_defaultColor",null),wt(pe,"_defaultOpacity",1),wt(pe,"_defaultThickness",1),wt(pe,"_type","ink"),wt(pe,"_editorType",Nt.INK);let yv=pe;var me,si,vr,fa,Ar,iu,As,pa,Ss,Ji,nu,Bt,Ch,Mh,$p,Rv,cT,Wp,Cv,Qp,uT,hT;const Oh=class Oh extends Zt{constructor(e){super({...e,name:"stampEditor"});x(this,Bt);x(this,me,null);x(this,si,null);x(this,vr,null);x(this,fa,null);x(this,Ar,null);x(this,iu,"");x(this,As,null);x(this,pa,null);x(this,Ss,null);x(this,Ji,!1);x(this,nu,!1);_(this,fa,e.bitmapUrl),_(this,Ar,e.bitmapFile)}static initialize(e,s){Zt.initialize(e,s)}static get supportedTypes(){return qt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(s=>`image/${s}`))}static get supportedTypesStr(){return qt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,s){s.pasteEditor(Nt.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const s=e.get("hasAltText");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}async mlGuessAltText(e=null,s=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:c,height:d}=e||this.copyCanvas(null,null,!0).imageData,p=await r.guess({name:"altText",request:{data:o,width:c,height:d,channels:o.length/(c*d)}});if(!p)throw new Error("No response from the AI service.");if(p.error)throw new Error("Error from the AI service.");if(p.cancel)return null;if(!p.output)throw new Error("No valid response from the AI service.");const g=p.output;return await this.setGuessedAltText(g),s&&!this.hasAltTextData()&&(this.altTextData={alt:g,decorative:!1}),g}remove(){var e,s;u(this,si)&&(_(this,me,null),this._uiManager.imageManager.deleteId(u(this,si)),(e=u(this,As))==null||e.remove(),_(this,As,null),(s=u(this,pa))==null||s.disconnect(),_(this,pa,null),u(this,Ss)&&(clearTimeout(u(this,Ss)),_(this,Ss,null))),super.remove()}rebuild(){if(!this.parent){u(this,si)&&w(this,Bt,$p).call(this);return}super.rebuild(),this.div!==null&&(u(this,si)&&u(this,As)===null&&w(this,Bt,$p).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(u(this,vr)||u(this,me)||u(this,fa)||u(this,Ar)||u(this,si))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,s;if(this.width&&(e=this.x,s=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),u(this,me)?w(this,Bt,Rv).call(this):w(this,Bt,$p).call(this),this.width&&!this.annotationElementId){const[r,o]=this.parentDimensions;this.setAt(e*r,s*o,this.width*r,this.height*o)}return this.div}copyCanvas(e,s,r=!1){var S;e||(e=224);const{width:o,height:c}=u(this,me),d=new Eb;let p=u(this,me),g=o,m=c,b=null;if(s){if(o>s||c>s){const Z=Math.min(s/o,s/c);g=Math.floor(o*Z),m=Math.floor(c*Z)}b=document.createElement("canvas");const E=b.width=Math.ceil(g*d.sx),T=b.height=Math.ceil(m*d.sy);u(this,Ji)||(p=w(this,Bt,Wp).call(this,E,T));const M=b.getContext("2d");M.filter=this._uiManager.hcmFilter;let C="white",L="#cfcfd8";this._uiManager.hcmFilter!=="none"?L="black":(S=window.matchMedia)!=null&&S.call(window,"(prefers-color-scheme: dark)").matches&&(C="#8f8f9d",L="#42414d");const N=15,F=N*d.sx,z=N*d.sy,B=new OffscreenCanvas(F*2,z*2),V=B.getContext("2d");V.fillStyle=C,V.fillRect(0,0,F*2,z*2),V.fillStyle=L,V.fillRect(0,0,F,z),V.fillRect(F,z,F,z),M.fillStyle=M.createPattern(B,"repeat"),M.fillRect(0,0,E,T),M.drawImage(p,0,0,p.width,p.height,0,0,E,T)}let v=null;if(r){let E,T;if(d.symmetric&&p.width<e&&p.height<e)E=p.width,T=p.height;else if(p=u(this,me),o>e||c>e){const L=Math.min(e/o,e/c);E=Math.floor(o*L),T=Math.floor(c*L),u(this,Ji)||(p=w(this,Bt,Wp).call(this,E,T))}const C=new OffscreenCanvas(E,T).getContext("2d",{willReadFrequently:!0});C.drawImage(p,0,0,p.width,p.height,0,0,E,T),v={width:E,height:T,data:C.getImageData(0,0,E,T).data}}return{canvas:b,width:g,height:m,imageData:v}}getImageForAltText(){return u(this,As)}static async deserialize(e,s,r){var T;let o=null;if(e instanceof S1){const{data:{rect:M,rotation:C,id:L,structParent:N,popupRef:F},container:z,parent:{page:{pageNumber:B}}}=e,V=z.querySelector("canvas"),Z=r.imageManager.getFromCanvas(z.id,V);V.remove();const q=((T=await s._structTree.getAriaAttributes(`${qv}${L}`))==null?void 0:T.get("aria-label"))||"";o=e={annotationType:Nt.STAMP,bitmapId:Z.id,bitmap:Z.bitmap,pageIndex:B-1,rect:M.slice(0),rotation:C,id:L,deleted:!1,accessibilityData:{decorative:!1,altText:q},isSvg:!1,structParent:N,popupRef:F}}const c=await super.deserialize(e,s,r),{rect:d,bitmap:p,bitmapUrl:g,bitmapId:m,isSvg:b,accessibilityData:v}=e;m&&r.imageManager.isValidId(m)?(_(c,si,m),p&&_(c,me,p)):_(c,fa,g),_(c,Ji,b);const[S,E]=c.pageDimensions;return c.width=(d[2]-d[0])/S,c.height=(d[3]-d[1])/E,c.annotationElementId=e.id||null,v&&(c.altTextData=v),c._initialData=o,_(c,nu,!!o),c}serialize(e=!1,s=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Nt.STAMP,bitmapId:u(this,si),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:u(this,Ji),structTreeParentId:this._structTreeParentId};if(e)return r.bitmapUrl=w(this,Bt,Qp).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:o,altText:c}=this.serializeAltText(!1);if(!o&&c&&(r.accessibilityData={type:"Figure",alt:c}),this.annotationElementId){const p=w(this,Bt,hT).call(this,r);if(p.isSame)return null;p.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,s===null)return r;s.stamps||(s.stamps=new Map);const d=u(this,Ji)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!s.stamps.has(u(this,si)))s.stamps.set(u(this,si),{area:d,serialized:r}),r.bitmap=w(this,Bt,Qp).call(this,!1);else if(u(this,Ji)){const p=s.stamps.get(u(this,si));d>p.area&&(p.area=d,p.serialized.bitmap.close(),p.serialized.bitmap=w(this,Bt,Qp).call(this,!1))}return r}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};me=new WeakMap,si=new WeakMap,vr=new WeakMap,fa=new WeakMap,Ar=new WeakMap,iu=new WeakMap,As=new WeakMap,pa=new WeakMap,Ss=new WeakMap,Ji=new WeakMap,nu=new WeakMap,Bt=new WeakSet,Ch=function(e,s=!1){if(!e){this.remove();return}_(this,me,e.bitmap),s||(_(this,si,e.id),_(this,Ji,e.isSvg)),e.file&&_(this,iu,e.file.name),w(this,Bt,Rv).call(this)},Mh=function(){if(_(this,vr,null),this._uiManager.enableWaiting(!1),!!u(this,As)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,me)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,me)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},$p=function(){if(u(this,si)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(u(this,si)).then(r=>w(this,Bt,Ch).call(this,r,!0)).finally(()=>w(this,Bt,Mh).call(this));return}if(u(this,fa)){const r=u(this,fa);_(this,fa,null),this._uiManager.enableWaiting(!0),_(this,vr,this._uiManager.imageManager.getFromUrl(r).then(o=>w(this,Bt,Ch).call(this,o)).finally(()=>w(this,Bt,Mh).call(this)));return}if(u(this,Ar)){const r=u(this,Ar);_(this,Ar,null),this._uiManager.enableWaiting(!0),_(this,vr,this._uiManager.imageManager.getFromFile(r).then(o=>w(this,Bt,Ch).call(this,o)).finally(()=>w(this,Bt,Mh).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=Oh.supportedTypesStr;const s=this._uiManager._signal;_(this,vr,new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),w(this,Bt,Ch).call(this,o)}r()},{signal:s}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:s})}).finally(()=>w(this,Bt,Mh).call(this))),e.click()},Rv=function(){const{div:e}=this;let{width:s,height:r}=u(this,me);const[o,c]=this.pageDimensions,d=.75;if(this.width)s=this.width*o,r=this.height*c;else if(s>d*o||r>d*c){const b=Math.min(d*o/s,d*c/r);s*=b,r*=b}const[p,g]=this.parentDimensions;this.setDims(s*p/o,r*g/c),this._uiManager.enableWaiting(!1);const m=_(this,As,document.createElement("canvas"));m.setAttribute("role","img"),this.addContainer(m),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),w(this,Bt,Cv).call(this,s,r),w(this,Bt,uT).call(this),u(this,nu)||(this.parent.addUndoableEditor(this),_(this,nu,!0)),this._reportTelemetry({action:"inserted_image"}),u(this,iu)&&m.setAttribute("aria-label",u(this,iu))},cT=function(e,s){var d;const[r,o]=this.parentDimensions;this.width=e/r,this.height=s/o,(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,u(this,Ss)!==null&&clearTimeout(u(this,Ss)),_(this,Ss,setTimeout(()=>{_(this,Ss,null),w(this,Bt,Cv).call(this,e,s)},200))},Wp=function(e,s){const{width:r,height:o}=u(this,me);let c=r,d=o,p=u(this,me);for(;c>2*e||d>2*s;){const g=c,m=d;c>2*e&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2)),d>2*s&&(d=d>=16384?Math.floor(d/2)-1:Math.ceil(d/2));const b=new OffscreenCanvas(c,d);b.getContext("2d").drawImage(p,0,0,g,m,0,0,c,d),p=b.transferToImageBitmap()}return p},Cv=function(e,s){const r=new Eb,o=Math.ceil(e*r.sx),c=Math.ceil(s*r.sy),d=u(this,As);if(!d||d.width===o&&d.height===c)return;d.width=o,d.height=c;const p=u(this,Ji)?u(this,me):w(this,Bt,Wp).call(this,o,c),g=d.getContext("2d");g.filter=this._uiManager.hcmFilter,g.drawImage(p,0,0,p.width,p.height,0,0,o,c)},Qp=function(e){if(e){if(u(this,Ji)){const o=this._uiManager.imageManager.getSvgUrl(u(this,si));if(o)return o}const s=document.createElement("canvas");return{width:s.width,height:s.height}=u(this,me),s.getContext("2d").drawImage(u(this,me),0,0),s.toDataURL()}if(u(this,Ji)){const[s,r]=this.pageDimensions,o=Math.round(this.width*s*wr.PDF_TO_CSS_UNITS),c=Math.round(this.height*r*wr.PDF_TO_CSS_UNITS),d=new OffscreenCanvas(o,c);return d.getContext("2d").drawImage(u(this,me),0,0,u(this,me).width,u(this,me).height,0,0,o,c),d.transferToImageBitmap()}return structuredClone(u(this,me))},uT=function(){this._uiManager._signal&&(_(this,pa,new ResizeObserver(e=>{const s=e[0].contentRect;s.width&&s.height&&w(this,Bt,cT).call(this,s.width,s.height)})),u(this,pa).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=u(this,pa))==null||e.disconnect(),_(this,pa,null)},{once:!0}))},hT=function(e){var g;const{rect:s,pageIndex:r,accessibilityData:{altText:o}}=this._initialData,c=e.rect.every((m,b)=>Math.abs(m-s[b])<1),d=e.pageIndex===r,p=(((g=e.accessibilityData)==null?void 0:g.alt)||"")===o;return{isSame:c&&d&&p,isSameAltText:p}},wt(Oh,"_type","stamp"),wt(Oh,"_editorType",Nt.STAMP);let xv=Oh;var el,su,Es,Sr,ga,tn,Er,au,ru,gi,ma,bt,_r,ai,dT,Dv,Lv,Ov,Zp;const kn=class kn{constructor({uiManager:t,pageIndex:e,div:s,structTreeLayer:r,accessibilityManager:o,annotationLayer:c,drawLayer:d,textLayer:p,viewport:g,l10n:m}){x(this,ai);x(this,el);x(this,su,!1);x(this,Es,null);x(this,Sr,null);x(this,ga,null);x(this,tn,new Map);x(this,Er,!1);x(this,au,!1);x(this,ru,!1);x(this,gi,null);x(this,ma,null);x(this,bt);const b=[...u(kn,_r).values()];if(!kn._initialized){kn._initialized=!0;for(const v of b)v.initialize(m,t)}t.registerEditorTypes(b),_(this,bt,t),this.pageIndex=e,this.div=s,_(this,el,o),_(this,Es,c),this.viewport=g,_(this,gi,p),this.drawLayer=d,this._structTree=r,u(this,bt).addLayer(this)}get isEmpty(){return u(this,tn).size===0}get isInvisible(){return this.isEmpty&&u(this,bt).getMode()===Nt.NONE}updateToolbar(t){u(this,bt).updateToolbar(t)}updateMode(t=u(this,bt).getMode()){switch(w(this,ai,Zp).call(this),t){case Nt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Nt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Nt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const s of u(kn,_r).values())e.toggle(`${s._type}Editing`,t===s._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=u(this,gi))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(u(this,bt).getMode()!==Nt.INK)return;if(!t){for(const s of u(this,tn).values())if(s.isEmpty()){s.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){u(this,bt).setEditingState(t)}addCommands(t){u(this,bt).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=u(this,Es))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const s of u(this,tn).values())s.enableEditing(),s.show(!0),s.annotationElementId&&(u(this,bt).removeChangedExistingAnnotation(s),t.add(s.annotationElementId));if(!u(this,Es))return;const e=u(this,Es).getEditableAnnotations();for(const s of e){if(s.hide(),u(this,bt).isDeletedAnnotationElement(s.data.id)||t.has(s.data.id))continue;const r=await this.deserialize(s);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;_(this,ru,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const o of u(this,tn).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){t.set(o.annotationElementId,o);continue}else e.set(o.annotationElementId,o);(r=this.getEditableAnnotation(o.annotationElementId))==null||r.show(),o.remove()}if(u(this,Es)){const o=u(this,Es).getEditableAnnotations();for(const c of o){const{id:d}=c.data;if(u(this,bt).isDeletedAnnotationElement(d))continue;let p=e.get(d);if(p){p.resetAnnotationElement(c),p.show(!1),c.show();continue}p=t.get(d),p&&(u(this,bt).addChangedExistingAnnotation(p),p.renderAnnotationElement(c)&&p.show(!1)),c.show()}}w(this,ai,Zp).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const o of u(kn,_r).values())s.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),_(this,ru,!1)}getEditableAnnotation(t){var e;return((e=u(this,Es))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){u(this,bt).getActive()!==t&&u(this,bt).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=u(this,gi))!=null&&t.div&&!u(this,ma)){_(this,ma,new AbortController);const e=u(this,bt).combinedSignal(u(this,ma));u(this,gi).div.addEventListener("pointerdown",w(this,ai,dT).bind(this),{signal:e}),u(this,gi).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=u(this,gi))!=null&&t.div&&u(this,ma)&&(u(this,ma).abort(),_(this,ma,null),u(this,gi).div.classList.remove("highlighting"))}enableClick(){if(u(this,Sr))return;_(this,Sr,new AbortController);const t=u(this,bt).combinedSignal(u(this,Sr));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=u(this,Sr))==null||t.abort(),_(this,Sr,null)}attach(t){u(this,tn).set(t.id,t);const{annotationElementId:e}=t;e&&u(this,bt).isDeletedAnnotationElement(e)&&u(this,bt).removeDeletedAnnotationElement(t)}detach(t){var e;u(this,tn).delete(t.id),(e=u(this,el))==null||e.removePointerInTextLayer(t.contentDiv),!u(this,ru)&&t.annotationElementId&&u(this,bt).addDeletedAnnotationElement(t)}remove(t){this.detach(t),u(this,bt).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,u(this,au)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(u(this,bt).addDeletedAnnotationElement(t.annotationElementId),Zt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),u(this,bt).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),u(this,bt).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var s;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!u(this,ga)&&(t._focusEventsAllowed=!1,_(this,ga,setTimeout(()=>{_(this,ga,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:u(this,bt)._signal}),e.focus())},0))),t._structTreeParentId=(s=u(this,el))==null?void 0:s.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),s=()=>{t.remove()};this.addCommands({cmd:e,undo:s,mustExec:!1})}getNextId(){return u(this,bt).getId()}combinedSignal(t){return u(this,bt).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=u(this,ai,Dv))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){u(this,bt).updateToolbar(t),u(this,bt).updateMode(t);const{offsetX:s,offsetY:r}=w(this,ai,Ov).call(this),o=this.getNextId(),c=w(this,ai,Lv).call(this,{parent:this,id:o,x:s,y:r,uiManager:u(this,bt),isCentered:!0,...e});c&&this.add(c)}async deserialize(t){var e;return await((e=u(kn,_r).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,u(this,bt)))||null}createAndAddNewEditor(t,e,s={}){const r=this.getNextId(),o=w(this,ai,Lv).call(this,{parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:u(this,bt),isCentered:e,...s});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(w(this,ai,Ov).call(this),!0)}setSelected(t){u(this,bt).setSelected(t)}toggleSelected(t){u(this,bt).toggleSelected(t)}unselect(t){u(this,bt).unselect(t)}pointerup(t){const{isMac:e}=Ti.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&u(this,Er)){if(_(this,Er,!1),!u(this,su)){_(this,su,!0);return}if(u(this,bt).getMode()===Nt.STAMP){u(this,bt).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(u(this,bt).getMode()===Nt.HIGHLIGHT&&this.enableTextSelection(),u(this,Er)){_(this,Er,!1);return}const{isMac:e}=Ti.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;_(this,Er,!0);const s=u(this,bt).getActive();_(this,su,!s||s.isEmpty())}findNewParent(t,e,s){const r=u(this,bt).findParent(e,s);return r===null||r===this?!1:(r.changeParent(t),!0)}destroy(){var t,e;((t=u(this,bt).getActive())==null?void 0:t.parent)===this&&(u(this,bt).commitOrRemove(),u(this,bt).setActiveEditor(null)),u(this,ga)&&(clearTimeout(u(this,ga)),_(this,ga,null));for(const s of u(this,tn).values())(e=u(this,el))==null||e.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,u(this,tn).clear(),u(this,bt).removeLayer(this)}render({viewport:t}){this.viewport=t,sl(this.div,t);for(const e of u(this,bt).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){u(this,bt).commitOrRemove(),w(this,ai,Zp).call(this);const e=this.viewport.rotation,s=t.rotation;if(this.viewport=t,sl(this.div,{rotation:s}),e!==s)for(const r of u(this,tn).values())r.rotate(s);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return u(this,bt).viewParameters.realScale}};el=new WeakMap,su=new WeakMap,Es=new WeakMap,Sr=new WeakMap,ga=new WeakMap,tn=new WeakMap,Er=new WeakMap,au=new WeakMap,ru=new WeakMap,gi=new WeakMap,ma=new WeakMap,bt=new WeakMap,_r=new WeakMap,ai=new WeakSet,dT=function(t){u(this,bt).unselectAll();const{target:e}=t;if(e===u(this,gi).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&u(this,gi).div.contains(e)){const{isMac:s}=Ti.platform;if(t.button!==0||t.ctrlKey&&s)return;u(this,bt).showAllEditors("highlight",!0,!0),u(this,gi).div.classList.add("free"),this.toggleDrawing(),ag.startHighlighting(this,u(this,bt).direction==="ltr",{target:u(this,gi).div,x:t.x,y:t.y}),u(this,gi).div.addEventListener("pointerup",()=>{u(this,gi).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:u(this,bt)._signal}),t.preventDefault()}},Dv=function(){return u(kn,_r).get(u(this,bt).getMode())},Lv=function(t){const e=u(this,ai,Dv);return e?new e.prototype.constructor(t):null},Ov=function(){const{x:t,y:e,width:s,height:r}=this.div.getBoundingClientRect(),o=Math.max(0,t),c=Math.max(0,e),d=Math.min(window.innerWidth,t+s),p=Math.min(window.innerHeight,e+r),g=(o+d)/2-t,m=(c+p)/2-e,[b,v]=this.viewport.rotation%180===0?[g,m]:[m,g];return{offsetX:b,offsetY:v}},Zp=function(){_(this,au,!0);for(const t of u(this,tn).values())t.isEmpty()&&t.remove();_(this,au,!1)},wt(kn,"_initialized",!1),x(kn,_r,new Map([lv,yv,xv,ag].map(t=>[t._editorType,t])));let Mv=kn;var _s,Kd,Oe,ya,$d,kv,cl,Pv,fT;const ei=class ei{constructor({pageIndex:t}){x(this,cl);x(this,_s,null);x(this,Kd,0);x(this,Oe,new Map);x(this,ya,new Map);this.pageIndex=t}setParent(t){if(!u(this,_s)){_(this,_s,t);return}if(u(this,_s)!==t){if(u(this,Oe).size>0)for(const e of u(this,Oe).values())e.remove(),t.append(e);_(this,_s,t)}}static get _svgFactory(){return qt(this,"_svgFactory",new Jv)}draw(t,e,s,r=!1){const o=Si(this,Kd)._++,c=w(this,cl,Pv).call(this,t.box);c.classList.add(...t.classNamesForDrawing);const d=ei._svgFactory.createElement("defs");c.append(d);const p=ei._svgFactory.createElement("path");d.append(p);const g=`path_p${this.pageIndex}_${o}`;p.setAttribute("id",g),p.setAttribute("d",t.toSVGPath()),r&&u(this,ya).set(o,p);const m=w(this,cl,fT).call(this,d,g),b=ei._svgFactory.createElement("use");return c.append(b),c.setAttribute("fill",e),c.setAttribute("fill-opacity",s),b.setAttribute("href",`#${g}`),u(this,Oe).set(o,c),{id:o,clipPathId:`url(#${m})`}}drawOutline(t){const e=Si(this,Kd)._++,s=w(this,cl,Pv).call(this,t.box);s.classList.add(...t.classNamesForOutlining);const r=ei._svgFactory.createElement("defs");s.append(r);const o=ei._svgFactory.createElement("path");r.append(o);const c=`path_p${this.pageIndex}_${e}`;o.setAttribute("id",c),o.setAttribute("d",t.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let d;if(t.mustRemoveSelfIntersections){const m=ei._svgFactory.createElement("mask");r.append(m),d=`mask_p${this.pageIndex}_${e}`,m.setAttribute("id",d),m.setAttribute("maskUnits","objectBoundingBox");const b=ei._svgFactory.createElement("rect");m.append(b),b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("fill","white");const v=ei._svgFactory.createElement("use");m.append(v),v.setAttribute("href",`#${c}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const p=ei._svgFactory.createElement("use");s.append(p),p.setAttribute("href",`#${c}`),d&&p.setAttribute("mask",`url(#${d})`);const g=p.cloneNode();return s.append(g),p.classList.add("mainOutline"),g.classList.add("secondaryOutline"),u(this,Oe).set(e,s),e}finalizeLine(t,e){const s=u(this,ya).get(t);u(this,ya).delete(t),this.updateBox(t,e.box),s.setAttribute("d",e.toSVGPath())}updateLine(t,e){u(this,Oe).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(t,e){u(this,ya).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var s;w(s=ei,$d,kv).call(s,u(this,Oe).get(t),e)}show(t,e){u(this,Oe).get(t).classList.toggle("hidden",!e)}rotate(t,e){u(this,Oe).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){u(this,Oe).get(t).setAttribute("fill",e)}changeOpacity(t,e){u(this,Oe).get(t).setAttribute("fill-opacity",e)}addClass(t,e){u(this,Oe).get(t).classList.add(e)}removeClass(t,e){u(this,Oe).get(t).classList.remove(e)}getSVGRoot(t){return u(this,Oe).get(t)}remove(t){u(this,ya).delete(t),u(this,_s)!==null&&(u(this,Oe).get(t).remove(),u(this,Oe).delete(t))}destroy(){_(this,_s,null);for(const t of u(this,Oe).values())t.remove();u(this,Oe).clear(),u(this,ya).clear()}};_s=new WeakMap,Kd=new WeakMap,Oe=new WeakMap,ya=new WeakMap,$d=new WeakSet,kv=function(t,{x:e=0,y:s=0,width:r=1,height:o=1}={}){const{style:c}=t;c.top=`${100*s}%`,c.left=`${100*e}%`,c.width=`${100*r}%`,c.height=`${100*o}%`},cl=new WeakSet,Pv=function(t){var s;const e=ei._svgFactory.create(1,1,!0);return u(this,_s).append(e),e.setAttribute("aria-hidden",!0),w(s=ei,$d,kv).call(s,e,t),e},fT=function(t,e){const s=ei._svgFactory.createElement("clipPath");t.append(s);const r=`clip_${e}`;s.setAttribute("id",r),s.setAttribute("clipPathUnits","objectBoundingBox");const o=ei._svgFactory.createElement("use");return s.append(o),o.setAttribute("href",`#${e}`),o.classList.add("clip"),r},x(ei,$d);let Nv=ei;var UL=Rt.AbortException,BL=Rt.AnnotationEditorLayer,jL=Rt.AnnotationEditorParamsType,IL=Rt.AnnotationEditorType,qL=Rt.AnnotationEditorUIManager,pT=Rt.AnnotationLayer,gT=Rt.AnnotationMode,GL=Rt.ColorPicker,VL=Rt.DOMSVGFactory,XL=Rt.DrawLayer,YL=Rt.FeatureTest,e0=Rt.GlobalWorkerOptions,KL=Rt.ImageKind,$L=Rt.InvalidPDFException,WL=Rt.MissingPDFException,QL=Rt.OPS,ZL=Rt.OutputScale,JL=Rt.PDFDataRangeTransport,tO=Rt.PDFDateString,eO=Rt.PDFWorker,iO=Rt.PasswordResponses,nO=Rt.PermissionFlag,sO=Rt.PixelsPerInch,aO=Rt.RenderingCancelledException,mT=Rt.TextLayer,rO=Rt.UnexpectedResponseException,oO=Rt.Util,lO=Rt.VerbosityLevel,cO=Rt.XfaLayer,uO=Rt.build,hO=Rt.createValidAbsoluteUrl,dO=Rt.fetchData,yT=Rt.getDocument,fO=Rt.getFilenameFromUrl,pO=Rt.getPdfFilenameFromUrl,gO=Rt.getXfaPageViewport,mO=Rt.isDataScheme,yO=Rt.isPdfFile,bO=Rt.noContextMenu,vO=Rt.normalizeUnicode,AO=Rt.setLayerDimensions,SO=Rt.shadow,bT=Rt.version;const EO=Object.freeze(Object.defineProperty({__proto__:null,AbortException:UL,AnnotationEditorLayer:BL,AnnotationEditorParamsType:jL,AnnotationEditorType:IL,AnnotationEditorUIManager:qL,AnnotationLayer:pT,AnnotationMode:gT,ColorPicker:GL,DOMSVGFactory:VL,DrawLayer:XL,FeatureTest:YL,GlobalWorkerOptions:e0,ImageKind:KL,InvalidPDFException:$L,MissingPDFException:WL,OPS:QL,OutputScale:ZL,PDFDataRangeTransport:JL,PDFDateString:tO,PDFWorker:eO,PasswordResponses:iO,PermissionFlag:nO,PixelsPerInch:sO,RenderingCancelledException:aO,TextLayer:mT,UnexpectedResponseException:rO,Util:oO,VerbosityLevel:lO,XfaLayer:cO,build:uO,createValidAbsoluteUrl:hO,fetchData:dO,getDocument:yT,getFilenameFromUrl:fO,getPdfFilenameFromUrl:pO,getXfaPageViewport:gO,isDataScheme:mO,isPdfFile:yO,noContextMenu:bO,normalizeUnicode:vO,setLayerDimensions:AO,shadow:SO,version:bT},Symbol.toStringTag,{value:"Module"}));var Xe=function(h,t,e){if(e||arguments.length===2)for(var s=0,r=t.length,o;s<r;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return h.concat(o||Array.prototype.slice.call(t))},_O=["onCopy","onCut","onPaste"],wO=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],TO=["onFocus","onBlur"],xO=["onInput","onInvalid","onReset","onSubmit"],RO=["onLoad","onError"],CO=["onKeyDown","onKeyPress","onKeyUp"],MO=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],DO=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],LO=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],OO=["onSelect"],NO=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],kO=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],PO=["onScroll"],FO=["onWheel"],HO=["onAnimationStart","onAnimationEnd","onAnimationIteration"],zO=["onTransitionEnd"],UO=["onToggle"],BO=["onChange"],jO=Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe([],_O,!0),wO,!0),TO,!0),xO,!0),RO,!0),CO,!0),MO,!0),DO,!0),LO,!0),OO,!0),NO,!0),kO,!0),PO,!0),FO,!0),HO,!0),zO,!0),BO,!0),UO,!0);function vT(h,t){var e={};return jO.forEach(function(s){var r=h[s];r&&(t?e[s]=function(o){return r(o,t(s))}:e[s]=r)}),e}function ef(h){var t=!1,e=new Promise(function(s,r){h.then(function(o){return!t&&s(o)}).catch(function(o){return!t&&r(o)})});return{promise:e,cancel:function(){t=!0}}}function AT(h){var t,e,s="";if(typeof h=="string"||typeof h=="number")s+=h;else if(typeof h=="object")if(Array.isArray(h)){var r=h.length;for(t=0;t<r;t++)h[t]&&(e=AT(h[t]))&&(s&&(s+=" "),s+=e)}else for(e in h)h[e]&&(s&&(s+=" "),s+=e);return s}function Hg(){for(var h,t,e=0,s="",r=arguments.length;e<r;e++)(h=arguments[e])&&(t=AT(h))&&(s&&(s+=" "),s+=t);return s}var IO="Invariant failed";function se(h,t){if(!h)throw new Error(IO)}var hb,C_;function qO(){if(C_)return hb;C_=1;var h=function(){};return hb=h,hb}var GO=qO();const yi=QR(GO);var M_=Object.prototype.hasOwnProperty;function D_(h,t,e){for(e of h.keys())if(oc(e,t))return e}function oc(h,t){var e,s,r;if(h===t)return!0;if(h&&t&&(e=h.constructor)===t.constructor){if(e===Date)return h.getTime()===t.getTime();if(e===RegExp)return h.toString()===t.toString();if(e===Array){if((s=h.length)===t.length)for(;s--&&oc(h[s],t[s]););return s===-1}if(e===Set){if(h.size!==t.size)return!1;for(s of h)if(r=s,r&&typeof r=="object"&&(r=D_(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(h.size!==t.size)return!1;for(s of h)if(r=s[0],r&&typeof r=="object"&&(r=D_(t,r),!r)||!oc(s[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)h=new Uint8Array(h),t=new Uint8Array(t);else if(e===DataView){if((s=h.byteLength)===t.byteLength)for(;s--&&h.getInt8(s)===t.getInt8(s););return s===-1}if(ArrayBuffer.isView(h)){if((s=h.byteLength)===t.byteLength)for(;s--&&h[s]===t[s];);return s===-1}if(!e||typeof h=="object"){s=0;for(e in h)if(M_.call(h,e)&&++s&&!M_.call(t,e)||!(e in t)||!oc(h[e],t[e]))return!1;return Object.keys(t).length===s}}return h!==h&&t!==t}const ST=rt.createContext(null);function lc({children:h,type:t}){return Y.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:h})}const VO="noopener noreferrer nofollow";class XO{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return se(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){se(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{se(this.pdfDocument),se(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{se(Array.isArray(e));const s=e[0];new Promise(r=>{se(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(o=>{r(o)}).catch(()=>{se(!1)}):typeof s=="number"?r(s):se(!1)}).then(r=>{const o=r+1;se(this.pdfViewer),se(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:o})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;se(this.pdfViewer),se(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,s){t.href=e,t.rel=this.externalLinkRel||VO,t.target=s?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const L_={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},zg=typeof window<"u",ET=zg&&window.location.protocol==="file:";function YO(h){return typeof h<"u"}function Qr(h){return YO(h)&&h!==null}function KO(h){return typeof h=="string"}function $O(h){return h instanceof ArrayBuffer}function WO(h){return se(zg),h instanceof Blob}function Fv(h){return KO(h)&&/^data:/.test(h)}function O_(h){se(Fv(h));const[t="",e=""]=h.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function QO(){return zg&&window.devicePixelRatio||1}const _T="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function N_(){yi(!ET,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${_T}`)}function ZO(){yi(!ET,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${_T}`)}function ol(h){h!=null&&h.cancel&&h.cancel()}function Hv(h,t){return Object.defineProperty(h,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(h,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(h,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(h,"originalHeight",{get(){return this.view[3]},configurable:!0}),h}function JO(h){return h.name==="RenderingCancelledException"}function t2(h){return new Promise((t,e)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return e(new Error("Error while reading a file."));t(s.result)},s.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:o}=r.target;if(!o)return e(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},s.readAsArrayBuffer(h)})}function e2(h,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return h}}function ou(){return rt.useReducer(e2,{value:void 0,error:void 0})}var i2=function(h,t,e,s){function r(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function d(m){try{g(s.next(m))}catch(b){c(b)}}function p(m){try{g(s.throw(m))}catch(b){c(b)}}function g(m){m.done?o(m.value):r(m.value).then(d,p)}g((s=s.apply(h,t||[])).next())})},k_=function(h,t){var e={};for(var s in h)Object.prototype.hasOwnProperty.call(h,s)&&t.indexOf(s)<0&&(e[s]=h[s]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(h);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(h,s[r])&&(e[s[r]]=h[s[r]]);return e};const{PDFDataRangeTransport:n2}=EO,s2=(h,t)=>{switch(t){case L_.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");h(e);break}case L_.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");h(e);break}}};function P_(h){return typeof h=="object"&&h!==null&&("data"in h||"range"in h||"url"in h)}const a2=rt.forwardRef(function(t,e){var{children:s,className:r,error:o="Failed to load PDF file.",externalLinkRel:c,externalLinkTarget:d,file:p,inputRef:g,imageResourcesPath:m,loading:b="Loading PDF…",noData:v="No PDF file specified.",onItemClick:S,onLoadError:E,onLoadProgress:T,onLoadSuccess:M,onPassword:C=s2,onSourceError:L,onSourceSuccess:N,options:F,renderMode:z,rotate:B}=t,V=k_(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[Z,q]=ou(),{value:et,error:st}=Z,[St,gt]=ou(),{value:dt,error:mt}=St,K=rt.useRef(new XO),Q=rt.useRef([]),tt=rt.useRef(void 0),Ct=rt.useRef(void 0);p&&p!==tt.current&&P_(p)&&(yi(!oc(p,tt.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),tt.current=p),F&&F!==Ct.current&&(yi(!oc(F,Ct.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Ct.current=F);const O=rt.useRef({scrollPageIntoView:jt=>{const{dest:le,pageNumber:_e,pageIndex:ce=_e-1}=jt;if(S){S({dest:le,pageIndex:ce,pageNumber:_e});return}const Qn=Q.current[ce];if(Qn){Qn.scrollIntoView();return}yi(!1,`An internal link leading to page ${_e} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});rt.useImperativeHandle(e,()=>({linkService:K,pages:Q,viewer:O}),[]);function W(){N&&N()}function lt(){st&&(yi(!1,st.toString()),L&&L(st))}function at(){q({type:"RESET"})}rt.useEffect(at,[p,q]);const it=rt.useCallback(()=>i2(this,void 0,void 0,function*(){if(!p)return null;if(typeof p=="string")return Fv(p)?{data:O_(p)}:(N_(),{url:p});if(p instanceof n2)return{range:p};if($O(p))return{data:p};if(zg&&WO(p))return{data:yield t2(p)};if(se(typeof p=="object"),se(P_(p)),"url"in p&&typeof p.url=="string"){if(Fv(p.url)){const{url:jt}=p,le=k_(p,["url"]),_e=O_(jt);return Object.assign({data:_e},le)}N_()}return p}),[p]);rt.useEffect(()=>{const jt=ef(it());return jt.promise.then(le=>{q({type:"RESOLVE",value:le})}).catch(le=>{q({type:"REJECT",error:le})}),()=>{ol(jt)}},[it,q]),rt.useEffect(()=>{if(!(typeof et>"u")){if(et===!1){lt();return}W()}},[et]);function Et(){dt&&(M&&M(dt),Q.current=new Array(dt.numPages),K.current.setDocument(dt))}function ht(){mt&&(yi(!1,mt.toString()),E&&E(mt))}rt.useEffect(function(){gt({type:"RESET"})},[gt,et]),rt.useEffect(function(){if(!et)return;const le=F?Object.assign(Object.assign({},et),F):et,_e=yT(le);T&&(_e.onProgress=T),C&&(_e.onPassword=C);const ce=_e,Qn=ce.promise.then(Zn=>{gt({type:"RESOLVE",value:Zn})}).catch(Zn=>{ce.destroyed||gt({type:"REJECT",error:Zn})});return()=>{Qn.finally(()=>ce.destroy())}},[F,gt,et]),rt.useEffect(()=>{if(!(typeof dt>"u")){if(dt===!1){ht();return}Et()}},[dt]),rt.useEffect(function(){K.current.setViewer(O.current),K.current.setExternalLinkRel(c),K.current.setExternalLinkTarget(d)},[c,d]);const _t=rt.useCallback((jt,le)=>{Q.current[jt]=le},[]),Lt=rt.useCallback(jt=>{delete Q.current[jt]},[]),Vt=rt.useMemo(()=>({imageResourcesPath:m,linkService:K.current,onItemClick:S,pdf:dt,registerPage:_t,renderMode:z,rotate:B,unregisterPage:Lt}),[m,S,dt,_t,z,B,Lt]),At=rt.useMemo(()=>vT(V,()=>dt),[V,dt]);function ri(){return Y.jsx(ST.Provider,{value:Vt,children:s})}function Mn(){return p?dt==null?Y.jsx(lc,{type:"loading",children:typeof b=="function"?b():b}):dt===!1?Y.jsx(lc,{type:"error",children:typeof o=="function"?o():o}):ri():Y.jsx(lc,{type:"no-data",children:typeof v=="function"?v():v})}return Y.jsx("div",Object.assign({className:Hg("react-pdf__Document",r),ref:g,style:{"--scale-factor":"1"}},At,{children:Mn()}))});function wT(){return rt.useContext(ST)}function TT(){for(var h=[],t=0;t<arguments.length;t++)h[t]=arguments[t];var e=h.filter(Boolean);if(e.length<=1){var s=e[0];return s||null}return function(o){e.forEach(function(c){typeof c=="function"?c(o):c&&(c.current=o)})}}const xT=rt.createContext(null),RT={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},r2=/^H(\d+)$/;function o2(h){return h in RT}function Ug(h){return"children"in h}function CT(h){return Ug(h)?h.children.length===1&&0 in h.children&&"id"in h.children[0]:!1}function l2(h){const t={};if(Ug(h)){const{role:e}=h,s=e.match(r2);if(s)t.role="heading",t["aria-level"]=Number(s[1]);else if(o2(e)){const r=RT[e];r&&(t.role=r)}}return t}function MT(h){const t={};if(Ug(h)){if(h.alt!==void 0&&(t["aria-label"]=h.alt),h.lang!==void 0&&(t.lang=h.lang),CT(h)){const[e]=h.children;if(e){const s=MT(e);return Object.assign(Object.assign({},t),s)}}}else"id"in h&&(t["aria-owns"]=h.id);return t}function c2(h){return h?Object.assign(Object.assign({},l2(h)),MT(h)):null}function DT({className:h,node:t}){const e=rt.useMemo(()=>c2(t),[t]),s=rt.useMemo(()=>!Ug(t)||CT(t)?null:t.children.map((r,o)=>Y.jsx(DT,{node:r},o)),[t]);return Y.jsx("span",Object.assign({className:h},e,{children:s}))}function Bg(){return rt.useContext(xT)}function u2(){const h=Bg();se(h);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=h,[s,r]=ou(),{value:o,error:c}=s,{customTextRenderer:d,page:p}=h;function g(){o&&e&&e(o)}function m(){c&&(yi(!1,c.toString()),t&&t(c))}return rt.useEffect(function(){r({type:"RESET"})},[r,p]),rt.useEffect(function(){if(d||!p)return;const v=ef(p.getStructTree()),S=v;return v.promise.then(E=>{r({type:"RESOLVE",value:E})}).catch(E=>{r({type:"REJECT",error:E})}),()=>ol(S)},[d,p,r]),rt.useEffect(()=>{if(o!==void 0){if(o===!1){m();return}g()}},[o]),o?Y.jsx(DT,{className:"react-pdf__Page__structTree structTree",node:o}):null}const F_=gT;function h2(h){const t=Bg();se(t);const e=Object.assign(Object.assign({},t),h),{_className:s,canvasBackground:r,devicePixelRatio:o=QO(),onRenderError:c,onRenderSuccess:d,page:p,renderForms:g,renderTextLayer:m,rotate:b,scale:v}=e,{canvasRef:S}=h;se(p);const E=rt.useRef(null);function T(){p&&d&&d(Hv(p,v))}function M(F){JO(F)||(yi(!1,F.toString()),c&&c(F))}const C=rt.useMemo(()=>p.getViewport({scale:v*o,rotation:b}),[o,p,b,v]),L=rt.useMemo(()=>p.getViewport({scale:v,rotation:b}),[p,b,v]);rt.useEffect(function(){if(!p)return;p.cleanup();const{current:z}=E;if(!z)return;z.width=C.width,z.height=C.height,z.style.width=`${Math.floor(L.width)}px`,z.style.height=`${Math.floor(L.height)}px`,z.style.visibility="hidden";const B={annotationMode:g?F_.ENABLE_FORMS:F_.ENABLE,canvasContext:z.getContext("2d",{alpha:!1}),viewport:C};r&&(B.background=r);const V=p.render(B),Z=V;return V.promise.then(()=>{z.style.visibility="",T()}).catch(M),()=>ol(Z)},[r,p,g,C,L]);const N=rt.useCallback(()=>{const{current:F}=E;F&&(F.width=0,F.height=0)},[]);return rt.useEffect(()=>N,[N]),Y.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:TT(S,E),style:{display:"block",userSelect:"none"},children:m?Y.jsx(u2,{}):null})}function d2(h){return"str"in h}function f2(){const h=Bg();se(h);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:s,onRenderTextLayerError:r,onRenderTextLayerSuccess:o,page:c,pageIndex:d,pageNumber:p,rotate:g,scale:m}=h;se(c);const[b,v]=ou(),{value:S,error:E}=b,T=rt.useRef(null);yi(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function M(){S&&s&&s(S)}function C(){E&&(yi(!1,E.toString()),e&&e(E))}rt.useEffect(function(){v({type:"RESET"})},[c,v]),rt.useEffect(function(){if(!c)return;const Z=ef(c.getTextContent()),q=Z;return Z.promise.then(et=>{v({type:"RESOLVE",value:et})}).catch(et=>{v({type:"REJECT",error:et})}),()=>ol(q)},[c,v]),rt.useEffect(()=>{if(S!==void 0){if(S===!1){C();return}M()}},[S]);const L=rt.useCallback(()=>{o&&o()},[o]),N=rt.useCallback(V=>{yi(!1,V.toString()),r&&r(V)},[r]);function F(){const V=T.current;V&&V.classList.add("selecting")}function z(){const V=T.current;V&&V.classList.remove("selecting")}const B=rt.useMemo(()=>c.getViewport({scale:m,rotation:g}),[c,g,m]);return rt.useLayoutEffect(function(){if(!c||!S)return;const{current:Z}=T;if(!Z)return;Z.innerHTML="";const q=c.streamTextContent({includeMarkedContent:!0}),et={container:Z,textContentSource:q,viewport:B},st=new mT(et),St=st;return st.render().then(()=>{const gt=document.createElement("div");gt.className="endOfContent",Z.append(gt);const dt=Z.querySelectorAll('[role="presentation"]');if(t){let mt=0;S.items.forEach((K,Q)=>{if(!d2(K))return;const tt=dt[mt];if(!tt)return;const Ct=t(Object.assign({pageIndex:d,pageNumber:p,itemIndex:Q},K));tt.innerHTML=Ct,mt+=K.str&&K.hasEOL?2:1})}L()}).catch(N),()=>ol(St)},[t,N,L,c,d,p,S,B]),Y.jsx("div",{className:Hg("react-pdf__Page__textContent","textLayer"),onMouseUp:z,onMouseDown:F,ref:T})}function p2(){const h=wT(),t=Bg();se(t);const e=Object.assign(Object.assign({},h),t),{imageResourcesPath:s,linkService:r,onGetAnnotationsError:o,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:d,onRenderAnnotationLayerSuccess:p,page:g,pdf:m,renderForms:b,rotate:v,scale:S=1}=e;se(m),se(g),se(r);const[E,T]=ou(),{value:M,error:C}=E,L=rt.useRef(null);yi(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function N(){M&&c&&c(M)}function F(){C&&(yi(!1,C.toString()),o&&o(C))}rt.useEffect(function(){T({type:"RESET"})},[T,g]),rt.useEffect(function(){if(!g)return;const q=ef(g.getAnnotations()),et=q;return q.promise.then(st=>{T({type:"RESOLVE",value:st})}).catch(st=>{T({type:"REJECT",error:st})}),()=>{ol(et)}},[T,g]),rt.useEffect(()=>{if(M!==void 0){if(M===!1){F();return}N()}},[M]);function z(){p&&p()}function B(Z){yi(!1,`${Z}`),d&&d(Z)}const V=rt.useMemo(()=>g.getViewport({scale:S,rotation:v}),[g,v,S]);return rt.useEffect(function(){if(!m||!g||!r||!M)return;const{current:q}=L;if(!q)return;const et=V.clone({dontFlip:!0}),st={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:q,l10n:null,page:g,structTreeLayer:null,viewport:et},St={annotations:M,annotationStorage:m.annotationStorage,div:q,imageResourcesPath:s,linkService:r,page:g,renderForms:b,viewport:et};q.innerHTML="";try{new pT(st).render(St),z()}catch(gt){B(gt)}return()=>{}},[M,s,r,g,m,b,V]),Y.jsx("div",{className:Hg("react-pdf__Page__annotations","annotationLayer"),ref:L})}var g2=function(h,t){var e={};for(var s in h)Object.prototype.hasOwnProperty.call(h,s)&&t.indexOf(s)<0&&(e[s]=h[s]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(h);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(h,s[r])&&(e[s[r]]=h[s[r]]);return e};const H_=1;function m2(h){const t=wT(),e=Object.assign(Object.assign({},t),h),{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:o,canvasRef:c,children:d,className:p,customRenderer:g,customTextRenderer:m,devicePixelRatio:b,error:v="Failed to load the page.",height:S,inputRef:E,loading:T="Loading page…",noData:M="No page specified.",onGetAnnotationsError:C,onGetAnnotationsSuccess:L,onGetStructTreeError:N,onGetStructTreeSuccess:F,onGetTextError:z,onGetTextSuccess:B,onLoadError:V,onLoadSuccess:Z,onRenderAnnotationLayerError:q,onRenderAnnotationLayerSuccess:et,onRenderError:st,onRenderSuccess:St,onRenderTextLayerError:gt,onRenderTextLayerSuccess:dt,pageIndex:mt,pageNumber:K,pdf:Q,registerPage:tt,renderAnnotationLayer:Ct=!0,renderForms:O=!1,renderMode:W="canvas",renderTextLayer:lt=!0,rotate:at,scale:it=H_,unregisterPage:Et,width:ht}=e,_t=g2(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Lt,Vt]=ou(),{value:At,error:ri}=Lt,Mn=rt.useRef(null);se(Q);const jt=Qr(K)?K-1:mt??null,le=K??(Qr(mt)?mt+1:null),_e=at??(At?At.rotate:null),ce=rt.useMemo(()=>{if(!At)return null;let ws=1;const Ts=it??H_;if(ht||S){const fl=At.getViewport({scale:1,rotation:_e});ht?ws=ht/fl.width:S&&(ws=S/fl.height)}return Ts*ws},[S,At,_e,it,ht]);rt.useEffect(function(){return()=>{Qr(jt)&&r&&Et&&Et(jt)}},[r,Q,jt,Et]);function Qn(){if(Z){if(!At||!ce)return;Z(Hv(At,ce))}if(r&&tt){if(!Qr(jt)||!Mn.current)return;tt(jt,Mn.current)}}function Zn(){ri&&(yi(!1,ri.toString()),V&&V(ri))}rt.useEffect(function(){Vt({type:"RESET"})},[Vt,Q,jt]),rt.useEffect(function(){if(!Q||!le)return;const Ts=ef(Q.getPage(le)),fl=Ts;return Ts.promise.then(pl=>{Vt({type:"RESOLVE",value:pl})}).catch(pl=>{Vt({type:"REJECT",error:pl})}),()=>ol(fl)},[Vt,Q,le]),rt.useEffect(()=>{if(At!==void 0){if(At===!1){Zn();return}Qn()}},[At,ce]);const uu=rt.useMemo(()=>At&&Qr(jt)&&le&&Qr(_e)&&Qr(ce)?{_className:s,canvasBackground:o,customTextRenderer:m,devicePixelRatio:b,onGetAnnotationsError:C,onGetAnnotationsSuccess:L,onGetStructTreeError:N,onGetStructTreeSuccess:F,onGetTextError:z,onGetTextSuccess:B,onRenderAnnotationLayerError:q,onRenderAnnotationLayerSuccess:et,onRenderError:st,onRenderSuccess:St,onRenderTextLayerError:gt,onRenderTextLayerSuccess:dt,page:At,pageIndex:jt,pageNumber:le,renderForms:O,renderTextLayer:lt,rotate:_e,scale:ce}:null,[s,o,m,b,C,L,N,F,z,B,q,et,st,St,gt,dt,At,jt,le,O,lt,_e,ce]),hu=rt.useMemo(()=>vT(_t,()=>At&&(ce?Hv(At,ce):void 0)),[_t,At,ce]),wa=`${jt}@${ce}/${_e}`;function jg(){switch(W){case"custom":return se(g),Y.jsx(g,{},`${wa}_custom`);case"none":return null;case"canvas":default:return Y.jsx(h2,{canvasRef:c},`${wa}_canvas`)}}function Ig(){return lt?Y.jsx(f2,{},`${wa}_text`):null}function rn(){return Ct?Y.jsx(p2,{},`${wa}_annotations`):null}function qg(){return Y.jsxs(xT.Provider,{value:uu,children:[jg(),Ig(),rn(),d]})}function nf(){return le?Q===null||At===void 0||At===null?Y.jsx(lc,{type:"loading",children:typeof T=="function"?T():T}):Q===!1||At===!1?Y.jsx(lc,{type:"error",children:typeof v=="function"?v():v}):qg():Y.jsx(lc,{type:"no-data",children:typeof M=="function"?M():M})}return Y.jsx("div",Object.assign({className:Hg(s,p),"data-page-number":le,ref:TT(E,Mn),style:{"--scale-factor":`${ce}`,backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},hu,{children:nf()}))}ZO();e0.workerSrc="pdf.worker.mjs";e0.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${bT}/pdf.worker.min.mjs`;function y2({deployment:h,setResume:t,resume:e,setResumeUrl:s,resumeUrl:r}){const[o,c]=rt.useState(""),[d,p]=rt.useState(null),g=async L=>{const N=URL.createObjectURL(L);localStorage.setItem("resume",L.name),localStorage.setItem("resumeUrl",N),t(L),s(N)},m=async()=>{const L=new FormData;L.append("resume",e);const N=await fetch(h+"/summarize-resume",{method:"POST",body:L});if(N.ok){const F=await N.json();c(F.summary)}},b=async()=>{const L=new FormData;L.append("resume",e);const N=await fetch(h+"/improve-resume",{method:"POST",body:L});if(N.ok){const F=await N.json();p(F.improvements)}},v=()=>{r?window.open(r,"_blank"):alert("No resume found in cache.")},S=()=>Y.jsx("div",{id:"resume-upload-button",children:Y.jsx("input",{type:"file",accept:"application/pdf",onChange:L=>g(L.target.files[0])})}),E=()=>r?Y.jsx("div",{id:"resume-preview",children:Y.jsx(a2,{file:r,children:Y.jsx(m2,{pageNumber:1,renderAnnotationLayer:!1,renderTextLayer:!1})})}):null,T=()=>o?Y.jsxs("div",{id:"resume-summary",children:[Y.jsx("h3",{children:"Resume Summary"}),Y.jsx("p",{children:o})]}):null,M=()=>d?Y.jsxs("div",{children:[Y.jsx("h3",{children:"Resume Improvements"}),Y.jsx("ul",{id:"resume-improvements",children:d.map((L,N)=>Y.jsx("li",{class:"resume-improvement",children:L},N))})]}):null,C=()=>r?Y.jsxs("div",{id:"resume-action-buttons",children:[Y.jsx("button",{onClick:v,children:"Show Resume"}),Y.jsx("button",{onClick:m,children:"Summarize Resume"}),Y.jsx("button",{onClick:b,children:"Suggest Improvements"})]}):null;return Y.jsxs("div",{id:"resume-section",children:[Y.jsxs("div",{id:"resume-operations-section",children:[Y.jsx(C,{}),Y.jsx(M,{})]}),Y.jsxs("div",{id:"resume-upload-section",children:[Y.jsx(S,{}),Y.jsx(T,{})," ",Y.jsx(E,{})]})]})}function b2({resume:h,jobDescription:t,jobTitle:e,jobCompany:s,deployment:r}){const[o,c]=rt.useState(null),[d,p]=rt.useState(null),g=async()=>{const m=new FormData;m.append("resume",h),m.append("jd",t),m.append("position",e),m.append("company",s);const b=await fetch(r+"/generate-cover-letter",{method:"POST",body:m});if(b.ok){const v=await b.json();console.log("Cover Letter generated:",v.cover_letter),c(v.cover_letter),p(v.improvements)}else console.log("Error generating cover letter"),console.log(b.json().then(v=>console.log(v.error)))};return Y.jsxs("div",{children:[Y.jsx("h2",{className:"section-heading  ",children:"Cover Letter"}),Y.jsxs("p",{children:["Please note, you ",Y.jsx("strong",{children:"MUST NOT"})," use this generated cover letter directly. It has been generated based on your resume and job description via a Generative AI and it bound to have a lot of issues and will lack the personal touch of a human. Recruiters and Hiring Managers are capable of easily identifying AI generated resumes and cover letters.",Y.jsx("br",{}),"Instead, use this cover letter as a starting point for your own cover letter. There will be some suggestions on how to start to improve this generated cover letter. Use them as your guide and make your own cover letter."]}),Y.jsx("button",{id:"gen-cover-letter",onClick:g,children:"Generate Cover Letter"}),o&&Y.jsxs("div",{id:"cover-letter",children:[Y.jsx("p",{id:"cover-letter-greeting",children:o.greeting}),Y.jsxs("div",{id:"cover-letter-body",children:[Y.jsx("p",{children:o.opening_paragraph}),Y.jsx("p",{children:o.body_paragraph}),Y.jsx("p",{children:o.closing_paragraph})]}),Y.jsxs("div",{id:"cover-letter-signature",children:[Y.jsx("p",{children:o.sign_off}),Y.jsx("p",{children:o.signature})]})]}),d&&Y.jsxs("div",{children:[Y.jsx("u",{children:"Improvements for final version:"}),Y.jsx("ul",{children:d.map((m,b)=>Y.jsx("li",{children:m},b))})]})]})}function v2({deployment:h}){const[t,e]=rt.useState(null),[s,r]=rt.useState(null),[o,c]=rt.useState(""),[d,p]=rt.useState(t),g="https://cdn.brandfetch.io/";rt.useEffect(()=>{const T=async()=>{const C=await fetch(h+"/get-apply-data",{method:"GET"});if(C.ok){const L=await C.json();e(L),p(L)}};(async()=>{const C=await fetch(h+"/get-logo-client-id",{method:"GET"});if(C.ok){const L=await C.text();r(L)}})().then(()=>T())},[h]);function m(T){c(T.target.value)}const b=T=>{if(!t)return;T=T.toLowerCase();const M=t.map(C=>{const L=C.data.filter(N=>N.name.toLowerCase().includes(T)||N.portal_link.toLowerCase().includes(T)||N.domain.toLowerCase().includes(T));return L.length>0||C.category.toLowerCase().includes(T)?{...C,data:L.length>0?L:C.data}:null}).filter(Boolean);p(M)};if(rt.useEffect(()=>{b(o)},[o]),!t)return Y.jsx("div",{children:"Loading the list..."});function v(T){return T=T.company,Y.jsxs("a",{className:"apply-button",href:T.portal_link,target:"_blank",rel:"noopener noreferrer",children:[Y.jsx("img",{className:"company-logo",src:`${g}${T.domain}?c=${s}`,alt:T.name}),Y.jsx("div",{className:"company-name",children:T.name})]})}function S(T){return T=T.category,Y.jsxs("div",{className:"apply-category",children:[Y.jsx("h2",{className:"category-name",children:T.category}),Y.jsx("div",{className:"company-list",children:T.data.map((M,C)=>Y.jsx(v,{company:M},C))})]})}function E(T){return T.map((M,C)=>Y.jsx(S,{category:M},C))}return Y.jsxs("div",{id:"apply-section",children:[Y.jsx("h2",{class:"section-heading",children:"APPLY DIRECTLY THROUGH THEIR PORTAL"}),Y.jsx("p",{children:"I felt by the time a role was advertised on universal job portals like LinkedIn or Glassdoor, it would be too late to apply. With the current job market, it has become very competitive and a little late is a little too late. Hence, I used to apply directly through each company's portal. The problem was that it was not a structured effort and I used to apply to any company that came to my mind and resonated with me. This section would hence help to improve this process."}),Y.jsx("p",{children:"I had also tried to research to find out if there are any data endpoints or public APIs that I could leverage so that I could accumulate all jobs in a single place but unfortunately that wasn't possible. It struck me later that if that would have been possible, most universal job portals would have not been competing for the applicants' attention."}),Y.jsx("p",{children:"In some cases, I too felt like going to these universal job portals. Hence I have included them at the end of this section as well."}),Y.jsx("h4",{children:"Happy Applying!"}),Y.jsx("input",{type:"text",placeholder:"Search company ...",value:o,onChange:m,id:"search-company"}),o==""?E(t):E(d)]})}function A2({serverStatus:h}){return Y.jsxs("div",{id:"introduction-section",children:[Y.jsx("div",{id:"website-title",children:"RaDAR"}),Y.jsx("div",{id:"server-status",children:h}),Y.jsx("h3",{id:"website-subtitle",children:"Resume and Job Description Analyzer"}),Y.jsx("p",{children:"Job Search can be a very daunting journey, one filled with a lot of failures. I, myself, am currently (as of March 2025) going through the same journey. With the current job market, the competition has become very tough. From layoffs going on one side of the industry, to even experienced candidates applying for entry level roles, getting an opportunity has never felt short of a battle."}),Y.jsx("p",{children:"Anything help or guidance at this instance can be a blessing in disguise. Any suggestion for resume improvement, any suggestion for job hunting strategy improvement, anything could be your edge against other candidates out there. So I decided to create a tool that can help you in your job search journey."}),Y.jsx("p",{children:"RaDAR is a tool I came up with which incorporates all the suggestions I have ever been given to optimize my job search, improve my resume, and improve my job hunting strategy."})]})}function S2({deployment:h,setJobDescription:t,jobDescription:e,setJobTitle:s,setJobCompany:r,jobCompany:o,jobTitle:c}){const[d,p]=rt.useState(null),[g,m]=rt.useState(null),b=async()=>{const C=await fetch(h+"/process-job-description",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jd:e})});if(C.ok){const L=await C.json();console.log("Job Description Processed:",L),s(L.title),r(L.company),p(L.keywords),m(L.notes)}},v=()=>Y.jsx("textarea",{id:"jd-input",value:e,onChange:C=>t(C.target.value),placeholder:"Paste job description here..."}),S=()=>e?Y.jsx("div",{id:"jd-preview",children:e}):null,E=()=>!c||!o?null:Y.jsxs("p",{children:[Y.jsx("b",{children:"Job Details:"}),Y.jsx("br",{}),c&&Y.jsx("span",{children:c})," at ",o&&Y.jsx("span",{children:o})]}),T=()=>d?Y.jsxs("div",{children:[Y.jsx("b",{children:"Suggested keywords"})," to be included in the application:",Y.jsx("ul",{id:"jd-keywords-section",children:d.map((C,L)=>Y.jsx("li",{class:"jd-keyword",children:C},L))})]}):null,M=()=>g?Y.jsxs("div",{children:[Y.jsx("u",{children:"Note:"}),Y.jsx("ul",{children:g.map((C,L)=>Y.jsx("li",{children:C},L))})]}):null;return Y.jsxs("div",{id:"jd-section",children:[Y.jsx("h2",{className:"section-heading",children:"Job Description"}),Y.jsx(v,{})," ",Y.jsx(S,{})," ",Y.jsx("button",{onClick:b,children:"Process Job Description"})," ",Y.jsx(E,{}),Y.jsx(T,{}),Y.jsx(M,{})]})}function E2(){const[h,t]=rt.useState("🟡 Starting..."),[e,s]=rt.useState(null),[r,o]=rt.useState(null),[c,d]=rt.useState(""),[p,g]=rt.useState(null),[m,b]=rt.useState(null),v="http://localhost:4000";return rt.useEffect(()=>{async function S(){try{(await xe.get(v+"/hello-server")).status===200&&(t("🟢 Active"),console.log("RaDAR Online!"))}catch(E){t("🔴 Error"),alert("Server response: "+E+". Report back to the developer.")}}S()},[]),Y.jsxs("div",{children:[Y.jsx(A2,{serverStatus:h}),Y.jsx(y2,{deployment:v,setResume:s,resume:e,setResumeUrl:o,resumeUrl:r}),Y.jsx(S2,{deployment:v,setJobDescription:d,jobDescription:c,setJobTitle:g,jobTitle:p,setJobCompany:b,jobCompany:m})," ",Y.jsx(b2,{resume:e,jobDescription:c,jobTitle:p,jobCompany:m,deployment:v}),"   ",Y.jsx(v2,{deployment:v})]})}oC.createRoot(document.getElementById("root")).render(Y.jsx(rt.StrictMode,{children:Y.jsx(E2,{})}));
