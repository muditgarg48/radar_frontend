var kR=Object.defineProperty;var rE=u=>{throw TypeError(u)};var PR=(u,t,e)=>t in u?kR(u,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):u[t]=e;var Tt=(u,t,e)=>PR(u,typeof t!="symbol"?t+"":t,e),hy=(u,t,e)=>t.has(u)||rE("Cannot "+e);var h=(u,t,e)=>(hy(u,t,"read from private field"),e?e.call(u):t.get(u)),x=(u,t,e)=>t.has(u)?rE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(u):t.set(u,e),E=(u,t,e,s)=>(hy(u,t,"write to private field"),s?s.call(u,e):t.set(u,e),e),T=(u,t,e)=>(hy(u,t,"access private method"),e);var _n=(u,t,e,s)=>({set _(r){E(u,t,r,e)},get _(){return h(u,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function av(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var dy={exports:{}},fh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function FR(){if(oE)return fh;oE=1;var u=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var d in r)d!=="key"&&(o[d]=r[d])}else o=r;return r=o.ref,{$$typeof:u,type:s,key:c,ref:r!==void 0?r:null,props:o}}return fh.Fragment=t,fh.jsx=e,fh.jsxs=e,fh}var lE;function jR(){return lE||(lE=1,dy.exports=FR()),dy.exports}var L=jR(),fy={exports:{}},Lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function HR(){if(cE)return Lt;cE=1;var u=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function v(k){return k===null||typeof k!="object"?null:(k=y&&k[y]||k["@@iterator"],typeof k=="function"?k:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,w={};function M(k,X,st){this.props=k,this.context=X,this.refs=w,this.updater=st||S}M.prototype.isReactComponent={},M.prototype.setState=function(k,X){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,X,"setState")},M.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function R(){}R.prototype=M.prototype;function P(k,X,st){this.props=k,this.context=X,this.refs=w,this.updater=st||S}var O=P.prototype=new R;O.constructor=P,A(O,M.prototype),O.isPureReactComponent=!0;var N=Array.isArray,F={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function z(k,X,st,at,rt,Et){return st=Et.ref,{$$typeof:u,type:k,key:X,ref:st!==void 0?st:null,props:Et}}function V(k,X){return z(k.type,X,void 0,void 0,void 0,k.props)}function G(k){return typeof k=="object"&&k!==null&&k.$$typeof===u}function et(k){var X={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(st){return X[st]})}var it=/\/+/g;function dt(k,X){return typeof k=="object"&&k!==null&&k.key!=null?et(""+k.key):X.toString(36)}function ut(){}function ct(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(ut,ut):(k.status="pending",k.then(function(X){k.status==="pending"&&(k.status="fulfilled",k.value=X)},function(X){k.status==="pending"&&(k.status="rejected",k.reason=X)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function ft(k,X,st,at,rt){var Et=typeof k;(Et==="undefined"||Et==="boolean")&&(k=null);var gt=!1;if(k===null)gt=!0;else switch(Et){case"bigint":case"string":case"number":gt=!0;break;case"object":switch(k.$$typeof){case u:case t:gt=!0;break;case m:return gt=k._init,ft(gt(k._payload),X,st,at,rt)}}if(gt)return rt=rt(k),gt=at===""?"."+dt(k,0):at,N(rt)?(st="",gt!=null&&(st=gt.replace(it,"$&/")+"/"),ft(rt,X,st,"",function(Vt){return Vt})):rt!=null&&(G(rt)&&(rt=V(rt,st+(rt.key==null||k&&k.key===rt.key?"":(""+rt.key).replace(it,"$&/")+"/")+gt)),X.push(rt)),1;gt=0;var wt=at===""?".":at+":";if(N(k))for(var Dt=0;Dt<k.length;Dt++)at=k[Dt],Et=wt+dt(at,Dt),gt+=ft(at,X,st,Et,rt);else if(Dt=v(k),typeof Dt=="function")for(k=Dt.call(k),Dt=0;!(at=k.next()).done;)at=at.value,Et=wt+dt(at,Dt++),gt+=ft(at,X,st,Et,rt);else if(Et==="object"){if(typeof k.then=="function")return ft(ct(k),X,st,at,rt);throw X=String(k),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return gt}function $(k,X,st){if(k==null)return k;var at=[],rt=0;return ft(k,at,"","",function(Et){return X.call(st,Et,rt++)}),at}function Z(k){if(k._status===-1){var X=k._result;X=X(),X.then(function(st){(k._status===0||k._status===-1)&&(k._status=1,k._result=st)},function(st){(k._status===0||k._status===-1)&&(k._status=2,k._result=st)}),k._status===-1&&(k._status=0,k._result=X)}if(k._status===1)return k._result.default;throw k._result}var tt=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function _t(){}return Lt.Children={map:$,forEach:function(k,X,st){$(k,function(){X.apply(this,arguments)},st)},count:function(k){var X=0;return $(k,function(){X++}),X},toArray:function(k){return $(k,function(X){return X})||[]},only:function(k){if(!G(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Lt.Component=M,Lt.Fragment=e,Lt.Profiler=r,Lt.PureComponent=P,Lt.StrictMode=s,Lt.Suspense=p,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Lt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Lt.cache=function(k){return function(){return k.apply(null,arguments)}},Lt.cloneElement=function(k,X,st){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var at=A({},k.props),rt=k.key,Et=void 0;if(X!=null)for(gt in X.ref!==void 0&&(Et=void 0),X.key!==void 0&&(rt=""+X.key),X)!B.call(X,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&X.ref===void 0||(at[gt]=X[gt]);var gt=arguments.length-2;if(gt===1)at.children=st;else if(1<gt){for(var wt=Array(gt),Dt=0;Dt<gt;Dt++)wt[Dt]=arguments[Dt+2];at.children=wt}return z(k.type,rt,void 0,void 0,Et,at)},Lt.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:o,_context:k},k},Lt.createElement=function(k,X,st){var at,rt={},Et=null;if(X!=null)for(at in X.key!==void 0&&(Et=""+X.key),X)B.call(X,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(rt[at]=X[at]);var gt=arguments.length-2;if(gt===1)rt.children=st;else if(1<gt){for(var wt=Array(gt),Dt=0;Dt<gt;Dt++)wt[Dt]=arguments[Dt+2];rt.children=wt}if(k&&k.defaultProps)for(at in gt=k.defaultProps,gt)rt[at]===void 0&&(rt[at]=gt[at]);return z(k,Et,void 0,void 0,null,rt)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(k){return{$$typeof:d,render:k}},Lt.isValidElement=G,Lt.lazy=function(k){return{$$typeof:m,_payload:{_status:-1,_result:k},_init:Z}},Lt.memo=function(k,X){return{$$typeof:g,type:k,compare:X===void 0?null:X}},Lt.startTransition=function(k){var X=F.T,st={};F.T=st;try{var at=k(),rt=F.S;rt!==null&&rt(st,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(_t,tt)}catch(Et){tt(Et)}finally{F.T=X}},Lt.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Lt.use=function(k){return F.H.use(k)},Lt.useActionState=function(k,X,st){return F.H.useActionState(k,X,st)},Lt.useCallback=function(k,X){return F.H.useCallback(k,X)},Lt.useContext=function(k){return F.H.useContext(k)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(k,X){return F.H.useDeferredValue(k,X)},Lt.useEffect=function(k,X){return F.H.useEffect(k,X)},Lt.useId=function(){return F.H.useId()},Lt.useImperativeHandle=function(k,X,st){return F.H.useImperativeHandle(k,X,st)},Lt.useInsertionEffect=function(k,X){return F.H.useInsertionEffect(k,X)},Lt.useLayoutEffect=function(k,X){return F.H.useLayoutEffect(k,X)},Lt.useMemo=function(k,X){return F.H.useMemo(k,X)},Lt.useOptimistic=function(k,X){return F.H.useOptimistic(k,X)},Lt.useReducer=function(k,X,st){return F.H.useReducer(k,X,st)},Lt.useRef=function(k){return F.H.useRef(k)},Lt.useState=function(k){return F.H.useState(k)},Lt.useSyncExternalStore=function(k,X,st){return F.H.useSyncExternalStore(k,X,st)},Lt.useTransition=function(){return F.H.useTransition()},Lt.version="19.0.0",Lt}var uE;function jg(){return uE||(uE=1,fy.exports=HR()),fy.exports}var Q=jg();const hu=av(Q);var py={exports:{}},ph={},gy={exports:{}},my={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function zR(){return hE||(hE=1,function(u){function t($,Z){var tt=$.length;$.push(Z);t:for(;0<tt;){var _t=tt-1>>>1,k=$[_t];if(0<r(k,Z))$[_t]=Z,$[tt]=k,tt=_t;else break t}}function e($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var Z=$[0],tt=$.pop();if(tt!==Z){$[0]=tt;t:for(var _t=0,k=$.length,X=k>>>1;_t<X;){var st=2*(_t+1)-1,at=$[st],rt=st+1,Et=$[rt];if(0>r(at,tt))rt<k&&0>r(Et,at)?($[_t]=Et,$[rt]=tt,_t=rt):($[_t]=at,$[st]=tt,_t=st);else if(rt<k&&0>r(Et,tt))$[_t]=Et,$[rt]=tt,_t=rt;else break t}}return Z}function r($,Z){var tt=$.sortIndex-Z.sortIndex;return tt!==0?tt:$.id-Z.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;u.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();u.unstable_now=function(){return c.now()-d}}var p=[],g=[],m=1,y=null,v=3,S=!1,A=!1,w=!1,M=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function O($){for(var Z=e(g);Z!==null;){if(Z.callback===null)s(g);else if(Z.startTime<=$)s(g),Z.sortIndex=Z.expirationTime,t(p,Z);else break;Z=e(g)}}function N($){if(w=!1,O($),!A)if(e(p)!==null)A=!0,ct();else{var Z=e(g);Z!==null&&ft(N,Z.startTime-$)}}var F=!1,B=-1,z=5,V=-1;function G(){return!(u.unstable_now()-V<z)}function et(){if(F){var $=u.unstable_now();V=$;var Z=!0;try{t:{A=!1,w&&(w=!1,R(B),B=-1),S=!0;var tt=v;try{e:{for(O($),y=e(p);y!==null&&!(y.expirationTime>$&&G());){var _t=y.callback;if(typeof _t=="function"){y.callback=null,v=y.priorityLevel;var k=_t(y.expirationTime<=$);if($=u.unstable_now(),typeof k=="function"){y.callback=k,O($),Z=!0;break e}y===e(p)&&s(p),O($)}else s(p);y=e(p)}if(y!==null)Z=!0;else{var X=e(g);X!==null&&ft(N,X.startTime-$),Z=!1}}break t}finally{y=null,v=tt,S=!1}Z=void 0}}finally{Z?it():F=!1}}}var it;if(typeof P=="function")it=function(){P(et)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,ut=dt.port2;dt.port1.onmessage=et,it=function(){ut.postMessage(null)}}else it=function(){M(et,0)};function ct(){F||(F=!0,it())}function ft($,Z){B=M(function(){$(u.unstable_now())},Z)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function($){$.callback=null},u.unstable_continueExecution=function(){A||S||(A=!0,ct())},u.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<$?Math.floor(1e3/$):5},u.unstable_getCurrentPriorityLevel=function(){return v},u.unstable_getFirstCallbackNode=function(){return e(p)},u.unstable_next=function($){switch(v){case 1:case 2:case 3:var Z=3;break;default:Z=v}var tt=v;v=Z;try{return $()}finally{v=tt}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function($,Z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var tt=v;v=$;try{return Z()}finally{v=tt}},u.unstable_scheduleCallback=function($,Z,tt){var _t=u.unstable_now();switch(typeof tt=="object"&&tt!==null?(tt=tt.delay,tt=typeof tt=="number"&&0<tt?_t+tt:_t):tt=_t,$){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=tt+k,$={id:m++,callback:Z,priorityLevel:$,startTime:tt,expirationTime:k,sortIndex:-1},tt>_t?($.sortIndex=tt,t(g,$),e(p)===null&&$===e(g)&&(w?(R(B),B=-1):w=!0,ft(N,tt-_t))):($.sortIndex=k,t(p,$),A||S||(A=!0,ct())),$},u.unstable_shouldYield=G,u.unstable_wrapCallback=function($){var Z=v;return function(){var tt=v;v=Z;try{return $.apply(this,arguments)}finally{v=tt}}}}(my)),my}var dE;function UR(){return dE||(dE=1,gy.exports=zR()),gy.exports}var by={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function BR(){if(fE)return un;fE=1;var u=jg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)g+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(p,g,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:p,containerInfo:g,implementation:m}}var c=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,un.createPortal=function(p,g){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(p,g,null,m)},un.flushSync=function(p){var g=c.T,m=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=m,s.d.f()}},un.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},un.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},un.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var m=g.as,y=d(m,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;m==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:S}):m==="script"&&s.d.X(p,{crossOrigin:y,integrity:v,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},un.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var m=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},un.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var m=g.as,y=d(m,g.crossOrigin);s.d.L(p,m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},un.preloadModule=function(p,g){if(typeof p=="string")if(g){var m=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},un.requestFormReset=function(p){s.d.r(p)},un.unstable_batchedUpdates=function(p,g){return p(g)},un.useFormState=function(p,g,m){return c.H.useFormState(p,g,m)},un.useFormStatus=function(){return c.H.useHostTransitionStatus()},un.version="19.0.0",un}var pE;function IR(){if(pE)return by.exports;pE=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(t){console.error(t)}}return u(),by.exports=BR(),by.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function qR(){if(gE)return ph;gE=1;var u=UR(),t=jg(),e=IR();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var o=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),S=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),N=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=F&&n[F]||n["@@iterator"],typeof n=="function"?n:null)}var z=Symbol.for("react.client.reference");function V(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===z?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case d:return"Portal";case m:return"Profiler";case g:return"StrictMode";case w:return"Suspense";case M:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case S:return(n.displayName||"Context")+".Provider";case v:return(n._context.displayName||"Context")+".Consumer";case A:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case R:return i=n.displayName||null,i!==null?i:V(n.type)||"Memo";case P:i=n._payload,n=n._init;try{return V(n(i))}catch{}}return null}var G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=Object.assign,it,dt;function ut(n){if(it===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);it=i&&i[1]||"",dt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+n+dt}var ct=!1;function ft(n,i){if(!n||ct)return"";ct=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(K){var q=K}Reflect.construct(n,[],nt)}else{try{nt.call()}catch(K){q=K}n.call(nt.prototype)}}else{try{throw Error()}catch(K){q=K}(nt=n())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(K){if(K&&q&&typeof K.stack=="string")return[K.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=l.DetermineComponentFrameRoot(),_=b[0],C=b[1];if(_&&C){var D=_.split(`
`),H=C.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===H.length)for(l=D.length-1,f=H.length-1;1<=l&&0<=f&&D[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==H[f]){var W=`
`+D[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=f);break}}}finally{ct=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?ut(a):""}function $(n){switch(n.tag){case 26:case 27:case 5:return ut(n.type);case 16:return ut("Lazy");case 13:return ut("Suspense");case 19:return ut("SuspenseList");case 0:case 15:return n=ft(n.type,!1),n;case 11:return n=ft(n.type.render,!1),n;case 1:return n=ft(n.type,!0),n;default:return""}}function Z(n){try{var i="";do i+=$(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tt(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function _t(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function k(n){if(tt(n)!==n)throw Error(s(188))}function X(n){var i=n.alternate;if(!i){if(i=tt(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var f=a.return;if(f===null)break;var b=f.alternate;if(b===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===b.child){for(b=f.child;b;){if(b===a)return k(f),n;if(b===l)return k(f),i;b=b.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=b;else{for(var _=!1,C=f.child;C;){if(C===a){_=!0,a=f,l=b;break}if(C===l){_=!0,l=f,a=b;break}C=C.sibling}if(!_){for(C=b.child;C;){if(C===a){_=!0,a=b,l=f;break}if(C===l){_=!0,l=b,a=f;break}C=C.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function st(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=st(n),i!==null)return i;n=n.sibling}return null}var at=Array.isArray,rt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Et={pending:!1,data:null,method:null,action:null},gt=[],wt=-1;function Dt(n){return{current:n}}function Vt(n){0>wt||(n.current=gt[wt],gt[wt]=null,wt--)}function St(n,i){wt++,gt[wt]=n.current,n.current=i}var on=Dt(null),Oi=Dt(null),Bt=Dt(null),le=Dt(null);function Ee(n,i){switch(St(Bt,i),St(Oi,n),St(on,null),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?P_(i):0;break;default:if(n=n===8?i.parentNode:i,i=n.tagName,n=n.namespaceURI)n=P_(n),i=F_(n,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Vt(on),St(on,i)}function ce(){Vt(on),Vt(Oi),Vt(Bt)}function Zi(n){n.memoizedState!==null&&St(le,n);var i=on.current,a=F_(i,n.type);i!==a&&(St(Oi,n),St(on,a))}function Ji(n){Oi.current===n&&(Vt(on),Vt(Oi)),le.current===n&&(Vt(le),lh._currentValue=Et)}var gu=Object.prototype.hasOwnProperty,mu=u.unstable_scheduleCallback,Ta=u.unstable_cancelCallback,im=u.unstable_shouldYield,sm=u.unstable_requestPaint,oi=u.unstable_now,am=u.unstable_getCurrentPriorityLevel,df=u.unstable_ImmediatePriority,Ts=u.unstable_UserBlockingPriority,xs=u.unstable_NormalPriority,bl=u.unstable_LowPriority,yl=u.unstable_IdlePriority,mx=u.log,bx=u.unstable_setDisableYieldValue,bu=null,Bn=null;function yx(n){if(Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(bu,n,void 0,(n.current.flags&128)===128)}catch{}}function xa(n){if(typeof mx=="function"&&bx(n),Bn&&typeof Bn.setStrictMode=="function")try{Bn.setStrictMode(bu,n)}catch{}}var In=Math.clz32?Math.clz32:Sx,vx=Math.log,Ax=Math.LN2;function Sx(n){return n>>>=0,n===0?32:31-(vx(n)/Ax|0)|0}var ff=128,pf=4194304;function Dr(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function gf(n,i){var a=n.pendingLanes;if(a===0)return 0;var l=0,f=n.suspendedLanes,b=n.pingedLanes,_=n.warmLanes;n=n.finishedLanes!==0;var C=a&134217727;return C!==0?(a=C&~f,a!==0?l=Dr(a):(b&=C,b!==0?l=Dr(b):n||(_=C&~_,_!==0&&(l=Dr(_))))):(C=a&~f,C!==0?l=Dr(C):b!==0?l=Dr(b):n||(_=a&~_,_!==0&&(l=Dr(_)))),l===0?0:i!==0&&i!==l&&(i&f)===0&&(f=l&-l,_=i&-i,f>=_||f===32&&(_&4194176)!==0)?i:l}function yu(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function _x(n,i){switch(n){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cv(){var n=ff;return ff<<=1,(ff&4194176)===0&&(ff=128),n}function Rv(){var n=pf;return pf<<=1,(pf&62914560)===0&&(pf=4194304),n}function rm(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function vu(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ex(n,i,a,l,f,b){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var C=n.entanglements,D=n.expirationTimes,H=n.hiddenUpdates;for(a=_&~a;0<a;){var W=31-In(a),nt=1<<W;C[W]=0,D[W]=-1;var q=H[W];if(q!==null)for(H[W]=null,W=0;W<q.length;W++){var K=q[W];K!==null&&(K.lane&=-536870913)}a&=~nt}l!==0&&Mv(n,l,0),b!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=b&~(_&~i))}function Mv(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-In(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194218}function Ov(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-In(a),f=1<<l;f&i|n[l]&i&&(n[l]|=i),a&=~f}}function Dv(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Lv(){var n=rt.p;return n!==0?n:(n=window.event,n===void 0?32:tE(n.type))}function wx(n,i){var a=rt.p;try{return rt.p=n,i()}finally{rt.p=a}}var Ca=Math.random().toString(36).slice(2),ln="__reactFiber$"+Ca,Mn="__reactProps$"+Ca,vl="__reactContainer$"+Ca,om="__reactEvents$"+Ca,Tx="__reactListeners$"+Ca,xx="__reactHandles$"+Ca,Nv="__reactResources$"+Ca,Au="__reactMarker$"+Ca;function lm(n){delete n[ln],delete n[Mn],delete n[om],delete n[Tx],delete n[xx]}function Lr(n){var i=n[ln];if(i)return i;for(var a=n.parentNode;a;){if(i=a[vl]||a[ln]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=z_(n);n!==null;){if(a=n[ln])return a;n=z_(n)}return i}n=a,a=n.parentNode}return null}function Al(n){if(n=n[ln]||n[vl]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Su(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function Sl(n){var i=n[Nv];return i||(i=n[Nv]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ie(n){n[Au]=!0}var kv=new Set,Pv={};function Nr(n,i){_l(n,i),_l(n+"Capture",i)}function _l(n,i){for(Pv[n]=i,n=0;n<i.length;n++)kv.add(i[n])}var Cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fv={},jv={};function Rx(n){return gu.call(jv,n)?!0:gu.call(Fv,n)?!1:Cx.test(n)?jv[n]=!0:(Fv[n]=!0,!1)}function mf(n,i,a){if(Rx(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function bf(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Rs(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}function li(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Hv(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Mx(n){var i=Hv(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,b=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){l=""+_,b.call(this,_)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function yf(n){n._valueTracker||(n._valueTracker=Mx(n))}function zv(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=Hv(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function vf(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ox=/[\n"\\]/g;function ci(n){return n.replace(Ox,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function cm(n,i,a,l,f,b,_,C){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),i!=null?_==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+li(i)):n.value!==""+li(i)&&(n.value=""+li(i)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),i!=null?um(n,_,li(i)):a!=null?um(n,_,li(a)):l!=null&&n.removeAttribute("value"),f==null&&b!=null&&(n.defaultChecked=!!b),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+li(C):n.removeAttribute("name")}function Uv(n,i,a,l,f,b,_,C){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.type=b),i!=null||a!=null){if(!(b!=="submit"&&b!=="reset"||i!=null))return;a=a!=null?""+li(a):"",i=i!=null?""+li(i):a,C||i===n.value||(n.value=i),n.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=C?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_)}function um(n,i,a){i==="number"&&vf(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function El(n,i,a,l){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+li(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Bv(n,i,a){if(i!=null&&(i=""+li(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+li(a):""}function Iv(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(at(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=li(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function wl(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Dx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qv(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||Dx.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Gv(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&qv(n,f,l)}else for(var b in i)i.hasOwnProperty(b)&&qv(n,b,i[b])}function hm(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Af(n){return Nx.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var dm=null;function fm(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Tl=null,xl=null;function Vv(n){var i=Al(n);if(i&&(n=i.stateNode)){var a=n[Mn]||null;t:switch(n=i.stateNode,i.type){case"input":if(cm(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ci(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var f=l[Mn]||null;if(!f)throw Error(s(90));cm(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&zv(l)}break t;case"textarea":Bv(n,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&El(n,!!a.multiple,i,!1)}}}var pm=!1;function Xv(n,i,a){if(pm)return n(i,a);pm=!0;try{var l=n(i);return l}finally{if(pm=!1,(Tl!==null||xl!==null)&&(ip(),Tl&&(i=Tl,n=xl,xl=Tl=null,Vv(i),n)))for(i=0;i<n.length;i++)Vv(n[i])}}function _u(n,i){var a=n.stateNode;if(a===null)return null;var l=a[Mn]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var gm=!1;if(Cs)try{var Eu={};Object.defineProperty(Eu,"passive",{get:function(){gm=!0}}),window.addEventListener("test",Eu,Eu),window.removeEventListener("test",Eu,Eu)}catch{gm=!1}var Ra=null,mm=null,Sf=null;function Yv(){if(Sf)return Sf;var n,i=mm,a=i.length,l,f="value"in Ra?Ra.value:Ra.textContent,b=f.length;for(n=0;n<a&&i[n]===f[n];n++);var _=a-n;for(l=1;l<=_&&i[a-l]===f[b-l];l++);return Sf=f.slice(n,1<l?1-l:void 0)}function _f(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Ef(){return!0}function $v(){return!1}function On(n){function i(a,l,f,b,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=b,this.target=_,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(a=n[C],this[C]=a?a(b):b[C]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ef:$v,this.isPropagationStopped=$v,this}return et(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ef)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ef)},persist:function(){},isPersistent:Ef}),i}var kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wf=On(kr),wu=et({},kr,{view:0,detail:0}),kx=On(wu),bm,ym,Tu,Tf=et({},wu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Am,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Tu&&(Tu&&n.type==="mousemove"?(bm=n.screenX-Tu.screenX,ym=n.screenY-Tu.screenY):ym=bm=0,Tu=n),bm)},movementY:function(n){return"movementY"in n?n.movementY:ym}}),Kv=On(Tf),Px=et({},Tf,{dataTransfer:0}),Fx=On(Px),jx=et({},wu,{relatedTarget:0}),vm=On(jx),Hx=et({},kr,{animationName:0,elapsedTime:0,pseudoElement:0}),zx=On(Hx),Ux=et({},kr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Bx=On(Ux),Ix=et({},kr,{data:0}),Wv=On(Ix),qx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xx(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Vx[n])?!!i[n]:!1}function Am(){return Xx}var Yx=et({},wu,{key:function(n){if(n.key){var i=qx[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=_f(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Gx[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Am,charCode:function(n){return n.type==="keypress"?_f(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?_f(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),$x=On(Yx),Kx=et({},Tf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qv=On(Kx),Wx=et({},wu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Am}),Qx=On(Wx),Zx=et({},kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jx=On(Zx),tC=et({},Tf,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),eC=On(tC),nC=et({},kr,{newState:0,oldState:0}),iC=On(nC),sC=[9,13,27,32],Sm=Cs&&"CompositionEvent"in window,xu=null;Cs&&"documentMode"in document&&(xu=document.documentMode);var aC=Cs&&"TextEvent"in window&&!xu,Zv=Cs&&(!Sm||xu&&8<xu&&11>=xu),Jv=" ",tA=!1;function eA(n,i){switch(n){case"keyup":return sC.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nA(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Cl=!1;function rC(n,i){switch(n){case"compositionend":return nA(i);case"keypress":return i.which!==32?null:(tA=!0,Jv);case"textInput":return n=i.data,n===Jv&&tA?null:n;default:return null}}function oC(n,i){if(Cl)return n==="compositionend"||!Sm&&eA(n,i)?(n=Yv(),Sf=mm=Ra=null,Cl=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Zv&&i.locale!=="ko"?null:i.data;default:return null}}var lC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iA(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!lC[n.type]:i==="textarea"}function sA(n,i,a,l){Tl?xl?xl.push(l):xl=[l]:Tl=l,i=lp(i,"onChange"),0<i.length&&(a=new wf("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var Cu=null,Ru=null;function cC(n){O_(n,0)}function xf(n){var i=Su(n);if(zv(i))return n}function aA(n,i){if(n==="change")return i}var rA=!1;if(Cs){var _m;if(Cs){var Em="oninput"in document;if(!Em){var oA=document.createElement("div");oA.setAttribute("oninput","return;"),Em=typeof oA.oninput=="function"}_m=Em}else _m=!1;rA=_m&&(!document.documentMode||9<document.documentMode)}function lA(){Cu&&(Cu.detachEvent("onpropertychange",cA),Ru=Cu=null)}function cA(n){if(n.propertyName==="value"&&xf(Ru)){var i=[];sA(i,Ru,n,fm(n)),Xv(cC,i)}}function uC(n,i,a){n==="focusin"?(lA(),Cu=i,Ru=a,Cu.attachEvent("onpropertychange",cA)):n==="focusout"&&lA()}function hC(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return xf(Ru)}function dC(n,i){if(n==="click")return xf(i)}function fC(n,i){if(n==="input"||n==="change")return xf(i)}function pC(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var qn=typeof Object.is=="function"?Object.is:pC;function Mu(n,i){if(qn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!gu.call(i,f)||!qn(n[f],i[f]))return!1}return!0}function uA(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function hA(n,i){var a=uA(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=uA(a)}}function dA(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?dA(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function fA(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=vf(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=vf(n.document)}return i}function wm(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function gC(n,i){var a=fA(i);i=n.focusedElem;var l=n.selectionRange;if(a!==i&&i&&i.ownerDocument&&dA(i.ownerDocument.documentElement,i)){if(l!==null&&wm(i)){if(n=l.start,a=l.end,a===void 0&&(a=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(a,i.value.length);else if(a=(n=i.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=i.textContent.length,b=Math.min(l.start,f);l=l.end===void 0?b:Math.min(l.end,f),!a.extend&&b>l&&(f=l,l=b,b=f),f=hA(i,b);var _=hA(i,l);f&&_&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==_.node||a.focusOffset!==_.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),b>l?(a.addRange(n),a.extend(_.node,_.offset)):(n.setEnd(_.node,_.offset),a.addRange(n)))}}for(n=[],a=i;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)a=n[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var mC=Cs&&"documentMode"in document&&11>=document.documentMode,Rl=null,Tm=null,Ou=null,xm=!1;function pA(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xm||Rl==null||Rl!==vf(l)||(l=Rl,"selectionStart"in l&&wm(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ou&&Mu(Ou,l)||(Ou=l,l=lp(Tm,"onSelect"),0<l.length&&(i=new wf("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=Rl)))}function Pr(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Ml={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionrun:Pr("Transition","TransitionRun"),transitionstart:Pr("Transition","TransitionStart"),transitioncancel:Pr("Transition","TransitionCancel"),transitionend:Pr("Transition","TransitionEnd")},Cm={},gA={};Cs&&(gA=document.createElement("div").style,"AnimationEvent"in window||(delete Ml.animationend.animation,delete Ml.animationiteration.animation,delete Ml.animationstart.animation),"TransitionEvent"in window||delete Ml.transitionend.transition);function Fr(n){if(Cm[n])return Cm[n];if(!Ml[n])return n;var i=Ml[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in gA)return Cm[n]=i[a];return n}var mA=Fr("animationend"),bA=Fr("animationiteration"),yA=Fr("animationstart"),bC=Fr("transitionrun"),yC=Fr("transitionstart"),vC=Fr("transitioncancel"),vA=Fr("transitionend"),AA=new Map,SA="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Di(n,i){AA.set(n,i),Nr(i,[n])}var ui=[],Ol=0,Rm=0;function Cf(){for(var n=Ol,i=Rm=Ol=0;i<n;){var a=ui[i];ui[i++]=null;var l=ui[i];ui[i++]=null;var f=ui[i];ui[i++]=null;var b=ui[i];if(ui[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}b!==0&&_A(a,f,b)}}function Rf(n,i,a,l){ui[Ol++]=n,ui[Ol++]=i,ui[Ol++]=a,ui[Ol++]=l,Rm|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Mm(n,i,a,l){return Rf(n,i,a,l),Mf(n)}function Ma(n,i){return Rf(n,null,null,i),Mf(n)}function _A(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,b=n.return;b!==null;)b.childLanes|=a,l=b.alternate,l!==null&&(l.childLanes|=a),b.tag===22&&(n=b.stateNode,n===null||n._visibility&1||(f=!0)),n=b,b=b.return;f&&i!==null&&n.tag===3&&(b=n.stateNode,f=31-In(a),b=b.hiddenUpdates,n=b[f],n===null?b[f]=[i]:n.push(i),i.lane=a|536870912)}function Mf(n){if(50<eh)throw eh=0,Pb=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Dl={},EA=new WeakMap;function hi(n,i){if(typeof n=="object"&&n!==null){var a=EA.get(n);return a!==void 0?a:(i={value:n,source:i,stack:Z(i)},EA.set(n,i),i)}return{value:n,source:i,stack:Z(i)}}var Ll=[],Nl=0,Of=null,Df=0,di=[],fi=0,jr=null,Ms=1,Os="";function Hr(n,i){Ll[Nl++]=Df,Ll[Nl++]=Of,Of=n,Df=i}function wA(n,i,a){di[fi++]=Ms,di[fi++]=Os,di[fi++]=jr,jr=n;var l=Ms;n=Os;var f=32-In(l)-1;l&=~(1<<f),a+=1;var b=32-In(i)+f;if(30<b){var _=f-f%5;b=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ms=1<<32-In(i)+f|a<<f|l,Os=b+n}else Ms=1<<b|a<<f|l,Os=n}function Om(n){n.return!==null&&(Hr(n,1),wA(n,1,0))}function Dm(n){for(;n===Of;)Of=Ll[--Nl],Ll[Nl]=null,Df=Ll[--Nl],Ll[Nl]=null;for(;n===jr;)jr=di[--fi],di[fi]=null,Os=di[--fi],di[fi]=null,Ms=di[--fi],di[fi]=null}var An=null,Ze=null,Xt=!1,Li=null,ts=!1,Lm=Error(s(519));function zr(n){var i=Error(s(418,""));throw Nu(hi(i,n)),Lm}function TA(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[ln]=n,i[Mn]=l,a){case"dialog":It("cancel",i),It("close",i);break;case"iframe":case"object":case"embed":It("load",i);break;case"video":case"audio":for(a=0;a<ih.length;a++)It(ih[a],i);break;case"source":It("error",i);break;case"img":case"image":case"link":It("error",i),It("load",i);break;case"details":It("toggle",i);break;case"input":It("invalid",i),Uv(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),yf(i);break;case"select":It("invalid",i);break;case"textarea":It("invalid",i),Iv(i,l.value,l.defaultValue,l.children),yf(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||k_(i.textContent,a)?(l.popover!=null&&(It("beforetoggle",i),It("toggle",i)),l.onScroll!=null&&It("scroll",i),l.onScrollEnd!=null&&It("scrollend",i),l.onClick!=null&&(i.onclick=cp),i=!0):i=!1,i||zr(n)}function xA(n){for(An=n.return;An;)switch(An.tag){case 3:case 27:ts=!0;return;case 5:case 13:ts=!1;return;default:An=An.return}}function Du(n){if(n!==An)return!1;if(!Xt)return xA(n),Xt=!0,!1;var i=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Zb(n.type,n.memoizedProps)),a=!a),a&&(i=!0),i&&Ze&&zr(n),xA(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));t:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){Ze=ki(n.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}Ze=null}}else Ze=An?ki(n.stateNode.nextSibling):null;return!0}function Lu(){Ze=An=null,Xt=!1}function Nu(n){Li===null?Li=[n]:Li.push(n)}var ku=Error(s(460)),CA=Error(s(474)),Nm={then:function(){}};function RA(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Lf(){}function MA(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(Lf,Lf),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===ku?Error(s(483)):n;default:if(typeof i.status=="string")i.then(Lf,Lf);else{if(n=ae,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===ku?Error(s(483)):n}throw Pu=i,ku}}var Pu=null;function OA(){if(Pu===null)throw Error(s(459));var n=Pu;return Pu=null,n}var kl=null,Fu=0;function Nf(n){var i=Fu;return Fu+=1,kl===null&&(kl=[]),MA(kl,n,i)}function ju(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function kf(n,i){throw i.$$typeof===o?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function DA(n){var i=n._init;return i(n._payload)}function LA(n){function i(U,j){if(n){var I=U.deletions;I===null?(U.deletions=[j],U.flags|=16):I.push(j)}}function a(U,j){if(!n)return null;for(;j!==null;)i(U,j),j=j.sibling;return null}function l(U){for(var j=new Map;U!==null;)U.key!==null?j.set(U.key,U):j.set(U.index,U),U=U.sibling;return j}function f(U,j){return U=Ba(U,j),U.index=0,U.sibling=null,U}function b(U,j,I){return U.index=I,n?(I=U.alternate,I!==null?(I=I.index,I<j?(U.flags|=33554434,j):I):(U.flags|=33554434,j)):(U.flags|=1048576,j)}function _(U){return n&&U.alternate===null&&(U.flags|=33554434),U}function C(U,j,I,J){return j===null||j.tag!==6?(j=Cb(I,U.mode,J),j.return=U,j):(j=f(j,I),j.return=U,j)}function D(U,j,I,J){var pt=I.type;return pt===p?W(U,j,I.props.children,J,I.key):j!==null&&(j.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===P&&DA(pt)===j.type)?(j=f(j,I.props),ju(j,I),j.return=U,j):(j=Zf(I.type,I.key,I.props,null,U.mode,J),ju(j,I),j.return=U,j)}function H(U,j,I,J){return j===null||j.tag!==4||j.stateNode.containerInfo!==I.containerInfo||j.stateNode.implementation!==I.implementation?(j=Rb(I,U.mode,J),j.return=U,j):(j=f(j,I.children||[]),j.return=U,j)}function W(U,j,I,J,pt){return j===null||j.tag!==7?(j=Kr(I,U.mode,J,pt),j.return=U,j):(j=f(j,I),j.return=U,j)}function nt(U,j,I){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Cb(""+j,U.mode,I),j.return=U,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case c:return I=Zf(j.type,j.key,j.props,null,U.mode,I),ju(I,j),I.return=U,I;case d:return j=Rb(j,U.mode,I),j.return=U,j;case P:var J=j._init;return j=J(j._payload),nt(U,j,I)}if(at(j)||B(j))return j=Kr(j,U.mode,I,null),j.return=U,j;if(typeof j.then=="function")return nt(U,Nf(j),I);if(j.$$typeof===S)return nt(U,Kf(U,j),I);kf(U,j)}return null}function q(U,j,I,J){var pt=j!==null?j.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return pt!==null?null:C(U,j,""+I,J);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case c:return I.key===pt?D(U,j,I,J):null;case d:return I.key===pt?H(U,j,I,J):null;case P:return pt=I._init,I=pt(I._payload),q(U,j,I,J)}if(at(I)||B(I))return pt!==null?null:W(U,j,I,J,null);if(typeof I.then=="function")return q(U,j,Nf(I),J);if(I.$$typeof===S)return q(U,j,Kf(U,I),J);kf(U,I)}return null}function K(U,j,I,J,pt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(I)||null,C(j,U,""+J,pt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case c:return U=U.get(J.key===null?I:J.key)||null,D(j,U,J,pt);case d:return U=U.get(J.key===null?I:J.key)||null,H(j,U,J,pt);case P:var jt=J._init;return J=jt(J._payload),K(U,j,I,J,pt)}if(at(J)||B(J))return U=U.get(I)||null,W(j,U,J,pt,null);if(typeof J.then=="function")return K(U,j,I,Nf(J),pt);if(J.$$typeof===S)return K(U,j,I,Kf(j,J),pt);kf(j,J)}return null}function mt(U,j,I,J){for(var pt=null,jt=null,yt=j,At=j=0,Ve=null;yt!==null&&At<I.length;At++){yt.index>At?(Ve=yt,yt=null):Ve=yt.sibling;var Yt=q(U,yt,I[At],J);if(Yt===null){yt===null&&(yt=Ve);break}n&&yt&&Yt.alternate===null&&i(U,yt),j=b(Yt,j,At),jt===null?pt=Yt:jt.sibling=Yt,jt=Yt,yt=Ve}if(At===I.length)return a(U,yt),Xt&&Hr(U,At),pt;if(yt===null){for(;At<I.length;At++)yt=nt(U,I[At],J),yt!==null&&(j=b(yt,j,At),jt===null?pt=yt:jt.sibling=yt,jt=yt);return Xt&&Hr(U,At),pt}for(yt=l(yt);At<I.length;At++)Ve=K(yt,U,At,I[At],J),Ve!==null&&(n&&Ve.alternate!==null&&yt.delete(Ve.key===null?At:Ve.key),j=b(Ve,j,At),jt===null?pt=Ve:jt.sibling=Ve,jt=Ve);return n&&yt.forEach(function($a){return i(U,$a)}),Xt&&Hr(U,At),pt}function Ct(U,j,I,J){if(I==null)throw Error(s(151));for(var pt=null,jt=null,yt=j,At=j=0,Ve=null,Yt=I.next();yt!==null&&!Yt.done;At++,Yt=I.next()){yt.index>At?(Ve=yt,yt=null):Ve=yt.sibling;var $a=q(U,yt,Yt.value,J);if($a===null){yt===null&&(yt=Ve);break}n&&yt&&$a.alternate===null&&i(U,yt),j=b($a,j,At),jt===null?pt=$a:jt.sibling=$a,jt=$a,yt=Ve}if(Yt.done)return a(U,yt),Xt&&Hr(U,At),pt;if(yt===null){for(;!Yt.done;At++,Yt=I.next())Yt=nt(U,Yt.value,J),Yt!==null&&(j=b(Yt,j,At),jt===null?pt=Yt:jt.sibling=Yt,jt=Yt);return Xt&&Hr(U,At),pt}for(yt=l(yt);!Yt.done;At++,Yt=I.next())Yt=K(yt,U,At,Yt.value,J),Yt!==null&&(n&&Yt.alternate!==null&&yt.delete(Yt.key===null?At:Yt.key),j=b(Yt,j,At),jt===null?pt=Yt:jt.sibling=Yt,jt=Yt);return n&&yt.forEach(function(NR){return i(U,NR)}),Xt&&Hr(U,At),pt}function Ae(U,j,I,J){if(typeof I=="object"&&I!==null&&I.type===p&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case c:t:{for(var pt=I.key;j!==null;){if(j.key===pt){if(pt=I.type,pt===p){if(j.tag===7){a(U,j.sibling),J=f(j,I.props.children),J.return=U,U=J;break t}}else if(j.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===P&&DA(pt)===j.type){a(U,j.sibling),J=f(j,I.props),ju(J,I),J.return=U,U=J;break t}a(U,j);break}else i(U,j);j=j.sibling}I.type===p?(J=Kr(I.props.children,U.mode,J,I.key),J.return=U,U=J):(J=Zf(I.type,I.key,I.props,null,U.mode,J),ju(J,I),J.return=U,U=J)}return _(U);case d:t:{for(pt=I.key;j!==null;){if(j.key===pt)if(j.tag===4&&j.stateNode.containerInfo===I.containerInfo&&j.stateNode.implementation===I.implementation){a(U,j.sibling),J=f(j,I.children||[]),J.return=U,U=J;break t}else{a(U,j);break}else i(U,j);j=j.sibling}J=Rb(I,U.mode,J),J.return=U,U=J}return _(U);case P:return pt=I._init,I=pt(I._payload),Ae(U,j,I,J)}if(at(I))return mt(U,j,I,J);if(B(I)){if(pt=B(I),typeof pt!="function")throw Error(s(150));return I=pt.call(I),Ct(U,j,I,J)}if(typeof I.then=="function")return Ae(U,j,Nf(I),J);if(I.$$typeof===S)return Ae(U,j,Kf(U,I),J);kf(U,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,j!==null&&j.tag===6?(a(U,j.sibling),J=f(j,I),J.return=U,U=J):(a(U,j),J=Cb(I,U.mode,J),J.return=U,U=J),_(U)):a(U,j)}return function(U,j,I,J){try{Fu=0;var pt=Ae(U,j,I,J);return kl=null,pt}catch(yt){if(yt===ku)throw yt;var jt=bi(29,yt,null,U.mode);return jt.lanes=J,jt.return=U,jt}finally{}}}var Ur=LA(!0),NA=LA(!1),Pl=Dt(null),Pf=Dt(0);function kA(n,i){n=Bs,St(Pf,n),St(Pl,i),Bs=n|i.baseLanes}function km(){St(Pf,Bs),St(Pl,Pl.current)}function Pm(){Bs=Pf.current,Vt(Pl),Vt(Pf)}var pi=Dt(null),es=null;function Oa(n){var i=n.alternate;St(ke,ke.current&1),St(pi,n),es===null&&(i===null||Pl.current!==null||i.memoizedState!==null)&&(es=n)}function PA(n){if(n.tag===22){if(St(ke,ke.current),St(pi,n),es===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(es=n)}}else Da()}function Da(){St(ke,ke.current),St(pi,pi.current)}function Ds(n){Vt(pi),es===n&&(es=null),Vt(ke)}var ke=Dt(0);function Ff(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var AC=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},SC=u.unstable_scheduleCallback,_C=u.unstable_NormalPriority,Pe={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fm(){return{controller:new AC,data:new Map,refCount:0}}function Hu(n){n.refCount--,n.refCount===0&&SC(_C,function(){n.controller.abort()})}var zu=null,jm=0,Fl=0,jl=null;function EC(n,i){if(zu===null){var a=zu=[];jm=0,Fl=qb(),jl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return jm++,i.then(FA,FA),i}function FA(){if(--jm===0&&zu!==null){jl!==null&&(jl.status="fulfilled");var n=zu;zu=null,Fl=0,jl=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function wC(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var jA=G.S;G.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&EC(n,i),jA!==null&&jA(n,i)};var Br=Dt(null);function Hm(){var n=Br.current;return n!==null?n:ae.pooledCache}function jf(n,i){i===null?St(Br,Br.current):St(Br,i.pool)}function HA(){var n=Hm();return n===null?null:{parent:Pe._currentValue,pool:n}}var La=0,Pt=null,Jt=null,Re=null,Hf=!1,Hl=!1,Ir=!1,zf=0,Uu=0,zl=null,TC=0;function we(){throw Error(s(321))}function zm(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!qn(n[a],i[a]))return!1;return!0}function Um(n,i,a,l,f,b){return La=b,Pt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=n===null||n.memoizedState===null?qr:Na,Ir=!1,b=a(l,f),Ir=!1,Hl&&(b=UA(i,a,l,f)),zA(n),b}function zA(n){G.H=ns;var i=Jt!==null&&Jt.next!==null;if(La=0,Re=Jt=Pt=null,Hf=!1,Uu=0,zl=null,i)throw Error(s(300));n===null||qe||(n=n.dependencies,n!==null&&$f(n)&&(qe=!0))}function UA(n,i,a,l){Pt=n;var f=0;do{if(Hl&&(zl=null),Uu=0,Hl=!1,25<=f)throw Error(s(301));if(f+=1,Re=Jt=null,n.updateQueue!=null){var b=n.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}G.H=Gr,b=i(a,l)}while(Hl);return b}function xC(){var n=G.H,i=n.useState()[0];return i=typeof i.then=="function"?Bu(i):i,n=n.useState()[0],(Jt!==null?Jt.memoizedState:null)!==n&&(Pt.flags|=1024),i}function Bm(){var n=zf!==0;return zf=0,n}function Im(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function qm(n){if(Hf){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Hf=!1}La=0,Re=Jt=Pt=null,Hl=!1,Uu=zf=0,zl=null}function Dn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Pt.memoizedState=Re=n:Re=Re.next=n,Re}function Me(){if(Jt===null){var n=Pt.alternate;n=n!==null?n.memoizedState:null}else n=Jt.next;var i=Re===null?Pt.memoizedState:Re.next;if(i!==null)Re=i,Jt=n;else{if(n===null)throw Pt.alternate===null?Error(s(467)):Error(s(310));Jt=n,n={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Re===null?Pt.memoizedState=Re=n:Re=Re.next=n}return Re}var Uf;Uf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Bu(n){var i=Uu;return Uu+=1,zl===null&&(zl=[]),n=MA(zl,n,i),i=Pt,(Re===null?i.memoizedState:Re.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?qr:Na),n}function Bf(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Bu(n);if(n.$$typeof===S)return cn(n)}throw Error(s(438,String(n)))}function Gm(n){var i=null,a=Pt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Pt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Uf(),Pt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=N;return i.index++,a}function Ls(n,i){return typeof i=="function"?i(n):i}function If(n){var i=Me();return Vm(i,Jt,n)}function Vm(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,b=l.pending;if(b!==null){if(f!==null){var _=f.next;f.next=b.next,b.next=_}i.baseQueue=f=b,l.pending=null}if(b=n.baseState,f===null)n.memoizedState=b;else{i=f.next;var C=_=null,D=null,H=i,W=!1;do{var nt=H.lane&-536870913;if(nt!==H.lane?(Gt&nt)===nt:(La&nt)===nt){var q=H.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),nt===Fl&&(W=!0);else if((La&q)===q){H=H.next,q===Fl&&(W=!0);continue}else nt={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(C=D=nt,_=b):D=D.next=nt,Pt.lanes|=q,Ia|=q;nt=H.action,Ir&&a(b,nt),b=H.hasEagerState?H.eagerState:a(b,nt)}else q={lane:nt,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(C=D=q,_=b):D=D.next=q,Pt.lanes|=nt,Ia|=nt;H=H.next}while(H!==null&&H!==i);if(D===null?_=b:D.next=C,!qn(b,n.memoizedState)&&(qe=!0,W&&(a=jl,a!==null)))throw a;n.memoizedState=b,n.baseState=_,n.baseQueue=D,l.lastRenderedState=b}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Xm(n){var i=Me(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,b=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do b=n(b,_.action),_=_.next;while(_!==f);qn(b,i.memoizedState)||(qe=!0),i.memoizedState=b,i.baseQueue===null&&(i.baseState=b),a.lastRenderedState=b}return[b,l]}function BA(n,i,a){var l=Pt,f=Me(),b=Xt;if(b){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!qn((Jt||f).memoizedState,a);if(_&&(f.memoizedState=a,qe=!0),f=f.queue,Km(GA.bind(null,l,f,n),[n]),f.getSnapshot!==i||_||Re!==null&&Re.memoizedState.tag&1){if(l.flags|=2048,Ul(9,qA.bind(null,l,f,a,i),{destroy:void 0},null),ae===null)throw Error(s(349));b||(La&60)!==0||IA(l,i,a)}return a}function IA(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Pt.updateQueue,i===null?(i=Uf(),Pt.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function qA(n,i,a,l){i.value=a,i.getSnapshot=l,VA(i)&&XA(n)}function GA(n,i,a){return a(function(){VA(i)&&XA(n)})}function VA(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!qn(n,a)}catch{return!0}}function XA(n){var i=Ma(n,2);i!==null&&Sn(i,n,2)}function Ym(n){var i=Dn();if(typeof n=="function"){var a=n;if(n=a(),Ir){xa(!0);try{a()}finally{xa(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:n},i}function YA(n,i,a,l){return n.baseState=a,Vm(n,Jt,typeof l=="function"?l:Ls)}function CC(n,i,a,l,f){if(Vf(n))throw Error(s(485));if(n=i.action,n!==null){var b={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){b.listeners.push(_)}};G.T!==null?a(!0):b.isTransition=!1,l(b),a=i.pending,a===null?(b.next=i.pending=b,$A(i,b)):(b.next=a.next,i.pending=a.next=b)}}function $A(n,i){var a=i.action,l=i.payload,f=n.state;if(i.isTransition){var b=G.T,_={};G.T=_;try{var C=a(f,l),D=G.S;D!==null&&D(_,C),KA(n,i,C)}catch(H){$m(n,i,H)}finally{G.T=b}}else try{b=a(f,l),KA(n,i,b)}catch(H){$m(n,i,H)}}function KA(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){WA(n,i,l)},function(l){return $m(n,i,l)}):WA(n,i,a)}function WA(n,i,a){i.status="fulfilled",i.value=a,QA(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,$A(n,a)))}function $m(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,QA(i),i=i.next;while(i!==l)}n.action=null}function QA(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function ZA(n,i){return i}function JA(n,i){if(Xt){var a=ae.formState;if(a!==null){t:{var l=Pt;if(Xt){if(Ze){e:{for(var f=Ze,b=ts;f.nodeType!==8;){if(!b){f=null;break e}if(f=ki(f.nextSibling),f===null){f=null;break e}}b=f.data,f=b==="F!"||b==="F"?f:null}if(f){Ze=ki(f.nextSibling),l=f.data==="F!";break t}}zr(l)}l=!1}l&&(i=a[0])}}return a=Dn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ZA,lastRenderedState:i},a.queue=l,a=bS.bind(null,Pt,l),l.dispatch=a,l=Ym(!1),b=tb.bind(null,Pt,!1,l.queue),l=Dn(),f={state:i,dispatch:null,action:n,pending:null},l.queue=f,a=CC.bind(null,Pt,f,b,a),f.dispatch=a,l.memoizedState=n,[i,a,!1]}function tS(n){var i=Me();return eS(i,Jt,n)}function eS(n,i,a){i=Vm(n,i,ZA)[0],n=If(Ls)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Bu(i):i;var l=Me(),f=l.queue,b=f.dispatch;return a!==l.memoizedState&&(Pt.flags|=2048,Ul(9,RC.bind(null,f,a),{destroy:void 0},null)),[i,b,n]}function RC(n,i){n.action=i}function nS(n){var i=Me(),a=Jt;if(a!==null)return eS(i,a,n);Me(),i=i.memoizedState,a=Me();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function Ul(n,i,a,l){return n={tag:n,create:i,inst:a,deps:l,next:null},i=Pt.updateQueue,i===null&&(i=Uf(),Pt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function iS(){return Me().memoizedState}function qf(n,i,a,l){var f=Dn();Pt.flags|=n,f.memoizedState=Ul(1|i,a,{destroy:void 0},l===void 0?null:l)}function Gf(n,i,a,l){var f=Me();l=l===void 0?null:l;var b=f.memoizedState.inst;Jt!==null&&l!==null&&zm(l,Jt.memoizedState.deps)?f.memoizedState=Ul(i,a,b,l):(Pt.flags|=n,f.memoizedState=Ul(1|i,a,b,l))}function sS(n,i){qf(8390656,8,n,i)}function Km(n,i){Gf(2048,8,n,i)}function aS(n,i){return Gf(4,2,n,i)}function rS(n,i){return Gf(4,4,n,i)}function oS(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function lS(n,i,a){a=a!=null?a.concat([n]):null,Gf(4,4,oS.bind(null,i,n),a)}function Wm(){}function cS(n,i){var a=Me();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&zm(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function uS(n,i){var a=Me();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&zm(i,l[1]))return l[0];if(l=n(),Ir){xa(!0);try{n()}finally{xa(!1)}}return a.memoizedState=[l,i],l}function Qm(n,i,a){return a===void 0||(La&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=d_(),Pt.lanes|=n,Ia|=n,a)}function hS(n,i,a,l){return qn(a,i)?a:Pl.current!==null?(n=Qm(n,a,l),qn(n,i)||(qe=!0),n):(La&42)===0?(qe=!0,n.memoizedState=a):(n=d_(),Pt.lanes|=n,Ia|=n,i)}function dS(n,i,a,l,f){var b=rt.p;rt.p=b!==0&&8>b?b:8;var _=G.T,C={};G.T=C,tb(n,!1,i,a);try{var D=f(),H=G.S;if(H!==null&&H(C,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=wC(D,l);Iu(n,i,W,Yn(n))}else Iu(n,i,l,Yn(n))}catch(nt){Iu(n,i,{then:function(){},status:"rejected",reason:nt},Yn())}finally{rt.p=b,G.T=_}}function MC(){}function Zm(n,i,a,l){if(n.tag!==5)throw Error(s(476));var f=fS(n).queue;dS(n,f,i,Et,a===null?MC:function(){return pS(n),a(l)})}function fS(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Et,baseState:Et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:Et},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function pS(n){var i=fS(n).next.queue;Iu(n,i,{},Yn())}function Jm(){return cn(lh)}function gS(){return Me().memoizedState}function mS(){return Me().memoizedState}function OC(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Yn();n=Fa(a);var l=ja(i,n,a);l!==null&&(Sn(l,i,a),Vu(l,i,a)),i={cache:Fm()},n.payload=i;return}i=i.return}}function DC(n,i,a){var l=Yn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Vf(n)?yS(i,a):(a=Mm(n,i,a,l),a!==null&&(Sn(a,n,l),vS(a,i,l)))}function bS(n,i,a){var l=Yn();Iu(n,i,a,l)}function Iu(n,i,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vf(n))yS(i,f);else{var b=n.alternate;if(n.lanes===0&&(b===null||b.lanes===0)&&(b=i.lastRenderedReducer,b!==null))try{var _=i.lastRenderedState,C=b(_,a);if(f.hasEagerState=!0,f.eagerState=C,qn(C,_))return Rf(n,i,f,0),ae===null&&Cf(),!1}catch{}finally{}if(a=Mm(n,i,f,l),a!==null)return Sn(a,n,l),vS(a,i,l),!0}return!1}function tb(n,i,a,l){if(l={lane:2,revertLane:qb(),action:l,hasEagerState:!1,eagerState:null,next:null},Vf(n)){if(i)throw Error(s(479))}else i=Mm(n,a,l,2),i!==null&&Sn(i,n,2)}function Vf(n){var i=n.alternate;return n===Pt||i!==null&&i===Pt}function yS(n,i){Hl=Hf=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function vS(n,i,a){if((a&4194176)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,Ov(n,a)}}var ns={readContext:cn,use:Bf,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we};ns.useCacheRefresh=we,ns.useMemoCache=we,ns.useHostTransitionStatus=we,ns.useFormState=we,ns.useActionState=we,ns.useOptimistic=we;var qr={readContext:cn,use:Bf,useCallback:function(n,i){return Dn().memoizedState=[n,i===void 0?null:i],n},useContext:cn,useEffect:sS,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,qf(4194308,4,oS.bind(null,i,n),a)},useLayoutEffect:function(n,i){return qf(4194308,4,n,i)},useInsertionEffect:function(n,i){qf(4,2,n,i)},useMemo:function(n,i){var a=Dn();i=i===void 0?null:i;var l=n();if(Ir){xa(!0);try{n()}finally{xa(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=Dn();if(a!==void 0){var f=a(i);if(Ir){xa(!0);try{a(i)}finally{xa(!1)}}}else f=i;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=DC.bind(null,Pt,n),[l.memoizedState,n]},useRef:function(n){var i=Dn();return n={current:n},i.memoizedState=n},useState:function(n){n=Ym(n);var i=n.queue,a=bS.bind(null,Pt,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Wm,useDeferredValue:function(n,i){var a=Dn();return Qm(a,n,i)},useTransition:function(){var n=Ym(!1);return n=dS.bind(null,Pt,n.queue,!0,!1),Dn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Pt,f=Dn();if(Xt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ae===null)throw Error(s(349));(Gt&60)!==0||IA(l,i,a)}f.memoizedState=a;var b={value:a,getSnapshot:i};return f.queue=b,sS(GA.bind(null,l,b,n),[n]),l.flags|=2048,Ul(9,qA.bind(null,l,b,a,i),{destroy:void 0},null),a},useId:function(){var n=Dn(),i=ae.identifierPrefix;if(Xt){var a=Os,l=Ms;a=(l&~(1<<32-In(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=zf++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=TC++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},useCacheRefresh:function(){return Dn().memoizedState=OC.bind(null,Pt)}};qr.useMemoCache=Gm,qr.useHostTransitionStatus=Jm,qr.useFormState=JA,qr.useActionState=JA,qr.useOptimistic=function(n){var i=Dn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=tb.bind(null,Pt,!0,a),a.dispatch=i,[n,i]};var Na={readContext:cn,use:Bf,useCallback:cS,useContext:cn,useEffect:Km,useImperativeHandle:lS,useInsertionEffect:aS,useLayoutEffect:rS,useMemo:uS,useReducer:If,useRef:iS,useState:function(){return If(Ls)},useDebugValue:Wm,useDeferredValue:function(n,i){var a=Me();return hS(a,Jt.memoizedState,n,i)},useTransition:function(){var n=If(Ls)[0],i=Me().memoizedState;return[typeof n=="boolean"?n:Bu(n),i]},useSyncExternalStore:BA,useId:gS};Na.useCacheRefresh=mS,Na.useMemoCache=Gm,Na.useHostTransitionStatus=Jm,Na.useFormState=tS,Na.useActionState=tS,Na.useOptimistic=function(n,i){var a=Me();return YA(a,Jt,n,i)};var Gr={readContext:cn,use:Bf,useCallback:cS,useContext:cn,useEffect:Km,useImperativeHandle:lS,useInsertionEffect:aS,useLayoutEffect:rS,useMemo:uS,useReducer:Xm,useRef:iS,useState:function(){return Xm(Ls)},useDebugValue:Wm,useDeferredValue:function(n,i){var a=Me();return Jt===null?Qm(a,n,i):hS(a,Jt.memoizedState,n,i)},useTransition:function(){var n=Xm(Ls)[0],i=Me().memoizedState;return[typeof n=="boolean"?n:Bu(n),i]},useSyncExternalStore:BA,useId:gS};Gr.useCacheRefresh=mS,Gr.useMemoCache=Gm,Gr.useHostTransitionStatus=Jm,Gr.useFormState=nS,Gr.useActionState=nS,Gr.useOptimistic=function(n,i){var a=Me();return Jt!==null?YA(a,Jt,n,i):(a.baseState=n,[n,a.queue.dispatch])};function eb(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:et({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var nb={isMounted:function(n){return(n=n._reactInternals)?tt(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var l=Yn(),f=Fa(l);f.payload=i,a!=null&&(f.callback=a),i=ja(n,f,l),i!==null&&(Sn(i,n,l),Vu(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=Yn(),f=Fa(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=ja(n,f,l),i!==null&&(Sn(i,n,l),Vu(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Yn(),l=Fa(a);l.tag=2,i!=null&&(l.callback=i),i=ja(n,l,a),i!==null&&(Sn(i,n,a),Vu(i,n,a))}};function AS(n,i,a,l,f,b,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,b,_):i.prototype&&i.prototype.isPureReactComponent?!Mu(a,l)||!Mu(f,b):!0}function SS(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&nb.enqueueReplaceState(i,i.state,null)}function Vr(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=et({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Xf=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function _S(n){Xf(n)}function ES(n){console.error(n)}function wS(n){Xf(n)}function Yf(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function TS(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function ib(n,i,a){return a=Fa(a),a.tag=3,a.payload={element:null},a.callback=function(){Yf(n,i)},a}function xS(n){return n=Fa(n),n.tag=3,n}function CS(n,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var b=l.value;n.payload=function(){return f(b)},n.callback=function(){TS(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){TS(i,a,l),typeof f!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function LC(n,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Gu(i,a,f,!0),a=pi.current,a!==null){switch(a.tag){case 13:return es===null?Hb():a.alternate===null&&ve===0&&(ve=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Nm?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Ub(n,l,f)),!1;case 22:return a.flags|=65536,l===Nm?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Ub(n,l,f)),!1}throw Error(s(435,a.tag))}return Ub(n,l,f),Hb(),!1}if(Xt)return i=pi.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Lm&&(n=Error(s(422),{cause:l}),Nu(hi(n,a)))):(l!==Lm&&(i=Error(s(423),{cause:l}),Nu(hi(i,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=hi(l,a),f=ib(n.stateNode,l,f),yb(n,f),ve!==4&&(ve=2)),!1;var b=Error(s(520),{cause:l});if(b=hi(b,a),Ju===null?Ju=[b]:Ju.push(b),ve!==4&&(ve=2),i===null)return!0;l=hi(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=ib(a.stateNode,l,n),yb(a,n),!1;case 1:if(i=a.type,b=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(qa===null||!qa.has(b))))return a.flags|=65536,f&=-f,a.lanes|=f,f=xS(f),CS(f,n,a,l),yb(a,f),!1}a=a.return}while(a!==null);return!1}var RS=Error(s(461)),qe=!1;function Je(n,i,a,l){i.child=n===null?NA(i,null,a,l):Ur(i,n.child,a,l)}function MS(n,i,a,l,f){a=a.render;var b=i.ref;if("ref"in l){var _={};for(var C in l)C!=="ref"&&(_[C]=l[C])}else _=l;return Yr(i),l=Um(n,i,a,_,b,f),C=Bm(),n!==null&&!qe?(Im(n,i,f),Ns(n,i,f)):(Xt&&C&&Om(i),i.flags|=1,Je(n,i,l,f),i.child)}function OS(n,i,a,l,f){if(n===null){var b=a.type;return typeof b=="function"&&!xb(b)&&b.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=b,DS(n,i,b,l,f)):(n=Zf(a.type,null,l,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(b=n.child,!db(n,f)){var _=b.memoizedProps;if(a=a.compare,a=a!==null?a:Mu,a(_,l)&&n.ref===i.ref)return Ns(n,i,f)}return i.flags|=1,n=Ba(b,l),n.ref=i.ref,n.return=i,i.child=n}function DS(n,i,a,l,f){if(n!==null){var b=n.memoizedProps;if(Mu(b,l)&&n.ref===i.ref)if(qe=!1,i.pendingProps=l=b,db(n,f))(n.flags&131072)!==0&&(qe=!0);else return i.lanes=n.lanes,Ns(n,i,f)}return sb(n,i,a,l,f)}function LS(n,i,a){var l=i.pendingProps,f=l.children,b=(i.stateNode._pendingVisibility&2)!==0,_=n!==null?n.memoizedState:null;if(qu(n,i),l.mode==="hidden"||b){if((i.flags&128)!==0){if(l=_!==null?_.baseLanes|a:a,n!==null){for(f=i.child=n.child,b=0;f!==null;)b=b|f.lanes|f.childLanes,f=f.sibling;i.childLanes=b&~l}else i.childLanes=0,i.child=null;return NS(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&jf(i,_!==null?_.cachePool:null),_!==null?kA(i,_):km(),PA(i);else return i.lanes=i.childLanes=536870912,NS(n,i,_!==null?_.baseLanes|a:a,a)}else _!==null?(jf(i,_.cachePool),kA(i,_),Da(),i.memoizedState=null):(n!==null&&jf(i,null),km(),Da());return Je(n,i,f,a),i.child}function NS(n,i,a,l){var f=Hm();return f=f===null?null:{parent:Pe._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},n!==null&&jf(i,null),km(),PA(i),n!==null&&Gu(n,i,l,!0),null}function qu(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=2097664)}}function sb(n,i,a,l,f){return Yr(i),a=Um(n,i,a,l,void 0,f),l=Bm(),n!==null&&!qe?(Im(n,i,f),Ns(n,i,f)):(Xt&&l&&Om(i),i.flags|=1,Je(n,i,a,f),i.child)}function kS(n,i,a,l,f,b){return Yr(i),i.updateQueue=null,a=UA(i,l,a,f),zA(n),l=Bm(),n!==null&&!qe?(Im(n,i,b),Ns(n,i,b)):(Xt&&l&&Om(i),i.flags|=1,Je(n,i,a,b),i.child)}function PS(n,i,a,l,f){if(Yr(i),i.stateNode===null){var b=Dl,_=a.contextType;typeof _=="object"&&_!==null&&(b=cn(_)),b=new a(l,b),i.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=nb,i.stateNode=b,b._reactInternals=i,b=i.stateNode,b.props=l,b.state=i.memoizedState,b.refs={},mb(i),_=a.contextType,b.context=typeof _=="object"&&_!==null?cn(_):Dl,b.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(eb(i,a,_,l),b.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(_=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),_!==b.state&&nb.enqueueReplaceState(b,b.state,null),Yu(i,l,b,f),Xu(),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){b=i.stateNode;var C=i.memoizedProps,D=Vr(a,C);b.props=D;var H=b.context,W=a.contextType;_=Dl,typeof W=="object"&&W!==null&&(_=cn(W));var nt=a.getDerivedStateFromProps;W=typeof nt=="function"||typeof b.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,W||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C||H!==_)&&SS(i,b,l,_),Pa=!1;var q=i.memoizedState;b.state=q,Yu(i,l,b,f),Xu(),H=i.memoizedState,C||q!==H||Pa?(typeof nt=="function"&&(eb(i,a,nt,l),H=i.memoizedState),(D=Pa||AS(i,a,D,l,q,H,_))?(W||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),b.props=l,b.state=H,b.context=_,l=D):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{b=i.stateNode,bb(n,i),_=i.memoizedProps,W=Vr(a,_),b.props=W,nt=i.pendingProps,q=b.context,H=a.contextType,D=Dl,typeof H=="object"&&H!==null&&(D=cn(H)),C=a.getDerivedStateFromProps,(H=typeof C=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(_!==nt||q!==D)&&SS(i,b,l,D),Pa=!1,q=i.memoizedState,b.state=q,Yu(i,l,b,f),Xu();var K=i.memoizedState;_!==nt||q!==K||Pa||n!==null&&n.dependencies!==null&&$f(n.dependencies)?(typeof C=="function"&&(eb(i,a,C,l),K=i.memoizedState),(W=Pa||AS(i,a,W,l,q,K,D)||n!==null&&n.dependencies!==null&&$f(n.dependencies))?(H||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(l,K,D),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(l,K,D)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),b.props=l,b.state=K,b.context=D,l=W):(typeof b.componentDidUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(i.flags|=1024),l=!1)}return b=l,qu(n,i),l=(i.flags&128)!==0,b||l?(b=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:b.render(),i.flags|=1,n!==null&&l?(i.child=Ur(i,n.child,null,f),i.child=Ur(i,null,a,f)):Je(n,i,a,f),i.memoizedState=b.state,n=i.child):n=Ns(n,i,f),n}function FS(n,i,a,l){return Lu(),i.flags|=256,Je(n,i,a,l),i.child}var ab={dehydrated:null,treeContext:null,retryLane:0};function rb(n){return{baseLanes:n,cachePool:HA()}}function ob(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=yi),n}function jS(n,i,a){var l=i.pendingProps,f=!1,b=(i.flags&128)!==0,_;if((_=b)||(_=n!==null&&n.memoizedState===null?!1:(ke.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,n===null){if(Xt){if(f?Oa(i):Da(),Xt){var C=Ze,D;if(D=C){t:{for(D=C,C=ts;D.nodeType!==8;){if(!C){C=null;break t}if(D=ki(D.nextSibling),D===null){C=null;break t}}C=D}C!==null?(i.memoizedState={dehydrated:C,treeContext:jr!==null?{id:Ms,overflow:Os}:null,retryLane:536870912},D=bi(18,null,null,0),D.stateNode=C,D.return=i,i.child=D,An=i,Ze=null,D=!0):D=!1}D||zr(i)}if(C=i.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return C.data==="$!"?i.lanes=16:i.lanes=536870912,null;Ds(i)}return C=l.children,l=l.fallback,f?(Da(),f=i.mode,C=cb({mode:"hidden",children:C},f),l=Kr(l,f,a,null),C.return=i,l.return=i,C.sibling=l,i.child=C,f=i.child,f.memoizedState=rb(a),f.childLanes=ob(n,_,a),i.memoizedState=ab,l):(Oa(i),lb(i,C))}if(D=n.memoizedState,D!==null&&(C=D.dehydrated,C!==null)){if(b)i.flags&256?(Oa(i),i.flags&=-257,i=ub(n,i,a)):i.memoizedState!==null?(Da(),i.child=n.child,i.flags|=128,i=null):(Da(),f=l.fallback,C=i.mode,l=cb({mode:"visible",children:l.children},C),f=Kr(f,C,a,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,Ur(i,n.child,null,a),l=i.child,l.memoizedState=rb(a),l.childLanes=ob(n,_,a),i.memoizedState=ab,i=f);else if(Oa(i),C.data==="$!"){if(_=C.nextSibling&&C.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,Nu({value:l,source:null,stack:null}),i=ub(n,i,a)}else if(qe||Gu(n,i,a,!1),_=(a&n.childLanes)!==0,qe||_){if(_=ae,_!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane)throw D.retryLane=l,Ma(n,l),Sn(_,n,l),RS}C.data==="$?"||Hb(),i=ub(n,i,a)}else C.data==="$?"?(i.flags|=128,i.child=n.child,i=YC.bind(null,n),C._reactRetry=i,i=null):(n=D.treeContext,Ze=ki(C.nextSibling),An=i,Xt=!0,Li=null,ts=!1,n!==null&&(di[fi++]=Ms,di[fi++]=Os,di[fi++]=jr,Ms=n.id,Os=n.overflow,jr=i),i=lb(i,l.children),i.flags|=4096);return i}return f?(Da(),f=l.fallback,C=i.mode,D=n.child,H=D.sibling,l=Ba(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&31457280,H!==null?f=Ba(H,f):(f=Kr(f,C,a,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,C=n.child.memoizedState,C===null?C=rb(a):(D=C.cachePool,D!==null?(H=Pe._currentValue,D=D.parent!==H?{parent:H,pool:H}:D):D=HA(),C={baseLanes:C.baseLanes|a,cachePool:D}),f.memoizedState=C,f.childLanes=ob(n,_,a),i.memoizedState=ab,l):(Oa(i),a=n.child,n=a.sibling,a=Ba(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(_=i.deletions,_===null?(i.deletions=[n],i.flags|=16):_.push(n)),i.child=a,i.memoizedState=null,a)}function lb(n,i){return i=cb({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function cb(n,i){return c_(n,i,0,null)}function ub(n,i,a){return Ur(i,n.child,null,a),n=lb(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function HS(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),pb(n.return,i,a)}function hb(n,i,a,l,f){var b=n.memoizedState;b===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=a,b.tailMode=f)}function zS(n,i,a){var l=i.pendingProps,f=l.revealOrder,b=l.tail;if(Je(n,i,l.children,a),l=ke.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&HS(n,a,i);else if(n.tag===19)HS(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(St(ke,l),f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&Ff(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),hb(i,!1,f,a,b);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Ff(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}hb(i,!0,a,null,b);break;case"together":hb(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ns(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Ia|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(Gu(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=Ba(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Ba(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function db(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&$f(n)))}function NC(n,i,a){switch(i.tag){case 3:Ee(i,i.stateNode.containerInfo),ka(i,Pe,n.memoizedState.cache),Lu();break;case 27:case 5:Zi(i);break;case 4:Ee(i,i.stateNode.containerInfo);break;case 10:ka(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Oa(i),i.flags|=128,null):(a&i.child.childLanes)!==0?jS(n,i,a):(Oa(i),n=Ns(n,i,a),n!==null?n.sibling:null);Oa(i);break;case 19:var f=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Gu(n,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return zS(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),St(ke,ke.current),l)break;return null;case 22:case 23:return i.lanes=0,LS(n,i,a);case 24:ka(i,Pe,n.memoizedState.cache)}return Ns(n,i,a)}function US(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)qe=!0;else{if(!db(n,a)&&(i.flags&128)===0)return qe=!1,NC(n,i,a);qe=(n.flags&131072)!==0}else qe=!1,Xt&&(i.flags&1048576)!==0&&wA(i,Df,i.index);switch(i.lanes=0,i.tag){case 16:t:{n=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")xb(l)?(n=Vr(l,n),i.tag=1,i=PS(null,i,l,n,a)):(i.tag=0,i=sb(null,i,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===A){i.tag=11,i=MS(null,i,l,n,a);break t}else if(f===R){i.tag=14,i=OS(null,i,l,n,a);break t}}throw i=V(l)||l,Error(s(306,i,""))}}return i;case 0:return sb(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Vr(l,i.pendingProps),PS(n,i,l,f,a);case 3:t:{if(Ee(i,i.stateNode.containerInfo),n===null)throw Error(s(387));var b=i.pendingProps;f=i.memoizedState,l=f.element,bb(n,i),Yu(i,b,null,a);var _=i.memoizedState;if(b=_.cache,ka(i,Pe,b),b!==f.cache&&gb(i,[Pe],a,!0),Xu(),b=_.element,f.isDehydrated)if(f={element:b,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=FS(n,i,b,a);break t}else if(b!==l){l=hi(Error(s(424)),i),Nu(l),i=FS(n,i,b,a);break t}else for(Ze=ki(i.stateNode.containerInfo.firstChild),An=i,Xt=!0,Li=null,ts=!0,a=NA(i,null,b,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Lu(),b===l){i=Ns(n,i,a);break t}Je(n,i,b,a)}i=i.child}return i;case 26:return qu(n,i),n===null?(a=q_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Xt||(a=i.type,n=i.pendingProps,l=up(Bt.current).createElement(a),l[ln]=i,l[Mn]=n,tn(l,a,n),Ie(l),i.stateNode=l):i.memoizedState=q_(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Zi(i),n===null&&Xt&&(l=i.stateNode=U_(i.type,i.pendingProps,Bt.current),An=i,ts=!0,Ze=ki(l.firstChild)),l=i.pendingProps.children,n!==null||Xt?Je(n,i,l,a):i.child=Ur(i,null,l,a),qu(n,i),i.child;case 5:return n===null&&Xt&&((f=l=Ze)&&(l=cR(l,i.type,i.pendingProps,ts),l!==null?(i.stateNode=l,An=i,Ze=ki(l.firstChild),ts=!1,f=!0):f=!1),f||zr(i)),Zi(i),f=i.type,b=i.pendingProps,_=n!==null?n.memoizedProps:null,l=b.children,Zb(f,b)?l=null:_!==null&&Zb(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=Um(n,i,xC,null,null,a),lh._currentValue=f),qu(n,i),Je(n,i,l,a),i.child;case 6:return n===null&&Xt&&((n=a=Ze)&&(a=uR(a,i.pendingProps,ts),a!==null?(i.stateNode=a,An=i,Ze=null,n=!0):n=!1),n||zr(i)),null;case 13:return jS(n,i,a);case 4:return Ee(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=Ur(i,null,l,a):Je(n,i,l,a),i.child;case 11:return MS(n,i,i.type,i.pendingProps,a);case 7:return Je(n,i,i.pendingProps,a),i.child;case 8:return Je(n,i,i.pendingProps.children,a),i.child;case 12:return Je(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ka(i,i.type,l.value),Je(n,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Yr(i),f=cn(f),l=l(f),i.flags|=1,Je(n,i,l,a),i.child;case 14:return OS(n,i,i.type,i.pendingProps,a);case 15:return DS(n,i,i.type,i.pendingProps,a);case 19:return zS(n,i,a);case 22:return LS(n,i,a);case 24:return Yr(i),l=cn(Pe),n===null?(f=Hm(),f===null&&(f=ae,b=Fm(),f.pooledCache=b,b.refCount++,b!==null&&(f.pooledCacheLanes|=a),f=b),i.memoizedState={parent:l,cache:f},mb(i),ka(i,Pe,f)):((n.lanes&a)!==0&&(bb(n,i),Yu(i,null,null,a),Xu()),f=n.memoizedState,b=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),ka(i,Pe,l)):(l=b.cache,ka(i,Pe,l),l!==f.cache&&gb(i,[Pe],a,!0))),Je(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var fb=Dt(null),Xr=null,ks=null;function ka(n,i,a){St(fb,i._currentValue),i._currentValue=a}function Ps(n){n._currentValue=fb.current,Vt(fb)}function pb(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function gb(n,i,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var b=f.dependencies;if(b!==null){var _=f.child;b=b.firstContext;t:for(;b!==null;){var C=b;b=f;for(var D=0;D<i.length;D++)if(C.context===i[D]){b.lanes|=a,C=b.alternate,C!==null&&(C.lanes|=a),pb(b.return,a,n),l||(_=null);break t}b=C.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,b=_.alternate,b!==null&&(b.lanes|=a),pb(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Gu(n,i,a,l){n=null;for(var f=i,b=!1;f!==null;){if(!b){if((f.flags&524288)!==0)b=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var C=f.type;qn(f.pendingProps.value,_.value)||(n!==null?n.push(C):n=[C])}}else if(f===le.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(lh):n=[lh])}f=f.return}n!==null&&gb(i,n,a,l),i.flags|=262144}function $f(n){for(n=n.firstContext;n!==null;){if(!qn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Yr(n){Xr=n,ks=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function cn(n){return BS(Xr,n)}function Kf(n,i){return Xr===null&&Yr(n),BS(n,i)}function BS(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ks===null){if(n===null)throw Error(s(308));ks=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else ks=ks.next=i;return a}var Pa=!1;function mb(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bb(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Fa(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ja(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(fe&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Mf(n),_A(n,null,a),i}return Rf(n,l,i,a),Mf(n)}function Vu(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,Ov(n,a)}}function yb(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,b=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};b===null?f=b=_:b=b.next=_,a=a.next}while(a!==null);b===null?f=b=i:b=b.next=i}else f=b=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:b,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var vb=!1;function Xu(){if(vb){var n=jl;if(n!==null)throw n}}function Yu(n,i,a,l){vb=!1;var f=n.updateQueue;Pa=!1;var b=f.firstBaseUpdate,_=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var D=C,H=D.next;D.next=null,_===null?b=H:_.next=H,_=D;var W=n.alternate;W!==null&&(W=W.updateQueue,C=W.lastBaseUpdate,C!==_&&(C===null?W.firstBaseUpdate=H:C.next=H,W.lastBaseUpdate=D))}if(b!==null){var nt=f.baseState;_=0,W=H=D=null,C=b;do{var q=C.lane&-536870913,K=q!==C.lane;if(K?(Gt&q)===q:(l&q)===q){q!==0&&q===Fl&&(vb=!0),W!==null&&(W=W.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var mt=n,Ct=C;q=i;var Ae=a;switch(Ct.tag){case 1:if(mt=Ct.payload,typeof mt=="function"){nt=mt.call(Ae,nt,q);break t}nt=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=Ct.payload,q=typeof mt=="function"?mt.call(Ae,nt,q):mt,q==null)break t;nt=et({},nt,q);break t;case 2:Pa=!0}}q=C.callback,q!==null&&(n.flags|=64,K&&(n.flags|=8192),K=f.callbacks,K===null?f.callbacks=[q]:K.push(q))}else K={lane:q,tag:C.tag,payload:C.payload,callback:C.callback,next:null},W===null?(H=W=K,D=nt):W=W.next=K,_|=q;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;K=C,C=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);W===null&&(D=nt),f.baseState=D,f.firstBaseUpdate=H,f.lastBaseUpdate=W,b===null&&(f.shared.lanes=0),Ia|=_,n.lanes=_,n.memoizedState=nt}}function IS(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function qS(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)IS(a[n],i)}function $u(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var b=a.create,_=a.inst;l=b(),_.destroy=l}a=a.next}while(a!==f)}}catch(C){ie(i,i.return,C)}}function Ha(n,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var b=f.next;l=b;do{if((l.tag&n)===n){var _=l.inst,C=_.destroy;if(C!==void 0){_.destroy=void 0,f=i;var D=a;try{C()}catch(H){ie(f,D,H)}}}l=l.next}while(l!==b)}}catch(H){ie(i,i.return,H)}}function GS(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{qS(i,a)}catch(l){ie(n,n.return,l)}}}function VS(n,i,a){a.props=Vr(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){ie(n,i,l)}}function $r(n,i){try{var a=n.ref;if(a!==null){var l=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(b){ie(n,i,b)}}function Gn(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){ie(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ie(n,i,f)}else a.current=null}function XS(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){ie(n,n.return,f)}}function YS(n,i,a){try{var l=n.stateNode;sR(l,n.type,a,i),l[Mn]=i}catch(f){ie(n,n.return,f)}}function $S(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Ab(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||$S(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Sb(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=cp));else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Sb(n,i,a),n=n.sibling;n!==null;)Sb(n,i,a),n=n.sibling}function Wf(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Wf(n,i,a),n=n.sibling;n!==null;)Wf(n,i,a),n=n.sibling}var Fs=!1,ye=!1,_b=!1,KS=typeof WeakSet=="function"?WeakSet:Set,Ge=null,WS=!1;function kC(n,i){if(n=n.containerInfo,Wb=mp,n=fA(n),wm(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,b=l.focusNode;l=l.focusOffset;try{a.nodeType,b.nodeType}catch{a=null;break t}var _=0,C=-1,D=-1,H=0,W=0,nt=n,q=null;e:for(;;){for(var K;nt!==a||f!==0&&nt.nodeType!==3||(C=_+f),nt!==b||l!==0&&nt.nodeType!==3||(D=_+l),nt.nodeType===3&&(_+=nt.nodeValue.length),(K=nt.firstChild)!==null;)q=nt,nt=K;for(;;){if(nt===n)break e;if(q===a&&++H===f&&(C=_),q===b&&++W===l&&(D=_),(K=nt.nextSibling)!==null)break;nt=q,q=nt.parentNode}nt=K}a=C===-1||D===-1?null:{start:C,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qb={focusedElem:n,selectionRange:a},mp=!1,Ge=i;Ge!==null;)if(i=Ge,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Ge=n;else for(;Ge!==null;){switch(i=Ge,b=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&b!==null){n=void 0,a=i,f=b.memoizedProps,b=b.memoizedState,l=a.stateNode;try{var mt=Vr(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(mt,b),l.__reactInternalSnapshotBeforeUpdate=n}catch(Ct){ie(a,a.return,Ct)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)ey(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":ey(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Ge=n;break}Ge=i.return}return mt=WS,WS=!1,mt}function QS(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Hs(n,a),l&4&&$u(5,a);break;case 1:if(Hs(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(C){ie(a,a.return,C)}else{var f=Vr(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(C){ie(a,a.return,C)}}l&64&&GS(a),l&512&&$r(a,a.return);break;case 3:if(Hs(n,a),l&64&&(l=a.updateQueue,l!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{qS(l,n)}catch(C){ie(a,a.return,C)}}break;case 26:Hs(n,a),l&512&&$r(a,a.return);break;case 27:case 5:Hs(n,a),i===null&&l&4&&XS(a),l&512&&$r(a,a.return);break;case 12:Hs(n,a);break;case 13:Hs(n,a),l&4&&t_(n,a);break;case 22:if(f=a.memoizedState!==null||Fs,!f){i=i!==null&&i.memoizedState!==null||ye;var b=Fs,_=ye;Fs=f,(ye=i)&&!_?za(n,a,(a.subtreeFlags&8772)!==0):Hs(n,a),Fs=b,ye=_}l&512&&(a.memoizedProps.mode==="manual"?$r(a,a.return):Gn(a,a.return));break;default:Hs(n,a)}}function ZS(n){var i=n.alternate;i!==null&&(n.alternate=null,ZS(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&lm(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Oe=null,Vn=!1;function js(n,i,a){for(a=a.child;a!==null;)JS(n,i,a),a=a.sibling}function JS(n,i,a){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(bu,a)}catch{}switch(a.tag){case 26:ye||Gn(a,i),js(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ye||Gn(a,i);var l=Oe,f=Vn;for(Oe=a.stateNode,js(n,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);lm(a),Oe=l,Vn=f;break;case 5:ye||Gn(a,i);case 6:f=Oe;var b=Vn;if(Oe=null,js(n,i,a),Oe=f,Vn=b,Oe!==null)if(Vn)try{n=Oe,l=a.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)}catch(_){ie(a,i,_)}else try{Oe.removeChild(a.stateNode)}catch(_){ie(a,i,_)}break;case 18:Oe!==null&&(Vn?(i=Oe,a=a.stateNode,i.nodeType===8?ty(i.parentNode,a):i.nodeType===1&&ty(i,a),dh(i)):ty(Oe,a.stateNode));break;case 4:l=Oe,f=Vn,Oe=a.stateNode.containerInfo,Vn=!0,js(n,i,a),Oe=l,Vn=f;break;case 0:case 11:case 14:case 15:ye||Ha(2,a,i),ye||Ha(4,a,i),js(n,i,a);break;case 1:ye||(Gn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&VS(a,i,l)),js(n,i,a);break;case 21:js(n,i,a);break;case 22:ye||Gn(a,i),ye=(l=ye)||a.memoizedState!==null,js(n,i,a),ye=l;break;default:js(n,i,a)}}function t_(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{dh(n)}catch(a){ie(i,i.return,a)}}function PC(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new KS),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new KS),i;default:throw Error(s(435,n.tag))}}function Eb(n,i){var a=PC(n);i.forEach(function(l){var f=$C.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function gi(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],b=n,_=i,C=_;t:for(;C!==null;){switch(C.tag){case 27:case 5:Oe=C.stateNode,Vn=!1;break t;case 3:Oe=C.stateNode.containerInfo,Vn=!0;break t;case 4:Oe=C.stateNode.containerInfo,Vn=!0;break t}C=C.return}if(Oe===null)throw Error(s(160));JS(b,_,f),Oe=null,Vn=!1,b=f.alternate,b!==null&&(b.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)e_(i,n),i=i.sibling}var Ni=null;function e_(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:gi(i,n),mi(n),l&4&&(Ha(3,n,n.return),$u(3,n),Ha(5,n,n.return));break;case 1:gi(i,n),mi(n),l&512&&(ye||a===null||Gn(a,a.return)),l&64&&Fs&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Ni;if(gi(i,n),mi(n),l&512&&(ye||a===null||Gn(a,a.return)),l&4){var b=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":b=f.getElementsByTagName("title")[0],(!b||b[Au]||b[ln]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=f.createElement(l),f.head.insertBefore(b,f.querySelector("head > title"))),tn(b,l,a),b[ln]=n,Ie(b),l=b;break t;case"link":var _=X_("link","href",f).get(l+(a.href||""));if(_){for(var C=0;C<_.length;C++)if(b=_[C],b.getAttribute("href")===(a.href==null?null:a.href)&&b.getAttribute("rel")===(a.rel==null?null:a.rel)&&b.getAttribute("title")===(a.title==null?null:a.title)&&b.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(C,1);break e}}b=f.createElement(l),tn(b,l,a),f.head.appendChild(b);break;case"meta":if(_=X_("meta","content",f).get(l+(a.content||""))){for(C=0;C<_.length;C++)if(b=_[C],b.getAttribute("content")===(a.content==null?null:""+a.content)&&b.getAttribute("name")===(a.name==null?null:a.name)&&b.getAttribute("property")===(a.property==null?null:a.property)&&b.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&b.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(C,1);break e}}b=f.createElement(l),tn(b,l,a),f.head.appendChild(b);break;default:throw Error(s(468,l))}b[ln]=n,Ie(b),l=b}n.stateNode=l}else Y_(f,n.type,n.stateNode);else n.stateNode=V_(f,l,n.memoizedProps);else b!==l?(b===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):b.count--,l===null?Y_(f,n.type,n.stateNode):V_(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&YS(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&n.alternate===null){f=n.stateNode,b=n.memoizedProps;try{for(var D=f.firstChild;D;){var H=D.nextSibling,W=D.nodeName;D[Au]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&D.rel.toLowerCase()==="stylesheet"||f.removeChild(D),D=H}for(var nt=n.type,q=f.attributes;q.length;)f.removeAttributeNode(q[0]);tn(f,nt,b),f[ln]=n,f[Mn]=b}catch(mt){ie(n,n.return,mt)}}case 5:if(gi(i,n),mi(n),l&512&&(ye||a===null||Gn(a,a.return)),n.flags&32){f=n.stateNode;try{wl(f,"")}catch(mt){ie(n,n.return,mt)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,YS(n,f,a!==null?a.memoizedProps:f)),l&1024&&(_b=!0);break;case 6:if(gi(i,n),mi(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(mt){ie(n,n.return,mt)}}break;case 3:if(fp=null,f=Ni,Ni=hp(i.containerInfo),gi(i,n),Ni=f,mi(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{dh(i.containerInfo)}catch(mt){ie(n,n.return,mt)}_b&&(_b=!1,n_(n));break;case 4:l=Ni,Ni=hp(n.stateNode.containerInfo),gi(i,n),mi(n),Ni=l;break;case 12:gi(i,n),mi(n);break;case 13:gi(i,n),mi(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Lb=oi()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Eb(n,l)));break;case 22:if(l&512&&(ye||a===null||Gn(a,a.return)),D=n.memoizedState!==null,H=a!==null&&a.memoizedState!==null,W=Fs,nt=ye,Fs=W||D,ye=nt||H,gi(i,n),ye=nt,Fs=W,mi(n),i=n.stateNode,i._current=n,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=D?i._visibility&-2:i._visibility|1,D&&(i=Fs||ye,a===null||H||i||Bl(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))t:for(a=null,i=n;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){H=a=i;try{if(f=H.stateNode,D)b=f.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{_=H.stateNode,C=H.memoizedProps.style;var K=C!=null&&C.hasOwnProperty("display")?C.display:null;_.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(mt){ie(H,H.return,mt)}}}else if(i.tag===6){if(a===null){H=i;try{H.stateNode.nodeValue=D?"":H.memoizedProps}catch(mt){ie(H,H.return,mt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Eb(n,a))));break;case 19:gi(i,n),mi(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Eb(n,l)));break;case 21:break;default:gi(i,n),mi(n)}}function mi(n){var i=n.flags;if(i&2){try{if(n.tag!==27){t:{for(var a=n.return;a!==null;){if($S(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var f=l.stateNode,b=Ab(n);Wf(n,b,f);break;case 5:var _=l.stateNode;l.flags&32&&(wl(_,""),l.flags&=-33);var C=Ab(n);Wf(n,C,_);break;case 3:case 4:var D=l.stateNode.containerInfo,H=Ab(n);Sb(n,H,D);break;default:throw Error(s(161))}}}catch(W){ie(n,n.return,W)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function n_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;n_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Hs(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)QS(n,i.alternate,i),i=i.sibling}function Bl(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Ha(4,i,i.return),Bl(i);break;case 1:Gn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&VS(i,i.return,a),Bl(i);break;case 26:case 27:case 5:Gn(i,i.return),Bl(i);break;case 22:Gn(i,i.return),i.memoizedState===null&&Bl(i);break;default:Bl(i)}n=n.sibling}}function za(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=n,b=i,_=b.flags;switch(b.tag){case 0:case 11:case 15:za(f,b,a),$u(4,b);break;case 1:if(za(f,b,a),l=b,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){ie(l,l.return,H)}if(l=b,f=l.updateQueue,f!==null){var C=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)IS(D[f],C)}catch(H){ie(l,l.return,H)}}a&&_&64&&GS(b),$r(b,b.return);break;case 26:case 27:case 5:za(f,b,a),a&&l===null&&_&4&&XS(b),$r(b,b.return);break;case 12:za(f,b,a);break;case 13:za(f,b,a),a&&_&4&&t_(f,b);break;case 22:b.memoizedState===null&&za(f,b,a),$r(b,b.return);break;default:za(f,b,a)}i=i.sibling}}function wb(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Hu(a))}function Tb(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Hu(n))}function Ua(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)i_(n,i,a,l),i=i.sibling}function i_(n,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Ua(n,i,a,l),f&2048&&$u(9,i);break;case 3:Ua(n,i,a,l),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Hu(n)));break;case 12:if(f&2048){Ua(n,i,a,l),n=i.stateNode;try{var b=i.memoizedProps,_=b.id,C=b.onPostCommit;typeof C=="function"&&C(_,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){ie(i,i.return,D)}}else Ua(n,i,a,l);break;case 23:break;case 22:b=i.stateNode,i.memoizedState!==null?b._visibility&4?Ua(n,i,a,l):Ku(n,i):b._visibility&4?Ua(n,i,a,l):(b._visibility|=4,Il(n,i,a,l,(i.subtreeFlags&10256)!==0)),f&2048&&wb(i.alternate,i);break;case 24:Ua(n,i,a,l),f&2048&&Tb(i.alternate,i);break;default:Ua(n,i,a,l)}}function Il(n,i,a,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var b=n,_=i,C=a,D=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:Il(b,_,C,D,f),$u(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&4?Il(b,_,C,D,f):Ku(b,_):(W._visibility|=4,Il(b,_,C,D,f)),f&&H&2048&&wb(_.alternate,_);break;case 24:Il(b,_,C,D,f),f&&H&2048&&Tb(_.alternate,_);break;default:Il(b,_,C,D,f)}i=i.sibling}}function Ku(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,f=l.flags;switch(l.tag){case 22:Ku(a,l),f&2048&&wb(l.alternate,l);break;case 24:Ku(a,l),f&2048&&Tb(l.alternate,l);break;default:Ku(a,l)}i=i.sibling}}var Wu=8192;function ql(n){if(n.subtreeFlags&Wu)for(n=n.child;n!==null;)s_(n),n=n.sibling}function s_(n){switch(n.tag){case 26:ql(n),n.flags&Wu&&n.memoizedState!==null&&ER(Ni,n.memoizedState,n.memoizedProps);break;case 5:ql(n);break;case 3:case 4:var i=Ni;Ni=hp(n.stateNode.containerInfo),ql(n),Ni=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Wu,Wu=16777216,ql(n),Wu=i):ql(n));break;default:ql(n)}}function a_(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Qu(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ge=l,o_(l,n)}a_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)r_(n),n=n.sibling}function r_(n){switch(n.tag){case 0:case 11:case 15:Qu(n),n.flags&2048&&Ha(9,n,n.return);break;case 3:Qu(n);break;case 12:Qu(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&4&&(n.return===null||n.return.tag!==13)?(i._visibility&=-5,Qf(n)):Qu(n);break;default:Qu(n)}}function Qf(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ge=l,o_(l,n)}a_(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Ha(8,i,i.return),Qf(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Qf(i));break;default:Qf(i)}n=n.sibling}}function o_(n,i){for(;Ge!==null;){var a=Ge;switch(a.tag){case 0:case 11:case 15:Ha(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Hu(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ge=l;else t:for(a=n;Ge!==null;){l=Ge;var f=l.sibling,b=l.return;if(ZS(l),l===a){Ge=null;break t}if(f!==null){f.return=b,Ge=f;break t}Ge=b}}}function FC(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bi(n,i,a,l){return new FC(n,i,a,l)}function xb(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ba(n,i){var a=n.alternate;return a===null?(a=bi(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function l_(n,i){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Zf(n,i,a,l,f,b){var _=0;if(l=n,typeof n=="function")xb(n)&&(_=1);else if(typeof n=="string")_=SR(n,a,on.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case p:return Kr(a.children,f,b,i);case g:_=8,f|=24;break;case m:return n=bi(12,a,i,f|2),n.elementType=m,n.lanes=b,n;case w:return n=bi(13,a,i,f),n.elementType=w,n.lanes=b,n;case M:return n=bi(19,a,i,f),n.elementType=M,n.lanes=b,n;case O:return c_(a,f,b,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case y:case S:_=10;break t;case v:_=9;break t;case A:_=11;break t;case R:_=14;break t;case P:_=16,l=null;break t}_=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=bi(_,a,i,f),i.elementType=n,i.type=l,i.lanes=b,i}function Kr(n,i,a,l){return n=bi(7,n,l,i),n.lanes=a,n}function c_(n,i,a,l){n=bi(22,n,l,i),n.elementType=O,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var b=f._current;if(b===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var _=Ma(b,2);_!==null&&(f._pendingVisibility|=2,Sn(_,b,2))}},attach:function(){var b=f._current;if(b===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var _=Ma(b,2);_!==null&&(f._pendingVisibility&=-3,Sn(_,b,2))}}};return n.stateNode=f,n}function Cb(n,i,a){return n=bi(6,n,null,i),n.lanes=a,n}function Rb(n,i,a){return i=bi(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function zs(n){n.flags|=4}function u_(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!$_(i)){if(i=pi.current,i!==null&&((Gt&4194176)===Gt?es!==null:(Gt&62914560)!==Gt&&(Gt&536870912)===0||i!==es))throw Pu=Nm,CA;n.flags|=8192}}function Jf(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Rv():536870912,n.lanes|=i,Vl|=i)}function Zu(n,i){if(!Xt)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function de(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function jC(n,i,a){var l=i.pendingProps;switch(Dm(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(i),null;case 1:return de(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ps(Pe),ce(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Du(i)?zs(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Li!==null&&(Fb(Li),Li=null))),de(i),null;case 26:return a=i.memoizedState,n===null?(zs(i),a!==null?(de(i),u_(i,a)):(de(i),i.flags&=-16777217)):a?a!==n.memoizedState?(zs(i),de(i),u_(i,a)):(de(i),i.flags&=-16777217):(n.memoizedProps!==l&&zs(i),de(i),i.flags&=-16777217),null;case 27:Ji(i),a=Bt.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&zs(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return de(i),null}n=on.current,Du(i)?TA(i):(n=U_(f,l,a),i.stateNode=n,zs(i))}return de(i),null;case 5:if(Ji(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&zs(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return de(i),null}if(n=on.current,Du(i))TA(i);else{switch(f=up(Bt.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[ln]=i,n[Mn]=l;t:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break t;for(;f.sibling===null;){if(f.return===null||f.return===i)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;t:switch(tn(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&zs(i)}}return de(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&zs(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=Bt.current,Du(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,f=An,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[ln]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||k_(n.nodeValue,a)),n||zr(i)}else n=up(n).createTextNode(l),n[ln]=i,i.stateNode=n}return de(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Du(i),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[ln]=i}else Lu(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;de(i),f=!1}else Li!==null&&(Fb(Li),Li=null),f=!0;if(!f)return i.flags&256?(Ds(i),i):(Ds(i),null)}if(Ds(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var b=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(b=l.memoizedState.cachePool.pool),b!==f&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),Jf(i,i.updateQueue),de(i),null;case 4:return ce(),n===null&&Yb(i.stateNode.containerInfo),de(i),null;case 10:return Ps(i.type),de(i),null;case 19:if(Vt(ke),f=i.memoizedState,f===null)return de(i),null;if(l=(i.flags&128)!==0,b=f.rendering,b===null)if(l)Zu(f,!1);else{if(ve!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(b=Ff(n),b!==null){for(i.flags|=128,Zu(f,!1),n=b.updateQueue,i.updateQueue=n,Jf(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)l_(a,n),a=a.sibling;return St(ke,ke.current&1|2),i.child}n=n.sibling}f.tail!==null&&oi()>tp&&(i.flags|=128,l=!0,Zu(f,!1),i.lanes=4194304)}else{if(!l)if(n=Ff(b),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,Jf(i,n),Zu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!b.alternate&&!Xt)return de(i),null}else 2*oi()-f.renderingStartTime>tp&&a!==536870912&&(i.flags|=128,l=!0,Zu(f,!1),i.lanes=4194304);f.isBackwards?(b.sibling=i.child,i.child=b):(n=f.last,n!==null?n.sibling=b:i.child=b,f.last=b)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=oi(),i.sibling=null,n=ke.current,St(ke,l?n&1|2:n&1),i):(de(i),null);case 22:case 23:return Ds(i),Pm(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(de(i),i.subtreeFlags&6&&(i.flags|=8192)):de(i),a=i.updateQueue,a!==null&&Jf(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&Vt(Br),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ps(Pe),de(i),null;case 25:return null}throw Error(s(156,i.tag))}function HC(n,i){switch(Dm(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Ps(Pe),ce(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Ji(i),null;case 13:if(Ds(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Lu()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Vt(ke),null;case 4:return ce(),null;case 10:return Ps(i.type),null;case 22:case 23:return Ds(i),Pm(),n!==null&&Vt(Br),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Ps(Pe),null;case 25:return null;default:return null}}function h_(n,i){switch(Dm(i),i.tag){case 3:Ps(Pe),ce();break;case 26:case 27:case 5:Ji(i);break;case 4:ce();break;case 13:Ds(i);break;case 19:Vt(ke);break;case 10:Ps(i.type);break;case 22:case 23:Ds(i),Pm(),n!==null&&Vt(Br);break;case 24:Ps(Pe)}}var zC={getCacheForType:function(n){var i=cn(Pe),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},UC=typeof WeakMap=="function"?WeakMap:Map,fe=0,ae=null,zt=null,Gt=0,re=0,Xn=null,Us=!1,Gl=!1,Mb=!1,Bs=0,ve=0,Ia=0,Wr=0,Ob=0,yi=0,Vl=0,Ju=null,is=null,Db=!1,Lb=0,tp=1/0,ep=null,qa=null,np=!1,Qr=null,th=0,Nb=0,kb=null,eh=0,Pb=null;function Yn(){if((fe&2)!==0&&Gt!==0)return Gt&-Gt;if(G.T!==null){var n=Fl;return n!==0?n:qb()}return Lv()}function d_(){yi===0&&(yi=(Gt&536870912)===0||Xt?Cv():536870912);var n=pi.current;return n!==null&&(n.flags|=32),yi}function Sn(n,i,a){(n===ae&&re===2||n.cancelPendingCommit!==null)&&(Xl(n,0),Is(n,Gt,yi,!1)),vu(n,a),((fe&2)===0||n!==ae)&&(n===ae&&((fe&2)===0&&(Wr|=a),ve===4&&Is(n,Gt,yi,!1)),ss(n))}function f_(n,i,a){if((fe&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&n.expiredLanes)===0||yu(n,i),f=l?qC(n,i):zb(n,i,!0),b=l;do{if(f===0){Gl&&!l&&Is(n,i,0,!1);break}else if(f===6)Is(n,i,0,!Us);else{if(a=n.current.alternate,b&&!BC(a)){f=zb(n,i,!1),b=!1;continue}if(f===2){if(b=i,n.errorRecoveryDisabledLanes&b)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var C=n;f=Ju;var D=C.current.memoizedState.isDehydrated;if(D&&(Xl(C,_).flags|=256),_=zb(C,_,!1),_!==2){if(Mb&&!D){C.errorRecoveryDisabledLanes|=b,Wr|=b,f=4;break t}b=is,is=f,b!==null&&Fb(b)}f=_}if(b=!1,f!==2)continue}}if(f===1){Xl(n,0),Is(n,i,0,!0);break}t:{switch(l=n,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Is(l,i,yi,!Us);break t}break;case 2:is=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(b=Lb+300-oi(),10<b)){if(Is(l,i,yi,!Us),gf(l,0)!==0)break t;l.timeoutHandle=j_(p_.bind(null,l,a,is,ep,Db,i,yi,Wr,Vl,Us,2,-0,0),b);break t}p_(l,a,is,ep,Db,i,yi,Wr,Vl,Us,0,-0,0)}}break}while(!0);ss(n)}function Fb(n){is===null?is=n:is.push.apply(is,n)}function p_(n,i,a,l,f,b,_,C,D,H,W,nt,q){var K=i.subtreeFlags;if((K&8192||(K&16785408)===16785408)&&(oh={stylesheets:null,count:0,unsuspend:_R},s_(i),i=wR(),i!==null)){n.cancelPendingCommit=i(S_.bind(null,n,a,l,f,_,C,D,1,nt,q)),Is(n,b,_,!H);return}S_(n,a,l,f,_,C,D,W,nt,q)}function BC(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],b=f.getSnapshot;f=f.value;try{if(!qn(b(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Is(n,i,a,l){i&=~Ob,i&=~Wr,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var f=i;0<f;){var b=31-In(f),_=1<<b;l[b]=-1,f&=~_}a!==0&&Mv(n,a,i)}function ip(){return(fe&6)===0?(nh(0),!1):!0}function jb(){if(zt!==null){if(re===0)var n=zt.return;else n=zt,ks=Xr=null,qm(n),kl=null,Fu=0,n=zt;for(;n!==null;)h_(n.alternate,n),n=n.return;zt=null}}function Xl(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,rR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),jb(),ae=n,zt=a=Ba(n.current,null),Gt=i,re=0,Xn=null,Us=!1,Gl=yu(n,i),Mb=!1,Vl=yi=Ob=Wr=Ia=ve=0,is=Ju=null,Db=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var f=31-In(l),b=1<<f;i|=n[f],l&=~b}return Bs=i,Cf(),a}function g_(n,i){Pt=null,G.H=ns,i===ku?(i=OA(),re=3):i===CA?(i=OA(),re=4):re=i===RS?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Xn=i,zt===null&&(ve=1,Yf(n,hi(i,n.current)))}function m_(){var n=G.H;return G.H=ns,n===null?ns:n}function b_(){var n=G.A;return G.A=zC,n}function Hb(){ve=4,Us||(Gt&4194176)!==Gt&&pi.current!==null||(Gl=!0),(Ia&134217727)===0&&(Wr&134217727)===0||ae===null||Is(ae,Gt,yi,!1)}function zb(n,i,a){var l=fe;fe|=2;var f=m_(),b=b_();(ae!==n||Gt!==i)&&(ep=null,Xl(n,i)),i=!1;var _=ve;t:do try{if(re!==0&&zt!==null){var C=zt,D=Xn;switch(re){case 8:jb(),_=6;break t;case 3:case 2:case 6:pi.current===null&&(i=!0);var H=re;if(re=0,Xn=null,Yl(n,C,D,H),a&&Gl){_=0;break t}break;default:H=re,re=0,Xn=null,Yl(n,C,D,H)}}IC(),_=ve;break}catch(W){g_(n,W)}while(!0);return i&&n.shellSuspendCounter++,ks=Xr=null,fe=l,G.H=f,G.A=b,zt===null&&(ae=null,Gt=0,Cf()),_}function IC(){for(;zt!==null;)y_(zt)}function qC(n,i){var a=fe;fe|=2;var l=m_(),f=b_();ae!==n||Gt!==i?(ep=null,tp=oi()+500,Xl(n,i)):Gl=yu(n,i);t:do try{if(re!==0&&zt!==null){i=zt;var b=Xn;e:switch(re){case 1:re=0,Xn=null,Yl(n,i,b,1);break;case 2:if(RA(b)){re=0,Xn=null,v_(i);break}i=function(){re===2&&ae===n&&(re=7),ss(n)},b.then(i,i);break t;case 3:re=7;break t;case 4:re=5;break t;case 7:RA(b)?(re=0,Xn=null,v_(i)):(re=0,Xn=null,Yl(n,i,b,7));break;case 5:var _=null;switch(zt.tag){case 26:_=zt.memoizedState;case 5:case 27:var C=zt;if(!_||$_(_)){re=0,Xn=null;var D=C.sibling;if(D!==null)zt=D;else{var H=C.return;H!==null?(zt=H,sp(H)):zt=null}break e}}re=0,Xn=null,Yl(n,i,b,5);break;case 6:re=0,Xn=null,Yl(n,i,b,6);break;case 8:jb(),ve=6;break t;default:throw Error(s(462))}}GC();break}catch(W){g_(n,W)}while(!0);return ks=Xr=null,G.H=l,G.A=f,fe=a,zt!==null?0:(ae=null,Gt=0,Cf(),ve)}function GC(){for(;zt!==null&&!im();)y_(zt)}function y_(n){var i=US(n.alternate,n,Bs);n.memoizedProps=n.pendingProps,i===null?sp(n):zt=i}function v_(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=kS(a,i,i.pendingProps,i.type,void 0,Gt);break;case 11:i=kS(a,i,i.pendingProps,i.type.render,i.ref,Gt);break;case 5:qm(i);default:h_(a,i),i=zt=l_(i,Bs),i=US(a,i,Bs)}n.memoizedProps=n.pendingProps,i===null?sp(n):zt=i}function Yl(n,i,a,l){ks=Xr=null,qm(i),kl=null,Fu=0;var f=i.return;try{if(LC(n,f,i,a,Gt)){ve=1,Yf(n,hi(a,n.current)),zt=null;return}}catch(b){if(f!==null)throw zt=f,b;ve=1,Yf(n,hi(a,n.current)),zt=null;return}i.flags&32768?(Xt||l===1?n=!0:Gl||(Gt&536870912)!==0?n=!1:(Us=n=!0,(l===2||l===3||l===6)&&(l=pi.current,l!==null&&l.tag===13&&(l.flags|=16384))),A_(i,n)):sp(i)}function sp(n){var i=n;do{if((i.flags&32768)!==0){A_(i,Us);return}n=i.return;var a=jC(i.alternate,i,Bs);if(a!==null){zt=a;return}if(i=i.sibling,i!==null){zt=i;return}zt=i=n}while(i!==null);ve===0&&(ve=5)}function A_(n,i){do{var a=HC(n.alternate,n);if(a!==null){a.flags&=32767,zt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){zt=n;return}zt=n=a}while(n!==null);ve=6,zt=null}function S_(n,i,a,l,f,b,_,C,D,H){var W=G.T,nt=rt.p;try{rt.p=2,G.T=null,VC(n,i,a,l,nt,f,b,_,C,D,H)}finally{G.T=W,rt.p=nt}}function VC(n,i,a,l,f,b,_,C){do $l();while(Qr!==null);if((fe&6)!==0)throw Error(s(327));var D=n.finishedWork;if(l=n.finishedLanes,D===null)return null;if(n.finishedWork=null,n.finishedLanes=0,D===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var H=D.lanes|D.childLanes;if(H|=Rm,Ex(n,l,H,b,_,C),n===ae&&(zt=ae=null,Gt=0),(D.subtreeFlags&10256)===0&&(D.flags&10256)===0||np||(np=!0,Nb=H,kb=a,KC(xs,function(){return $l(),null})),a=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||a?(a=G.T,G.T=null,b=rt.p,rt.p=2,_=fe,fe|=4,kC(n,D),e_(D,n),gC(Qb,n.containerInfo),mp=!!Wb,Qb=Wb=null,n.current=D,QS(n,D.alternate,D),sm(),fe=_,rt.p=b,G.T=a):n.current=D,np?(np=!1,Qr=n,th=l):__(n,H),H=n.pendingLanes,H===0&&(qa=null),yx(D.stateNode),ss(n),i!==null)for(f=n.onRecoverableError,D=0;D<i.length;D++)H=i[D],f(H.value,{componentStack:H.stack});return(th&3)!==0&&$l(),H=n.pendingLanes,(l&4194218)!==0&&(H&42)!==0?n===Pb?eh++:(eh=0,Pb=n):eh=0,nh(0),null}function __(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Hu(i)))}function $l(){if(Qr!==null){var n=Qr,i=Nb;Nb=0;var a=Dv(th),l=G.T,f=rt.p;try{if(rt.p=32>a?32:a,G.T=null,Qr===null)var b=!1;else{a=kb,kb=null;var _=Qr,C=th;if(Qr=null,th=0,(fe&6)!==0)throw Error(s(331));var D=fe;if(fe|=4,r_(_.current),i_(_,_.current,C,a),fe=D,nh(0,!1),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(bu,_)}catch{}b=!0}return b}finally{rt.p=f,G.T=l,__(n,i)}}return!1}function E_(n,i,a){i=hi(a,i),i=ib(n.stateNode,i,2),n=ja(n,i,2),n!==null&&(vu(n,2),ss(n))}function ie(n,i,a){if(n.tag===3)E_(n,n,a);else for(;i!==null;){if(i.tag===3){E_(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qa===null||!qa.has(l))){n=hi(a,n),a=xS(2),l=ja(i,a,2),l!==null&&(CS(a,l,i,n),vu(l,2),ss(l));break}}i=i.return}}function Ub(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new UC;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Mb=!0,f.add(a),n=XC.bind(null,n,i,a),i.then(n,n))}function XC(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ae===n&&(Gt&a)===a&&(ve===4||ve===3&&(Gt&62914560)===Gt&&300>oi()-Lb?(fe&2)===0&&Xl(n,0):Ob|=a,Vl===Gt&&(Vl=0)),ss(n)}function w_(n,i){i===0&&(i=Rv()),n=Ma(n,i),n!==null&&(vu(n,i),ss(n))}function YC(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),w_(n,a)}function $C(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),w_(n,a)}function KC(n,i){return mu(n,i)}var ap=null,Kl=null,Bb=!1,rp=!1,Ib=!1,Zr=0;function ss(n){n!==Kl&&n.next===null&&(Kl===null?ap=Kl=n:Kl=Kl.next=n),rp=!0,Bb||(Bb=!0,QC(WC))}function nh(n,i){if(!Ib&&rp){Ib=!0;do for(var a=!1,l=ap;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var b=0;else{var _=l.suspendedLanes,C=l.pingedLanes;b=(1<<31-In(42|n)+1)-1,b&=f&~(_&~C),b=b&201326677?b&201326677|1:b?b|2:0}b!==0&&(a=!0,C_(l,b))}else b=Gt,b=gf(l,l===ae?b:0),(b&3)===0||yu(l,b)||(a=!0,C_(l,b));l=l.next}while(a);Ib=!1}}function WC(){rp=Bb=!1;var n=0;Zr!==0&&(aR()&&(n=Zr),Zr=0);for(var i=oi(),a=null,l=ap;l!==null;){var f=l.next,b=T_(l,i);b===0?(l.next=null,a===null?ap=f:a.next=f,f===null&&(Kl=a)):(a=l,(n!==0||(b&3)!==0)&&(rp=!0)),l=f}nh(n)}function T_(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,b=n.pendingLanes&-62914561;0<b;){var _=31-In(b),C=1<<_,D=f[_];D===-1?((C&a)===0||(C&l)!==0)&&(f[_]=_x(C,i)):D<=i&&(n.expiredLanes|=C),b&=~C}if(i=ae,a=Gt,a=gf(n,n===i?a:0),l=n.callbackNode,a===0||n===i&&re===2||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Ta(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||yu(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&Ta(l),Dv(a)){case 2:case 8:a=Ts;break;case 32:a=xs;break;case 268435456:a=yl;break;default:a=xs}return l=x_.bind(null,n),a=mu(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&Ta(l),n.callbackPriority=2,n.callbackNode=null,2}function x_(n,i){var a=n.callbackNode;if($l()&&n.callbackNode!==a)return null;var l=Gt;return l=gf(n,n===ae?l:0),l===0?null:(f_(n,l,i),T_(n,oi()),n.callbackNode!=null&&n.callbackNode===a?x_.bind(null,n):null)}function C_(n,i){if($l())return null;f_(n,i,!0)}function QC(n){oR(function(){(fe&6)!==0?mu(df,n):n()})}function qb(){return Zr===0&&(Zr=Cv()),Zr}function R_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Af(""+n)}function M_(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function ZC(n,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var b=R_((f[Mn]||null).action),_=l.submitter;_&&(i=(i=_[Mn]||null)?R_(i.formAction):_.getAttribute("formAction"),i!==null&&(b=i,_=null));var C=new wf("action","action",null,l,f);n.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zr!==0){var D=_?M_(f,_):new FormData(f);Zm(a,{pending:!0,data:D,method:f.method,action:b},null,D)}}else typeof b=="function"&&(C.preventDefault(),D=_?M_(f,_):new FormData(f),Zm(a,{pending:!0,data:D,method:f.method,action:b},b,D))},currentTarget:f}]})}}for(var Gb=0;Gb<SA.length;Gb++){var Vb=SA[Gb],JC=Vb.toLowerCase(),tR=Vb[0].toUpperCase()+Vb.slice(1);Di(JC,"on"+tR)}Di(mA,"onAnimationEnd"),Di(bA,"onAnimationIteration"),Di(yA,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(bC,"onTransitionRun"),Di(yC,"onTransitionStart"),Di(vC,"onTransitionCancel"),Di(vA,"onTransitionEnd"),_l("onMouseEnter",["mouseout","mouseover"]),_l("onMouseLeave",["mouseout","mouseover"]),_l("onPointerEnter",["pointerout","pointerover"]),_l("onPointerLeave",["pointerout","pointerover"]),Nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ih="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ih));function O_(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;t:{var b=void 0;if(i)for(var _=l.length-1;0<=_;_--){var C=l[_],D=C.instance,H=C.currentTarget;if(C=C.listener,D!==b&&f.isPropagationStopped())break t;b=C,f.currentTarget=H;try{b(f)}catch(W){Xf(W)}f.currentTarget=null,b=D}else for(_=0;_<l.length;_++){if(C=l[_],D=C.instance,H=C.currentTarget,C=C.listener,D!==b&&f.isPropagationStopped())break t;b=C,f.currentTarget=H;try{b(f)}catch(W){Xf(W)}f.currentTarget=null,b=D}}}}function It(n,i){var a=i[om];a===void 0&&(a=i[om]=new Set);var l=n+"__bubble";a.has(l)||(D_(i,n,2,!1),a.add(l))}function Xb(n,i,a){var l=0;i&&(l|=4),D_(a,n,l,i)}var op="_reactListening"+Math.random().toString(36).slice(2);function Yb(n){if(!n[op]){n[op]=!0,kv.forEach(function(a){a!=="selectionchange"&&(eR.has(a)||Xb(a,!1,n),Xb(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[op]||(i[op]=!0,Xb("selectionchange",!1,i))}}function D_(n,i,a,l){switch(tE(i)){case 2:var f=CR;break;case 8:f=RR;break;default:f=ry}a=f.bind(null,i,a,n),f=void 0,!gm||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function $b(n,i,a,l,f){var b=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var C=l.stateNode.containerInfo;if(C===f||C.nodeType===8&&C.parentNode===f)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&(D=_.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;_=_.return}for(;C!==null;){if(_=Lr(C),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=b=_;continue t}C=C.parentNode}}l=l.return}Xv(function(){var H=b,W=fm(a),nt=[];t:{var q=AA.get(n);if(q!==void 0){var K=wf,mt=n;switch(n){case"keypress":if(_f(a)===0)break t;case"keydown":case"keyup":K=$x;break;case"focusin":mt="focus",K=vm;break;case"focusout":mt="blur",K=vm;break;case"beforeblur":case"afterblur":K=vm;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Kv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Fx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Qx;break;case mA:case bA:case yA:K=zx;break;case vA:K=Jx;break;case"scroll":case"scrollend":K=kx;break;case"wheel":K=eC;break;case"copy":case"cut":case"paste":K=Bx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Qv;break;case"toggle":case"beforetoggle":K=iC}var Ct=(i&4)!==0,Ae=!Ct&&(n==="scroll"||n==="scrollend"),U=Ct?q!==null?q+"Capture":null:q;Ct=[];for(var j=H,I;j!==null;){var J=j;if(I=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||I===null||U===null||(J=_u(j,U),J!=null&&Ct.push(sh(j,J,I))),Ae)break;j=j.return}0<Ct.length&&(q=new K(q,mt,null,a,W),nt.push({event:q,listeners:Ct}))}}if((i&7)===0){t:{if(q=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",q&&a!==dm&&(mt=a.relatedTarget||a.fromElement)&&(Lr(mt)||mt[vl]))break t;if((K||q)&&(q=W.window===W?W:(q=W.ownerDocument)?q.defaultView||q.parentWindow:window,K?(mt=a.relatedTarget||a.toElement,K=H,mt=mt?Lr(mt):null,mt!==null&&(Ae=tt(mt),Ct=mt.tag,mt!==Ae||Ct!==5&&Ct!==27&&Ct!==6)&&(mt=null)):(K=null,mt=H),K!==mt)){if(Ct=Kv,J="onMouseLeave",U="onMouseEnter",j="mouse",(n==="pointerout"||n==="pointerover")&&(Ct=Qv,J="onPointerLeave",U="onPointerEnter",j="pointer"),Ae=K==null?q:Su(K),I=mt==null?q:Su(mt),q=new Ct(J,j+"leave",K,a,W),q.target=Ae,q.relatedTarget=I,J=null,Lr(W)===H&&(Ct=new Ct(U,j+"enter",mt,a,W),Ct.target=I,Ct.relatedTarget=Ae,J=Ct),Ae=J,K&&mt)e:{for(Ct=K,U=mt,j=0,I=Ct;I;I=Wl(I))j++;for(I=0,J=U;J;J=Wl(J))I++;for(;0<j-I;)Ct=Wl(Ct),j--;for(;0<I-j;)U=Wl(U),I--;for(;j--;){if(Ct===U||U!==null&&Ct===U.alternate)break e;Ct=Wl(Ct),U=Wl(U)}Ct=null}else Ct=null;K!==null&&L_(nt,q,K,Ct,!1),mt!==null&&Ae!==null&&L_(nt,Ae,mt,Ct,!0)}}t:{if(q=H?Su(H):window,K=q.nodeName&&q.nodeName.toLowerCase(),K==="select"||K==="input"&&q.type==="file")var pt=aA;else if(iA(q))if(rA)pt=fC;else{pt=hC;var jt=uC}else K=q.nodeName,!K||K.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&hm(H.elementType)&&(pt=aA):pt=dC;if(pt&&(pt=pt(n,H))){sA(nt,pt,a,W);break t}jt&&jt(n,q,H),n==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&um(q,"number",q.value)}switch(jt=H?Su(H):window,n){case"focusin":(iA(jt)||jt.contentEditable==="true")&&(Rl=jt,Tm=H,Ou=null);break;case"focusout":Ou=Tm=Rl=null;break;case"mousedown":xm=!0;break;case"contextmenu":case"mouseup":case"dragend":xm=!1,pA(nt,a,W);break;case"selectionchange":if(mC)break;case"keydown":case"keyup":pA(nt,a,W)}var yt;if(Sm)t:{switch(n){case"compositionstart":var At="onCompositionStart";break t;case"compositionend":At="onCompositionEnd";break t;case"compositionupdate":At="onCompositionUpdate";break t}At=void 0}else Cl?eA(n,a)&&(At="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(At="onCompositionStart");At&&(Zv&&a.locale!=="ko"&&(Cl||At!=="onCompositionStart"?At==="onCompositionEnd"&&Cl&&(yt=Yv()):(Ra=W,mm="value"in Ra?Ra.value:Ra.textContent,Cl=!0)),jt=lp(H,At),0<jt.length&&(At=new Wv(At,n,null,a,W),nt.push({event:At,listeners:jt}),yt?At.data=yt:(yt=nA(a),yt!==null&&(At.data=yt)))),(yt=aC?rC(n,a):oC(n,a))&&(At=lp(H,"onBeforeInput"),0<At.length&&(jt=new Wv("onBeforeInput","beforeinput",null,a,W),nt.push({event:jt,listeners:At}),jt.data=yt)),ZC(nt,n,H,a,W)}O_(nt,i)})}function sh(n,i,a){return{instance:n,listener:i,currentTarget:a}}function lp(n,i){for(var a=i+"Capture",l=[];n!==null;){var f=n,b=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||b===null||(f=_u(n,a),f!=null&&l.unshift(sh(n,f,b)),f=_u(n,i),f!=null&&l.push(sh(n,f,b))),n=n.return}return l}function Wl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function L_(n,i,a,l,f){for(var b=i._reactName,_=[];a!==null&&a!==l;){var C=a,D=C.alternate,H=C.stateNode;if(C=C.tag,D!==null&&D===l)break;C!==5&&C!==26&&C!==27||H===null||(D=H,f?(H=_u(a,b),H!=null&&_.unshift(sh(a,H,D))):f||(H=_u(a,b),H!=null&&_.push(sh(a,H,D)))),a=a.return}_.length!==0&&n.push({event:i,listeners:_})}var nR=/\r\n?/g,iR=/\u0000|\uFFFD/g;function N_(n){return(typeof n=="string"?n:""+n).replace(nR,`
`).replace(iR,"")}function k_(n,i){return i=N_(i),N_(n)===i}function cp(){}function te(n,i,a,l,f,b){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||wl(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&wl(n,""+l);break;case"className":bf(n,"class",l);break;case"tabIndex":bf(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":bf(n,a,l);break;case"style":Gv(n,l,b);break;case"data":if(i!=="object"){bf(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Af(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(a==="formAction"?(i!=="input"&&te(n,i,"name",f.name,f,null),te(n,i,"formEncType",f.formEncType,f,null),te(n,i,"formMethod",f.formMethod,f,null),te(n,i,"formTarget",f.formTarget,f,null)):(te(n,i,"encType",f.encType,f,null),te(n,i,"method",f.method,f,null),te(n,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Af(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=cp);break;case"onScroll":l!=null&&It("scroll",n);break;case"onScrollEnd":l!=null&&It("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Af(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":It("beforetoggle",n),It("toggle",n),mf(n,"popover",l);break;case"xlinkActuate":Rs(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rs(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rs(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rs(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rs(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rs(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rs(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rs(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rs(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":mf(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Lx.get(a)||a,mf(n,a,l))}}function Kb(n,i,a,l,f,b){switch(a){case"style":Gv(n,l,b);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?wl(n,l):(typeof l=="number"||typeof l=="bigint")&&wl(n,""+l);break;case"onScroll":l!=null&&It("scroll",n);break;case"onScrollEnd":l!=null&&It("scrollend",n);break;case"onClick":l!=null&&(n.onclick=cp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pv.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),b=n[Mn]||null,b=b!=null?b[a]:null,typeof b=="function"&&n.removeEventListener(i,b,f),typeof l=="function")){typeof b!="function"&&b!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,f);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):mf(n,a,l)}}}function tn(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",n),It("load",n);var l=!1,f=!1,b;for(b in a)if(a.hasOwnProperty(b)){var _=a[b];if(_!=null)switch(b){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:te(n,i,b,_,a,null)}}f&&te(n,i,"srcSet",a.srcSet,a,null),l&&te(n,i,"src",a.src,a,null);return;case"input":It("invalid",n);var C=b=_=f=null,D=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":_=W;break;case"checked":D=W;break;case"defaultChecked":H=W;break;case"value":b=W;break;case"defaultValue":C=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:te(n,i,l,W,a,null)}}Uv(n,b,C,D,H,_,f,!1),yf(n);return;case"select":It("invalid",n),l=_=b=null;for(f in a)if(a.hasOwnProperty(f)&&(C=a[f],C!=null))switch(f){case"value":b=C;break;case"defaultValue":_=C;break;case"multiple":l=C;default:te(n,i,f,C,a,null)}i=b,a=_,n.multiple=!!l,i!=null?El(n,!!l,i,!1):a!=null&&El(n,!!l,a,!0);return;case"textarea":It("invalid",n),b=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(C=a[_],C!=null))switch(_){case"value":l=C;break;case"defaultValue":f=C;break;case"children":b=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:te(n,i,_,C,a,null)}Iv(n,l,f,b),yf(n);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(n,i,D,l,a,null)}return;case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":It("load",n);break;case"video":case"audio":for(l=0;l<ih.length;l++)It(ih[l],n);break;case"image":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"embed":case"source":case"link":It("error",n),It("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:te(n,i,H,l,a,null)}return;default:if(hm(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Kb(n,i,W,l,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null&&te(n,i,C,l,a,null))}function sR(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,b=null,_=null,C=null,D=null,H=null,W=null;for(K in a){var nt=a[K];if(a.hasOwnProperty(K)&&nt!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=nt;default:l.hasOwnProperty(K)||te(n,i,K,null,l,nt)}}for(var q in l){var K=l[q];if(nt=a[q],l.hasOwnProperty(q)&&(K!=null||nt!=null))switch(q){case"type":b=K;break;case"name":f=K;break;case"checked":H=K;break;case"defaultChecked":W=K;break;case"value":_=K;break;case"defaultValue":C=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==nt&&te(n,i,q,K,l,nt)}}cm(n,_,C,D,H,W,b,f);return;case"select":K=_=C=q=null;for(b in a)if(D=a[b],a.hasOwnProperty(b)&&D!=null)switch(b){case"value":break;case"multiple":K=D;default:l.hasOwnProperty(b)||te(n,i,b,null,l,D)}for(f in l)if(b=l[f],D=a[f],l.hasOwnProperty(f)&&(b!=null||D!=null))switch(f){case"value":q=b;break;case"defaultValue":C=b;break;case"multiple":_=b;default:b!==D&&te(n,i,f,b,l,D)}i=C,a=_,l=K,q!=null?El(n,!!a,q,!1):!!l!=!!a&&(i!=null?El(n,!!a,i,!0):El(n,!!a,a?[]:"",!1));return;case"textarea":K=q=null;for(C in a)if(f=a[C],a.hasOwnProperty(C)&&f!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:te(n,i,C,null,l,f)}for(_ in l)if(f=l[_],b=a[_],l.hasOwnProperty(_)&&(f!=null||b!=null))switch(_){case"value":q=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==b&&te(n,i,_,f,l,b)}Bv(n,q,K);return;case"option":for(var mt in a)if(q=a[mt],a.hasOwnProperty(mt)&&q!=null&&!l.hasOwnProperty(mt))switch(mt){case"selected":n.selected=!1;break;default:te(n,i,mt,null,l,q)}for(D in l)if(q=l[D],K=a[D],l.hasOwnProperty(D)&&q!==K&&(q!=null||K!=null))switch(D){case"selected":n.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:te(n,i,D,q,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in a)q=a[Ct],a.hasOwnProperty(Ct)&&q!=null&&!l.hasOwnProperty(Ct)&&te(n,i,Ct,null,l,q);for(H in l)if(q=l[H],K=a[H],l.hasOwnProperty(H)&&q!==K&&(q!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:te(n,i,H,q,l,K)}return;default:if(hm(i)){for(var Ae in a)q=a[Ae],a.hasOwnProperty(Ae)&&q!==void 0&&!l.hasOwnProperty(Ae)&&Kb(n,i,Ae,void 0,l,q);for(W in l)q=l[W],K=a[W],!l.hasOwnProperty(W)||q===K||q===void 0&&K===void 0||Kb(n,i,W,q,l,K);return}}for(var U in a)q=a[U],a.hasOwnProperty(U)&&q!=null&&!l.hasOwnProperty(U)&&te(n,i,U,null,l,q);for(nt in l)q=l[nt],K=a[nt],!l.hasOwnProperty(nt)||q===K||q==null&&K==null||te(n,i,nt,q,l,K)}var Wb=null,Qb=null;function up(n){return n.nodeType===9?n:n.ownerDocument}function P_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Zb(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Jb=null;function aR(){var n=window.event;return n&&n.type==="popstate"?n===Jb?!1:(Jb=n,!0):(Jb=null,!1)}var j_=typeof setTimeout=="function"?setTimeout:void 0,rR=typeof clearTimeout=="function"?clearTimeout:void 0,H_=typeof Promise=="function"?Promise:void 0,oR=typeof queueMicrotask=="function"?queueMicrotask:typeof H_<"u"?function(n){return H_.resolve(null).then(n).catch(lR)}:j_;function lR(n){setTimeout(function(){throw n})}function ty(n,i){var a=i,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(l===0){n.removeChild(f),dh(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=f}while(a);dh(i)}function ey(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ey(a),lm(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function cR(n,i,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Au])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(b=n.getAttribute("rel"),b==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(b!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(b=n.getAttribute("src"),(b!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&b&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var b=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===b)return n}else return n;if(n=ki(n.nextSibling),n===null)break}return null}function uR(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ki(n.nextSibling),n===null))return null;return n}function ki(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}function z_(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function U_(n,i,a){switch(i=up(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var vi=new Map,B_=new Set;function hp(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var qs=rt.d;rt.d={f:hR,r:dR,D:fR,C:pR,L:gR,m:mR,X:yR,S:bR,M:vR};function hR(){var n=qs.f(),i=ip();return n||i}function dR(n){var i=Al(n);i!==null&&i.tag===5&&i.type==="form"?pS(i):qs.r(n)}var Ql=typeof document>"u"?null:document;function I_(n,i,a){var l=Ql;if(l&&typeof i=="string"&&i){var f=ci(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),B_.has(f)||(B_.add(f),n={rel:n,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),tn(i,"link",n),Ie(i),l.head.appendChild(i)))}}function fR(n){qs.D(n),I_("dns-prefetch",n,null)}function pR(n,i){qs.C(n,i),I_("preconnect",n,i)}function gR(n,i,a){qs.L(n,i,a);var l=Ql;if(l&&n&&i){var f='link[rel="preload"][as="'+ci(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ci(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ci(a.imageSizes)+'"]')):f+='[href="'+ci(n)+'"]';var b=f;switch(i){case"style":b=Zl(n);break;case"script":b=Jl(n)}vi.has(b)||(n=et({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),vi.set(b,n),l.querySelector(f)!==null||i==="style"&&l.querySelector(ah(b))||i==="script"&&l.querySelector(rh(b))||(i=l.createElement("link"),tn(i,"link",n),Ie(i),l.head.appendChild(i)))}}function mR(n,i){qs.m(n,i);var a=Ql;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+ci(l)+'"][href="'+ci(n)+'"]',b=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Jl(n)}if(!vi.has(b)&&(n=et({rel:"modulepreload",href:n},i),vi.set(b,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(rh(b)))return}l=a.createElement("link"),tn(l,"link",n),Ie(l),a.head.appendChild(l)}}}function bR(n,i,a){qs.S(n,i,a);var l=Ql;if(l&&n){var f=Sl(l).hoistableStyles,b=Zl(n);i=i||"default";var _=f.get(b);if(!_){var C={loading:0,preload:null};if(_=l.querySelector(ah(b)))C.loading=5;else{n=et({rel:"stylesheet",href:n,"data-precedence":i},a),(a=vi.get(b))&&ny(n,a);var D=_=l.createElement("link");Ie(D),tn(D,"link",n),D._p=new Promise(function(H,W){D.onload=H,D.onerror=W}),D.addEventListener("load",function(){C.loading|=1}),D.addEventListener("error",function(){C.loading|=2}),C.loading|=4,dp(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:C},f.set(b,_)}}}function yR(n,i){qs.X(n,i);var a=Ql;if(a&&n){var l=Sl(a).hoistableScripts,f=Jl(n),b=l.get(f);b||(b=a.querySelector(rh(f)),b||(n=et({src:n,async:!0},i),(i=vi.get(f))&&iy(n,i),b=a.createElement("script"),Ie(b),tn(b,"link",n),a.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},l.set(f,b))}}function vR(n,i){qs.M(n,i);var a=Ql;if(a&&n){var l=Sl(a).hoistableScripts,f=Jl(n),b=l.get(f);b||(b=a.querySelector(rh(f)),b||(n=et({src:n,async:!0,type:"module"},i),(i=vi.get(f))&&iy(n,i),b=a.createElement("script"),Ie(b),tn(b,"link",n),a.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},l.set(f,b))}}function q_(n,i,a,l){var f=(f=Bt.current)?hp(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Zl(a.href),a=Sl(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Zl(a.href);var b=Sl(f).hoistableStyles,_=b.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(n,_),(b=f.querySelector(ah(n)))&&!b._p&&(_.instance=b,_.state.loading=5),vi.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},vi.set(n,a),b||AR(f,n,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Jl(a),a=Sl(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Zl(n){return'href="'+ci(n)+'"'}function ah(n){return'link[rel="stylesheet"]['+n+"]"}function G_(n){return et({},n,{"data-precedence":n.precedence,precedence:null})}function AR(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),tn(i,"link",a),Ie(i),n.head.appendChild(i))}function Jl(n){return'[src="'+ci(n)+'"]'}function rh(n){return"script[async]"+n}function V_(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+ci(a.href)+'"]');if(l)return i.instance=l,Ie(l),l;var f=et({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Ie(l),tn(l,"style",f),dp(l,a.precedence,n),i.instance=l;case"stylesheet":f=Zl(a.href);var b=n.querySelector(ah(f));if(b)return i.state.loading|=4,i.instance=b,Ie(b),b;l=G_(a),(f=vi.get(f))&&ny(l,f),b=(n.ownerDocument||n).createElement("link"),Ie(b);var _=b;return _._p=new Promise(function(C,D){_.onload=C,_.onerror=D}),tn(b,"link",l),i.state.loading|=4,dp(b,a.precedence,n),i.instance=b;case"script":return b=Jl(a.src),(f=n.querySelector(rh(b)))?(i.instance=f,Ie(f),f):(l=a,(f=vi.get(b))&&(l=et({},a),iy(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Ie(f),tn(f,"link",l),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,dp(l,a.precedence,n));return i.instance}function dp(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,b=f,_=0;_<l.length;_++){var C=l[_];if(C.dataset.precedence===i)b=C;else if(b!==f)break}b?b.parentNode.insertBefore(n,b.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function ny(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function iy(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var fp=null;function X_(n,i,a){if(fp===null){var l=new Map,f=fp=new Map;f.set(a,l)}else f=fp,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var b=a[f];if(!(b[Au]||b[ln]||n==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var _=b.getAttribute(i)||"";_=n+_;var C=l.get(_);C?C.push(b):l.set(_,[b])}}return l}function Y_(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function SR(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function $_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var oh=null;function _R(){}function ER(n,i,a){if(oh===null)throw Error(s(475));var l=oh;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Zl(a.href),b=n.querySelector(ah(f));if(b){n=b._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=pp.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=b,Ie(b);return}b=n.ownerDocument||n,a=G_(a),(f=vi.get(f))&&ny(a,f),b=b.createElement("link"),Ie(b);var _=b;_._p=new Promise(function(C,D){_.onload=C,_.onerror=D}),tn(b,"link",a),i.instance=b}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=pp.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function wR(){if(oh===null)throw Error(s(475));var n=oh;return n.stylesheets&&n.count===0&&sy(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&sy(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function pp(){if(this.count--,this.count===0){if(this.stylesheets)sy(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var gp=null;function sy(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,gp=new Map,i.forEach(TR,n),gp=null,pp.call(n))}function TR(n,i){if(!(i.state.loading&4)){var a=gp.get(n);if(a)var l=a.get(null);else{a=new Map,gp.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<f.length;b++){var _=f[b];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),b=a.get(_)||l,b===l&&a.set(null,f),a.set(_,f),this.count++,l=pp.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),b?b.parentNode.insertBefore(f,b.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var lh={$$typeof:S,Provider:null,Consumer:null,_currentValue:Et,_currentValue2:Et,_threadCount:0};function xR(n,i,a,l,f,b,_,C){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rm(0),this.hiddenUpdates=rm(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=b,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function K_(n,i,a,l,f,b,_,C,D,H,W,nt){return n=new xR(n,i,a,_,C,D,H,nt),i=1,b===!0&&(i|=24),b=bi(3,null,null,i),n.current=b,b.stateNode=n,i=Fm(),i.refCount++,n.pooledCache=i,i.refCount++,b.memoizedState={element:l,isDehydrated:a,cache:i},mb(b),n}function W_(n){return n?(n=Dl,n):Dl}function Q_(n,i,a,l,f,b){f=W_(f),l.context===null?l.context=f:l.pendingContext=f,l=Fa(i),l.payload={element:a},b=b===void 0?null:b,b!==null&&(l.callback=b),a=ja(n,l,i),a!==null&&(Sn(a,n,i),Vu(a,n,i))}function Z_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function ay(n,i){Z_(n,i),(n=n.alternate)&&Z_(n,i)}function J_(n){if(n.tag===13){var i=Ma(n,67108864);i!==null&&Sn(i,n,67108864),ay(n,67108864)}}var mp=!0;function CR(n,i,a,l){var f=G.T;G.T=null;var b=rt.p;try{rt.p=2,ry(n,i,a,l)}finally{rt.p=b,G.T=f}}function RR(n,i,a,l){var f=G.T;G.T=null;var b=rt.p;try{rt.p=8,ry(n,i,a,l)}finally{rt.p=b,G.T=f}}function ry(n,i,a,l){if(mp){var f=oy(l);if(f===null)$b(n,i,l,bp,a),eE(n,l);else if(OR(f,n,i,a,l))l.stopPropagation();else if(eE(n,l),i&4&&-1<MR.indexOf(n)){for(;f!==null;){var b=Al(f);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var _=Dr(b.pendingLanes);if(_!==0){var C=b;for(C.pendingLanes|=2,C.entangledLanes|=2;_;){var D=1<<31-In(_);C.entanglements[1]|=D,_&=~D}ss(b),(fe&6)===0&&(tp=oi()+500,nh(0))}}break;case 13:C=Ma(b,2),C!==null&&Sn(C,b,2),ip(),ay(b,2)}if(b=oy(l),b===null&&$b(n,i,l,bp,a),b===f)break;f=b}f!==null&&l.stopPropagation()}else $b(n,i,l,null,a)}}function oy(n){return n=fm(n),ly(n)}var bp=null;function ly(n){if(bp=null,n=Lr(n),n!==null){var i=tt(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=_t(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return bp=n,null}function tE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(am()){case df:return 2;case Ts:return 8;case xs:case bl:return 32;case yl:return 268435456;default:return 32}default:return 32}}var cy=!1,Ga=null,Va=null,Xa=null,ch=new Map,uh=new Map,Ya=[],MR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eE(n,i){switch(n){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":Va=null;break;case"mouseover":case"mouseout":Xa=null;break;case"pointerover":case"pointerout":ch.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":uh.delete(i.pointerId)}}function hh(n,i,a,l,f,b){return n===null||n.nativeEvent!==b?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:b,targetContainers:[f]},i!==null&&(i=Al(i),i!==null&&J_(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function OR(n,i,a,l,f){switch(i){case"focusin":return Ga=hh(Ga,n,i,a,l,f),!0;case"dragenter":return Va=hh(Va,n,i,a,l,f),!0;case"mouseover":return Xa=hh(Xa,n,i,a,l,f),!0;case"pointerover":var b=f.pointerId;return ch.set(b,hh(ch.get(b)||null,n,i,a,l,f)),!0;case"gotpointercapture":return b=f.pointerId,uh.set(b,hh(uh.get(b)||null,n,i,a,l,f)),!0}return!1}function nE(n){var i=Lr(n.target);if(i!==null){var a=tt(i);if(a!==null){if(i=a.tag,i===13){if(i=_t(a),i!==null){n.blockedOn=i,wx(n.priority,function(){if(a.tag===13){var l=Yn(),f=Ma(a,l);f!==null&&Sn(f,a,l),ay(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function yp(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=oy(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);dm=l,a.target.dispatchEvent(l),dm=null}else return i=Al(a),i!==null&&J_(i),n.blockedOn=a,!1;i.shift()}return!0}function iE(n,i,a){yp(n)&&a.delete(i)}function DR(){cy=!1,Ga!==null&&yp(Ga)&&(Ga=null),Va!==null&&yp(Va)&&(Va=null),Xa!==null&&yp(Xa)&&(Xa=null),ch.forEach(iE),uh.forEach(iE)}function vp(n,i){n.blockedOn===i&&(n.blockedOn=null,cy||(cy=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,DR)))}var Ap=null;function sE(n){Ap!==n&&(Ap=n,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){Ap===n&&(Ap=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],f=n[i+2];if(typeof l!="function"){if(ly(l||a)===null)continue;break}var b=Al(a);b!==null&&(n.splice(i,3),i-=3,Zm(b,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function dh(n){function i(D){return vp(D,n)}Ga!==null&&vp(Ga,n),Va!==null&&vp(Va,n),Xa!==null&&vp(Xa,n),ch.forEach(i),uh.forEach(i);for(var a=0;a<Ya.length;a++){var l=Ya[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Ya.length&&(a=Ya[0],a.blockedOn===null);)nE(a),a.blockedOn===null&&Ya.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],b=a[l+1],_=f[Mn]||null;if(typeof b=="function")_||sE(a);else if(_){var C=null;if(b&&b.hasAttribute("formAction")){if(f=b,_=b[Mn]||null)C=_.formAction;else if(ly(f)!==null)continue}else C=_.action;typeof C=="function"?a[l+1]=C:(a.splice(l,3),l-=3),sE(a)}}}function uy(n){this._internalRoot=n}Sp.prototype.render=uy.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Yn();Q_(a,l,n,i,null,null)},Sp.prototype.unmount=uy.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;n.tag===0&&$l(),Q_(n.current,2,null,n,null,null),ip(),i[vl]=null}};function Sp(n){this._internalRoot=n}Sp.prototype.unstable_scheduleHydration=function(n){if(n){var i=Lv();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Ya.length&&i!==0&&i<Ya[a].priority;a++);Ya.splice(a,0,n),a===0&&nE(n)}};var aE=t.version;if(aE!=="19.0.0")throw Error(s(527,aE,"19.0.0"));rt.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=X(i),n=n!==null?st(n):null,n=n===null?null:n.stateNode,n};var LR={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:G,findFiberByHostInstance:Lr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_p.isDisabled&&_p.supportsFiber)try{bu=_p.inject(LR),Bn=_p}catch{}}return ph.createRoot=function(n,i){if(!r(n))throw Error(s(299));var a=!1,l="",f=_S,b=ES,_=wS,C=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(C=i.unstable_transitionCallbacks)),i=K_(n,1,!1,null,null,a,l,f,b,_,C,null),n[vl]=i.current,Yb(n.nodeType===8?n.parentNode:n),new uy(i)},ph.hydrateRoot=function(n,i,a){if(!r(n))throw Error(s(299));var l=!1,f="",b=_S,_=ES,C=wS,D=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(b=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),i=K_(n,1,!0,i,a??null,l,f,b,_,C,D,H),i.context=W_(null),a=i.current,l=Yn(),f=Fa(l),f.callback=null,ja(a,f,l),i.current.lanes=l,vu(i,l),ss(i),n[vl]=i.current,Yb(n),new Sp(i)},ph.version="19.0.0",ph}var mE;function GR(){if(mE)return py.exports;mE=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(t){console.error(t)}}return u(),py.exports=qR(),py.exports}var VR=GR();function bw(u,t){return function(){return u.apply(t,arguments)}}const{toString:XR}=Object.prototype,{getPrototypeOf:rv}=Object,Hg=(u=>t=>{const e=XR.call(t);return u[e]||(u[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),Qi=u=>(u=u.toLowerCase(),t=>Hg(t)===u),zg=u=>t=>typeof t===u,{isArray:fu}=Array,Bh=zg("undefined");function YR(u){return u!==null&&!Bh(u)&&u.constructor!==null&&!Bh(u.constructor)&&ai(u.constructor.isBuffer)&&u.constructor.isBuffer(u)}const yw=Qi("ArrayBuffer");function $R(u){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(u):t=u&&u.buffer&&yw(u.buffer),t}const KR=zg("string"),ai=zg("function"),vw=zg("number"),Ug=u=>u!==null&&typeof u=="object",WR=u=>u===!0||u===!1,Mp=u=>{if(Hg(u)!=="object")return!1;const t=rv(u);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in u)&&!(Symbol.iterator in u)},QR=Qi("Date"),ZR=Qi("File"),JR=Qi("Blob"),tM=Qi("FileList"),eM=u=>Ug(u)&&ai(u.pipe),nM=u=>{let t;return u&&(typeof FormData=="function"&&u instanceof FormData||ai(u.append)&&((t=Hg(u))==="formdata"||t==="object"&&ai(u.toString)&&u.toString()==="[object FormData]"))},iM=Qi("URLSearchParams"),[sM,aM,rM,oM]=["ReadableStream","Request","Response","Headers"].map(Qi),lM=u=>u.trim?u.trim():u.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function af(u,t,{allOwnKeys:e=!1}={}){if(u===null||typeof u>"u")return;let s,r;if(typeof u!="object"&&(u=[u]),fu(u))for(s=0,r=u.length;s<r;s++)t.call(null,u[s],s,u);else{const o=e?Object.getOwnPropertyNames(u):Object.keys(u),c=o.length;let d;for(s=0;s<c;s++)d=o[s],t.call(null,u[d],d,u)}}function Aw(u,t){t=t.toLowerCase();const e=Object.keys(u);let s=e.length,r;for(;s-- >0;)if(r=e[s],t===r.toLowerCase())return r;return null}const oo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Sw=u=>!Bh(u)&&u!==oo;function Ly(){const{caseless:u}=Sw(this)&&this||{},t={},e=(s,r)=>{const o=u&&Aw(t,r)||r;Mp(t[o])&&Mp(s)?t[o]=Ly(t[o],s):Mp(s)?t[o]=Ly({},s):fu(s)?t[o]=s.slice():t[o]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&af(arguments[s],e);return t}const cM=(u,t,e,{allOwnKeys:s}={})=>(af(t,(r,o)=>{e&&ai(r)?u[o]=bw(r,e):u[o]=r},{allOwnKeys:s}),u),uM=u=>(u.charCodeAt(0)===65279&&(u=u.slice(1)),u),hM=(u,t,e,s)=>{u.prototype=Object.create(t.prototype,s),u.prototype.constructor=u,Object.defineProperty(u,"super",{value:t.prototype}),e&&Object.assign(u.prototype,e)},dM=(u,t,e,s)=>{let r,o,c;const d={};if(t=t||{},u==null)return t;do{for(r=Object.getOwnPropertyNames(u),o=r.length;o-- >0;)c=r[o],(!s||s(c,u,t))&&!d[c]&&(t[c]=u[c],d[c]=!0);u=e!==!1&&rv(u)}while(u&&(!e||e(u,t))&&u!==Object.prototype);return t},fM=(u,t,e)=>{u=String(u),(e===void 0||e>u.length)&&(e=u.length),e-=t.length;const s=u.indexOf(t,e);return s!==-1&&s===e},pM=u=>{if(!u)return null;if(fu(u))return u;let t=u.length;if(!vw(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=u[t];return e},gM=(u=>t=>u&&t instanceof u)(typeof Uint8Array<"u"&&rv(Uint8Array)),mM=(u,t)=>{const s=(u&&u[Symbol.iterator]).call(u);let r;for(;(r=s.next())&&!r.done;){const o=r.value;t.call(u,o[0],o[1])}},bM=(u,t)=>{let e;const s=[];for(;(e=u.exec(t))!==null;)s.push(e);return s},yM=Qi("HTMLFormElement"),vM=u=>u.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,s,r){return s.toUpperCase()+r}),bE=(({hasOwnProperty:u})=>(t,e)=>u.call(t,e))(Object.prototype),AM=Qi("RegExp"),_w=(u,t)=>{const e=Object.getOwnPropertyDescriptors(u),s={};af(e,(r,o)=>{let c;(c=t(r,o,u))!==!1&&(s[o]=c||r)}),Object.defineProperties(u,s)},SM=u=>{_w(u,(t,e)=>{if(ai(u)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const s=u[e];if(ai(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},_M=(u,t)=>{const e={},s=r=>{r.forEach(o=>{e[o]=!0})};return fu(u)?s(u):s(String(u).split(t)),e},EM=()=>{},wM=(u,t)=>u!=null&&Number.isFinite(u=+u)?u:t;function TM(u){return!!(u&&ai(u.append)&&u[Symbol.toStringTag]==="FormData"&&u[Symbol.iterator])}const xM=u=>{const t=new Array(10),e=(s,r)=>{if(Ug(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[r]=s;const o=fu(s)?[]:{};return af(s,(c,d)=>{const p=e(c,r+1);!Bh(p)&&(o[d]=p)}),t[r]=void 0,o}}return s};return e(u,0)},CM=Qi("AsyncFunction"),RM=u=>u&&(Ug(u)||ai(u))&&ai(u.then)&&ai(u.catch),Ew=((u,t)=>u?setImmediate:t?((e,s)=>(oo.addEventListener("message",({source:r,data:o})=>{r===oo&&o===e&&s.length&&s.shift()()},!1),r=>{s.push(r),oo.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",ai(oo.postMessage)),MM=typeof queueMicrotask<"u"?queueMicrotask.bind(oo):typeof process<"u"&&process.nextTick||Ew,Y={isArray:fu,isArrayBuffer:yw,isBuffer:YR,isFormData:nM,isArrayBufferView:$R,isString:KR,isNumber:vw,isBoolean:WR,isObject:Ug,isPlainObject:Mp,isReadableStream:sM,isRequest:aM,isResponse:rM,isHeaders:oM,isUndefined:Bh,isDate:QR,isFile:ZR,isBlob:JR,isRegExp:AM,isFunction:ai,isStream:eM,isURLSearchParams:iM,isTypedArray:gM,isFileList:tM,forEach:af,merge:Ly,extend:cM,trim:lM,stripBOM:uM,inherits:hM,toFlatObject:dM,kindOf:Hg,kindOfTest:Qi,endsWith:fM,toArray:pM,forEachEntry:mM,matchAll:bM,isHTMLForm:yM,hasOwnProperty:bE,hasOwnProp:bE,reduceDescriptors:_w,freezeMethods:SM,toObjectSet:_M,toCamelCase:vM,noop:EM,toFiniteNumber:wM,findKey:Aw,global:oo,isContextDefined:Sw,isSpecCompliantForm:TM,toJSONObject:xM,isAsyncFn:CM,isThenable:RM,setImmediate:Ew,asap:MM};function Mt(u,t,e,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=u,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}Y.inherits(Mt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const ww=Mt.prototype,Tw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(u=>{Tw[u]={value:u}});Object.defineProperties(Mt,Tw);Object.defineProperty(ww,"isAxiosError",{value:!0});Mt.from=(u,t,e,s,r,o)=>{const c=Object.create(ww);return Y.toFlatObject(u,c,function(p){return p!==Error.prototype},d=>d!=="isAxiosError"),Mt.call(c,u.message,t,e,s,r),c.cause=u,c.name=u.name,o&&Object.assign(c,o),c};const OM=null;function Ny(u){return Y.isPlainObject(u)||Y.isArray(u)}function xw(u){return Y.endsWith(u,"[]")?u.slice(0,-2):u}function yE(u,t,e){return u?u.concat(t).map(function(r,o){return r=xw(r),!e&&o?"["+r+"]":r}).join(e?".":""):t}function DM(u){return Y.isArray(u)&&!u.some(Ny)}const LM=Y.toFlatObject(Y,{},null,function(t){return/^is[A-Z]/.test(t)});function Bg(u,t,e){if(!Y.isObject(u))throw new TypeError("target must be an object");t=t||new FormData,e=Y.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,M){return!Y.isUndefined(M[w])});const s=e.metaTokens,r=e.visitor||m,o=e.dots,c=e.indexes,p=(e.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(t);if(!Y.isFunction(r))throw new TypeError("visitor must be a function");function g(A){if(A===null)return"";if(Y.isDate(A))return A.toISOString();if(!p&&Y.isBlob(A))throw new Mt("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(A)||Y.isTypedArray(A)?p&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function m(A,w,M){let R=A;if(A&&!M&&typeof A=="object"){if(Y.endsWith(w,"{}"))w=s?w:w.slice(0,-2),A=JSON.stringify(A);else if(Y.isArray(A)&&DM(A)||(Y.isFileList(A)||Y.endsWith(w,"[]"))&&(R=Y.toArray(A)))return w=xw(w),R.forEach(function(O,N){!(Y.isUndefined(O)||O===null)&&t.append(c===!0?yE([w],N,o):c===null?w:w+"[]",g(O))}),!1}return Ny(A)?!0:(t.append(yE(M,w,o),g(A)),!1)}const y=[],v=Object.assign(LM,{defaultVisitor:m,convertValue:g,isVisitable:Ny});function S(A,w){if(!Y.isUndefined(A)){if(y.indexOf(A)!==-1)throw Error("Circular reference detected in "+w.join("."));y.push(A),Y.forEach(A,function(R,P){(!(Y.isUndefined(R)||R===null)&&r.call(t,R,Y.isString(P)?P.trim():P,w,v))===!0&&S(R,w?w.concat(P):[P])}),y.pop()}}if(!Y.isObject(u))throw new TypeError("data must be an object");return S(u),t}function vE(u){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(u).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function ov(u,t){this._pairs=[],u&&Bg(u,this,t)}const Cw=ov.prototype;Cw.append=function(t,e){this._pairs.push([t,e])};Cw.toString=function(t){const e=t?function(s){return t.call(this,s,vE)}:vE;return this._pairs.map(function(r){return e(r[0])+"="+e(r[1])},"").join("&")};function NM(u){return encodeURIComponent(u).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Rw(u,t,e){if(!t)return u;const s=e&&e.encode||NM;Y.isFunction(e)&&(e={serialize:e});const r=e&&e.serialize;let o;if(r?o=r(t,e):o=Y.isURLSearchParams(t)?t.toString():new ov(t,e).toString(s),o){const c=u.indexOf("#");c!==-1&&(u=u.slice(0,c)),u+=(u.indexOf("?")===-1?"?":"&")+o}return u}class AE{constructor(){this.handlers=[]}use(t,e,s){return this.handlers.push({fulfilled:t,rejected:e,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Y.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Mw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kM=typeof URLSearchParams<"u"?URLSearchParams:ov,PM=typeof FormData<"u"?FormData:null,FM=typeof Blob<"u"?Blob:null,jM={isBrowser:!0,classes:{URLSearchParams:kM,FormData:PM,Blob:FM},protocols:["http","https","file","blob","url","data"]},lv=typeof window<"u"&&typeof document<"u",ky=typeof navigator=="object"&&navigator||void 0,HM=lv&&(!ky||["ReactNative","NativeScript","NS"].indexOf(ky.product)<0),zM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",UM=lv&&window.location.href||"http://localhost",BM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:lv,hasStandardBrowserEnv:HM,hasStandardBrowserWebWorkerEnv:zM,navigator:ky,origin:UM},Symbol.toStringTag,{value:"Module"})),bn={...BM,...jM};function IM(u,t){return Bg(u,new bn.classes.URLSearchParams,Object.assign({visitor:function(e,s,r,o){return bn.isNode&&Y.isBuffer(e)?(this.append(s,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function qM(u){return Y.matchAll(/\w+|\[(\w*)]/g,u).map(t=>t[0]==="[]"?"":t[1]||t[0])}function GM(u){const t={},e=Object.keys(u);let s;const r=e.length;let o;for(s=0;s<r;s++)o=e[s],t[o]=u[o];return t}function Ow(u){function t(e,s,r,o){let c=e[o++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),p=o>=e.length;return c=!c&&Y.isArray(r)?r.length:c,p?(Y.hasOwnProp(r,c)?r[c]=[r[c],s]:r[c]=s,!d):((!r[c]||!Y.isObject(r[c]))&&(r[c]=[]),t(e,s,r[c],o)&&Y.isArray(r[c])&&(r[c]=GM(r[c])),!d)}if(Y.isFormData(u)&&Y.isFunction(u.entries)){const e={};return Y.forEachEntry(u,(s,r)=>{t(qM(s),r,e,0)}),e}return null}function VM(u,t,e){if(Y.isString(u))try{return(t||JSON.parse)(u),Y.trim(u)}catch(s){if(s.name!=="SyntaxError")throw s}return(e||JSON.stringify)(u)}const rf={transitional:Mw,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const s=e.getContentType()||"",r=s.indexOf("application/json")>-1,o=Y.isObject(t);if(o&&Y.isHTMLForm(t)&&(t=new FormData(t)),Y.isFormData(t))return r?JSON.stringify(Ow(t)):t;if(Y.isArrayBuffer(t)||Y.isBuffer(t)||Y.isStream(t)||Y.isFile(t)||Y.isBlob(t)||Y.isReadableStream(t))return t;if(Y.isArrayBufferView(t))return t.buffer;if(Y.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return IM(t,this.formSerializer).toString();if((d=Y.isFileList(t))||s.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Bg(d?{"files[]":t}:t,p&&new p,this.formSerializer)}}return o||r?(e.setContentType("application/json",!1),VM(t)):t}],transformResponse:[function(t){const e=this.transitional||rf.transitional,s=e&&e.forcedJSONParsing,r=this.responseType==="json";if(Y.isResponse(t)||Y.isReadableStream(t))return t;if(t&&Y.isString(t)&&(s&&!this.responseType||r)){const c=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(d){if(c)throw d.name==="SyntaxError"?Mt.from(d,Mt.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bn.classes.FormData,Blob:bn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],u=>{rf.headers[u]={}});const XM=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),YM=u=>{const t={};let e,s,r;return u&&u.split(`
`).forEach(function(c){r=c.indexOf(":"),e=c.substring(0,r).trim().toLowerCase(),s=c.substring(r+1).trim(),!(!e||t[e]&&XM[e])&&(e==="set-cookie"?t[e]?t[e].push(s):t[e]=[s]:t[e]=t[e]?t[e]+", "+s:s)}),t},SE=Symbol("internals");function gh(u){return u&&String(u).trim().toLowerCase()}function Op(u){return u===!1||u==null?u:Y.isArray(u)?u.map(Op):String(u)}function $M(u){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=e.exec(u);)t[s[1]]=s[2];return t}const KM=u=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(u.trim());function yy(u,t,e,s,r){if(Y.isFunction(s))return s.call(this,t,e);if(r&&(t=e),!!Y.isString(t)){if(Y.isString(s))return t.indexOf(s)!==-1;if(Y.isRegExp(s))return s.test(t)}}function WM(u){return u.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,s)=>e.toUpperCase()+s)}function QM(u,t){const e=Y.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(u,s+e,{value:function(r,o,c){return this[s].call(this,t,r,o,c)},configurable:!0})})}let Un=class{constructor(t){t&&this.set(t)}set(t,e,s){const r=this;function o(d,p,g){const m=gh(p);if(!m)throw new Error("header name must be a non-empty string");const y=Y.findKey(r,m);(!y||r[y]===void 0||g===!0||g===void 0&&r[y]!==!1)&&(r[y||p]=Op(d))}const c=(d,p)=>Y.forEach(d,(g,m)=>o(g,m,p));if(Y.isPlainObject(t)||t instanceof this.constructor)c(t,e);else if(Y.isString(t)&&(t=t.trim())&&!KM(t))c(YM(t),e);else if(Y.isHeaders(t))for(const[d,p]of t.entries())o(p,d,s);else t!=null&&o(e,t,s);return this}get(t,e){if(t=gh(t),t){const s=Y.findKey(this,t);if(s){const r=this[s];if(!e)return r;if(e===!0)return $M(r);if(Y.isFunction(e))return e.call(this,r,s);if(Y.isRegExp(e))return e.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=gh(t),t){const s=Y.findKey(this,t);return!!(s&&this[s]!==void 0&&(!e||yy(this,this[s],s,e)))}return!1}delete(t,e){const s=this;let r=!1;function o(c){if(c=gh(c),c){const d=Y.findKey(s,c);d&&(!e||yy(s,s[d],d,e))&&(delete s[d],r=!0)}}return Y.isArray(t)?t.forEach(o):o(t),r}clear(t){const e=Object.keys(this);let s=e.length,r=!1;for(;s--;){const o=e[s];(!t||yy(this,this[o],o,t,!0))&&(delete this[o],r=!0)}return r}normalize(t){const e=this,s={};return Y.forEach(this,(r,o)=>{const c=Y.findKey(s,o);if(c){e[c]=Op(r),delete e[o];return}const d=t?WM(o):String(o).trim();d!==o&&delete e[o],e[d]=Op(r),s[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return Y.forEach(this,(s,r)=>{s!=null&&s!==!1&&(e[r]=t&&Y.isArray(s)?s.join(", "):s)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const s=new this(t);return e.forEach(r=>s.set(r)),s}static accessor(t){const s=(this[SE]=this[SE]={accessors:{}}).accessors,r=this.prototype;function o(c){const d=gh(c);s[d]||(QM(r,c),s[d]=!0)}return Y.isArray(t)?t.forEach(o):o(t),this}};Un.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(Un.prototype,({value:u},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>u,set(s){this[e]=s}}});Y.freezeMethods(Un);function vy(u,t){const e=this||rf,s=t||e,r=Un.from(s.headers);let o=s.data;return Y.forEach(u,function(d){o=d.call(e,o,r.normalize(),t?t.status:void 0)}),r.normalize(),o}function Dw(u){return!!(u&&u.__CANCEL__)}function pu(u,t,e){Mt.call(this,u??"canceled",Mt.ERR_CANCELED,t,e),this.name="CanceledError"}Y.inherits(pu,Mt,{__CANCEL__:!0});function Lw(u,t,e){const s=e.config.validateStatus;!e.status||!s||s(e.status)?u(e):t(new Mt("Request failed with status code "+e.status,[Mt.ERR_BAD_REQUEST,Mt.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function ZM(u){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(u);return t&&t[1]||""}function JM(u,t){u=u||10;const e=new Array(u),s=new Array(u);let r=0,o=0,c;return t=t!==void 0?t:1e3,function(p){const g=Date.now(),m=s[o];c||(c=g),e[r]=p,s[r]=g;let y=o,v=0;for(;y!==r;)v+=e[y++],y=y%u;if(r=(r+1)%u,r===o&&(o=(o+1)%u),g-c<t)return;const S=m&&g-m;return S?Math.round(v*1e3/S):void 0}}function t2(u,t){let e=0,s=1e3/t,r,o;const c=(g,m=Date.now())=>{e=m,r=null,o&&(clearTimeout(o),o=null),u.apply(null,g)};return[(...g)=>{const m=Date.now(),y=m-e;y>=s?c(g,m):(r=g,o||(o=setTimeout(()=>{o=null,c(r)},s-y)))},()=>r&&c(r)]}const hg=(u,t,e=3)=>{let s=0;const r=JM(50,250);return t2(o=>{const c=o.loaded,d=o.lengthComputable?o.total:void 0,p=c-s,g=r(p),m=c<=d;s=c;const y={loaded:c,total:d,progress:d?c/d:void 0,bytes:p,rate:g||void 0,estimated:g&&d&&m?(d-c)/g:void 0,event:o,lengthComputable:d!=null,[t?"download":"upload"]:!0};u(y)},e)},_E=(u,t)=>{const e=u!=null;return[s=>t[0]({lengthComputable:e,total:u,loaded:s}),t[1]]},EE=u=>(...t)=>Y.asap(()=>u(...t)),e2=bn.hasStandardBrowserEnv?((u,t)=>e=>(e=new URL(e,bn.origin),u.protocol===e.protocol&&u.host===e.host&&(t||u.port===e.port)))(new URL(bn.origin),bn.navigator&&/(msie|trident)/i.test(bn.navigator.userAgent)):()=>!0,n2=bn.hasStandardBrowserEnv?{write(u,t,e,s,r,o){const c=[u+"="+encodeURIComponent(t)];Y.isNumber(e)&&c.push("expires="+new Date(e).toGMTString()),Y.isString(s)&&c.push("path="+s),Y.isString(r)&&c.push("domain="+r),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read(u){const t=document.cookie.match(new RegExp("(^|;\\s*)("+u+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(u){this.write(u,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function i2(u){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(u)}function s2(u,t){return t?u.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):u}function Nw(u,t,e){let s=!i2(t);return u&&(s||e==!1)?s2(u,t):t}const wE=u=>u instanceof Un?{...u}:u;function rl(u,t){t=t||{};const e={};function s(g,m,y,v){return Y.isPlainObject(g)&&Y.isPlainObject(m)?Y.merge.call({caseless:v},g,m):Y.isPlainObject(m)?Y.merge({},m):Y.isArray(m)?m.slice():m}function r(g,m,y,v){if(Y.isUndefined(m)){if(!Y.isUndefined(g))return s(void 0,g,y,v)}else return s(g,m,y,v)}function o(g,m){if(!Y.isUndefined(m))return s(void 0,m)}function c(g,m){if(Y.isUndefined(m)){if(!Y.isUndefined(g))return s(void 0,g)}else return s(void 0,m)}function d(g,m,y){if(y in t)return s(g,m);if(y in u)return s(void 0,g)}const p={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(g,m,y)=>r(wE(g),wE(m),y,!0)};return Y.forEach(Object.keys(Object.assign({},u,t)),function(m){const y=p[m]||r,v=y(u[m],t[m],m);Y.isUndefined(v)&&y!==d||(e[m]=v)}),e}const kw=u=>{const t=rl({},u);let{data:e,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:o,headers:c,auth:d}=t;t.headers=c=Un.from(c),t.url=Rw(Nw(t.baseURL,t.url,t.allowAbsoluteUrls),u.params,u.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let p;if(Y.isFormData(e)){if(bn.hasStandardBrowserEnv||bn.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((p=c.getContentType())!==!1){const[g,...m]=p?p.split(";").map(y=>y.trim()).filter(Boolean):[];c.setContentType([g||"multipart/form-data",...m].join("; "))}}if(bn.hasStandardBrowserEnv&&(s&&Y.isFunction(s)&&(s=s(t)),s||s!==!1&&e2(t.url))){const g=r&&o&&n2.read(o);g&&c.set(r,g)}return t},a2=typeof XMLHttpRequest<"u",r2=a2&&function(u){return new Promise(function(e,s){const r=kw(u);let o=r.data;const c=Un.from(r.headers).normalize();let{responseType:d,onUploadProgress:p,onDownloadProgress:g}=r,m,y,v,S,A;function w(){S&&S(),A&&A(),r.cancelToken&&r.cancelToken.unsubscribe(m),r.signal&&r.signal.removeEventListener("abort",m)}let M=new XMLHttpRequest;M.open(r.method.toUpperCase(),r.url,!0),M.timeout=r.timeout;function R(){if(!M)return;const O=Un.from("getAllResponseHeaders"in M&&M.getAllResponseHeaders()),F={data:!d||d==="text"||d==="json"?M.responseText:M.response,status:M.status,statusText:M.statusText,headers:O,config:u,request:M};Lw(function(z){e(z),w()},function(z){s(z),w()},F),M=null}"onloadend"in M?M.onloadend=R:M.onreadystatechange=function(){!M||M.readyState!==4||M.status===0&&!(M.responseURL&&M.responseURL.indexOf("file:")===0)||setTimeout(R)},M.onabort=function(){M&&(s(new Mt("Request aborted",Mt.ECONNABORTED,u,M)),M=null)},M.onerror=function(){s(new Mt("Network Error",Mt.ERR_NETWORK,u,M)),M=null},M.ontimeout=function(){let N=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const F=r.transitional||Mw;r.timeoutErrorMessage&&(N=r.timeoutErrorMessage),s(new Mt(N,F.clarifyTimeoutError?Mt.ETIMEDOUT:Mt.ECONNABORTED,u,M)),M=null},o===void 0&&c.setContentType(null),"setRequestHeader"in M&&Y.forEach(c.toJSON(),function(N,F){M.setRequestHeader(F,N)}),Y.isUndefined(r.withCredentials)||(M.withCredentials=!!r.withCredentials),d&&d!=="json"&&(M.responseType=r.responseType),g&&([v,A]=hg(g,!0),M.addEventListener("progress",v)),p&&M.upload&&([y,S]=hg(p),M.upload.addEventListener("progress",y),M.upload.addEventListener("loadend",S)),(r.cancelToken||r.signal)&&(m=O=>{M&&(s(!O||O.type?new pu(null,u,M):O),M.abort(),M=null)},r.cancelToken&&r.cancelToken.subscribe(m),r.signal&&(r.signal.aborted?m():r.signal.addEventListener("abort",m)));const P=ZM(r.url);if(P&&bn.protocols.indexOf(P)===-1){s(new Mt("Unsupported protocol "+P+":",Mt.ERR_BAD_REQUEST,u));return}M.send(o||null)})},o2=(u,t)=>{const{length:e}=u=u?u.filter(Boolean):[];if(t||e){let s=new AbortController,r;const o=function(g){if(!r){r=!0,d();const m=g instanceof Error?g:this.reason;s.abort(m instanceof Mt?m:new pu(m instanceof Error?m.message:m))}};let c=t&&setTimeout(()=>{c=null,o(new Mt(`timeout ${t} of ms exceeded`,Mt.ETIMEDOUT))},t);const d=()=>{u&&(c&&clearTimeout(c),c=null,u.forEach(g=>{g.unsubscribe?g.unsubscribe(o):g.removeEventListener("abort",o)}),u=null)};u.forEach(g=>g.addEventListener("abort",o));const{signal:p}=s;return p.unsubscribe=()=>Y.asap(d),p}},l2=function*(u,t){let e=u.byteLength;if(e<t){yield u;return}let s=0,r;for(;s<e;)r=s+t,yield u.slice(s,r),s=r},c2=async function*(u,t){for await(const e of u2(u))yield*l2(e,t)},u2=async function*(u){if(u[Symbol.asyncIterator]){yield*u;return}const t=u.getReader();try{for(;;){const{done:e,value:s}=await t.read();if(e)break;yield s}}finally{await t.cancel()}},TE=(u,t,e,s)=>{const r=c2(u,t);let o=0,c,d=p=>{c||(c=!0,s&&s(p))};return new ReadableStream({async pull(p){try{const{done:g,value:m}=await r.next();if(g){d(),p.close();return}let y=m.byteLength;if(e){let v=o+=y;e(v)}p.enqueue(new Uint8Array(m))}catch(g){throw d(g),g}},cancel(p){return d(p),r.return()}},{highWaterMark:2})},Ig=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Pw=Ig&&typeof ReadableStream=="function",h2=Ig&&(typeof TextEncoder=="function"?(u=>t=>u.encode(t))(new TextEncoder):async u=>new Uint8Array(await new Response(u).arrayBuffer())),Fw=(u,...t)=>{try{return!!u(...t)}catch{return!1}},d2=Pw&&Fw(()=>{let u=!1;const t=new Request(bn.origin,{body:new ReadableStream,method:"POST",get duplex(){return u=!0,"half"}}).headers.has("Content-Type");return u&&!t}),xE=64*1024,Py=Pw&&Fw(()=>Y.isReadableStream(new Response("").body)),dg={stream:Py&&(u=>u.body)};Ig&&(u=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!dg[t]&&(dg[t]=Y.isFunction(u[t])?e=>e[t]():(e,s)=>{throw new Mt(`Response type '${t}' is not supported`,Mt.ERR_NOT_SUPPORT,s)})})})(new Response);const f2=async u=>{if(u==null)return 0;if(Y.isBlob(u))return u.size;if(Y.isSpecCompliantForm(u))return(await new Request(bn.origin,{method:"POST",body:u}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(u)||Y.isArrayBuffer(u))return u.byteLength;if(Y.isURLSearchParams(u)&&(u=u+""),Y.isString(u))return(await h2(u)).byteLength},p2=async(u,t)=>{const e=Y.toFiniteNumber(u.getContentLength());return e??f2(t)},g2=Ig&&(async u=>{let{url:t,method:e,data:s,signal:r,cancelToken:o,timeout:c,onDownloadProgress:d,onUploadProgress:p,responseType:g,headers:m,withCredentials:y="same-origin",fetchOptions:v}=kw(u);g=g?(g+"").toLowerCase():"text";let S=o2([r,o&&o.toAbortSignal()],c),A;const w=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let M;try{if(p&&d2&&e!=="get"&&e!=="head"&&(M=await p2(m,s))!==0){let F=new Request(t,{method:"POST",body:s,duplex:"half"}),B;if(Y.isFormData(s)&&(B=F.headers.get("content-type"))&&m.setContentType(B),F.body){const[z,V]=_E(M,hg(EE(p)));s=TE(F.body,xE,z,V)}}Y.isString(y)||(y=y?"include":"omit");const R="credentials"in Request.prototype;A=new Request(t,{...v,signal:S,method:e.toUpperCase(),headers:m.normalize().toJSON(),body:s,duplex:"half",credentials:R?y:void 0});let P=await fetch(A);const O=Py&&(g==="stream"||g==="response");if(Py&&(d||O&&w)){const F={};["status","statusText","headers"].forEach(G=>{F[G]=P[G]});const B=Y.toFiniteNumber(P.headers.get("content-length")),[z,V]=d&&_E(B,hg(EE(d),!0))||[];P=new Response(TE(P.body,xE,z,()=>{V&&V(),w&&w()}),F)}g=g||"text";let N=await dg[Y.findKey(dg,g)||"text"](P,u);return!O&&w&&w(),await new Promise((F,B)=>{Lw(F,B,{data:N,headers:Un.from(P.headers),status:P.status,statusText:P.statusText,config:u,request:A})})}catch(R){throw w&&w(),R&&R.name==="TypeError"&&/fetch/i.test(R.message)?Object.assign(new Mt("Network Error",Mt.ERR_NETWORK,u,A),{cause:R.cause||R}):Mt.from(R,R&&R.code,u,A)}}),Fy={http:OM,xhr:r2,fetch:g2};Y.forEach(Fy,(u,t)=>{if(u){try{Object.defineProperty(u,"name",{value:t})}catch{}Object.defineProperty(u,"adapterName",{value:t})}});const CE=u=>`- ${u}`,m2=u=>Y.isFunction(u)||u===null||u===!1,jw={getAdapter:u=>{u=Y.isArray(u)?u:[u];const{length:t}=u;let e,s;const r={};for(let o=0;o<t;o++){e=u[o];let c;if(s=e,!m2(e)&&(s=Fy[(c=String(e)).toLowerCase()],s===void 0))throw new Mt(`Unknown adapter '${c}'`);if(s)break;r[c||"#"+o]=s}if(!s){const o=Object.entries(r).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=t?o.length>1?`since :
`+o.map(CE).join(`
`):" "+CE(o[0]):"as no adapter specified";throw new Mt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s},adapters:Fy};function Ay(u){if(u.cancelToken&&u.cancelToken.throwIfRequested(),u.signal&&u.signal.aborted)throw new pu(null,u)}function RE(u){return Ay(u),u.headers=Un.from(u.headers),u.data=vy.call(u,u.transformRequest),["post","put","patch"].indexOf(u.method)!==-1&&u.headers.setContentType("application/x-www-form-urlencoded",!1),jw.getAdapter(u.adapter||rf.adapter)(u).then(function(s){return Ay(u),s.data=vy.call(u,u.transformResponse,s),s.headers=Un.from(s.headers),s},function(s){return Dw(s)||(Ay(u),s&&s.response&&(s.response.data=vy.call(u,u.transformResponse,s.response),s.response.headers=Un.from(s.response.headers))),Promise.reject(s)})}const Hw="1.8.4",qg={};["object","boolean","number","function","string","symbol"].forEach((u,t)=>{qg[u]=function(s){return typeof s===u||"a"+(t<1?"n ":" ")+u}});const ME={};qg.transitional=function(t,e,s){function r(o,c){return"[Axios v"+Hw+"] Transitional option '"+o+"'"+c+(s?". "+s:"")}return(o,c,d)=>{if(t===!1)throw new Mt(r(c," has been removed"+(e?" in "+e:"")),Mt.ERR_DEPRECATED);return e&&!ME[c]&&(ME[c]=!0,console.warn(r(c," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(o,c,d):!0}};qg.spelling=function(t){return(e,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function b2(u,t,e){if(typeof u!="object")throw new Mt("options must be an object",Mt.ERR_BAD_OPTION_VALUE);const s=Object.keys(u);let r=s.length;for(;r-- >0;){const o=s[r],c=t[o];if(c){const d=u[o],p=d===void 0||c(d,o,u);if(p!==!0)throw new Mt("option "+o+" must be "+p,Mt.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new Mt("Unknown option "+o,Mt.ERR_BAD_OPTION)}}const Dp={assertOptions:b2,validators:qg},as=Dp.validators;let al=class{constructor(t){this.defaults=t,this.interceptors={request:new AE,response:new AE}}async request(t,e){try{return await this._request(t,e)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=rl(this.defaults,e);const{transitional:s,paramsSerializer:r,headers:o}=e;s!==void 0&&Dp.assertOptions(s,{silentJSONParsing:as.transitional(as.boolean),forcedJSONParsing:as.transitional(as.boolean),clarifyTimeoutError:as.transitional(as.boolean)},!1),r!=null&&(Y.isFunction(r)?e.paramsSerializer={serialize:r}:Dp.assertOptions(r,{encode:as.function,serialize:as.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),Dp.assertOptions(e,{baseUrl:as.spelling("baseURL"),withXsrfToken:as.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let c=o&&Y.merge(o.common,o[e.method]);o&&Y.forEach(["delete","get","head","post","put","patch","common"],A=>{delete o[A]}),e.headers=Un.concat(c,o);const d=[];let p=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(e)===!1||(p=p&&w.synchronous,d.unshift(w.fulfilled,w.rejected))});const g=[];this.interceptors.response.forEach(function(w){g.push(w.fulfilled,w.rejected)});let m,y=0,v;if(!p){const A=[RE.bind(this),void 0];for(A.unshift.apply(A,d),A.push.apply(A,g),v=A.length,m=Promise.resolve(e);y<v;)m=m.then(A[y++],A[y++]);return m}v=d.length;let S=e;for(y=0;y<v;){const A=d[y++],w=d[y++];try{S=A(S)}catch(M){w.call(this,M);break}}try{m=RE.call(this,S)}catch(A){return Promise.reject(A)}for(y=0,v=g.length;y<v;)m=m.then(g[y++],g[y++]);return m}getUri(t){t=rl(this.defaults,t);const e=Nw(t.baseURL,t.url,t.allowAbsoluteUrls);return Rw(e,t.params,t.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(t){al.prototype[t]=function(e,s){return this.request(rl(s||{},{method:t,url:e,data:(s||{}).data}))}});Y.forEach(["post","put","patch"],function(t){function e(s){return function(o,c,d){return this.request(rl(d||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}al.prototype[t]=e(),al.prototype[t+"Form"]=e(!0)});let y2=class zw{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(o){e=o});const s=this;this.promise.then(r=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](r);s._listeners=null}),this.promise.then=r=>{let o;const c=new Promise(d=>{s.subscribe(d),o=d}).then(r);return c.cancel=function(){s.unsubscribe(o)},c},t(function(o,c,d){s.reason||(s.reason=new pu(o,c,d),e(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=s=>{t.abort(s)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new zw(function(r){t=r}),cancel:t}}};function v2(u){return function(e){return u.apply(null,e)}}function A2(u){return Y.isObject(u)&&u.isAxiosError===!0}const jy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jy).forEach(([u,t])=>{jy[t]=u});function Uw(u){const t=new al(u),e=bw(al.prototype.request,t);return Y.extend(e,al.prototype,t,{allOwnKeys:!0}),Y.extend(e,t,null,{allOwnKeys:!0}),e.create=function(r){return Uw(rl(u,r))},e}const xe=Uw(rf);xe.Axios=al;xe.CanceledError=pu;xe.CancelToken=y2;xe.isCancel=Dw;xe.VERSION=Hw;xe.toFormData=Bg;xe.AxiosError=Mt;xe.Cancel=xe.CanceledError;xe.all=function(t){return Promise.all(t)};xe.spread=v2;xe.isAxiosError=A2;xe.mergeConfig=rl;xe.AxiosHeaders=Un;xe.formToJSON=u=>Ow(Y.isHTMLForm(u)?new FormData(u):u);xe.getAdapter=jw.getAdapter;xe.HttpStatusCode=jy;xe.default=xe;const{Axios:QN,AxiosError:ZN,CanceledError:JN,isCancel:tk,CancelToken:ek,VERSION:nk,all:ik,Cancel:sk,isAxiosError:ak,spread:rk,toFormData:ok,AxiosHeaders:lk,HttpStatusCode:ck,formToJSON:uk,getAdapter:hk,mergeConfig:dk}=xe;var Ln={},mh={},OE;function S2(){if(OE)return mh;OE=1,Object.defineProperty(mh,"__esModule",{value:!0}),mh.calculateRgba=void 0;var u;(function(s){s.maroon="#800000",s.red="#FF0000",s.orange="#FFA500",s.yellow="#FFFF00",s.olive="#808000",s.green="#008000",s.purple="#800080",s.fuchsia="#FF00FF",s.lime="#00FF00",s.teal="#008080",s.aqua="#00FFFF",s.blue="#0000FF",s.navy="#000080",s.black="#000000",s.gray="#808080",s.silver="#C0C0C0",s.white="#FFFFFF"})(u||(u={}));var t=function(s,r){if(s.includes("/"))return s.replace("rgb(","rgba(");var o=s.substring(s.startsWith("rgba(")?5:4,s.length-1).trim(),c=o.split(",");return c.length===4?s.replace("rgb(","rgba("):c.length===3?"rgba(".concat(o,", ").concat(r,")"):"rgba(".concat(o," / ").concat(r,")")},e=function(s,r){if(s.startsWith("rgb"))return t(s,r);if(Object.keys(u).includes(s)&&(s=u[s]),s[0]==="#"&&(s=s.slice(1)),s.length===3){var o="";s.split("").forEach(function(d){o+=d,o+=d}),s=o}var c=(s.match(/.{2}/g)||[]).map(function(d){return parseInt(d,16)}).join(", ");return"rgba(".concat(c,", ").concat(r,")")};return mh.calculateRgba=e,mh}var bh={},DE;function _2(){if(DE)return bh;DE=1,Object.defineProperty(bh,"__esModule",{value:!0}),bh.parseLengthAndUnit=t,bh.cssValue=e;var u={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function t(s){if(typeof s=="number")return{value:s,unit:"px"};var r,o=(s.match(/^[0-9.]*/)||"").toString();o.includes(".")?r=parseFloat(o):r=parseInt(o,10);var c=(s.match(/[^0-9]*$/)||"").toString();return u[c]?{value:r,unit:c}:(console.warn("React Spinners: ".concat(s," is not a valid css value. Defaulting to ").concat(r,"px.")),{value:r,unit:"px"})}function e(s){var r=t(s);return"".concat(r.value).concat(r.unit)}return bh}var yh={},LE;function E2(){if(LE)return yh;LE=1,Object.defineProperty(yh,"__esModule",{value:!0}),yh.createAnimation=void 0;var u=function(t,e,s){var r="react-spinners-".concat(t,"-").concat(s);if(typeof window>"u"||!window.document)return r;var o=document.createElement("style");document.head.appendChild(o);var c=o.sheet,d=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return c&&c.insertRule(d,0),r};return yh.createAnimation=u,yh}var NE;function w2(){if(NE)return Ln;NE=1;var u=Ln&&Ln.__assign||function(){return u=Object.assign||function(m){for(var y,v=1,S=arguments.length;v<S;v++){y=arguments[v];for(var A in y)Object.prototype.hasOwnProperty.call(y,A)&&(m[A]=y[A])}return m},u.apply(this,arguments)},t=Ln&&Ln.__createBinding||(Object.create?function(m,y,v,S){S===void 0&&(S=v);var A=Object.getOwnPropertyDescriptor(y,v);(!A||("get"in A?!y.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return y[v]}}),Object.defineProperty(m,S,A)}:function(m,y,v,S){S===void 0&&(S=v),m[S]=y[v]}),e=Ln&&Ln.__setModuleDefault||(Object.create?function(m,y){Object.defineProperty(m,"default",{enumerable:!0,value:y})}:function(m,y){m.default=y}),s=Ln&&Ln.__importStar||function(m){if(m&&m.__esModule)return m;var y={};if(m!=null)for(var v in m)v!=="default"&&Object.prototype.hasOwnProperty.call(m,v)&&t(y,m,v);return e(y,m),y},r=Ln&&Ln.__rest||function(m,y){var v={};for(var S in m)Object.prototype.hasOwnProperty.call(m,S)&&y.indexOf(S)<0&&(v[S]=m[S]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var A=0,S=Object.getOwnPropertySymbols(m);A<S.length;A++)y.indexOf(S[A])<0&&Object.prototype.propertyIsEnumerable.call(m,S[A])&&(v[S[A]]=m[S[A]]);return v};Object.defineProperty(Ln,"__esModule",{value:!0});var o=s(jg()),c=S2(),d=_2(),p=E2();function g(m){var y=m.loading,v=y===void 0?!0:y,S=m.color,A=S===void 0?"#000000":S,w=m.speedMultiplier,M=w===void 0?1:w,R=m.cssOverride,P=R===void 0?{}:R,O=m.size,N=O===void 0?50:O,F=r(m,["loading","color","speedMultiplier","cssOverride","size"]),B=(0,d.parseLengthAndUnit)(N),z=B.value,V=B.unit,G=u({display:"inherit",position:"relative",width:(0,d.cssValue)(N),height:(0,d.cssValue)(N),transform:"rotate(165deg)"},P),et=z/5,it=(z-et)/2,dt=it-et,ut=(0,c.calculateRgba)(A,.75),ct=(0,p.createAnimation)("HashLoader","0% {width: ".concat(et,"px; box-shadow: ").concat(it,"px ").concat(-dt,"px ").concat(ut,", ").concat(-it,"px ").concat(dt,"px ").concat(ut,`}
    35% {width: `).concat((0,d.cssValue)(N),"; box-shadow: 0 ").concat(-dt,"px ").concat(ut,", 0 ").concat(dt,"px ").concat(ut,`}
    70% {width: `).concat(et,"px; box-shadow: ").concat(-it,"px ").concat(-dt,"px ").concat(ut,", ").concat(it,"px ").concat(dt,"px ").concat(ut,`}
    100% {box-shadow: `).concat(it,"px ").concat(-dt,"px ").concat(ut,", ").concat(-it,"px ").concat(dt,"px ").concat(ut,"}"),"before"),ft=(0,p.createAnimation)("HashLoader","0% {height: ".concat(et,"px; box-shadow: ").concat(dt,"px ").concat(it,"px ").concat(A,", ").concat(-dt,"px ").concat(-it,"px ").concat(A,`}
    35% {height: `).concat((0,d.cssValue)(N),"; box-shadow: ").concat(dt,"px 0 ").concat(A,", ").concat(-dt,"px 0 ").concat(A,`}
    70% {height: `).concat(et,"px; box-shadow: ").concat(dt,"px ").concat(-it,"px ").concat(A,", ").concat(-dt,"px ").concat(it,"px ").concat(A,`}
    100% {box-shadow: `).concat(dt,"px ").concat(it,"px ").concat(A,", ").concat(-dt,"px ").concat(-it,"px ").concat(A,"}"),"after"),$=function(Z){return{position:"absolute",top:"50%",left:"50%",display:"block",width:"".concat(z/5).concat(V),height:"".concat(z/5).concat(V),borderRadius:"".concat(z/10).concat(V),transform:"translate(-50%, -50%)",animationFillMode:"none",animation:"".concat(Z===1?ct:ft," ").concat(2/M,"s infinite")}};return v?o.createElement("span",u({style:G},F),o.createElement("span",{style:$(1)}),o.createElement("span",{style:$(2)})):null}return Ln.default=g,Ln}var T2=w2();const x2=av(T2);function ol({loading:u,message:t}){return L.jsxs("div",{className:"loading",children:[L.jsx(x2,{color:"grey",loading:u,size:150}),u?L.jsx("p",{children:t}):null]})}const C2="modulepreload",R2=function(u){return"/radar_frontend/"+u},kE={},Ep=function(t,e,s){let r=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));r=Promise.allSettled(e.map(p=>{if(p=R2(p),p in kE)return;kE[p]=!0;const g=p.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${m}`))return;const y=document.createElement("link");if(y.rel=g?"stylesheet":C2,g||(y.as="script"),y.crossOrigin="",y.href=p,d&&y.setAttribute("nonce",d),document.head.appendChild(y),g)return new Promise((v,S)=>{y.addEventListener("load",v),y.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return r.then(c=>{for(const d of c||[])d.status==="rejected"&&o(d.reason);return t().catch(o)})};var Hh={};Hh.d=(u,t)=>{for(var e in t)Hh.o(t,e)&&!Hh.o(u,e)&&Object.defineProperty(u,e,{enumerable:!0,get:t[e]})};Hh.o=(u,t)=>Object.prototype.hasOwnProperty.call(u,t);var Rt=globalThis.pdfjsLib={};Hh.d(Rt,{AbortException:()=>gl,AnnotationEditorLayer:()=>K0,AnnotationEditorParamsType:()=>xt,AnnotationEditorType:()=>Nt,AnnotationEditorUIManager:()=>cl,AnnotationLayer:()=>xD,AnnotationMode:()=>Qa,ColorPicker:()=>mg,DOMSVGFactory:()=>Av,DrawLayer:()=>J0,FeatureTest:()=>xn,GlobalWorkerOptions:()=>va,ImageKind:()=>Lp,InvalidPDFException:()=>Iw,MissingPDFException:()=>pl,OPS:()=>Fi,OutputScale:()=>Iy,PDFDataRangeTransport:()=>H1,PDFDateString:()=>fv,PDFWorker:()=>uc,PasswordResponses:()=>L2,PermissionFlag:()=>D2,PixelsPerInch:()=>Tr,RenderingCancelledException:()=>hv,TextLayer:()=>m0,UnexpectedResponseException:()=>Yg,Util:()=>bt,VerbosityLevel:()=>Gg,XfaLayer:()=>U1,build:()=>rD,createValidAbsoluteUrl:()=>F2,fetchData:()=>Kg,getDocument:()=>QO,getFilenameFromUrl:()=>V2,getPdfFilenameFromUrl:()=>X2,getXfaPageViewport:()=>Y2,isDataScheme:()=>Wg,isPdfFile:()=>dv,noContextMenu:()=>Mi,normalizeUnicode:()=>I2,setLayerDimensions:()=>ll,shadow:()=>qt,version:()=>aD});const vn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Bw=[1,0,0,1,0,0],Hy=[.001,0,0,.001,0,0],M2=1e7,Sy=1.35,ii={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Qa={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},O2="pdfjs_internal_editor_",Nt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},xt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},D2={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},hn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Lp={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Fe={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},vh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Gg={ERRORS:0,WARNINGS:1,INFOS:5},Fi={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},L2={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Vg=Gg.WARNINGS;function N2(u){Number.isInteger(u)&&(Vg=u)}function k2(){return Vg}function Xg(u){Vg>=Gg.INFOS&&console.log(`Info: ${u}`)}function Ft(u){Vg>=Gg.WARNINGS&&console.log(`Warning: ${u}`)}function ue(u){throw new Error(u)}function Ue(u,t){u||ue(t)}function P2(u){switch(u==null?void 0:u.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function F2(u,t=null,e=null){if(!u)return null;try{if(e&&typeof u=="string"){if(e.addDefaultProtocol&&u.startsWith("www.")){const r=u.match(/\./g);(r==null?void 0:r.length)>=2&&(u=`http://${u}`)}if(e.tryConvertEncoding)try{u=B2(u)}catch{}}const s=t?new URL(u,t):new URL(u);if(P2(s))return s}catch{}return null}function qt(u,t,e,s=!1){return Object.defineProperty(u,t,{value:e,enumerable:!s,configurable:!0,writable:!1}),e}const Mr=function(){function t(e,s){this.message=e,this.name=s}return t.prototype=new Error,t.constructor=t,t}();class zy extends Mr{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Uy extends Mr{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Iw extends Mr{constructor(t){super(t,"InvalidPDFException")}}class pl extends Mr{constructor(t){super(t,"MissingPDFException")}}class Yg extends Mr{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class j2 extends Mr{constructor(t){super(t,"FormatError")}}class gl extends Mr{constructor(t){super(t,"AbortException")}}function qw(u){(typeof u!="object"||(u==null?void 0:u.length)===void 0)&&ue("Invalid argument for bytesToString");const t=u.length,e=8192;if(t<e)return String.fromCharCode.apply(null,u);const s=[];for(let r=0;r<t;r+=e){const o=Math.min(r+e,t),c=u.subarray(r,o);s.push(String.fromCharCode.apply(null,c))}return s.join("")}function $g(u){typeof u!="string"&&ue("Invalid argument for stringToBytes");const t=u.length,e=new Uint8Array(t);for(let s=0;s<t;++s)e[s]=u.charCodeAt(s)&255;return e}function H2(u){return String.fromCharCode(u>>24&255,u>>16&255,u>>8&255,u&255)}function cv(u){const t=Object.create(null);for(const[e,s]of u)t[e]=s;return t}function z2(){const u=new Uint8Array(4);return u[0]=1,new Uint32Array(u.buffer,0,1)[0]===1}function U2(){try{return new Function(""),!0}catch{return!1}}class xn{static get isLittleEndian(){return qt(this,"isLittleEndian",z2())}static get isEvalSupported(){return qt(this,"isEvalSupported",U2())}static get isOffscreenCanvasSupported(){return qt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?qt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):qt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return qt(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const _y=Array.from(Array(256).keys(),u=>u.toString(16).padStart(2,"0"));var Sa,Np,By;class bt{static makeHexColor(t,e,s){return`#${_y[t]}${_y[e]}${_y[s]}`}static scaleMinMax(t,e){let s;t[0]?(t[0]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[3],e[3]*=t[3]):(s=e[0],e[0]=e[1],e[1]=s,s=e[2],e[2]=e[3],e[3]=s,t[1]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const s=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];return[s,r]}static applyInverseTransform(t,e){const s=e[0]*e[3]-e[1]*e[2],r=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/s,o=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/s;return[r,o]}static getAxialAlignedBoundingBox(t,e){const s=this.applyTransform(t,e),r=this.applyTransform(t.slice(2,4),e),o=this.applyTransform([t[0],t[3]],e),c=this.applyTransform([t[2],t[1]],e);return[Math.min(s[0],r[0],o[0],c[0]),Math.min(s[1],r[1],o[1],c[1]),Math.max(s[0],r[0],o[0],c[0]),Math.max(s[1],r[1],o[1],c[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],s=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],o=t[2]*e[0]+t[3]*e[2],c=t[2]*e[1]+t[3]*e[3],d=(s+c)/2,p=Math.sqrt((s+c)**2-4*(s*c-o*r))/2,g=d+p||1,m=d-p||1;return[Math.sqrt(g),Math.sqrt(m)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const s=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(s>r)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),c=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return o>c?null:[s,o,r,c]}static bezierBoundingBox(t,e,s,r,o,c,d,p,g){return g?(g[0]=Math.min(g[0],t,d),g[1]=Math.min(g[1],e,p),g[2]=Math.max(g[2],t,d),g[3]=Math.max(g[3],e,p)):g=[Math.min(t,d),Math.min(e,p),Math.max(t,d),Math.max(e,p)],T(this,Sa,By).call(this,t,s,o,d,e,r,c,p,3*(-t+3*(s-o)+d),6*(t-2*s+o),3*(s-t),g),T(this,Sa,By).call(this,t,s,o,d,e,r,c,p,3*(-e+3*(r-c)+p),6*(e-2*r+c),3*(r-e),g),g}}Sa=new WeakSet,Np=function(t,e,s,r,o,c,d,p,g,m){if(g<=0||g>=1)return;const y=1-g,v=g*g,S=v*g,A=y*(y*(y*t+3*g*e)+3*v*s)+S*r,w=y*(y*(y*o+3*g*c)+3*v*d)+S*p;m[0]=Math.min(m[0],A),m[1]=Math.min(m[1],w),m[2]=Math.max(m[2],A),m[3]=Math.max(m[3],w)},By=function(t,e,s,r,o,c,d,p,g,m,y,v){if(Math.abs(g)<1e-12){Math.abs(m)>=1e-12&&T(this,Sa,Np).call(this,t,e,s,r,o,c,d,p,-y/m,v);return}const S=m**2-4*y*g;if(S<0)return;const A=Math.sqrt(S),w=2*g;T(this,Sa,Np).call(this,t,e,s,r,o,c,d,p,(-m+A)/w,v),T(this,Sa,Np).call(this,t,e,s,r,o,c,d,p,(-m-A)/w,v)},x(bt,Sa);function B2(u){return decodeURIComponent(escape(u))}let Ey=null,PE=null;function I2(u){return Ey||(Ey=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,PE=new Map([["","t"]])),u.replaceAll(Ey,(t,e,s)=>e?e.normalize("NFKC"):PE.get(s))}function q2(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const u=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(u);else for(let t=0;t<32;t++)u[t]=Math.floor(Math.random()*255);return qw(u)}const uv="pdfjs_internal_id_",Gs={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function G2(u){return Uint8Array.prototype.toBase64?u.toBase64():btoa(qw(u))}const Xs="http://www.w3.org/2000/svg",ao=class ao{};Tt(ao,"CSS",96),Tt(ao,"PDF",72),Tt(ao,"PDF_TO_CSS_UNITS",ao.CSS/ao.PDF);let Tr=ao;async function Kg(u,t="text"){if(_h(u,document.baseURI)){const e=await fetch(u);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,s)=>{const r=new XMLHttpRequest;r.open("GET",u,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}s(new Error(r.statusText))}},r.send(null)})}class of{constructor({viewBox:t,scale:e,rotation:s,offsetX:r=0,offsetY:o=0,dontFlip:c=!1}){this.viewBox=t,this.scale=e,this.rotation=s,this.offsetX=r,this.offsetY=o;const d=(t[2]+t[0])/2,p=(t[3]+t[1])/2;let g,m,y,v;switch(s%=360,s<0&&(s+=360),s){case 180:g=-1,m=0,y=0,v=1;break;case 90:g=0,m=1,y=1,v=0;break;case 270:g=0,m=-1,y=-1,v=0;break;case 0:g=1,m=0,y=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(y=-y,v=-v);let S,A,w,M;g===0?(S=Math.abs(p-t[1])*e+r,A=Math.abs(d-t[0])*e+o,w=(t[3]-t[1])*e,M=(t[2]-t[0])*e):(S=Math.abs(d-t[0])*e+r,A=Math.abs(p-t[1])*e+o,w=(t[2]-t[0])*e,M=(t[3]-t[1])*e),this.transform=[g*e,m*e,y*e,v*e,S-g*e*d-y*e*p,A-m*e*d-v*e*p],this.width=w,this.height=M}get rawDims(){const{viewBox:t}=this;return qt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:s=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new of({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:s,offsetY:r,dontFlip:o})}convertToViewportPoint(t,e){return bt.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=bt.applyTransform([t[0],t[1]],this.transform),s=bt.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],s[0],s[1]]}convertToPdfPoint(t,e){return bt.applyInverseTransform([t,e],this.transform)}}class hv extends Mr{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Wg(u){const t=u.length;let e=0;for(;e<t&&u[e].trim()==="";)e++;return u.substring(e,e+5).toLowerCase()==="data:"}function dv(u){return typeof u=="string"&&/\.pdf$/i.test(u)}function V2(u){return[u]=u.split(/[#?]/,1),u.substring(u.lastIndexOf("/")+1)}function X2(u,t="document.pdf"){if(typeof u!="string")return t;if(Wg(u))return Ft('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=e.exec(u);let o=s.exec(r[1])||s.exec(r[2])||s.exec(r[3]);if(o&&(o=o[0],o.includes("%")))try{o=s.exec(decodeURIComponent(o))[0]}catch{}return o||t}class FE{constructor(){Tt(this,"started",Object.create(null));Tt(this,"times",[])}time(t){t in this.started&&Ft(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Ft(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:s}of this.times)e=Math.max(s.length,e);for(const{name:s,start:r,end:o}of this.times)t.push(`${s.padEnd(e)} ${o-r}ms
`);return t.join("")}}function _h(u,t){try{const{protocol:e}=t?new URL(u,t):new URL(u);return e==="http:"||e==="https:"}catch{return!1}}function Mi(u){u.preventDefault()}function jE(u){console.log("Deprecated API usage: "+u)}var qh;class fv{static toDateObject(t){if(!t||typeof t!="string")return null;h(this,qh)||E(this,qh,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=h(this,qh).exec(t);if(!e)return null;const s=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(e[3],10);o=o>=1&&o<=31?o:1;let c=parseInt(e[4],10);c=c>=0&&c<=23?c:0;let d=parseInt(e[5],10);d=d>=0&&d<=59?d:0;let p=parseInt(e[6],10);p=p>=0&&p<=59?p:0;const g=e[7]||"Z";let m=parseInt(e[8],10);m=m>=0&&m<=23?m:0;let y=parseInt(e[9],10)||0;return y=y>=0&&y<=59?y:0,g==="-"?(c+=m,d+=y):g==="+"&&(c-=m,d-=y),new Date(Date.UTC(s,r,o,c,d,p))}}qh=new WeakMap,x(fv,qh);function Y2(u,{scale:t=1,rotation:e=0}){const{width:s,height:r}=u.attributes.style,o=[0,0,parseInt(s),parseInt(r)];return new of({viewBox:o,scale:t,rotation:e})}function pv(u){if(u.startsWith("#")){const t=parseInt(u.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return u.startsWith("rgb(")?u.slice(4,-1).split(",").map(t=>parseInt(t)):u.startsWith("rgba(")?u.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Ft(`Not a valid color format: "${u}"`),[0,0,0])}function $2(u){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of u.keys()){t.style.color=e;const s=window.getComputedStyle(t).color;u.set(e,pv(s))}t.remove()}function be(u){const{a:t,b:e,c:s,d:r,e:o,f:c}=u.getTransform();return[t,e,s,r,o,c]}function Vs(u){const{a:t,b:e,c:s,d:r,e:o,f:c}=u.getTransform().invertSelf();return[t,e,s,r,o,c]}function ll(u,t,e=!1,s=!0){if(t instanceof of){const{pageWidth:r,pageHeight:o}=t.rawDims,{style:c}=u,d=xn.isCSSRoundSupported,p=`var(--scale-factor) * ${r}px`,g=`var(--scale-factor) * ${o}px`,m=d?`round(down, ${p}, var(--scale-round-x, 1px))`:`calc(${p})`,y=d?`round(down, ${g}, var(--scale-round-y, 1px))`:`calc(${g})`;!e||t.rotation%180===0?(c.width=m,c.height=y):(c.width=y,c.height=m)}s&&u.setAttribute("data-main-rotation",t.rotation)}class Iy{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Za,lo,ji,co,Gh,Vh,Ag,Gw,Cn,Vw,Xw,kp,Yw,Gy;const Ys=class Ys{constructor(t){x(this,Cn);x(this,Za,null);x(this,lo,null);x(this,ji);x(this,co,null);x(this,Gh,null);E(this,ji,t),h(Ys,Vh)||E(Ys,Vh,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=E(this,Za,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=h(this,ji)._uiManager._signal;t.addEventListener("contextmenu",Mi,{signal:e}),t.addEventListener("pointerdown",T(Ys,Ag,Gw),{signal:e});const s=E(this,co,document.createElement("div"));s.className="buttons",t.append(s);const r=h(this,ji).toolbarPosition;if(r){const{style:o}=t,c=h(this,ji)._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*c}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return T(this,Cn,Yw).call(this),t}get div(){return h(this,Za)}hide(){var t;h(this,Za).classList.add("hidden"),(t=h(this,lo))==null||t.hideDropdown()}show(){var t;h(this,Za).classList.remove("hidden"),(t=h(this,Gh))==null||t.shown()}async addAltText(t){const e=await t.render();T(this,Cn,kp).call(this,e),h(this,co).prepend(e,h(this,Cn,Gy)),E(this,Gh,t)}addColorPicker(t){E(this,lo,t);const e=t.renderButton();T(this,Cn,kp).call(this,e),h(this,co).prepend(e,h(this,Cn,Gy))}remove(){var t;h(this,Za).remove(),(t=h(this,lo))==null||t.destroy(),E(this,lo,null)}};Za=new WeakMap,lo=new WeakMap,ji=new WeakMap,co=new WeakMap,Gh=new WeakMap,Vh=new WeakMap,Ag=new WeakSet,Gw=function(t){t.stopPropagation()},Cn=new WeakSet,Vw=function(t){h(this,ji)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},Xw=function(t){h(this,ji)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},kp=function(t){const e=h(this,ji)._uiManager._signal;t.addEventListener("focusin",T(this,Cn,Vw).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",T(this,Cn,Xw).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Mi,{signal:e})},Yw=function(){const{editorType:t,_uiManager:e}=h(this,ji),s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",h(Ys,Vh)[t]),T(this,Cn,kp).call(this,s),s.addEventListener("click",r=>{e.delete()},{signal:e._signal}),h(this,co).append(s)},Gy=function(){const t=document.createElement("div");return t.className="divider",t},x(Ys,Ag),x(Ys,Vh,null);let qy=Ys;var Xh,uo,ho,Cr,$w,Kw,Ww;class K2{constructor(t){x(this,Cr);x(this,Xh,null);x(this,uo,null);x(this,ho);E(this,ho,t)}show(t,e,s){const[r,o]=T(this,Cr,Kw).call(this,e,s),{style:c}=h(this,uo)||E(this,uo,T(this,Cr,$w).call(this));t.append(h(this,uo)),c.insetInlineEnd=`${100*r}%`,c.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){h(this,uo).remove()}}Xh=new WeakMap,uo=new WeakMap,ho=new WeakMap,Cr=new WeakSet,$w=function(){const t=E(this,uo,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Mi,{signal:h(this,ho)._signal});const e=E(this,Xh,document.createElement("div"));return e.className="buttons",t.append(e),T(this,Cr,Ww).call(this),t},Kw=function(t,e){let s=0,r=0;for(const o of t){const c=o.y+o.height;if(c<s)continue;const d=o.x+(e?o.width:0);if(c>s){r=d,s=c;continue}e?d>r&&(r=d):d<r&&(r=d)}return[e?1-r:r,s]},Ww=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=h(this,ho)._signal;t.addEventListener("contextmenu",Mi,{signal:s}),t.addEventListener("click",()=>{h(this,ho).highlightSelection("floating_button")},{signal:s}),h(this,Xh).append(t)};function fg(u,t,e){for(const s of e)t.addEventListener(s,u[s].bind(u))}function W2(u){return Math.round(Math.min(255,Math.max(1,255*u))).toString(16).padStart(2,"0")}var Sg;class Q2{constructor(){x(this,Sg,0)}get id(){return`${O2}${_n(this,Sg)._++}`}}Sg=new WeakMap;var fc,Yh,fn,pc,Pp;const wv=class wv{constructor(){x(this,pc);x(this,fc,q2());x(this,Yh,0);x(this,fn,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const o=r.decode().then(()=>(s.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return qt(this,"_isSVGFittingCanvas",o)}async getFromFile(t){const{lastModified:e,name:s,size:r,type:o}=t;return T(this,pc,Pp).call(this,`${e}_${s}_${r}_${o}`,t)}async getFromUrl(t){return T(this,pc,Pp).call(this,t,t)}async getFromBlob(t,e){const s=await e;return T(this,pc,Pp).call(this,t,s)}async getFromId(t){h(this,fn)||E(this,fn,new Map);const e=h(this,fn).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:s}=e;return delete e.blobPromise,this.getFromBlob(e.id,s)}return this.getFromUrl(e.url)}getFromCanvas(t,e){h(this,fn)||E(this,fn,new Map);let s=h(this,fn).get(t);if(s!=null&&s.bitmap)return s.refCounter+=1,s;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),s={bitmap:r.transferToImageBitmap(),id:`image_${h(this,fc)}_${_n(this,Yh)._++}`,refCounter:1,isSvg:!1},h(this,fn).set(t,s),h(this,fn).set(s.id,s),s}getSvgUrl(t){const e=h(this,fn).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var r;h(this,fn)||E(this,fn,new Map);const e=h(this,fn).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:s}=e;if(!e.url&&!e.file){const o=new OffscreenCanvas(s.width,s.height);o.getContext("bitmaprenderer").transferFromImageBitmap(s),e.blobPromise=o.convertToBlob()}(r=s.close)==null||r.call(s),e.bitmap=null}isValidId(t){return t.startsWith(`image_${h(this,fc)}_`)}};fc=new WeakMap,Yh=new WeakMap,fn=new WeakMap,pc=new WeakSet,Pp=async function(t,e){h(this,fn)||E(this,fn,new Map);let s=h(this,fn).get(t);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${h(this,fc)}_${_n(this,Yh)._++}`,refCounter:0,isSvg:!1});let r;if(typeof e=="string"?(s.url=e,r=await Kg(e,"blob")):e instanceof File?r=s.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const o=wv._isSVGFittingCanvas,c=new FileReader,d=new Image,p=new Promise((g,m)=>{d.onload=()=>{s.bitmap=d,s.isSvg=!0,g()},c.onload=async()=>{const y=s.svgUrl=c.result;d.src=await o?`${y}#svgView(preserveAspectRatio(none))`:y},d.onerror=c.onerror=m});c.readAsDataURL(r),await p}else s.bitmap=await createImageBitmap(r);s.refCounter=1}catch(r){console.error(r),s=null}return h(this,fn).set(t,s),s&&h(this,fn).set(s.id,s),s};let Vy=wv;var Ye,Ja,$h,$e;class Z2{constructor(t=128){x(this,Ye,[]);x(this,Ja,!1);x(this,$h);x(this,$e,-1);E(this,$h,t)}add({cmd:t,undo:e,post:s,mustExec:r,type:o=NaN,overwriteIfSameType:c=!1,keepUndo:d=!1}){if(r&&t(),h(this,Ja))return;const p={cmd:t,undo:e,post:s,type:o};if(h(this,$e)===-1){h(this,Ye).length>0&&(h(this,Ye).length=0),E(this,$e,0),h(this,Ye).push(p);return}if(c&&h(this,Ye)[h(this,$e)].type===o){d&&(p.undo=h(this,Ye)[h(this,$e)].undo),h(this,Ye)[h(this,$e)]=p;return}const g=h(this,$e)+1;g===h(this,$h)?h(this,Ye).splice(0,1):(E(this,$e,g),g<h(this,Ye).length&&h(this,Ye).splice(g)),h(this,Ye).push(p)}undo(){if(h(this,$e)===-1)return;E(this,Ja,!0);const{undo:t,post:e}=h(this,Ye)[h(this,$e)];t(),e==null||e(),E(this,Ja,!1),E(this,$e,h(this,$e)-1)}redo(){if(h(this,$e)<h(this,Ye).length-1){E(this,$e,h(this,$e)+1),E(this,Ja,!0);const{cmd:t,post:e}=h(this,Ye)[h(this,$e)];t(),e==null||e(),E(this,Ja,!1)}}hasSomethingToUndo(){return h(this,$e)!==-1}hasSomethingToRedo(){return h(this,$e)<h(this,Ye).length-1}destroy(){E(this,Ye,null)}}Ye=new WeakMap,Ja=new WeakMap,$h=new WeakMap,$e=new WeakMap;var _g,Qw;class lf{constructor(t){x(this,_g);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=xn.platform;for(const[s,r,o={}]of t)for(const c of s){const d=c.startsWith("mac+");e&&d?(this.callbacks.set(c.slice(4),{callback:r,options:o}),this.allKeys.add(c.split("+").at(-1))):!e&&!d&&(this.callbacks.set(c,{callback:r,options:o}),this.allKeys.add(c.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const s=this.callbacks.get(T(this,_g,Qw).call(this,e));if(!s)return;const{callback:r,options:{bubbles:o=!1,args:c=[],checker:d=null}}=s;d&&!d(t,e)||(r.bind(t,...c,e)(),o||(e.stopPropagation(),e.preventDefault()))}}_g=new WeakSet,Qw=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const Eg=class Eg{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return $2(t),qt(this,"_colors",t)}convert(t){const e=pv(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[s,r]of this._colors)if(r.every((o,c)=>o===e[c]))return Eg._colorsMapping.get(s);return e}getHexCode(t){const e=this._colors.get(t);return e?bt.makeHexColor(...e):t}};Tt(Eg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Xy=Eg;var gc,Kn,je,nn,mc,Ks,bc,Hi,tr,yc,fo,os,zi,po,Kh,Wh,vc,Qh,ls,er,Ac,nr,cs,wg,ir,Zh,sr,go,Jh,td,Ke,Wt,Ws,mo,ed,nd,ar,us,Qs,id,Si,lt,Fp,Yy,Zw,Jw,jp,t1,e1,n1,$y,i1,Ky,Wy,s1,En,Ka,a1,r1,Qy,o1,Eh,Zy;const lc=class lc{constructor(t,e,s,r,o,c,d,p,g,m,y){x(this,lt);x(this,gc,new AbortController);x(this,Kn,null);x(this,je,new Map);x(this,nn,new Map);x(this,mc,null);x(this,Ks,null);x(this,bc,null);x(this,Hi,new Z2);x(this,tr,null);x(this,yc,0);x(this,fo,new Set);x(this,os,null);x(this,zi,null);x(this,po,new Set);x(this,Kh,!1);x(this,Wh,!1);x(this,vc,!1);x(this,Qh,null);x(this,ls,null);x(this,er,null);x(this,Ac,null);x(this,nr,!1);x(this,cs,null);x(this,wg,new Q2);x(this,ir,!1);x(this,Zh,!1);x(this,sr,null);x(this,go,null);x(this,Jh,null);x(this,td,null);x(this,Ke,Nt.NONE);x(this,Wt,new Set);x(this,Ws,null);x(this,mo,null);x(this,ed,null);x(this,nd,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});x(this,ar,[0,0]);x(this,us,null);x(this,Qs,null);x(this,id,null);x(this,Si,null);const v=this._signal=h(this,gc).signal;E(this,Qs,t),E(this,id,e),E(this,mc,s),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:v}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),r._on("setpreference",this.onSetPreference.bind(this),{signal:v}),r._on("switchannotationeditorparams",S=>this.updateParams(S.type,S.value),{signal:v}),T(this,lt,t1).call(this),T(this,lt,s1).call(this),T(this,lt,$y).call(this),E(this,Ks,o.annotationStorage),E(this,Qh,o.filterFactory),E(this,mo,c),E(this,Ac,d||null),E(this,Kh,p),E(this,Wh,g),E(this,vc,m),E(this,td,y||null),this.viewParameters={realScale:Tr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=lc.prototype,e=c=>h(c,Qs).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),s=(c,{target:d})=>{if(d instanceof HTMLInputElement){const{type:p}=d;return p!=="text"&&p!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return qt(this,"_keyboardManager",new lf([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],t.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:s}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:d})=>!(d instanceof HTMLButtonElement)&&h(c,Qs).contains(d)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:d})=>!(d instanceof HTMLButtonElement)&&h(c,Qs).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}]]))}destroy(){var t,e,s,r;(t=h(this,Si))==null||t.resolve(),E(this,Si,null),(e=h(this,gc))==null||e.abort(),E(this,gc,null),this._signal=null;for(const o of h(this,nn).values())o.destroy();h(this,nn).clear(),h(this,je).clear(),h(this,po).clear(),E(this,Kn,null),h(this,Wt).clear(),h(this,Hi).destroy(),(s=h(this,mc))==null||s.destroy(),(r=h(this,cs))==null||r.hide(),E(this,cs,null),h(this,ls)&&(clearTimeout(h(this,ls)),E(this,ls,null)),h(this,us)&&(clearTimeout(h(this,us)),E(this,us,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return h(this,td)}get useNewAltTextFlow(){return h(this,Wh)}get useNewAltTextWhenAddingImage(){return h(this,vc)}get hcmFilter(){return qt(this,"hcmFilter",h(this,mo)?h(this,Qh).addHCMFilter(h(this,mo).foreground,h(this,mo).background):"none")}get direction(){return qt(this,"direction",getComputedStyle(h(this,Qs)).direction)}get highlightColors(){return qt(this,"highlightColors",h(this,Ac)?new Map(h(this,Ac).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return qt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){E(this,Jh,t)}editAltText(t,e=!1){var s;(s=h(this,mc))==null||s.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":E(this,vc,e);break}}onPageChanging({pageNumber:t}){E(this,yc,t-1)}focusMainContainer(){h(this,Qs).focus()}findParent(t,e){for(const s of h(this,nn).values()){const{x:r,y:o,width:c,height:d}=s.div.getBoundingClientRect();if(t>=r&&t<=r+c&&e>=o&&e<=o+d)return s}return null}disableUserSelect(t=!1){h(this,id).classList.toggle("noUserSelect",t)}addShouldRescale(t){h(this,po).add(t)}removeShouldRescale(t){h(this,po).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Tr.PDF_TO_CSS_UNITS;for(const e of h(this,po))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:s,anchorOffset:r,focusNode:o,focusOffset:c}=e,d=e.toString(),g=T(this,lt,Fp).call(this,e).closest(".textLayer"),m=this.getSelectionBoxes(g);if(!m)return;e.empty();const y=T(this,lt,Yy).call(this,g),v=h(this,Ke)===Nt.NONE,S=()=>{y==null||y.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:s,anchorOffset:r,focusNode:o,focusOffset:c,text:d}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(Nt.HIGHLIGHT,S);return}S()}addToAnnotationStorage(t){!t.isEmpty()&&h(this,Ks)&&!h(this,Ks).has(t.id)&&h(this,Ks).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,h(this,nr)&&(E(this,nr,!1),T(this,lt,jp).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of h(this,Wt))if(e.div.contains(t)){E(this,go,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!h(this,go))return;const[t,e]=h(this,go);E(this,go,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){T(this,lt,$y).call(this),T(this,lt,Ky).call(this)}removeEditListeners(){T(this,lt,i1).call(this),T(this,lt,Wy).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const s of h(this,zi))if(s.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const s of h(this,zi))if(s.isHandlingMimeForPasting(e.type)){s.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var s;if(t.preventDefault(),(s=h(this,Kn))==null||s.commitOrRemove(),!this.hasSelection)return;const e=[];for(const r of h(this,Wt)){const o=r.serialize(!0);o&&e.push(o)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const o of e.items)for(const c of h(this,zi))if(c.isHandlingMimeForPasting(o.type)){c.paste(o,this.currentLayer);return}let s=e.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(o){Ft(`paste: "${o.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const p of s){const g=await r.deserialize(p);if(!g)return;o.push(g)}const c=()=>{for(const p of o)T(this,lt,Qy).call(this,p);T(this,lt,Zy).call(this,o)},d=()=>{for(const p of o)p.remove()};this.addCommands({cmd:c,undo:d,mustExec:!0})}catch(o){Ft(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),h(this,Ke)!==Nt.NONE&&!this.isEditorHandlingKeyboard&&lc._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,h(this,nr)&&(E(this,nr,!1),T(this,lt,jp).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(T(this,lt,e1).call(this),T(this,lt,Ky).call(this),T(this,lt,En).call(this,{isEditing:h(this,Ke)!==Nt.NONE,isEmpty:T(this,lt,Eh).call(this),hasSomethingToUndo:h(this,Hi).hasSomethingToUndo(),hasSomethingToRedo:h(this,Hi).hasSomethingToRedo(),hasSelectedEditor:!1})):(T(this,lt,n1).call(this),T(this,lt,Wy).call(this),T(this,lt,En).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!h(this,zi)){E(this,zi,t);for(const e of h(this,zi))T(this,lt,Ka).call(this,e.defaultPropertiesToUpdate)}}getId(){return h(this,wg).id}get currentLayer(){return h(this,nn).get(h(this,yc))}getLayer(t){return h(this,nn).get(t)}get currentPageIndex(){return h(this,yc)}addLayer(t){h(this,nn).set(t.pageIndex,t),h(this,ir)?t.enable():t.disable()}removeLayer(t){h(this,nn).delete(t.pageIndex)}async updateMode(t,e=null,s=!1){if(h(this,Ke)!==t&&!(h(this,Si)&&(await h(this,Si).promise,!h(this,Si)))){if(E(this,Si,Promise.withResolvers()),E(this,Ke,t),t===Nt.NONE){this.setEditingState(!1),T(this,lt,r1).call(this),h(this,Si).resolve();return}this.setEditingState(!0),await T(this,lt,a1).call(this),this.unselectAll();for(const r of h(this,nn).values())r.updateMode(t);if(!e){s&&this.addNewEditorFromKeyboard(),h(this,Si).resolve();return}for(const r of h(this,je).values())r.annotationElementId===e?(this.setSelected(r),r.enterInEditMode()):r.unselect();h(this,Si).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==h(this,Ke)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var s;if(h(this,zi)){switch(t){case xt.CREATE:this.currentLayer.addNewEditor();return;case xt.HIGHLIGHT_DEFAULT_COLOR:(s=h(this,Jh))==null||s.updateColor(e);break;case xt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(h(this,ed)||E(this,ed,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const r of h(this,Wt))r.updateParams(t,e);for(const r of h(this,zi))r.updateDefaultParams(t,e)}}showAllEditors(t,e,s=!1){var o;for(const c of h(this,je).values())c.editorType===t&&c.show(e);(((o=h(this,ed))==null?void 0:o.get(xt.HIGHLIGHT_SHOW_ALL))??!0)!==e&&T(this,lt,Ka).call(this,[[xt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(h(this,Zh)!==t){E(this,Zh,t);for(const e of h(this,nn).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const s of h(this,je).values())s.pageIndex===t&&e.push(s);return e}getEditor(t){return h(this,je).get(t)}addEditor(t){h(this,je).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(h(this,ls)&&clearTimeout(h(this,ls)),E(this,ls,setTimeout(()=>{this.focusMainContainer(),E(this,ls,null)},0))),h(this,je).delete(t.id),this.unselect(t),(!t.annotationElementId||!h(this,fo).has(t.annotationElementId))&&((e=h(this,Ks))==null||e.remove(t.id))}addDeletedAnnotationElement(t){h(this,fo).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return h(this,fo).has(t)}removeDeletedAnnotationElement(t){h(this,fo).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){h(this,Kn)!==t&&(E(this,Kn,t),t&&T(this,lt,Ka).call(this,t.propertiesToUpdate))}updateUI(t){h(this,lt,o1)===t&&T(this,lt,Ka).call(this,t.propertiesToUpdate)}toggleSelected(t){if(h(this,Wt).has(t)){h(this,Wt).delete(t),t.unselect(),T(this,lt,En).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,Wt).add(t),t.select(),T(this,lt,Ka).call(this,t.propertiesToUpdate),T(this,lt,En).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of h(this,Wt))e!==t&&e.unselect();h(this,Wt).clear(),h(this,Wt).add(t),t.select(),T(this,lt,Ka).call(this,t.propertiesToUpdate),T(this,lt,En).call(this,{hasSelectedEditor:!0})}isSelected(t){return h(this,Wt).has(t)}get firstSelectedEditor(){return h(this,Wt).values().next().value}unselect(t){t.unselect(),h(this,Wt).delete(t),T(this,lt,En).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,Wt).size!==0}get isEnterHandled(){return h(this,Wt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){h(this,Hi).undo(),T(this,lt,En).call(this,{hasSomethingToUndo:h(this,Hi).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:T(this,lt,Eh).call(this)})}redo(){h(this,Hi).redo(),T(this,lt,En).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,Hi).hasSomethingToRedo(),isEmpty:T(this,lt,Eh).call(this)})}addCommands(t){h(this,Hi).add(t),T(this,lt,En).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:T(this,lt,Eh).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...h(this,Wt)],e=()=>{for(const r of t)r.remove()},s=()=>{for(const r of t)T(this,lt,Qy).call(this,r)};this.addCommands({cmd:e,undo:s,mustExec:!0})}commitOrRemove(){var t;(t=h(this,Kn))==null||t.commitOrRemove()}hasSomethingToControl(){return h(this,Kn)||this.hasSelection}selectAll(){for(const t of h(this,Wt))t.commit();T(this,lt,Zy).call(this,h(this,je).values())}unselectAll(){if(!(h(this,Kn)&&(h(this,Kn).commitOrRemove(),h(this,Ke)!==Nt.NONE))&&this.hasSelection){for(const t of h(this,Wt))t.unselect();h(this,Wt).clear(),T(this,lt,En).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;h(this,ar)[0]+=t,h(this,ar)[1]+=e;const[r,o]=h(this,ar),c=[...h(this,Wt)],d=1e3;h(this,us)&&clearTimeout(h(this,us)),E(this,us,setTimeout(()=>{E(this,us,null),h(this,ar)[0]=h(this,ar)[1]=0,this.addCommands({cmd:()=>{for(const p of c)h(this,je).has(p.id)&&p.translateInPage(r,o)},undo:()=>{for(const p of c)h(this,je).has(p.id)&&p.translateInPage(-r,-o)},mustExec:!1})},d));for(const p of c)p.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),E(this,os,new Map);for(const t of h(this,Wt))h(this,os).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!h(this,os))return!1;this.disableUserSelect(!1);const t=h(this,os);E(this,os,null);let e=!1;for(const[{x:r,y:o,pageIndex:c},d]of t)d.newX=r,d.newY=o,d.newPageIndex=c,e||(e=r!==d.savedX||o!==d.savedY||c!==d.savedPageIndex);if(!e)return!1;const s=(r,o,c,d)=>{if(h(this,je).has(r.id)){const p=h(this,nn).get(d);p?r._setParentAndPosition(p,o,c):(r.pageIndex=d,r.x=o,r.y=c)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:c,newPageIndex:d}]of t)s(r,o,c,d)},undo:()=>{for(const[r,{savedX:o,savedY:c,savedPageIndex:d}]of t)s(r,o,c,d)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(h(this,os))for(const s of h(this,os).keys())s.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||h(this,Wt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return h(this,Kn)===t}getActive(){return h(this,Kn)}getMode(){return h(this,Ke)}get imageManager(){return qt(this,"imageManager",new Vy)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let g=0,m=e.rangeCount;g<m;g++)if(!t.contains(e.getRangeAt(g).commonAncestorContainer))return null;const{x:s,y:r,width:o,height:c}=t.getBoundingClientRect();let d;switch(t.getAttribute("data-main-rotation")){case"90":d=(g,m,y,v)=>({x:(m-r)/c,y:1-(g+y-s)/o,width:v/c,height:y/o});break;case"180":d=(g,m,y,v)=>({x:1-(g+y-s)/o,y:1-(m+v-r)/c,width:y/o,height:v/c});break;case"270":d=(g,m,y,v)=>({x:1-(m+v-r)/c,y:(g-s)/o,width:v/c,height:y/o});break;default:d=(g,m,y,v)=>({x:(g-s)/o,y:(m-r)/c,width:y/o,height:v/c});break}const p=[];for(let g=0,m=e.rangeCount;g<m;g++){const y=e.getRangeAt(g);if(!y.collapsed)for(const{x:v,y:S,width:A,height:w}of y.getClientRects())A===0||w===0||p.push(d(v,S,A,w))}return p.length===0?null:p}addChangedExistingAnnotation({annotationElementId:t,id:e}){(h(this,bc)||E(this,bc,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=h(this,bc))==null||e.delete(t)}renderAnnotationElement(t){var r;const e=(r=h(this,bc))==null?void 0:r.get(t.data.id);if(!e)return;const s=h(this,Ks).getRawValue(e);s&&(h(this,Ke)===Nt.NONE&&!s.hasBeenModified||s.renderAnnotationElement(t))}};gc=new WeakMap,Kn=new WeakMap,je=new WeakMap,nn=new WeakMap,mc=new WeakMap,Ks=new WeakMap,bc=new WeakMap,Hi=new WeakMap,tr=new WeakMap,yc=new WeakMap,fo=new WeakMap,os=new WeakMap,zi=new WeakMap,po=new WeakMap,Kh=new WeakMap,Wh=new WeakMap,vc=new WeakMap,Qh=new WeakMap,ls=new WeakMap,er=new WeakMap,Ac=new WeakMap,nr=new WeakMap,cs=new WeakMap,wg=new WeakMap,ir=new WeakMap,Zh=new WeakMap,sr=new WeakMap,go=new WeakMap,Jh=new WeakMap,td=new WeakMap,Ke=new WeakMap,Wt=new WeakMap,Ws=new WeakMap,mo=new WeakMap,ed=new WeakMap,nd=new WeakMap,ar=new WeakMap,us=new WeakMap,Qs=new WeakMap,id=new WeakMap,Si=new WeakMap,lt=new WeakSet,Fp=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},Yy=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const s of h(this,nn).values())if(s.hasTextLayer(t))return s;return null},Zw=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const s=T(this,lt,Fp).call(this,t).closest(".textLayer"),r=this.getSelectionBoxes(s);r&&(h(this,cs)||E(this,cs,new K2(this)),h(this,cs).show(s,r,this.direction==="ltr"))},Jw=function(){var o,c,d;const t=document.getSelection();if(!t||t.isCollapsed){h(this,Ws)&&((o=h(this,cs))==null||o.hide(),E(this,Ws,null),T(this,lt,En).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===h(this,Ws))return;const r=T(this,lt,Fp).call(this,t).closest(".textLayer");if(!r){h(this,Ws)&&((c=h(this,cs))==null||c.hide(),E(this,Ws,null),T(this,lt,En).call(this,{hasSelectedText:!1}));return}if((d=h(this,cs))==null||d.hide(),E(this,Ws,e),T(this,lt,En).call(this,{hasSelectedText:!0}),!(h(this,Ke)!==Nt.HIGHLIGHT&&h(this,Ke)!==Nt.NONE)&&(h(this,Ke)===Nt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),E(this,nr,this.isShiftKeyDown),!this.isShiftKeyDown)){const p=h(this,Ke)===Nt.HIGHLIGHT?T(this,lt,Yy).call(this,r):null;p==null||p.toggleDrawing();const g=new AbortController,m=this.combinedSignal(g),y=v=>{v.type==="pointerup"&&v.button!==0||(g.abort(),p==null||p.toggleDrawing(!0),v.type==="pointerup"&&T(this,lt,jp).call(this,"main_toolbar"))};window.addEventListener("pointerup",y,{signal:m}),window.addEventListener("blur",y,{signal:m})}},jp=function(t=""){h(this,Ke)===Nt.HIGHLIGHT?this.highlightSelection(t):h(this,Kh)&&T(this,lt,Zw).call(this)},t1=function(){document.addEventListener("selectionchange",T(this,lt,Jw).bind(this),{signal:this._signal})},e1=function(){if(h(this,er))return;E(this,er,new AbortController);const t=this.combinedSignal(h(this,er));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},n1=function(){var t;(t=h(this,er))==null||t.abort(),E(this,er,null)},$y=function(){if(h(this,sr))return;E(this,sr,new AbortController);const t=this.combinedSignal(h(this,sr));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},i1=function(){var t;(t=h(this,sr))==null||t.abort(),E(this,sr,null)},Ky=function(){if(h(this,tr))return;E(this,tr,new AbortController);const t=this.combinedSignal(h(this,tr));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},Wy=function(){var t;(t=h(this,tr))==null||t.abort(),E(this,tr,null)},s1=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},En=function(t){Object.entries(t).some(([s,r])=>h(this,nd)[s]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,nd),t)}),h(this,Ke)===Nt.HIGHLIGHT&&t.hasSelectedEditor===!1&&T(this,lt,Ka).call(this,[[xt.HIGHLIGHT_FREE,!0]]))},Ka=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},a1=async function(){if(!h(this,ir)){E(this,ir,!0);const t=[];for(const e of h(this,nn).values())t.push(e.enable());await Promise.all(t);for(const e of h(this,je).values())e.enable()}},r1=function(){if(this.unselectAll(),h(this,ir)){E(this,ir,!1);for(const t of h(this,nn).values())t.disable();for(const t of h(this,je).values())t.disable()}},Qy=function(t){const e=h(this,nn).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},o1=function(){let t=null;for(t of h(this,Wt));return t},Eh=function(){if(h(this,je).size===0)return!0;if(h(this,je).size===1)for(const t of h(this,je).values())return t.isEmpty();return!1},Zy=function(t){for(const e of h(this,Wt))e.unselect();h(this,Wt).clear();for(const e of t)e.isEmpty()||(h(this,Wt).add(e),e.select());T(this,lt,En).call(this,{hasSelectedEditor:this.hasSelection})},Tt(lc,"TRANSLATE_SMALL",1),Tt(lc,"TRANSLATE_BIG",10);let cl=lc;var We,hs,Ui,Sc,ds,Wn,_c,fs,Pn,Zs,bo,ps,rr,Wi,wh,Hp;const wn=class wn{constructor(t){x(this,Wi);x(this,We,null);x(this,hs,!1);x(this,Ui,null);x(this,Sc,null);x(this,ds,null);x(this,Wn,null);x(this,_c,!1);x(this,fs,null);x(this,Pn,null);x(this,Zs,null);x(this,bo,null);x(this,ps,!1);E(this,Pn,t),E(this,ps,t._uiManager.useNewAltTextFlow),h(wn,rr)||E(wn,rr,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){wn._l10n??(wn._l10n=t)}async render(){const t=E(this,Ui,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=E(this,Sc,document.createElement("span"));t.append(e),h(this,ps)?(t.classList.add("new"),t.setAttribute("data-l10n-id",h(wn,rr).missing),e.setAttribute("data-l10n-id",h(wn,rr)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=h(this,Pn)._uiManager._signal;t.addEventListener("contextmenu",Mi,{signal:s}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:s});const r=o=>{o.preventDefault(),h(this,Pn)._uiManager.editAltText(h(this,Pn)),h(this,ps)&&h(this,Pn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:h(this,Wi,wh)}})};return t.addEventListener("click",r,{capture:!0,signal:s}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(E(this,_c,!0),r(o))},{signal:s}),await T(this,Wi,Hp).call(this),t}finish(){h(this,Ui)&&(h(this,Ui).focus({focusVisible:h(this,_c)}),E(this,_c,!1))}isEmpty(){return h(this,ps)?h(this,We)===null:!h(this,We)&&!h(this,hs)}hasData(){return h(this,ps)?h(this,We)!==null||!!h(this,Zs):this.isEmpty()}get guessedText(){return h(this,Zs)}async setGuessedText(t){h(this,We)===null&&(E(this,Zs,t),E(this,bo,await wn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),T(this,Wi,Hp).call(this))}toggleAltTextBadge(t=!1){var e;if(!h(this,ps)||h(this,We)){(e=h(this,fs))==null||e.remove(),E(this,fs,null);return}if(!h(this,fs)){const s=E(this,fs,document.createElement("div"));s.className="noAltTextBadge",h(this,Pn).div.append(s)}h(this,fs).classList.toggle("hidden",!t)}serialize(t){let e=h(this,We);return!t&&h(this,Zs)===e&&(e=h(this,bo)),{altText:e,decorative:h(this,hs),guessedText:h(this,Zs),textWithDisclaimer:h(this,bo)}}get data(){return{altText:h(this,We),decorative:h(this,hs)}}set data({altText:t,decorative:e,guessedText:s,textWithDisclaimer:r,cancel:o=!1}){s&&(E(this,Zs,s),E(this,bo,r)),!(h(this,We)===t&&h(this,hs)===e)&&(o||(E(this,We,t),E(this,hs,e)),T(this,Wi,Hp).call(this))}toggle(t=!1){h(this,Ui)&&(!t&&h(this,Wn)&&(clearTimeout(h(this,Wn)),E(this,Wn,null)),h(this,Ui).disabled=!t)}shown(){h(this,Pn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:h(this,Wi,wh)}})}destroy(){var t,e;(t=h(this,Ui))==null||t.remove(),E(this,Ui,null),E(this,Sc,null),E(this,ds,null),(e=h(this,fs))==null||e.remove(),E(this,fs,null)}};We=new WeakMap,hs=new WeakMap,Ui=new WeakMap,Sc=new WeakMap,ds=new WeakMap,Wn=new WeakMap,_c=new WeakMap,fs=new WeakMap,Pn=new WeakMap,Zs=new WeakMap,bo=new WeakMap,ps=new WeakMap,rr=new WeakMap,Wi=new WeakSet,wh=function(){return h(this,We)&&"added"||h(this,We)===null&&this.guessedText&&"review"||"missing"},Hp=async function(){var r,o,c;const t=h(this,Ui);if(!t)return;if(h(this,ps)){if(t.classList.toggle("done",!!h(this,We)),t.setAttribute("data-l10n-id",h(wn,rr)[h(this,Wi,wh)]),(r=h(this,Sc))==null||r.setAttribute("data-l10n-id",h(wn,rr)[`${h(this,Wi,wh)}-label`]),!h(this,We)){(o=h(this,ds))==null||o.remove();return}}else{if(!h(this,We)&&!h(this,hs)){t.classList.remove("done"),(c=h(this,ds))==null||c.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=h(this,ds);if(!e){E(this,ds,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${h(this,Pn).id}`;const d=100,p=h(this,Pn)._uiManager._signal;p.addEventListener("abort",()=>{clearTimeout(h(this,Wn)),E(this,Wn,null)},{once:!0}),t.addEventListener("mouseenter",()=>{E(this,Wn,setTimeout(()=>{E(this,Wn,null),h(this,ds).classList.add("show"),h(this,Pn)._reportTelemetry({action:"alt_text_tooltip"})},d))},{signal:p}),t.addEventListener("mouseleave",()=>{var g;h(this,Wn)&&(clearTimeout(h(this,Wn)),E(this,Wn,null)),(g=h(this,ds))==null||g.classList.remove("show")},{signal:p})}h(this,hs)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=h(this,We)),e.parentNode||t.append(e);const s=h(this,Pn).getImageForAltText();s==null||s.setAttribute("aria-describedby",e.id)},x(wn,rr,null),Tt(wn,"_l10n",null);let pg=wn;var yo,Bi,ge,Ec,vo,sn,Ao,or,sd,So,lr,ad,_o,Js,gs,wc,Tc,_i,rd,Tg,kt,Jy,od,t0,e0,l1,c1,n0,i0,s0,u1,a0,h1,d1,f1,r0,Th;const Kt=class Kt{constructor(t){x(this,kt);x(this,yo,null);x(this,Bi,null);x(this,ge,null);x(this,Ec,!1);x(this,vo,!1);x(this,sn,null);x(this,Ao,null);x(this,or,null);x(this,sd,"");x(this,So,!1);x(this,lr,null);x(this,ad,!1);x(this,_o,!1);x(this,Js,!1);x(this,gs,null);x(this,wc,0);x(this,Tc,0);x(this,_i,null);Tt(this,"_editToolbar",null);Tt(this,"_initialOptions",Object.create(null));Tt(this,"_initialData",null);Tt(this,"_isVisible",!0);Tt(this,"_uiManager",null);Tt(this,"_focusEventsAllowed",!0);x(this,rd,!1);x(this,Tg,Kt._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:s,pageHeight:r,pageX:o,pageY:c}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,r],this.pageTranslation=[o,c];const[d,p]=this.parentDimensions;this.x=t.x/d,this.y=t.y/p,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=Kt.prototype._resizeWithKeyboard,e=cl.TRANSLATE_SMALL,s=cl.TRANSLATE_BIG;return qt(this,"_resizerKeyboardManager",new lf([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,s]}],[["Escape","mac+Escape"],Kt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return qt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new J2({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Kt._l10n??(Kt._l10n=t),Kt._l10nResizer||(Kt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Kt._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);Kt._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){ue("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return h(this,rd)}set _isDraggable(t){var e;E(this,rd,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=h(this,Tg)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):T(this,kt,Th).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(h(this,So)?E(this,So,!1):this.parent.setSelected(this))}focusout(t){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,s,r){const[o,c]=this.parentDimensions;[s,r]=this.screenToPageTranslation(s,r),this.x=(t+s)/o,this.y=(e+r)/c,this.fixAndSetPosition()}translate(t,e){T(this,kt,Jy).call(this,this.parentDimensions,t,e)}translateInPage(t,e){h(this,lr)||E(this,lr,[this.x,this.y]),T(this,kt,Jy).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){h(this,lr)||E(this,lr,[this.x,this.y]);const[s,r]=this.parentDimensions;if(this.x+=t/s,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:c}=this;const[d,p]=this.getBaseTranslation();o+=d,c+=p,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*c).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!h(this,lr)&&(h(this,lr)[0]!==this.x||h(this,lr)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:s}=Kt,r=s/t,o=s/e;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,s]=this.pageDimensions;let{x:r,y:o,width:c,height:d}=this;if(c*=e,d*=s,r*=e,o*=s,this._mustFixPosition)switch(t){case 0:r=Math.max(0,Math.min(e-c,r)),o=Math.max(0,Math.min(s-d,o));break;case 90:r=Math.max(0,Math.min(e-d,r)),o=Math.min(s,Math.max(c,o));break;case 180:r=Math.min(e,Math.max(c,r)),o=Math.min(s,Math.max(d,o));break;case 270:r=Math.min(e,Math.max(d,r)),o=Math.max(0,Math.min(s-c,o));break}this.x=r/=e,this.y=o/=s;const[p,g]=this.getBaseTranslation();r+=p,o+=g;const{style:m}=this.div;m.left=`${(100*r).toFixed(2)}%`,m.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var s;return T(s=Kt,od,t0).call(s,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var s;return T(s=Kt,od,t0).call(s,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,s]}=this;return[e*t,s*t]}setDims(t,e){const[s,r]=this.parentDimensions;this.div.style.width=`${(100*t/s).toFixed(2)}%`,h(this,vo)||(this.div.style.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:s}=t,r=s.endsWith("%"),o=!h(this,vo)&&e.endsWith("%");if(r&&o)return;const[c,d]=this.parentDimensions;r||(t.width=`${(100*parseFloat(s)/c).toFixed(2)}%`),!h(this,vo)&&!o&&(t.height=`${(100*parseFloat(e)/d).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=h(this,ge))==null||t.finish()}async addEditToolbar(){return this._editToolbar||h(this,_o)?this._editToolbar:(this._editToolbar=new qy(this),this.div.append(this._editToolbar.render()),h(this,ge)&&await this._editToolbar.addAltText(h(this,ge)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=h(this,ge))==null||t.destroy())}addContainer(t){var s;const e=(s=this._editToolbar)==null?void 0:s.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){h(this,ge)||(pg.initialize(Kt._l10n),E(this,ge,new pg(this)),h(this,yo)&&(h(this,ge).data=h(this,yo),E(this,yo,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=h(this,ge))==null?void 0:t.data}set altTextData(t){h(this,ge)&&(h(this,ge).data=t)}get guessedAltText(){var t;return(t=h(this,ge))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=h(this,ge))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=h(this,ge))==null?void 0:e.serialize(t)}hasAltText(){return!!h(this,ge)&&!h(this,ge).isEmpty()}hasAltTextData(){var t;return((t=h(this,ge))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=h(this,Ec)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),T(this,kt,a0).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),fg(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=xn.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(E(this,So,!0),this._isDraggable){T(this,kt,u1).call(this,t);return}T(this,kt,s0).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){h(this,gs)&&clearTimeout(h(this,gs)),E(this,gs,setTimeout(()=>{var t;E(this,gs,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,s){t.changeParent(this),this.x=e,this.y=s,this.fixAndSetPosition()}getRect(t,e,s=this.rotation){const r=this.parentScale,[o,c]=this.pageDimensions,[d,p]=this.pageTranslation,g=t/r,m=e/r,y=this.x*o,v=this.y*c,S=this.width*o,A=this.height*c;switch(s){case 0:return[y+g+d,c-v-m-A+p,y+g+S+d,c-v-m+p];case 90:return[y+m+d,c-v+g+p,y+m+A+d,c-v+g+S+p];case 180:return[y-g-S+d,c-v+m+p,y-g+d,c-v+m+A+p];case 270:return[y-m-A+d,c-v-g-S+p,y-m+d,c-v-g+p];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[s,r,o,c]=t,d=o-s,p=c-r;switch(this.rotation){case 0:return[s,e-c,d,p];case 90:return[s,e-r,p,d];case 180:return[o,e-r,d,p];case 270:return[o,e-c,p,d];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){E(this,_o,!0)}disableEditMode(){E(this,_o,!1)}isInEditMode(){return h(this,_o)}shouldGetKeyboardEvents(){return h(this,Js)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){T(this,kt,a0).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){ue("An editor must be serializable")}static async deserialize(t,e,s){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:s});r.rotation=t.rotation,E(r,yo,t.accessibilityData);const[o,c]=r.pageDimensions,[d,p,g,m]=r.getRectInCurrentCoords(t.rect,c);return r.x=d/o,r.y=p/c,r.width=g/o,r.height=m/c,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=h(this,or))==null||t.abort(),E(this,or,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),h(this,gs)&&(clearTimeout(h(this,gs)),E(this,gs,null)),T(this,kt,Th).call(this),this.removeEditToolbar(),h(this,_i)){for(const e of h(this,_i).values())clearTimeout(e);E(this,_i,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(T(this,kt,l1).call(this),h(this,sn).classList.remove("hidden"),fg(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),E(this,Ao,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=h(this,sn).children;if(!h(this,Bi)){E(this,Bi,Array.from(e));const c=T(this,kt,h1).bind(this),d=T(this,kt,d1).bind(this),p=this._uiManager._signal;for(const g of h(this,Bi)){const m=g.getAttribute("data-resizer-name");g.setAttribute("role","spinbutton"),g.addEventListener("keydown",c,{signal:p}),g.addEventListener("blur",d,{signal:p}),g.addEventListener("focus",T(this,kt,f1).bind(this,m),{signal:p}),g.setAttribute("data-l10n-id",Kt._l10nResizer[m])}}const s=h(this,Bi)[0];let r=0;for(const c of e){if(c===s)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(h(this,Bi).length/4);if(o!==r){if(o<r)for(let d=0;d<r-o;d++)h(this,sn).append(h(this,sn).firstChild);else if(o>r)for(let d=0;d<o-r;d++)h(this,sn).firstChild.before(h(this,sn).lastChild);let c=0;for(const d of e){const g=h(this,Bi)[c++].getAttribute("data-resizer-name");d.setAttribute("data-l10n-id",Kt._l10nResizer[g])}}T(this,kt,r0).call(this,0),E(this,Js,!0),h(this,sn).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){h(this,Js)&&T(this,kt,i0).call(this,h(this,sd),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){T(this,kt,Th).call(this),this.div.focus()}select(){var t,e,s;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,o;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(e=this._editToolbar)==null||e.show(),(s=h(this,ge))==null||s.toggleAltTextBadge(!1)}unselect(){var t,e,s,r,o;(t=h(this,sn))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(o=h(this,ge))==null||o.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return h(this,ad)}set isEditing(t){E(this,ad,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){E(this,vo,!0);const s=t/e,{style:r}=this.div;r.aspectRatio=s,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){h(this,_i)||E(this,_i,new Map);const{action:s}=t;let r=h(this,_i).get(s);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),h(this,_i).delete(s),h(this,_i).size===0&&E(this,_i,null)},Kt._telemetryTimeout),h(this,_i).set(s,r);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),E(this,Ec,!1)}disable(){this.div&&(this.div.tabIndex=-1),E(this,Ec,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const s=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),s.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};yo=new WeakMap,Bi=new WeakMap,ge=new WeakMap,Ec=new WeakMap,vo=new WeakMap,sn=new WeakMap,Ao=new WeakMap,or=new WeakMap,sd=new WeakMap,So=new WeakMap,lr=new WeakMap,ad=new WeakMap,_o=new WeakMap,Js=new WeakMap,gs=new WeakMap,wc=new WeakMap,Tc=new WeakMap,_i=new WeakMap,rd=new WeakMap,Tg=new WeakMap,kt=new WeakSet,Jy=function([t,e],s,r){[s,r]=this.screenToPageTranslation(s,r),this.x+=s/t,this.y+=r/e,this.fixAndSetPosition()},od=new WeakSet,t0=function(t,e,s){switch(s){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},e0=function(t){switch(t){case 90:{const[e,s]=this.pageDimensions;return[0,-e/s,s/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,s]=this.pageDimensions;return[0,e/s,-s/e,0]}default:return[1,0,0,1]}},l1=function(){if(h(this,sn))return;E(this,sn,document.createElement("div")),h(this,sn).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const s of t){const r=document.createElement("div");h(this,sn).append(r),r.classList.add("resizer",s),r.setAttribute("data-resizer-name",s),r.addEventListener("pointerdown",T(this,kt,c1).bind(this,s),{signal:e}),r.addEventListener("contextmenu",Mi,{signal:e}),r.tabIndex=-1}this.div.prepend(h(this,sn))},c1=function(t,e){var A;e.preventDefault();const{isMac:s}=xn.platform;if(e.button!==0||e.ctrlKey&&s)return;(A=h(this,ge))==null||A.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const o=new AbortController,c=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",T(this,kt,i0).bind(this,t),{passive:!0,capture:!0,signal:c}),window.addEventListener("contextmenu",Mi,{signal:c});const d=this.x,p=this.y,g=this.width,m=this.height,y=this.parent.div.style.cursor,v=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const S=()=>{var w;o.abort(),this.parent.togglePointerEvents(!0),(w=h(this,ge))==null||w.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=y,this.div.style.cursor=v,T(this,kt,n0).call(this,d,p,g,m)};window.addEventListener("pointerup",S,{signal:c}),window.addEventListener("blur",S,{signal:c})},n0=function(t,e,s,r){const o=this.x,c=this.y,d=this.width,p=this.height;o===t&&c===e&&d===s&&p===r||this.addCommands({cmd:()=>{this.width=d,this.height=p,this.x=o,this.y=c;const[g,m]=this.parentDimensions;this.setDims(g*d,m*p),this.fixAndSetPosition()},undo:()=>{this.width=s,this.height=r,this.x=t,this.y=e;const[g,m]=this.parentDimensions;this.setDims(g*s,m*r),this.fixAndSetPosition()},mustExec:!0})},i0=function(t,e){const[s,r]=this.parentDimensions,o=this.x,c=this.y,d=this.width,p=this.height,g=Kt.MIN_SIZE/s,m=Kt.MIN_SIZE/r,y=Z=>Math.round(Z*1e4)/1e4,v=T(this,kt,e0).call(this,this.rotation),S=(Z,tt)=>[v[0]*Z+v[2]*tt,v[1]*Z+v[3]*tt],A=T(this,kt,e0).call(this,360-this.rotation),w=(Z,tt)=>[A[0]*Z+A[2]*tt,A[1]*Z+A[3]*tt];let M,R,P=!1,O=!1;switch(t){case"topLeft":P=!0,M=(Z,tt)=>[0,0],R=(Z,tt)=>[Z,tt];break;case"topMiddle":M=(Z,tt)=>[Z/2,0],R=(Z,tt)=>[Z/2,tt];break;case"topRight":P=!0,M=(Z,tt)=>[Z,0],R=(Z,tt)=>[0,tt];break;case"middleRight":O=!0,M=(Z,tt)=>[Z,tt/2],R=(Z,tt)=>[0,tt/2];break;case"bottomRight":P=!0,M=(Z,tt)=>[Z,tt],R=(Z,tt)=>[0,0];break;case"bottomMiddle":M=(Z,tt)=>[Z/2,tt],R=(Z,tt)=>[Z/2,0];break;case"bottomLeft":P=!0,M=(Z,tt)=>[0,tt],R=(Z,tt)=>[Z,0];break;case"middleLeft":O=!0,M=(Z,tt)=>[0,tt/2],R=(Z,tt)=>[Z,tt/2];break}const N=M(d,p),F=R(d,p);let B=S(...F);const z=y(o+B[0]),V=y(c+B[1]);let G=1,et=1,[it,dt]=this.screenToPageTranslation(e.movementX,e.movementY);if([it,dt]=w(it/s,dt/r),P){const Z=Math.hypot(d,p);G=et=Math.max(Math.min(Math.hypot(F[0]-N[0]-it,F[1]-N[1]-dt)/Z,1/d,1/p),g/d,m/p)}else O?G=Math.max(g,Math.min(1,Math.abs(F[0]-N[0]-it)))/d:et=Math.max(m,Math.min(1,Math.abs(F[1]-N[1]-dt)))/p;const ut=y(d*G),ct=y(p*et);B=S(...R(ut,ct));const ft=z-B[0],$=V-B[1];this.width=ut,this.height=ct,this.x=ft,this.y=$,this.setDims(s*ut,r*ct),this.fixAndSetPosition()},s0=function(t){const{isMac:e}=xn.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},u1=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const s=new AbortController,r=this._uiManager.combinedSignal(s);if(e){this.div.classList.add("moving"),E(this,wc,t.clientX),E(this,Tc,t.clientY);const c=d=>{const{clientX:p,clientY:g}=d,[m,y]=this.screenToPageTranslation(p-h(this,wc),g-h(this,Tc));E(this,wc,p),E(this,Tc,g),this._uiManager.dragSelectedEditors(m,y)};window.addEventListener("pointermove",c,{passive:!0,capture:!0,signal:r})}const o=()=>{s.abort(),e&&this.div.classList.remove("moving"),E(this,So,!1),this._uiManager.endDragSession()||T(this,kt,s0).call(this,t)};window.addEventListener("pointerup",o,{signal:r}),window.addEventListener("blur",o,{signal:r})},a0=function(){if(h(this,or)||!this.div)return;E(this,or,new AbortController);const t=this._uiManager.combinedSignal(h(this,or));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},h1=function(t){Kt._resizerKeyboardManager.exec(this,t)},d1=function(t){var e;h(this,Js)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==h(this,sn)&&T(this,kt,Th).call(this)},f1=function(t){E(this,sd,h(this,Js)?t:"")},r0=function(t){if(h(this,Bi))for(const e of h(this,Bi))e.tabIndex=t},Th=function(){if(E(this,Js,!1),T(this,kt,r0).call(this,-1),h(this,Ao)){const{savedX:t,savedY:e,savedWidth:s,savedHeight:r}=h(this,Ao);T(this,kt,n0).call(this,t,e,s,r),E(this,Ao,null)}},x(Kt,od),Tt(Kt,"_l10n",null),Tt(Kt,"_l10nResizer",null),Tt(Kt,"_borderLineWidth",-1),Tt(Kt,"_colorManager",new Xy),Tt(Kt,"_zIndex",1),Tt(Kt,"_telemetryTimeout",1e3);let Zt=Kt;class J2 extends Zt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const HE=3285377520,Ai=4294901760,rs=65535;class p1{constructor(t){this.h1=t?t&4294967295:HE,this.h2=t?t&4294967295:HE}update(t){let e,s;if(typeof t=="string"){e=new Uint8Array(t.length*2),s=0;for(let w=0,M=t.length;w<M;w++){const R=t.charCodeAt(w);R<=255?e[s++]=R:(e[s++]=R>>>8,e[s++]=R&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),s=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=s>>2,o=s-r*4,c=new Uint32Array(e.buffer,0,r);let d=0,p=0,g=this.h1,m=this.h2;const y=3432918353,v=461845907,S=y&rs,A=v&rs;for(let w=0;w<r;w++)w&1?(d=c[w],d=d*y&Ai|d*S&rs,d=d<<15|d>>>17,d=d*v&Ai|d*A&rs,g^=d,g=g<<13|g>>>19,g=g*5+3864292196):(p=c[w],p=p*y&Ai|p*S&rs,p=p<<15|p>>>17,p=p*v&Ai|p*A&rs,m^=p,m=m<<13|m>>>19,m=m*5+3864292196);switch(d=0,o){case 3:d^=e[r*4+2]<<16;case 2:d^=e[r*4+1]<<8;case 1:d^=e[r*4],d=d*y&Ai|d*S&rs,d=d<<15|d>>>17,d=d*v&Ai|d*A&rs,r&1?g^=d:m^=d}this.h1=g,this.h2=m}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Ai|t*36045&rs,e=e*4283543511&Ai|((e<<16|t>>>16)*2950163797&Ai)>>>16,t^=e>>>1,t=t*444984403&Ai|t*60499&rs,e=e*3301882366&Ai|((e<<16|t>>>16)*3120437893&Ai)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const o0=Object.freeze({map:null,hash:"",transfer:void 0});var Eo,wo,Qe,xg,g1;class gv{constructor(){x(this,xg);x(this,Eo,!1);x(this,wo,null);x(this,Qe,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const s=h(this,Qe).get(t);return s===void 0?e:Object.assign(e,s)}getRawValue(t){return h(this,Qe).get(t)}remove(t){if(h(this,Qe).delete(t),h(this,Qe).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of h(this,Qe).values())if(e instanceof Zt)return;this.onAnnotationEditor(null)}}setValue(t,e){const s=h(this,Qe).get(t);let r=!1;if(s!==void 0)for(const[o,c]of Object.entries(e))s[o]!==c&&(r=!0,s[o]=c);else r=!0,h(this,Qe).set(t,e);r&&T(this,xg,g1).call(this),e instanceof Zt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return h(this,Qe).has(t)}getAll(){return h(this,Qe).size>0?cv(h(this,Qe)):null}setAll(t){for(const[e,s]of Object.entries(t))this.setValue(e,s)}get size(){return h(this,Qe).size}resetModified(){h(this,Eo)&&(E(this,Eo,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new m1(this)}get serializable(){if(h(this,Qe).size===0)return o0;const t=new Map,e=new p1,s=[],r=Object.create(null);let o=!1;for(const[c,d]of h(this,Qe)){const p=d instanceof Zt?d.serialize(!1,r):d;p&&(t.set(c,p),e.update(`${c}:${JSON.stringify(p)}`),o||(o=!!p.bitmap))}if(o)for(const c of t.values())c.bitmap&&s.push(c.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:s}:o0}get editorStats(){let t=null;const e=new Map;for(const s of h(this,Qe).values()){if(!(s instanceof Zt))continue;const r=s.telemetryFinalData;if(!r)continue;const{type:o}=r;e.has(o)||e.set(o,Object.getPrototypeOf(s).constructor),t||(t=Object.create(null));const c=t[o]||(t[o]=new Map);for(const[d,p]of Object.entries(r)){if(d==="type")continue;let g=c.get(d);g||(g=new Map,c.set(d,g));const m=g.get(p)??0;g.set(p,m+1)}}for(const[s,r]of e)t[s]=r.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){E(this,wo,null)}get modifiedIds(){if(h(this,wo))return h(this,wo);const t=[];for(const e of h(this,Qe).values())!(e instanceof Zt)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return E(this,wo,{ids:new Set(t),hash:t.join(",")})}}Eo=new WeakMap,wo=new WeakMap,Qe=new WeakMap,xg=new WeakSet,g1=function(){h(this,Eo)||(E(this,Eo,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var ld;class m1 extends gv{constructor(e){super();x(this,ld);const{map:s,hash:r,transfer:o}=e.serializable,c=structuredClone(s,o?{transfer:o}:null);E(this,ld,{map:c,hash:r,transfer:o})}get print(){ue("Should not call PrintAnnotationStorage.print")}get serializable(){return h(this,ld)}get modifiedIds(){return qt(this,"modifiedIds",{ids:new Set,hash:""})}}ld=new WeakMap;var xc;class tO{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){x(this,xc,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),h(this,xc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||h(this,xc).has(t.loadedName))){if(Ue(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:o}=t,c=new FontFace(s,r,o);this.addNativeFontFace(c);try{await c.load(),h(this,xc).add(s),e==null||e(t)}catch{Ft(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}ue("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const s=t.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(r){throw Ft(`Failed to load font '${s.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const r=this._queueLoadingCallback(s);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return qt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(vn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),qt(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(Ue(!r.done,"completeRequest() cannot be called twice."),r.done=!0;s.length>0&&s[0].done;){const o=s.shift();setTimeout(o.callback,0)}}const{loadingRequests:s}=this,r={done:!1,complete:e,callback:t};return s.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return qt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function s(N,F){return N.charCodeAt(F)<<24|N.charCodeAt(F+1)<<16|N.charCodeAt(F+2)<<8|N.charCodeAt(F+3)&255}function r(N,F,B,z){const V=N.substring(0,F),G=N.substring(F+B);return V+z+G}let o,c;const d=this._document.createElement("canvas");d.width=1,d.height=1;const p=d.getContext("2d");let g=0;function m(N,F){if(++g>30){Ft("Load test font never loaded."),F();return}if(p.font="30px "+N,p.fillText(".",0,20),p.getImageData(0,0,1,1).data[3]>0){F();return}setTimeout(m.bind(null,N,F))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=r(v,976,y.length,y);const A=16,w=1482184792;let M=s(v,A);for(o=0,c=y.length-3;o<c;o+=4)M=M-w+s(y,o)|0;o<y.length&&(M=M-w+s(y+"XXX",o)|0),v=r(v,A,4,H2(M));const R=`url(data:font/opentype;base64,${btoa(v)});`,P=`@font-face {font-family:"${y}";src:${R}}`;this.insertRule(P);const O=this._document.createElement("div");O.style.visibility="hidden",O.style.width=O.style.height="10px",O.style.position="absolute",O.style.top=O.style.left="0px";for(const N of[t.loadedName,y]){const F=this._document.createElement("span");F.textContent="Hi",F.style.fontFamily=N,O.append(F)}this._document.body.append(O),m(y,()=>{O.remove(),e.complete()})}}xc=new WeakMap;class eO{constructor(t,{disableFontFace:e=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(const r in t)this[r]=t[r];this.disableFontFace=e===!0,this._inspectFont=s}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${G2(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(s=this._inspectFont)==null||s.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let s;try{s=t.get(this.loadedName+"_path_"+e)}catch(o){Ft(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(s)||s.length===0)return this.compiledGlyphs[e]=function(o,c){};const r=[];for(let o=0,c=s.length;o<c;)switch(s[o++]){case Gs.BEZIER_CURVE_TO:{const[d,p,g,m,y,v]=s.slice(o,o+6);r.push(S=>S.bezierCurveTo(d,p,g,m,y,v)),o+=6}break;case Gs.MOVE_TO:{const[d,p]=s.slice(o,o+2);r.push(g=>g.moveTo(d,p)),o+=2}break;case Gs.LINE_TO:{const[d,p]=s.slice(o,o+2);r.push(g=>g.lineTo(d,p)),o+=2}break;case Gs.QUADRATIC_CURVE_TO:{const[d,p,g,m]=s.slice(o,o+4);r.push(y=>y.quadraticCurveTo(d,p,g,m)),o+=4}break;case Gs.RESTORE:r.push(d=>d.restore());break;case Gs.SAVE:r.push(d=>d.save());break;case Gs.SCALE:Ue(r.length===2,"Scale command is only valid at the third position.");break;case Gs.TRANSFORM:{const[d,p,g,m,y,v]=s.slice(o,o+6);r.push(S=>S.transform(d,p,g,m,y,v)),o+=6}break;case Gs.TRANSLATE:{const[d,p]=s.slice(o,o+2);r.push(g=>g.translate(d,p)),o+=2}break}return this.compiledGlyphs[e]=function(c,d){r[0](c),r[1](c),c.scale(d,-d);for(let p=2,g=r.length;p<g;p++)r[p](c)}}}var cd;class b1{constructor({enableHWA:t=!1}){x(this,cd,!1);E(this,cd,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(t,e);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!h(this,cd)})}}reset(t,e,s){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||s<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=s}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){ue("Abstract method `_createCanvas` called.")}}cd=new WeakMap;class nO extends b1{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const s=this._document.createElement("canvas");return s.width=t,s.height=e,s}}class y1{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){ue("Abstract method `_fetch` called.")}}class v1 extends y1{async _fetch(t){const e=await Kg(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):$g(e)}}class A1{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,s,r,o){return"none"}destroy(t=!1){}}var To,xo,ms,ta,pn,Cg,Co,ht,dn,tc,ec,zp,nc,S1,l0,ic,xh,Ch,c0,Rh;class iO extends A1{constructor({docId:e,ownerDocument:s=globalThis.document}){super();x(this,ht);x(this,To);x(this,xo);x(this,ms);x(this,ta);x(this,pn);x(this,Cg);x(this,Co,0);E(this,ta,e),E(this,pn,s)}addFilter(e){if(!e)return"none";let s=h(this,ht,dn).get(e);if(s)return s;const[r,o,c]=T(this,ht,zp).call(this,e),d=e.length===1?r:`${r}${o}${c}`;if(s=h(this,ht,dn).get(d),s)return h(this,ht,dn).set(e,s),s;const p=`g_${h(this,ta)}_transfer_map_${_n(this,Co)._++}`,g=T(this,ht,nc).call(this,p);h(this,ht,dn).set(e,g),h(this,ht,dn).set(d,g);const m=T(this,ht,ic).call(this,p);return T(this,ht,Ch).call(this,r,o,c,m),g}addHCMFilter(e,s){var A;const r=`${e}-${s}`,o="base";let c=h(this,ht,tc).get(o);if((c==null?void 0:c.key)===r||(c?((A=c.filter)==null||A.remove(),c.key=r,c.url="none",c.filter=null):(c={key:r,url:"none",filter:null},h(this,ht,tc).set(o,c)),!e||!s))return c.url;const d=T(this,ht,Rh).call(this,e);e=bt.makeHexColor(...d);const p=T(this,ht,Rh).call(this,s);if(s=bt.makeHexColor(...p),h(this,ht,ec).style.color="",e==="#000000"&&s==="#ffffff"||e===s)return c.url;const g=new Array(256);for(let w=0;w<=255;w++){const M=w/255;g[w]=M<=.03928?M/12.92:((M+.055)/1.055)**2.4}const m=g.join(","),y=`g_${h(this,ta)}_hcm_filter`,v=c.filter=T(this,ht,ic).call(this,y);T(this,ht,Ch).call(this,m,m,m,v),T(this,ht,l0).call(this,v);const S=(w,M)=>{const R=d[w]/255,P=p[w]/255,O=new Array(M+1);for(let N=0;N<=M;N++)O[N]=R+N/M*(P-R);return O.join(",")};return T(this,ht,Ch).call(this,S(0,5),S(1,5),S(2,5),v),c.url=T(this,ht,nc).call(this,y),c.url}addAlphaFilter(e){let s=h(this,ht,dn).get(e);if(s)return s;const[r]=T(this,ht,zp).call(this,[e]),o=`alpha_${r}`;if(s=h(this,ht,dn).get(o),s)return h(this,ht,dn).set(e,s),s;const c=`g_${h(this,ta)}_alpha_map_${_n(this,Co)._++}`,d=T(this,ht,nc).call(this,c);h(this,ht,dn).set(e,d),h(this,ht,dn).set(o,d);const p=T(this,ht,ic).call(this,c);return T(this,ht,c0).call(this,r,p),d}addLuminosityFilter(e){let s=h(this,ht,dn).get(e||"luminosity");if(s)return s;let r,o;if(e?([r]=T(this,ht,zp).call(this,[e]),o=`luminosity_${r}`):o="luminosity",s=h(this,ht,dn).get(o),s)return h(this,ht,dn).set(e,s),s;const c=`g_${h(this,ta)}_luminosity_map_${_n(this,Co)._++}`,d=T(this,ht,nc).call(this,c);h(this,ht,dn).set(e,d),h(this,ht,dn).set(o,d);const p=T(this,ht,ic).call(this,c);return T(this,ht,S1).call(this,p),e&&T(this,ht,c0).call(this,r,p),d}addHighlightHCMFilter(e,s,r,o,c){var P;const d=`${s}-${r}-${o}-${c}`;let p=h(this,ht,tc).get(e);if((p==null?void 0:p.key)===d||(p?((P=p.filter)==null||P.remove(),p.key=d,p.url="none",p.filter=null):(p={key:d,url:"none",filter:null},h(this,ht,tc).set(e,p)),!s||!r))return p.url;const[g,m]=[s,r].map(T(this,ht,Rh).bind(this));let y=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),v=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),[S,A]=[o,c].map(T(this,ht,Rh).bind(this));v<y&&([y,v,S,A]=[v,y,A,S]),h(this,ht,ec).style.color="";const w=(O,N,F)=>{const B=new Array(256),z=(v-y)/F,V=O/255,G=(N-O)/(255*F);let et=0;for(let it=0;it<=F;it++){const dt=Math.round(y+it*z),ut=V+it*G;for(let ct=et;ct<=dt;ct++)B[ct]=ut;et=dt+1}for(let it=et;it<256;it++)B[it]=B[et-1];return B.join(",")},M=`g_${h(this,ta)}_hcm_${e}_filter`,R=p.filter=T(this,ht,ic).call(this,M);return T(this,ht,l0).call(this,R),T(this,ht,Ch).call(this,w(S[0],A[0],5),w(S[1],A[1],5),w(S[2],A[2],5),R),p.url=T(this,ht,nc).call(this,M),p.url}destroy(e=!1){e&&h(this,ht,tc).size!==0||(h(this,ms)&&(h(this,ms).parentNode.parentNode.remove(),E(this,ms,null)),h(this,xo)&&(h(this,xo).clear(),E(this,xo,null)),E(this,Co,0))}}To=new WeakMap,xo=new WeakMap,ms=new WeakMap,ta=new WeakMap,pn=new WeakMap,Cg=new WeakMap,Co=new WeakMap,ht=new WeakSet,dn=function(){return h(this,xo)||E(this,xo,new Map)},tc=function(){return h(this,Cg)||E(this,Cg,new Map)},ec=function(){if(!h(this,ms)){const e=h(this,pn).createElement("div"),{style:s}=e;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const r=h(this,pn).createElementNS(Xs,"svg");r.setAttribute("width",0),r.setAttribute("height",0),E(this,ms,h(this,pn).createElementNS(Xs,"defs")),e.append(r),r.append(h(this,ms)),h(this,pn).body.append(e)}return h(this,ms)},zp=function(e){if(e.length===1){const g=e[0],m=new Array(256);for(let v=0;v<256;v++)m[v]=g[v]/255;const y=m.join(",");return[y,y,y]}const[s,r,o]=e,c=new Array(256),d=new Array(256),p=new Array(256);for(let g=0;g<256;g++)c[g]=s[g]/255,d[g]=r[g]/255,p[g]=o[g]/255;return[c.join(","),d.join(","),p.join(",")]},nc=function(e){if(h(this,To)===void 0){E(this,To,"");const s=h(this,pn).URL;s!==h(this,pn).baseURI&&(Wg(s)?Ft('#createUrl: ignore "data:"-URL for performance reasons.'):E(this,To,s.split("#",1)[0]))}return`url(${h(this,To)}#${e})`},S1=function(e){const s=h(this,pn).createElementNS(Xs,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(s)},l0=function(e){const s=h(this,pn).createElementNS(Xs,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(s)},ic=function(e){const s=h(this,pn).createElementNS(Xs,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",e),h(this,ht,ec).append(s),s},xh=function(e,s,r){const o=h(this,pn).createElementNS(Xs,s);o.setAttribute("type","discrete"),o.setAttribute("tableValues",r),e.append(o)},Ch=function(e,s,r,o){const c=h(this,pn).createElementNS(Xs,"feComponentTransfer");o.append(c),T(this,ht,xh).call(this,c,"feFuncR",e),T(this,ht,xh).call(this,c,"feFuncG",s),T(this,ht,xh).call(this,c,"feFuncB",r)},c0=function(e,s){const r=h(this,pn).createElementNS(Xs,"feComponentTransfer");s.append(r),T(this,ht,xh).call(this,r,"feFuncA",e)},Rh=function(e){return h(this,ht,ec).style.color=e,pv(getComputedStyle(h(this,ht,ec)).getPropertyValue("color"))};class _1{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(s=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){ue("Abstract method `_fetch` called.")}}class E1 extends _1{async _fetch(t){const e=await Kg(t,"arraybuffer");return new Uint8Array(e)}}if(vn){var u0=Promise.withResolvers(),zh=null;(async()=>{const t=await Ep(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await Ep(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await Ep(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Ep(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let o,c;return new Map(Object.entries({fs:t,http:e,https:s,url:r,canvas:o,path2d:c}))})().then(t=>{zh=t,u0.resolve()},t=>{Ft(`loadPackages: ${t}`),zh=new Map,u0.resolve()})}class xr{static get promise(){return u0.promise}static get(t){return zh==null?void 0:zh.get(t)}}async function w1(u){const e=await xr.get("fs").promises.readFile(u);return new Uint8Array(e)}class sO extends A1{}class aO extends b1{_createCanvas(t,e){return xr.get("canvas").createCanvas(t,e)}}class rO extends y1{async _fetch(t){return w1(t)}}class oO extends _1{async _fetch(t){return w1(t)}}const Tn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function h0(u,t){if(!t)return;const e=t[2]-t[0],s=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,s),u.clip(r)}class mv{getPattern(){ue("Abstract method `getPattern` called.")}}class lO extends mv{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)e.addColorStop(s[0],s[1]);return e}getPattern(t,e,s,r){let o;if(r===Tn.STROKE||r===Tn.FILL){const c=e.current.getClippedPathBoundingBox(r,be(t))||[0,0,0,0],d=Math.ceil(c[2]-c[0])||1,p=Math.ceil(c[3]-c[1])||1,g=e.cachedCanvases.getCanvas("pattern",d,p),m=g.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-c[0],-c[1]),s=bt.transform(s,[1,0,0,1,c[0],c[1]]),m.transform(...e.baseTransform),this.matrix&&m.transform(...this.matrix),h0(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),o=t.createPattern(g.canvas,"no-repeat");const y=new DOMMatrix(s);o.setTransform(y)}else h0(t,this._bbox),o=this._createGradient(t);return o}}function wy(u,t,e,s,r,o,c,d){const p=t.coords,g=t.colors,m=u.data,y=u.width*4;let v;p[e+1]>p[s+1]&&(v=e,e=s,s=v,v=o,o=c,c=v),p[s+1]>p[r+1]&&(v=s,s=r,r=v,v=c,c=d,d=v),p[e+1]>p[s+1]&&(v=e,e=s,s=v,v=o,o=c,c=v);const S=(p[e]+t.offsetX)*t.scaleX,A=(p[e+1]+t.offsetY)*t.scaleY,w=(p[s]+t.offsetX)*t.scaleX,M=(p[s+1]+t.offsetY)*t.scaleY,R=(p[r]+t.offsetX)*t.scaleX,P=(p[r+1]+t.offsetY)*t.scaleY;if(A>=P)return;const O=g[o],N=g[o+1],F=g[o+2],B=g[c],z=g[c+1],V=g[c+2],G=g[d],et=g[d+1],it=g[d+2],dt=Math.round(A),ut=Math.round(P);let ct,ft,$,Z,tt,_t,k,X;for(let st=dt;st<=ut;st++){if(st<M){const wt=st<A?0:(A-st)/(A-M);ct=S-(S-w)*wt,ft=O-(O-B)*wt,$=N-(N-z)*wt,Z=F-(F-V)*wt}else{let wt;st>P?wt=1:M===P?wt=0:wt=(M-st)/(M-P),ct=w-(w-R)*wt,ft=B-(B-G)*wt,$=z-(z-et)*wt,Z=V-(V-it)*wt}let at;st<A?at=0:st>P?at=1:at=(A-st)/(A-P),tt=S-(S-R)*at,_t=O-(O-G)*at,k=N-(N-et)*at,X=F-(F-it)*at;const rt=Math.round(Math.min(ct,tt)),Et=Math.round(Math.max(ct,tt));let gt=y*st+rt*4;for(let wt=rt;wt<=Et;wt++)at=(ct-wt)/(ct-tt),at<0?at=0:at>1&&(at=1),m[gt++]=ft-(ft-_t)*at|0,m[gt++]=$-($-k)*at|0,m[gt++]=Z-(Z-X)*at|0,m[gt++]=255}}function cO(u,t,e){const s=t.coords,r=t.colors;let o,c;switch(t.type){case"lattice":const d=t.verticesPerRow,p=Math.floor(s.length/d)-1,g=d-1;for(o=0;o<p;o++){let m=o*d;for(let y=0;y<g;y++,m++)wy(u,e,s[m],s[m+1],s[m+d],r[m],r[m+1],r[m+d]),wy(u,e,s[m+d+1],s[m+1],s[m+d],r[m+d+1],r[m+1],r[m+d])}break;case"triangles":for(o=0,c=s.length;o<c;o+=3)wy(u,e,s[o],s[o+1],s[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class uO extends mv{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,s){const d=Math.floor(this._bounds[0]),p=Math.floor(this._bounds[1]),g=Math.ceil(this._bounds[2])-d,m=Math.ceil(this._bounds[3])-p,y=Math.min(Math.ceil(Math.abs(g*t[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(m*t[1]*1.1)),3e3),S=g/y,A=m/v,w={coords:this._coords,colors:this._colors,offsetX:-d,offsetY:-p,scaleX:1/S,scaleY:1/A},M=y+2*2,R=v+2*2,P=s.getCanvas("mesh",M,R),O=P.context,N=O.createImageData(y,v);if(e){const B=N.data;for(let z=0,V=B.length;z<V;z+=4)B[z]=e[0],B[z+1]=e[1],B[z+2]=e[2],B[z+3]=255}for(const B of this._figures)cO(N,B,w);return O.putImageData(N,2,2),{canvas:P.canvas,offsetX:d-2*S,offsetY:p-2*A,scaleX:S,scaleY:A}}getPattern(t,e,s,r){h0(t,this._bbox);let o;if(r===Tn.SHADING)o=bt.singularValueDecompose2dScale(be(t));else if(o=bt.singularValueDecompose2dScale(e.baseTransform),this.matrix){const d=bt.singularValueDecompose2dScale(this.matrix);o=[o[0]*d[0],o[1]*d[1]]}const c=this._createMeshCanvas(o,r===Tn.SHADING?null:this._background,e.cachedCanvases);return r!==Tn.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class hO extends mv{getPattern(){return"hotpink"}}function dO(u){switch(u[0]){case"RadialAxial":return new lO(u);case"Mesh":return new uO(u);case"Dummy":return new hO}throw new Error(`Unknown IR type: ${u[0]}`)}const zE={COLORED:1,UNCOLORED:2},Rg=class Rg{constructor(t,e,s,r,o){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=s,this.canvasGraphicsFactory=r,this.baseTransform=o}createPatternCanvas(t){const{bbox:e,operatorList:s,paintType:r,tilingType:o,color:c,canvasGraphicsFactory:d}=this;let{xstep:p,ystep:g}=this;p=Math.abs(p),g=Math.abs(g),Xg("TilingType: "+o);const m=e[0],y=e[1],v=e[2],S=e[3],A=v-m,w=S-y,M=bt.singularValueDecompose2dScale(this.matrix),R=bt.singularValueDecompose2dScale(this.baseTransform),P=M[0]*R[0],O=M[1]*R[1];let N=A,F=w,B=!1,z=!1;const V=Math.ceil(p*P),G=Math.ceil(g*O),et=Math.ceil(A*P),it=Math.ceil(w*O);V>=et?N=p:B=!0,G>=it?F=g:z=!0;const dt=this.getSizeAndScale(N,this.ctx.canvas.width,P),ut=this.getSizeAndScale(F,this.ctx.canvas.height,O),ct=t.cachedCanvases.getCanvas("pattern",dt.size,ut.size),ft=ct.context,$=d.createCanvasGraphics(ft);if($.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext($,r,c),ft.translate(-dt.scale*m,-ut.scale*y),$.transform(dt.scale,0,0,ut.scale,0,0),ft.save(),this.clipBbox($,m,y,v,S),$.baseTransform=be($.ctx),$.executeOperatorList(s),$.endDrawing(),ft.restore(),B||z){const Z=ct.canvas;B&&(N=p),z&&(F=g);const tt=this.getSizeAndScale(N,this.ctx.canvas.width,P),_t=this.getSizeAndScale(F,this.ctx.canvas.height,O),k=tt.size,X=_t.size,st=t.cachedCanvases.getCanvas("pattern-workaround",k,X),at=st.context,rt=B?Math.floor(A/p):0,Et=z?Math.floor(w/g):0;for(let gt=0;gt<=rt;gt++)for(let wt=0;wt<=Et;wt++)at.drawImage(Z,k*gt,X*wt,k,X,0,0,k,X);return{canvas:st.canvas,scaleX:tt.scale,scaleY:_t.scale,offsetX:m,offsetY:y}}return{canvas:ct.canvas,scaleX:dt.scale,scaleY:ut.scale,offsetX:m,offsetY:y}}getSizeAndScale(t,e,s){const r=Math.max(Rg.MAX_PATTERN_SIZE,e);let o=Math.ceil(t*s);return o>=r?o=r:s=o/t,{scale:s,size:o}}clipBbox(t,e,s,r,o){const c=r-e,d=o-s;t.ctx.rect(e,s,c,d),t.current.updateRectMinMax(be(t.ctx),[e,s,r,o]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,s){const r=t.ctx,o=t.current;switch(e){case zE.COLORED:const c=this.ctx;r.fillStyle=c.fillStyle,r.strokeStyle=c.strokeStyle,o.fillColor=c.fillStyle,o.strokeColor=c.strokeStyle;break;case zE.UNCOLORED:const d=bt.makeHexColor(s[0],s[1],s[2]);r.fillStyle=d,r.strokeStyle=d,o.fillColor=d,o.strokeColor=d;break;default:throw new j2(`Unsupported paint type: ${e}`)}}getPattern(t,e,s,r){let o=s;r!==Tn.SHADING&&(o=bt.transform(o,e.baseTransform),this.matrix&&(o=bt.transform(o,this.matrix)));const c=this.createPatternCanvas(e);let d=new DOMMatrix(o);d=d.translate(c.offsetX,c.offsetY),d=d.scale(1/c.scaleX,1/c.scaleY);const p=t.createPattern(c.canvas,"repeat");return p.setTransform(d),p}};Tt(Rg,"MAX_PATTERN_SIZE",3e3);let d0=Rg;function fO({src:u,srcPos:t=0,dest:e,width:s,height:r,nonBlackColor:o=4294967295,inverseDecode:c=!1}){const d=xn.isLittleEndian?4278190080:255,[p,g]=c?[o,d]:[d,o],m=s>>3,y=s&7,v=u.length;e=new Uint32Array(e.buffer);let S=0;for(let A=0;A<r;A++){for(const M=t+m;t<M;t++){const R=t<v?u[t]:255;e[S++]=R&128?g:p,e[S++]=R&64?g:p,e[S++]=R&32?g:p,e[S++]=R&16?g:p,e[S++]=R&8?g:p,e[S++]=R&4?g:p,e[S++]=R&2?g:p,e[S++]=R&1?g:p}if(y===0)continue;const w=t<v?u[t++]:255;for(let M=0;M<y;M++)e[S++]=w&1<<7-M?g:p}return{srcPos:t,destPos:S}}const UE=16,BE=100,pO=15,IE=10,qE=1e3,Hn=16;function gO(u,t){if(u._removeMirroring)throw new Error("Context is already forwarding operations.");u.__originalSave=u.save,u.__originalRestore=u.restore,u.__originalRotate=u.rotate,u.__originalScale=u.scale,u.__originalTranslate=u.translate,u.__originalTransform=u.transform,u.__originalSetTransform=u.setTransform,u.__originalResetTransform=u.resetTransform,u.__originalClip=u.clip,u.__originalMoveTo=u.moveTo,u.__originalLineTo=u.lineTo,u.__originalBezierCurveTo=u.bezierCurveTo,u.__originalRect=u.rect,u.__originalClosePath=u.closePath,u.__originalBeginPath=u.beginPath,u._removeMirroring=()=>{u.save=u.__originalSave,u.restore=u.__originalRestore,u.rotate=u.__originalRotate,u.scale=u.__originalScale,u.translate=u.__originalTranslate,u.transform=u.__originalTransform,u.setTransform=u.__originalSetTransform,u.resetTransform=u.__originalResetTransform,u.clip=u.__originalClip,u.moveTo=u.__originalMoveTo,u.lineTo=u.__originalLineTo,u.bezierCurveTo=u.__originalBezierCurveTo,u.rect=u.__originalRect,u.closePath=u.__originalClosePath,u.beginPath=u.__originalBeginPath,delete u._removeMirroring},u.save=function(){t.save(),this.__originalSave()},u.restore=function(){t.restore(),this.__originalRestore()},u.translate=function(s,r){t.translate(s,r),this.__originalTranslate(s,r)},u.scale=function(s,r){t.scale(s,r),this.__originalScale(s,r)},u.transform=function(s,r,o,c,d,p){t.transform(s,r,o,c,d,p),this.__originalTransform(s,r,o,c,d,p)},u.setTransform=function(s,r,o,c,d,p){t.setTransform(s,r,o,c,d,p),this.__originalSetTransform(s,r,o,c,d,p)},u.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},u.rotate=function(s){t.rotate(s),this.__originalRotate(s)},u.clip=function(s){t.clip(s),this.__originalClip(s)},u.moveTo=function(e,s){t.moveTo(e,s),this.__originalMoveTo(e,s)},u.lineTo=function(e,s){t.lineTo(e,s),this.__originalLineTo(e,s)},u.bezierCurveTo=function(e,s,r,o,c,d){t.bezierCurveTo(e,s,r,o,c,d),this.__originalBezierCurveTo(e,s,r,o,c,d)},u.rect=function(e,s,r,o){t.rect(e,s,r,o),this.__originalRect(e,s,r,o)},u.closePath=function(){t.closePath(),this.__originalClosePath()},u.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class mO{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,s){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,s)):(r=this.canvasFactory.create(e,s),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function wp(u,t,e,s,r,o,c,d,p,g){const[m,y,v,S,A,w]=be(u);if(y===0&&v===0){const P=c*m+A,O=Math.round(P),N=d*S+w,F=Math.round(N),B=(c+p)*m+A,z=Math.abs(Math.round(B)-O)||1,V=(d+g)*S+w,G=Math.abs(Math.round(V)-F)||1;return u.setTransform(Math.sign(m),0,0,Math.sign(S),O,F),u.drawImage(t,e,s,r,o,0,0,z,G),u.setTransform(m,y,v,S,A,w),[z,G]}if(m===0&&S===0){const P=d*v+A,O=Math.round(P),N=c*y+w,F=Math.round(N),B=(d+g)*v+A,z=Math.abs(Math.round(B)-O)||1,V=(c+p)*y+w,G=Math.abs(Math.round(V)-F)||1;return u.setTransform(0,Math.sign(y),Math.sign(v),0,O,F),u.drawImage(t,e,s,r,o,0,0,G,z),u.setTransform(m,y,v,S,A,w),[G,z]}u.drawImage(t,e,s,r,o,c,d,p,g);const M=Math.hypot(m,y),R=Math.hypot(v,S);return[M*p,R*g]}function bO(u){const{width:t,height:e}=u;if(t>qE||e>qE)return null;const s=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=t+1;let c=new Uint8Array(o*(e+1)),d,p,g;const m=t+7&-8;let y=new Uint8Array(m*e),v=0;for(const R of u.data){let P=128;for(;P>0;)y[v++]=R&P?0:255,P>>=1}let S=0;for(v=0,y[v]!==0&&(c[0]=1,++S),p=1;p<t;p++)y[v]!==y[v+1]&&(c[p]=y[v]?2:1,++S),v++;for(y[v]!==0&&(c[p]=2,++S),d=1;d<e;d++){v=d*m,g=d*o,y[v-m]!==y[v]&&(c[g]=y[v]?1:8,++S);let R=(y[v]?4:0)+(y[v-m]?8:0);for(p=1;p<t;p++)R=(R>>2)+(y[v+1]?4:0)+(y[v-m+1]?8:0),r[R]&&(c[g+p]=r[R],++S),v++;if(y[v-m]!==y[v]&&(c[g+p]=y[v]?2:4,++S),S>s)return null}for(v=m*(e-1),g=d*o,y[v]!==0&&(c[g]=8,++S),p=1;p<t;p++)y[v]!==y[v+1]&&(c[g+p]=y[v]?4:8,++S),v++;if(y[v]!==0&&(c[g+p]=4,++S),S>s)return null;const A=new Int32Array([0,o,-1,0,-o,0,0,0,1]),w=new Path2D;for(d=0;S&&d<=e;d++){let R=d*o;const P=R+t;for(;R<P&&!c[R];)R++;if(R===P)continue;w.moveTo(R%o,d);const O=R;let N=c[R];do{const F=A[N];do R+=F;while(!c[R]);const B=c[R];B!==5&&B!==10?(N=B,c[R]=0):(N=B&51*N>>4,c[R]&=N>>2|N<<2),w.lineTo(R%o,R/o|0),c[R]||--S}while(O!==R);--d}return y=null,c=null,function(R){R.save(),R.scale(1/t,-1/e),R.translate(0,-e),R.fill(w),R.beginPath(),R.restore()}}class GE{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Bw,this.textMatrixScale=1,this.fontMatrix=Hy,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=hn.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,s){[e,s]=bt.applyTransform([e,s],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(t,e){const s=bt.applyTransform(e,t),r=bt.applyTransform(e.slice(2),t),o=bt.applyTransform([e[0],e[3]],t),c=bt.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,s[0],r[0],o[0],c[0]),this.minY=Math.min(this.minY,s[1],r[1],o[1],c[1]),this.maxX=Math.max(this.maxX,s[0],r[0],o[0],c[0]),this.maxY=Math.max(this.maxY,s[1],r[1],o[1],c[1])}updateScalingPathMinMax(t,e){bt.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,s,r,o,c,d,p,g,m){const y=bt.bezierBoundingBox(e,s,r,o,c,d,p,g,m);m||this.updateRectMinMax(t,y)}getPathBoundingBox(t=Tn.FILL,e=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(t===Tn.STROKE){e||ue("Stroke bounding box must include transform.");const r=bt.singularValueDecompose2dScale(e),o=r[0]*this.lineWidth/2,c=r[1]*this.lineWidth/2;s[0]-=o,s[1]-=c,s[2]+=o,s[3]+=c}return s}updateClipFromPath(){const t=bt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=Tn.FILL,e=null){return bt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function VE(u,t){if(typeof ImageData<"u"&&t instanceof ImageData){u.putImageData(t,0,0);return}const e=t.height,s=t.width,r=e%Hn,o=(e-r)/Hn,c=r===0?o:o+1,d=u.createImageData(s,Hn);let p=0,g;const m=t.data,y=d.data;let v,S,A,w;if(t.kind===Lp.GRAYSCALE_1BPP){const M=m.byteLength,R=new Uint32Array(y.buffer,0,y.byteLength>>2),P=R.length,O=s+7>>3,N=4294967295,F=xn.isLittleEndian?4278190080:255;for(v=0;v<c;v++){for(A=v<o?Hn:r,g=0,S=0;S<A;S++){const B=M-p;let z=0;const V=B>O?s:B*8-7,G=V&-8;let et=0,it=0;for(;z<G;z+=8)it=m[p++],R[g++]=it&128?N:F,R[g++]=it&64?N:F,R[g++]=it&32?N:F,R[g++]=it&16?N:F,R[g++]=it&8?N:F,R[g++]=it&4?N:F,R[g++]=it&2?N:F,R[g++]=it&1?N:F;for(;z<V;z++)et===0&&(it=m[p++],et=128),R[g++]=it&et?N:F,et>>=1}for(;g<P;)R[g++]=0;u.putImageData(d,0,v*Hn)}}else if(t.kind===Lp.RGBA_32BPP){for(S=0,w=s*Hn*4,v=0;v<o;v++)y.set(m.subarray(p,p+w)),p+=w,u.putImageData(d,0,S),S+=Hn;v<c&&(w=s*r*4,y.set(m.subarray(p,p+w)),u.putImageData(d,0,S))}else if(t.kind===Lp.RGB_24BPP)for(A=Hn,w=s*A,v=0;v<c;v++){for(v>=o&&(A=r,w=s*A),g=0,S=w;S--;)y[g++]=m[p++],y[g++]=m[p++],y[g++]=m[p++],y[g++]=255;u.putImageData(d,0,v*Hn)}else throw new Error(`bad image kind: ${t.kind}`)}function XE(u,t){if(t.bitmap){u.drawImage(t.bitmap,0,0);return}const e=t.height,s=t.width,r=e%Hn,o=(e-r)/Hn,c=r===0?o:o+1,d=u.createImageData(s,Hn);let p=0;const g=t.data,m=d.data;for(let y=0;y<c;y++){const v=y<o?Hn:r;({srcPos:p}=fO({src:g,srcPos:p,dest:m,width:s,height:v,nonBlackColor:0})),u.putImageData(d,0,y*Hn)}}function Ah(u,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of e)u[s]!==void 0&&(t[s]=u[s]);u.setLineDash!==void 0&&(t.setLineDash(u.getLineDash()),t.lineDashOffset=u.lineDashOffset)}function Tp(u){if(u.strokeStyle=u.fillStyle="#000000",u.fillRule="nonzero",u.globalAlpha=1,u.lineWidth=1,u.lineCap="butt",u.lineJoin="miter",u.miterLimit=10,u.globalCompositeOperation="source-over",u.font="10px sans-serif",u.setLineDash!==void 0&&(u.setLineDash([]),u.lineDashOffset=0),!vn){const{filter:t}=u;t!=="none"&&t!==""&&(u.filter="none")}}function YE(u,t){if(t)return!0;const e=bt.singularValueDecompose2dScale(u);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*Tr.PDF_TO_CSS_UNITS);return e[0]<=s&&e[1]<=s}const yO=["butt","round","square"],vO=["miter","round","bevel"],AO={},$E={};var Rr,f0,p0;const Tv=class Tv{constructor(t,e,s,r,o,{optionalContentConfig:c,markedContentStack:d=null},p,g){x(this,Rr);this.ctx=t,this.current=new GE(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=s,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=c,this.cachedCanvases=new mO(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=p,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=g,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:s=!1,background:r=null}){const o=this.ctx.canvas.width,c=this.ctx.canvas.height,d=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,c),this.ctx.fillStyle=d,s){const p=this.cachedCanvases.getCanvas("transparent",o,c);this.compositeCtx=this.ctx,this.transparentCanvas=p.canvas,this.ctx=p.context,this.ctx.save(),this.ctx.transform(...be(this.compositeCtx))}this.ctx.save(),Tp(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=be(this.ctx)}executeOperatorList(t,e,s,r){const o=t.argsArray,c=t.fnArray;let d=e||0;const p=o.length;if(p===d)return d;const g=p-d>IE&&typeof s=="function",m=g?Date.now()+pO:0;let y=0;const v=this.commonObjs,S=this.objs;let A;for(;;){if(r!==void 0&&d===r.nextBreakPoint)return r.breakIt(d,s),d;if(A=c[d],A!==Fi.dependency)this[A].apply(this,o[d]);else for(const w of o[d]){const M=w.startsWith("g_")?v:S;if(!M.has(w))return M.get(w,s),d}if(d++,d===p)return d;if(g&&++y>IE){if(Date.now()>m)return s(),d;y=0}}}endDrawing(){T(this,Rr,f0).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),T(this,Rr,p0).call(this)}_scaleImage(t,e){const s=t.width??t.displayWidth,r=t.height??t.displayHeight;let o=Math.max(Math.hypot(e[0],e[1]),1),c=Math.max(Math.hypot(e[2],e[3]),1),d=s,p=r,g="prescale1",m,y;for(;o>2&&d>1||c>2&&p>1;){let v=d,S=p;o>2&&d>1&&(v=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),o/=d/v),c>2&&p>1&&(S=p>=16384?Math.floor(p/2)-1||1:Math.ceil(p)/2,c/=p/S),m=this.cachedCanvases.getCanvas(g,v,S),y=m.context,y.clearRect(0,0,v,S),y.drawImage(t,0,0,d,p,0,0,v,S),t=m.canvas,d=v,p=S,g=g==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:d,paintHeight:p}}_createMaskCanvas(t){const e=this.ctx,{width:s,height:r}=t,o=this.current.fillColor,c=this.current.patternFill,d=be(e);let p,g,m,y;if((t.bitmap||t.data)&&t.count>1){const V=t.bitmap||t.data.buffer;g=JSON.stringify(c?d:[d.slice(0,4),o]),p=this._cachedBitmapsMap.get(V),p||(p=new Map,this._cachedBitmapsMap.set(V,p));const G=p.get(g);if(G&&!c){const et=Math.round(Math.min(d[0],d[2])+d[4]),it=Math.round(Math.min(d[1],d[3])+d[5]);return{canvas:G,offsetX:et,offsetY:it}}m=G}m||(y=this.cachedCanvases.getCanvas("maskCanvas",s,r),XE(y.context,t));let v=bt.transform(d,[1/s,0,0,-1/r,0,0]);v=bt.transform(v,[1,0,0,1,0,-r]);const[S,A,w,M]=bt.getAxialAlignedBoundingBox([0,0,s,r],v),R=Math.round(w-S)||1,P=Math.round(M-A)||1,O=this.cachedCanvases.getCanvas("fillCanvas",R,P),N=O.context,F=S,B=A;N.translate(-F,-B),N.transform(...v),m||(m=this._scaleImage(y.canvas,Vs(N)),m=m.img,p&&c&&p.set(g,m)),N.imageSmoothingEnabled=YE(be(N),t.interpolate),wp(N,m,0,0,m.width,m.height,0,0,s,r),N.globalCompositeOperation="source-in";const z=bt.transform(Vs(N),[1,0,0,1,-F,-B]);return N.fillStyle=c?o.getPattern(e,this,z,Tn.FILL):o,N.fillRect(0,0,s,r),p&&!c&&(this.cachedCanvases.delete("fillCanvas"),p.set(g,O.canvas)),{canvas:O.canvas,offsetX:Math.round(F),offsetY:Math.round(B)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=yO[t]}setLineJoin(t){this.ctx.lineJoin=vO[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(t),s.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,s]of t)switch(e){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.current.fillAlpha=s,this.ctx.globalAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(s,t,e);this.suspendedCtx=this.ctx,this.ctx=r.context;const o=this.ctx;o.setTransform(...be(this.suspendedCtx)),Ah(this.suspendedCtx,o),gO(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ah(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,s,r){const o=r[0],c=r[1],d=r[2]-o,p=r[3]-c;d===0||p===0||(this.genericComposeSMask(e.context,s,d,p,e.subtype,e.backdrop,e.transferMap,o,c,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(s.canvas,0,0),t.restore())}genericComposeSMask(t,e,s,r,o,c,d,p,g,m,y){let v=t.canvas,S=p-m,A=g-y;if(c){const M=bt.makeHexColor(...c);if(S<0||A<0||S+s>v.width||A+r>v.height){const R=this.cachedCanvases.getCanvas("maskExtension",s,r),P=R.context;P.drawImage(v,-S,-A),P.globalCompositeOperation="destination-atop",P.fillStyle=M,P.fillRect(0,0,s,r),P.globalCompositeOperation="source-over",v=R.canvas,S=A=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const R=new Path2D;R.rect(S,A,s,r),t.clip(R),t.globalCompositeOperation="destination-atop",t.fillStyle=M,t.fillRect(S,A,s,r),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),o==="Alpha"&&d?e.filter=this.filterFactory.addAlphaFilter(d):o==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(d));const w=new Path2D;w.rect(p,g,s,r),e.clip(w),e.globalCompositeOperation="destination-in",e.drawImage(v,S,A,s,r,p,g,s,r),e.restore()}save(){this.inSMaskMode?(Ah(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Ah(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,s,r,o,c){this.ctx.transform(t,e,s,r,o,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,s){const r=this.ctx,o=this.current;let c=o.x,d=o.y,p,g;const m=be(r),y=m[0]===0&&m[3]===0||m[1]===0&&m[2]===0,v=y?s.slice(0):null;for(let S=0,A=0,w=t.length;S<w;S++)switch(t[S]|0){case Fi.rectangle:c=e[A++],d=e[A++];const M=e[A++],R=e[A++],P=c+M,O=d+R;r.moveTo(c,d),M===0||R===0?r.lineTo(P,O):(r.lineTo(P,d),r.lineTo(P,O),r.lineTo(c,O)),y||o.updateRectMinMax(m,[c,d,P,O]),r.closePath();break;case Fi.moveTo:c=e[A++],d=e[A++],r.moveTo(c,d),y||o.updatePathMinMax(m,c,d);break;case Fi.lineTo:c=e[A++],d=e[A++],r.lineTo(c,d),y||o.updatePathMinMax(m,c,d);break;case Fi.curveTo:p=c,g=d,c=e[A+4],d=e[A+5],r.bezierCurveTo(e[A],e[A+1],e[A+2],e[A+3],c,d),o.updateCurvePathMinMax(m,p,g,e[A],e[A+1],e[A+2],e[A+3],c,d,v),A+=6;break;case Fi.curveTo2:p=c,g=d,r.bezierCurveTo(c,d,e[A],e[A+1],e[A+2],e[A+3]),o.updateCurvePathMinMax(m,p,g,c,d,e[A],e[A+1],e[A+2],e[A+3],v),c=e[A+2],d=e[A+3],A+=4;break;case Fi.curveTo3:p=c,g=d,c=e[A+2],d=e[A+3],r.bezierCurveTo(e[A],e[A+1],c,d,c,d),o.updateCurvePathMinMax(m,p,g,e[A],e[A+1],c,d,c,d,v),A+=4;break;case Fi.closePath:r.closePath();break}y&&o.updateScalingPathMinMax(m,v),o.setCurrentPoint(c,d)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,s=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof s=="object"&&(s!=null&&s.getPattern)?(e.save(),e.strokeStyle=s.getPattern(e,this,Vs(e),Tn.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,s=this.current.fillColor,r=this.current.patternFill;let o=!1;r&&(e.save(),e.fillStyle=s.getPattern(e,this,Vs(e),Tn.FILL),o=!0);const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),o&&e.restore(),t&&this.consumePath(c)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=AO}eoClip(){this.pendingClip=$E}beginText(){this.current.textMatrix=Bw,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const s of t)e.setTransform(...s.transform),e.translate(s.x,s.y),s.addToPath(e,s.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var m;const s=this.commonObjs.get(t),r=this.current;if(!s)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=s.fontMatrix||Hy,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Ft("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=e,s.isType3Font)return;const o=s.loadedName||"sans-serif",c=((m=s.systemFontInfo)==null?void 0:m.css)||`"${o}", ${s.fallbackName}`;let d="normal";s.black?d="900":s.bold&&(d="bold");const p=s.italic?"italic":"normal";let g=e;e<UE?g=UE:e>BE&&(g=BE),this.current.fontSizeScale=e/g,this.ctx.font=`${p} ${d} ${g}px ${c}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,s,r,o,c){this.current.textMatrix=[t,e,s,r,o,c],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,s,r){const o=this.ctx,c=this.current,d=c.font,p=c.textRenderingMode,g=c.fontSize/c.fontSizeScale,m=p&hn.FILL_STROKE_MASK,y=!!(p&hn.ADD_TO_PATH_FLAG),v=c.patternFill&&!d.missingFile;let S;(d.disableFontFace||y||v)&&(S=d.getPathGenerator(this.commonObjs,t)),d.disableFontFace||v?(o.save(),o.translate(e,s),o.beginPath(),S(o,g),r&&o.setTransform(...r),(m===hn.FILL||m===hn.FILL_STROKE)&&o.fill(),(m===hn.STROKE||m===hn.FILL_STROKE)&&o.stroke(),o.restore()):((m===hn.FILL||m===hn.FILL_STROKE)&&o.fillText(t,e,s),(m===hn.STROKE||m===hn.FILL_STROKE)&&o.strokeText(t,e,s)),y&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:be(o),x:e,y:s,fontSize:g,addToPath:S})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let s=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){s=!0;break}return qt(this,"isFontSubpixelAAEnabled",s)}showText(t){const e=this.current,s=e.font;if(s.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const o=this.ctx,c=e.fontSizeScale,d=e.charSpacing,p=e.wordSpacing,g=e.fontDirection,m=e.textHScale*g,y=t.length,v=s.vertical,S=v?1:-1,A=s.defaultVMetrics,w=r*e.fontMatrix[0],M=e.textRenderingMode===hn.FILL&&!s.disableFontFace&&!e.patternFill;o.save(),o.transform(...e.textMatrix),o.translate(e.x,e.y+e.textRise),g>0?o.scale(m,-1):o.scale(m,1);let R;if(e.patternFill){o.save();const B=e.fillColor.getPattern(o,this,Vs(o),Tn.FILL);R=be(o),o.restore(),o.fillStyle=B}let P=e.lineWidth;const O=e.textMatrixScale;if(O===0||P===0){const B=e.textRenderingMode&hn.FILL_STROKE_MASK;(B===hn.STROKE||B===hn.FILL_STROKE)&&(P=this.getSinglePixelWidth())}else P/=O;if(c!==1&&(o.scale(c,c),P/=c),o.lineWidth=P,s.isInvalidPDFjsFont){const B=[];let z=0;for(const V of t)B.push(V.unicode),z+=V.width;o.fillText(B.join(""),0,0),e.x+=z*w*m,o.restore(),this.compose();return}let N=0,F;for(F=0;F<y;++F){const B=t[F];if(typeof B=="number"){N+=S*B*r/1e3;continue}let z=!1;const V=(B.isSpace?p:0)+d,G=B.fontChar,et=B.accent;let it,dt,ut=B.width;if(v){const ft=B.vmetric||A,$=-(B.vmetric?ft[1]:ut*.5)*w,Z=ft[2]*w;ut=ft?-ft[0]:ut,it=$/c,dt=(N+Z)/c}else it=N/c,dt=0;if(s.remeasure&&ut>0){const ft=o.measureText(G).width*1e3/r*c;if(ut<ft&&this.isFontSubpixelAAEnabled){const $=ut/ft;z=!0,o.save(),o.scale($,1),it/=$}else ut!==ft&&(it+=(ut-ft)/2e3*r/c)}if(this.contentVisible&&(B.isInFont||s.missingFile)){if(M&&!et)o.fillText(G,it,dt);else if(this.paintChar(G,it,dt,R),et){const ft=it+r*et.offset.x/c,$=dt-r*et.offset.y/c;this.paintChar(et.fontChar,ft,$,R)}}const ct=v?ut*w-V*g:ut*w+V*g;N+=ct,z&&o.restore()}v?e.y-=N:e.x+=N*m,o.restore(),this.compose()}showType3Text(t){const e=this.ctx,s=this.current,r=s.font,o=s.fontSize,c=s.fontDirection,d=r.vertical?1:-1,p=s.charSpacing,g=s.wordSpacing,m=s.textHScale*c,y=s.fontMatrix||Hy,v=t.length,S=s.textRenderingMode===hn.INVISIBLE;let A,w,M,R;if(!(S||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...s.textMatrix),e.translate(s.x,s.y),e.scale(m,c),A=0;A<v;++A){if(w=t[A],typeof w=="number"){R=d*w*o/1e3,this.ctx.translate(R,0),s.x+=R*m;continue}const P=(w.isSpace?g:0)+p,O=r.charProcOperatorList[w.operatorListId];if(!O){Ft(`Type3 character "${w.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=w,this.save(),e.scale(o,o),e.transform(...y),this.executeOperatorList(O),this.restore()),M=bt.applyTransform([w.width,0],y)[0]*o+P,e.translate(M,0),s.x+=M*m}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,s,r,o,c){this.ctx.rect(s,r,o-s,c-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const s=t[1],r=this.baseTransform||be(this.ctx),o={createCanvasGraphics:c=>new Tv(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new d0(t,s,this.ctx,o,r)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,s){this.ctx.strokeStyle=this.current.strokeColor=bt.makeHexColor(t,e,s)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,s){this.ctx.fillStyle=this.current.fillColor=bt.makeHexColor(t,e,s),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let s;return this.cachedPatterns.has(t)?s=this.cachedPatterns.get(t):(s=dO(this.getObject(t)),this.cachedPatterns.set(t,s)),e&&(s.matrix=e),s}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const s=this._getPattern(t);e.fillStyle=s.getPattern(e,this,Vs(e),Tn.SHADING);const r=Vs(e);if(r){const{width:o,height:c}=e.canvas,[d,p,g,m]=bt.getAxialAlignedBoundingBox([0,0,o,c],r);this.ctx.fillRect(d,p,g-d,m-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ue("Should not call beginInlineImage")}beginImageData(){ue("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=be(this.ctx),e)){const s=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],s,r),this.current.updateRectMinMax(be(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Xg("TODO: Support non-isolated groups."),t.knockout&&Ft("Knockout groups not supported.");const s=be(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=bt.getAxialAlignedBoundingBox(t.bbox,be(e));const o=[0,0,e.canvas.width,e.canvas.height];r=bt.intersect(r,o)||[0,0,0,0];const c=Math.floor(r[0]),d=Math.floor(r[1]),p=Math.max(Math.ceil(r[2])-c,1),g=Math.max(Math.ceil(r[3])-d,1);this.current.startNewPathAndClipBox([0,0,p,g]);let m="groupAt"+this.groupLevel;t.smask&&(m+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(m,p,g),v=y.context;v.translate(-c,-d),v.transform(...s),t.smask?this.smaskStack.push({canvas:y.canvas,context:v,offsetX:c,offsetY:d,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(c,d),e.save()),Ah(e,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=be(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const o=bt.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(t,e,s,r,o){if(T(this,Rr,f0).call(this),Tp(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const c=e[2]-e[0],d=e[3]-e[1];if(o&&this.annotationCanvasMap){s=s.slice(),s[4]-=e[0],s[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=c,e[3]=d;const[p,g]=bt.singularValueDecompose2dScale(be(this.ctx)),{viewportScale:m}=this,y=Math.ceil(c*this.outputScaleX*m),v=Math.ceil(d*this.outputScaleY*m);this.annotationCanvas=this.canvasFactory.create(y,v);const{canvas:S,context:A}=this.annotationCanvas;this.annotationCanvasMap.set(t,S),this.annotationCanvas.savedCtx=this.ctx,this.ctx=A,this.ctx.save(),this.ctx.setTransform(p,0,0,-g,0,d*g),Tp(this.ctx)}else Tp(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],c,d),this.ctx.clip(),this.ctx.beginPath()}this.current=new GE(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),T(this,Rr,p0).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const s=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=bO(t)),r.compiled)){r.compiled(s);return}const o=this._createMaskCanvas(t),c=o.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(c,o.offsetX,o.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,s=0,r=0,o,c){if(!this.contentVisible)return;t=this.getObject(t.data,t);const d=this.ctx;d.save();const p=be(d);d.transform(e,s,r,o,0,0);const g=this._createMaskCanvas(t);d.setTransform(1,0,0,1,g.offsetX-p[4],g.offsetY-p[5]);for(let m=0,y=c.length;m<y;m+=2){const v=bt.transform(p,[e,s,r,o,c[m],c[m+1]]),[S,A]=bt.applyTransform([0,0],v);d.drawImage(g.canvas,S,A)}d.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,s=this.current.fillColor,r=this.current.patternFill;for(const o of t){const{data:c,width:d,height:p,transform:g}=o,m=this.cachedCanvases.getCanvas("maskCanvas",d,p),y=m.context;y.save();const v=this.getObject(c,o);XE(y,v),y.globalCompositeOperation="source-in",y.fillStyle=r?s.getPattern(y,this,Vs(e),Tn.FILL):s,y.fillRect(0,0,d,p),y.restore(),e.save(),e.transform(...g),e.scale(1,-1),wp(e,m.canvas,0,0,d,p,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){Ft("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,s,r){if(!this.contentVisible)return;const o=this.getObject(t);if(!o){Ft("Dependent image isn't ready yet");return}const c=o.width,d=o.height,p=[];for(let g=0,m=r.length;g<m;g+=2)p.push({transform:[e,0,0,s,r[g],r[g+1]],x:0,y:0,w:c,h:d});this.paintInlineImageXObjectGroup(o,p)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:s,height:r}=t,o=this.cachedCanvases.getCanvas("inlineImage",s,r),c=o.context;return c.filter=this.current.transferMaps,c.drawImage(e,0,0),c.filter="none",o.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,s=t.height,r=this.ctx;if(this.save(),!vn){const{filter:d}=r;d!=="none"&&d!==""&&(r.filter="none")}r.scale(1/e,-1/s);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const p=this.cachedCanvases.getCanvas("inlineImage",e,s).context;VE(p,t),o=this.applyTransferMapsToCanvas(p)}const c=this._scaleImage(o,Vs(r));r.imageSmoothingEnabled=YE(be(r),t.interpolate),wp(r,c.img,0,0,c.paintWidth,c.paintHeight,0,-s,e,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const s=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const o=t.width,c=t.height,p=this.cachedCanvases.getCanvas("inlineImage",o,c).context;VE(p,t),r=this.applyTransferMapsToCanvas(p)}for(const o of e)s.save(),s.transform(...o.transform),s.scale(1,-1),wp(s,r,o.x,o.y,o.w,o.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const s=this.ctx;this.pendingClip&&(e||(this.pendingClip===$E?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=be(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),s=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(s,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:s,c:r,d:o}=this.ctx.getTransform();let c,d;if(s===0&&r===0){const p=Math.abs(e),g=Math.abs(o);if(p===g)if(t===0)c=d=1/p;else{const m=p*t;c=d=m<1?1/m:1}else if(t===0)c=1/p,d=1/g;else{const m=p*t,y=g*t;c=m<1?1/m:1,d=y<1?1/y:1}}else{const p=Math.abs(e*o-s*r),g=Math.hypot(e,s),m=Math.hypot(r,o);if(t===0)c=m/p,d=g/p;else{const y=t*p;c=m>y?m/y:1,d=g>y?g/y:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=d}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:s}=this.current,[r,o]=this.getScaleForStroking();if(e.lineWidth=s||1,r===1&&o===1){e.stroke();return}const c=e.getLineDash();if(t&&e.save(),e.scale(r,o),c.length>0){const d=Math.max(r,o);e.setLineDash(c.map(p=>p/d)),e.lineDashOffset/=d}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Rr=new WeakSet,f0=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},p0=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let cc=Tv;for(const u in Fi)cc.prototype[u]!==void 0&&(cc.prototype[Fi[u]]=cc.prototype[u]);var ud,hd;class va{static get workerPort(){return h(this,ud)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");E(this,ud,t)}static get workerSrc(){return h(this,hd)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");E(this,hd,t)}}ud=new WeakMap,hd=new WeakMap,x(va,ud,null),x(va,hd,"");const xp={DATA:1,ERROR:2},De={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function $n(u){switch(u instanceof Error||typeof u=="object"&&u!==null||ue('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),u.name){case"AbortException":return new gl(u.message);case"MissingPDFException":return new pl(u.message);case"PasswordException":return new zy(u.message,u.code);case"UnexpectedResponseException":return new Yg(u.message,u.status);case"UnknownErrorException":return new Uy(u.message,u.details);default:return new Uy(u.message,u.toString())}}var Cc,Ri,T1,x1,C1,Up;class Mh{constructor(t,e,s){x(this,Ri);x(this,Cc,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",T(this,Ri,T1).bind(this),{signal:h(this,Cc).signal})}on(t,e){const s=this.actionHandler;if(s[t])throw new Error(`There is already an actionName called "${t}"`);s[t]=e}send(t,e,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},s)}sendWithPromise(t,e,s){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},s)}catch(c){o.reject(c)}return o.promise}sendWithStream(t,e,s,r){const o=this.streamId++,c=this.sourceName,d=this.targetName,p=this.comObj;return new ReadableStream({start:g=>{const m=Promise.withResolvers();return this.streamControllers[o]={controller:g,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},p.postMessage({sourceName:c,targetName:d,action:t,streamId:o,data:e,desiredSize:g.desiredSize},r),m.promise},pull:g=>{const m=Promise.withResolvers();return this.streamControllers[o].pullCall=m,p.postMessage({sourceName:c,targetName:d,stream:De.PULL,streamId:o,desiredSize:g.desiredSize}),m.promise},cancel:g=>{Ue(g instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[o].cancelCall=m,this.streamControllers[o].isClosed=!0,p.postMessage({sourceName:c,targetName:d,stream:De.CANCEL,streamId:o,reason:$n(g)}),m.promise}},s)}destroy(){var t;(t=h(this,Cc))==null||t.abort(),E(this,Cc,null)}}Cc=new WeakMap,Ri=new WeakSet,T1=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){T(this,Ri,C1).call(this,t);return}if(t.callback){const s=t.callbackId,r=this.callbackCapabilities[s];if(!r)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],t.callback===xp.DATA)r.resolve(t.data);else if(t.callback===xp.ERROR)r.reject($n(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const s=this.sourceName,r=t.sourceName,o=this.comObj;new Promise(function(c){c(e(t.data))}).then(function(c){o.postMessage({sourceName:s,targetName:r,callback:xp.DATA,callbackId:t.callbackId,data:c})},function(c){o.postMessage({sourceName:s,targetName:r,callback:xp.ERROR,callbackId:t.callbackId,reason:$n(c)})});return}if(t.streamId){T(this,Ri,x1).call(this,t);return}e(t.data)},x1=function(t){const e=t.streamId,s=this.sourceName,r=t.sourceName,o=this.comObj,c=this,d=this.actionHandler[t.action],p={enqueue(g,m=1,y){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=m,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:s,targetName:r,stream:De.ENQUEUE,streamId:e,chunk:g},y)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:s,targetName:r,stream:De.CLOSE,streamId:e}),delete c.streamSinks[e])},error(g){Ue(g instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:s,targetName:r,stream:De.ERROR,streamId:e,reason:$n(g)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};p.sinkCapability.resolve(),p.ready=p.sinkCapability.promise,this.streamSinks[e]=p,new Promise(function(g){g(d(t.data,p))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:De.START_COMPLETE,streamId:e,success:!0})},function(g){o.postMessage({sourceName:s,targetName:r,stream:De.START_COMPLETE,streamId:e,reason:$n(g)})})},C1=function(t){const e=t.streamId,s=this.sourceName,r=t.sourceName,o=this.comObj,c=this.streamControllers[e],d=this.streamSinks[e];switch(t.stream){case De.START_COMPLETE:t.success?c.startCall.resolve():c.startCall.reject($n(t.reason));break;case De.PULL_COMPLETE:t.success?c.pullCall.resolve():c.pullCall.reject($n(t.reason));break;case De.PULL:if(!d){o.postMessage({sourceName:s,targetName:r,stream:De.PULL_COMPLETE,streamId:e,success:!0});break}d.desiredSize<=0&&t.desiredSize>0&&d.sinkCapability.resolve(),d.desiredSize=t.desiredSize,new Promise(function(p){var g;p((g=d.onPull)==null?void 0:g.call(d))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:De.PULL_COMPLETE,streamId:e,success:!0})},function(p){o.postMessage({sourceName:s,targetName:r,stream:De.PULL_COMPLETE,streamId:e,reason:$n(p)})});break;case De.ENQUEUE:if(Ue(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(t.chunk);break;case De.CLOSE:if(Ue(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),T(this,Ri,Up).call(this,c,e);break;case De.ERROR:Ue(c,"error should have stream controller"),c.controller.error($n(t.reason)),T(this,Ri,Up).call(this,c,e);break;case De.CANCEL_COMPLETE:t.success?c.cancelCall.resolve():c.cancelCall.reject($n(t.reason)),T(this,Ri,Up).call(this,c,e);break;case De.CANCEL:if(!d)break;new Promise(function(p){var g;p((g=d.onCancel)==null?void 0:g.call(d,$n(t.reason)))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:De.CANCEL_COMPLETE,streamId:e,success:!0})},function(p){o.postMessage({sourceName:s,targetName:r,stream:De.CANCEL_COMPLETE,streamId:e,reason:$n(p)})}),d.sinkCapability.reject($n(t.reason)),d.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},Up=async function(t,e){var s,r,o;await Promise.allSettled([(s=t.startCall)==null?void 0:s.promise,(r=t.pullCall)==null?void 0:r.promise,(o=t.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[e]};var Ro,dd;class SO{constructor({parsedData:t,rawData:e}){x(this,Ro);x(this,dd);E(this,Ro,t),E(this,dd,e)}getRaw(){return h(this,dd)}get(t){return h(this,Ro).get(t)??null}getAll(){return cv(h(this,Ro))}has(t){return h(this,Ro).has(t)}}Ro=new WeakMap,dd=new WeakMap;const sc=Symbol("INTERNAL");var fd,pd,gd,Rc;class _O{constructor(t,{name:e,intent:s,usage:r,rbGroups:o}){x(this,fd,!1);x(this,pd,!1);x(this,gd,!1);x(this,Rc,!0);E(this,fd,!!(t&ii.DISPLAY)),E(this,pd,!!(t&ii.PRINT)),this.name=e,this.intent=s,this.usage=r,this.rbGroups=o}get visible(){if(h(this,gd))return h(this,Rc);if(!h(this,Rc))return!1;const{print:t,view:e}=this.usage;return h(this,fd)?(e==null?void 0:e.viewState)!=="OFF":h(this,pd)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,s=!1){t!==sc&&ue("Internal method `_setVisible` called."),E(this,gd,s),E(this,Rc,e)}}fd=new WeakMap,pd=new WeakMap,gd=new WeakMap,Rc=new WeakMap;var cr,Qt,Mc,Oc,md,g0;class EO{constructor(t,e=ii.DISPLAY){x(this,md);x(this,cr,null);x(this,Qt,new Map);x(this,Mc,null);x(this,Oc,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,E(this,Oc,t.order);for(const s of t.groups)h(this,Qt).set(s.id,new _O(e,s));if(t.baseState==="OFF")for(const s of h(this,Qt).values())s._setVisible(sc,!1);for(const s of t.on)h(this,Qt).get(s)._setVisible(sc,!0);for(const s of t.off)h(this,Qt).get(s)._setVisible(sc,!1);E(this,Mc,this.getHash())}}isVisible(t){if(h(this,Qt).size===0)return!0;if(!t)return Xg("Optional content group not defined."),!0;if(t.type==="OCG")return h(this,Qt).has(t.id)?h(this,Qt).get(t.id).visible:(Ft(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return T(this,md,g0).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!h(this,Qt).has(e))return Ft(`Optional content group not found: ${e}`),!0;if(h(this,Qt).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!h(this,Qt).has(e))return Ft(`Optional content group not found: ${e}`),!0;if(!h(this,Qt).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!h(this,Qt).has(e))return Ft(`Optional content group not found: ${e}`),!0;if(!h(this,Qt).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!h(this,Qt).has(e))return Ft(`Optional content group not found: ${e}`),!0;if(h(this,Qt).get(e).visible)return!1}return!0}return Ft(`Unknown optional content policy ${t.policy}.`),!0}return Ft(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,s=!0){var o;const r=h(this,Qt).get(t);if(!r){Ft(`Optional content group not found: ${t}`);return}if(s&&e&&r.rbGroups.length)for(const c of r.rbGroups)for(const d of c)d!==t&&((o=h(this,Qt).get(d))==null||o._setVisible(sc,!1,!0));r._setVisible(sc,!!e,!0),E(this,cr,null)}setOCGState({state:t,preserveRB:e}){let s;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":s=r;continue}const o=h(this,Qt).get(r);if(o)switch(s){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!o.visible,e);break}}E(this,cr,null)}get hasInitialVisibility(){return h(this,Mc)===null||this.getHash()===h(this,Mc)}getOrder(){return h(this,Qt).size?h(this,Oc)?h(this,Oc).slice():[...h(this,Qt).keys()]:null}getGroups(){return h(this,Qt).size>0?cv(h(this,Qt)):null}getGroup(t){return h(this,Qt).get(t)||null}getHash(){if(h(this,cr)!==null)return h(this,cr);const t=new p1;for(const[e,s]of h(this,Qt))t.update(`${e}:${s.visible}`);return E(this,cr,t.hexdigest())}}cr=new WeakMap,Qt=new WeakMap,Mc=new WeakMap,Oc=new WeakMap,md=new WeakSet,g0=function(t){const e=t.length;if(e<2)return!0;const s=t[0];for(let r=1;r<e;r++){const o=t[r];let c;if(Array.isArray(o))c=T(this,md,g0).call(this,o);else if(h(this,Qt).has(o))c=h(this,Qt).get(o).visible;else return Ft(`Optional content group not found: ${o}`),!0;switch(s){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return s==="And"};class wO{constructor(t,{disableRange:e=!1,disableStream:s=!1}){Ue(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:c,contentDispositionFilename:d}=t;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=d,(o==null?void 0:o.length)>0){const p=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(p)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!s,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((p,g)=>{this._onReceiveData({begin:p,chunk:g})}),t.addProgressListener((p,g)=>{this._onProgress({loaded:p,total:g})}),t.addProgressiveReadListener(p=>{this._onReceiveData({chunk:p})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const s=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const r=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(s),!0)});Ue(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,s,r,o;t.total===void 0?(s=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||s.call(e,{loaded:t.loaded}):(o=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||o.call(r,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Ue(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new TO(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new xO(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeReaders.slice(0))s.cancel(t);this._pdfDataRangeTransport.abort()}}class TO{constructor(t,e,s=!1,r=null){this._stream=t,this._done=s||!1,this._filename=dv(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class xO{constructor(t,e,s){this._stream=t,this._begin=e,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function CO(u){let t=!0,e=s("filename\\*","i").exec(u);if(e){e=e[1];let m=d(e);return m=unescape(m),m=p(m),m=g(m),o(m)}if(e=c(u),e){const m=g(e);return o(m)}if(e=s("filename","i").exec(u),e){e=e[1];let m=d(e);return m=g(m),o(m)}function s(m,y){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function r(m,y){if(m){if(!/^[\x00-\xFF]+$/.test(y))return y;try{const v=new TextDecoder(m,{fatal:!0}),S=$g(y);y=v.decode(S),t=!1}catch{}}return y}function o(m){return t&&/[\x80-\xff]/.test(m)&&(m=r("utf-8",m),t&&(m=r("iso-8859-1",m))),m}function c(m){const y=[];let v;const S=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=S.exec(m))!==null;){let[,w,M,R]=v;if(w=parseInt(w,10),w in y){if(w===0)break;continue}y[w]=[M,R]}const A=[];for(let w=0;w<y.length&&w in y;++w){let[M,R]=y[w];R=d(R),M&&(R=unescape(R),w===0&&(R=p(R))),A.push(R)}return A.join("")}function d(m){if(m.startsWith('"')){const y=m.slice(1).split('\\"');for(let v=0;v<y.length;++v){const S=y[v].indexOf('"');S!==-1&&(y[v]=y[v].slice(0,S),y.length=v+1),y[v]=y[v].replaceAll(/\\(.)/g,"$1")}m=y.join('"')}return m}function p(m){const y=m.indexOf("'");if(y===-1)return m;const v=m.slice(0,y),A=m.slice(y+1).replace(/^[^']*'/,"");return r(v,A)}function g(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,v,S,A){if(S==="q"||S==="Q")return A=A.replaceAll("_"," "),A=A.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,M){return String.fromCharCode(parseInt(M,16))}),r(v,A);try{A=atob(A)}catch{}return r(v,A)})}return""}function bv(u,t){const e=new Headers;if(!u||!t||typeof t!="object")return e;for(const s in t){const r=t[s];r!==void 0&&e.append(s,r)}return e}function yv({responseHeaders:u,isHttp:t,rangeChunkSize:e,disableRange:s}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(u.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*e)||s||!t||u.get("Accept-Ranges")!=="bytes"||(u.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function vv(u){const t=u.get("Content-Disposition");if(t){let e=CO(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(dv(e))return e}return null}function Qg(u,t){return u===404||u===0&&t.startsWith("file:")?new pl('Missing PDF "'+t+'".'):new Yg(`Unexpected server response (${u}) while retrieving PDF "${t}".`,u)}function R1(u){return u===200||u===206}function M1(u,t,e){return{method:"GET",headers:u,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function O1(u){return u instanceof Uint8Array?u.buffer:u instanceof ArrayBuffer?u:(Ft(`getArrayBuffer - unexpected data format: ${u}`),new Uint8Array(u).buffer)}class KE{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=bv(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Ue(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new RO(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new MO(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class RO{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const s=new Headers(t.headers),r=e.url;fetch(r,M1(s,this._withCredentials,this._abortController)).then(o=>{if(!R1(o.status))throw Qg(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const c=o.headers,{allowRangeRequests:d,suggestedLength:p}=yv({responseHeaders:c,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=d,this._contentLength=p||this._contentLength,this._filename=vv(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new gl("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:O1(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class MO{constructor(t,e,s){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${e}-${s-1}`);const c=r.url;fetch(c,M1(o,this._withCredentials,this._abortController)).then(d=>{if(!R1(d.status))throw Qg(d.status,c);this._readCapability.resolve(),this._reader=d.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:O1(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const Ty=200,xy=206;function OO(u){const t=u.response;return typeof t!="string"?t:$g(t).buffer}class DO{constructor({url:t,httpHeaders:e,withCredentials:s}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=bv(this.isHttp,e),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,s){const r={begin:t,end:e};for(const o in s)r[o]=s[o];return this.request(r)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,s=this.currXhrId++,r=this.pendingRequests[s]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[o,c]of this.headers)e.setRequestHeader(o,c);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=xy):r.expectedStatus=Ty,e.responseType="arraybuffer",t.onError&&(e.onerror=function(o){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,s),e.onprogress=this.onProgress.bind(this,s),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),s}onProgress(t,e){var r;const s=this.pendingRequests[t];s&&((r=s.onProgress)==null||r.call(s,e))}onStateChange(t,e){var p,g,m;const s=this.pendingRequests[t];if(!s)return;const r=s.xhr;if(r.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){(p=s.onError)==null||p.call(s,r.status);return}const o=r.status||Ty;if(!(o===Ty&&s.expectedStatus===xy)&&o!==s.expectedStatus){(g=s.onError)==null||g.call(s,r.status);return}const d=OO(r);if(o===xy){const y=r.getResponseHeader("Content-Range"),v=/bytes (\d+)-(\d+)\/(\d+)/.exec(y);s.onDone({begin:parseInt(v[1],10),chunk:d})}else d?s.onDone({begin:0,chunk:d}):(m=s.onError)==null||m.call(s,r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class LO{constructor(t){this._source=t,this._manager=new DO(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Ue(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new NO(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const s=new kO(this._manager,t,e);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class NO{constructor(t,e){this._manager=t;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(s),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),s=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(c=>{const[d,...p]=c.split(": ");return[d,p.join(": ")]})),{allowRangeRequests:r,suggestedLength:o}=yv({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=vv(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Qg(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class kO{constructor(t,e,s){this._manager=t;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,s,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=Qg(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const PO=/^[a-z][a-z0-9\-+.]+:/i;function FO(u){if(PO.test(u))return new URL(u);const t=xr.get("url");return new URL(t.pathToFileURL(u))}function D1(u,t,e){return u.protocol==="http:"?xr.get("http").request(u,{headers:t},e):xr.get("https").request(u,{headers:t},e)}class jO{constructor(t){this.source=t,this.url=FO(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=bv(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Ue(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new UO(this):new HO(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=this.isFsUrl?new BO(this,t,e):new zO(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class L1{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new gl("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class N1{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class HO extends L1{constructor(t){super(t);const e=Object.fromEntries(t.headers),s=r=>{if(r.statusCode===404){const p=new pl(`Missing PDF "${this._url}".`);this._storedError=p,this._headersCapability.reject(p);return}this._headersCapability.resolve(),this._setReadableStream(r);const o=new Headers(this._readableStream.headers),{allowRangeRequests:c,suggestedLength:d}=yv({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=d||this._contentLength,this._filename=vv(o)};this._request=D1(this._url,e,s),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class zO extends N1{constructor(t,e,s){super(t);const r=Object.fromEntries(t.headers);r.Range=`bytes=${e}-${s-1}`;const o=c=>{if(c.statusCode===404){const d=new pl(`Missing PDF "${this._url}".`);this._storedError=d;return}this._setReadableStream(c)};this._request=D1(this._url,r,o),this._request.on("error",c=>{this._storedError=c}),this._request.end()}}class UO extends L1{constructor(t){super(t);const e=xr.get("fs");e.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new pl(`Missing PDF "${this._url}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class BO extends N1{constructor(t,e,s){super(t);const r=xr.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:s-1}))}}const IO=1e5,Nn=30,qO=.8;var gw,ur,Fn,bd,yd,Mo,ea,vd,Ad,Oo,Dc,Lc,hr,Nc,Sd,kc,Do,_d,Ed,_e,Lo,No,wd,dr,Pc,Ea,k1,P1,b0,ri,Bp,y0,F1,j1;let m0=(_e=class{constructor({textContentSource:t,container:e,viewport:s}){x(this,Ea);x(this,ur,Promise.withResolvers());x(this,Fn,null);x(this,bd,!1);x(this,yd,!!((gw=globalThis.FontInspector)!=null&&gw.enabled));x(this,Mo,null);x(this,ea,null);x(this,vd,0);x(this,Ad,0);x(this,Oo,null);x(this,Dc,null);x(this,Lc,0);x(this,hr,0);x(this,Nc,Object.create(null));x(this,Sd,[]);x(this,kc,null);x(this,Do,[]);x(this,_d,new WeakMap);x(this,Ed,null);var p;if(t instanceof ReadableStream)E(this,kc,t);else if(typeof t=="object")E(this,kc,new ReadableStream({start(g){g.enqueue(t),g.close()}}));else throw new Error('No "textContentSource" parameter specified.');E(this,Fn,E(this,Dc,e)),E(this,hr,s.scale*(globalThis.devicePixelRatio||1)),E(this,Lc,s.rotation),E(this,ea,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:o,pageX:c,pageY:d}=s.rawDims;E(this,Ed,[1,0,0,-1,-c,d+o]),E(this,Ad,r),E(this,vd,o),T(p=_e,ri,F1).call(p),ll(e,s),h(this,ur).promise.finally(()=>{h(_e,Pc).delete(this),E(this,ea,null),E(this,Nc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=xn.platform;return qt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{h(this,Oo).read().then(({value:e,done:s})=>{if(s){h(this,ur).resolve();return}h(this,Mo)??E(this,Mo,e.lang),Object.assign(h(this,Nc),e.styles),T(this,Ea,k1).call(this,e.items),t()},h(this,ur).reject)};return E(this,Oo,h(this,kc).getReader()),h(_e,Pc).add(this),t(),h(this,ur).promise}update({viewport:t,onBefore:e=null}){var o;const s=t.scale*(globalThis.devicePixelRatio||1),r=t.rotation;if(r!==h(this,Lc)&&(e==null||e(),E(this,Lc,r),ll(h(this,Dc),{rotation:r})),s!==h(this,hr)){e==null||e(),E(this,hr,s);const c={div:null,properties:null,ctx:T(o=_e,ri,Bp).call(o,h(this,Mo))};for(const d of h(this,Do))c.properties=h(this,_d).get(d),c.div=d,T(this,Ea,b0).call(this,c)}}cancel(){var e;const t=new gl("TextLayer task cancelled.");(e=h(this,Oo))==null||e.cancel(t).catch(()=>{}),E(this,Oo,null),h(this,ur).reject(t)}get textDivs(){return h(this,Do)}get textContentItemsStr(){return h(this,Sd)}static cleanup(){if(!(h(this,Pc).size>0)){h(this,Lo).clear();for(const{canvas:t}of h(this,No).values())t.remove();h(this,No).clear()}}},ur=new WeakMap,Fn=new WeakMap,bd=new WeakMap,yd=new WeakMap,Mo=new WeakMap,ea=new WeakMap,vd=new WeakMap,Ad=new WeakMap,Oo=new WeakMap,Dc=new WeakMap,Lc=new WeakMap,hr=new WeakMap,Nc=new WeakMap,Sd=new WeakMap,kc=new WeakMap,Do=new WeakMap,_d=new WeakMap,Ed=new WeakMap,Lo=new WeakMap,No=new WeakMap,wd=new WeakMap,dr=new WeakMap,Pc=new WeakMap,Ea=new WeakSet,k1=function(t){var r,o;if(h(this,bd))return;(o=h(this,ea)).ctx??(o.ctx=T(r=_e,ri,Bp).call(r,h(this,Mo)));const e=h(this,Do),s=h(this,Sd);for(const c of t){if(e.length>IO){Ft("Ignoring additional textDivs for performance reasons."),E(this,bd,!0);return}if(c.str===void 0){if(c.type==="beginMarkedContentProps"||c.type==="beginMarkedContent"){const d=h(this,Fn);E(this,Fn,document.createElement("span")),h(this,Fn).classList.add("markedContent"),c.id!==null&&h(this,Fn).setAttribute("id",`${c.id}`),d.append(h(this,Fn))}else c.type==="endMarkedContent"&&E(this,Fn,h(this,Fn).parentNode);continue}s.push(c.str),T(this,Ea,P1).call(this,c)}},P1=function(t){var w;const e=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};h(this,Do).push(e);const r=bt.transform(h(this,Ed),t.transform);let o=Math.atan2(r[1],r[0]);const c=h(this,Nc)[t.fontName];c.vertical&&(o+=Math.PI/2);let d=h(this,yd)&&c.fontSubstitution||c.fontFamily;d=_e.fontFamilyMap.get(d)||d;const p=Math.hypot(r[2],r[3]),g=p*T(w=_e,ri,j1).call(w,d,h(this,Mo));let m,y;o===0?(m=r[4],y=r[5]-g):(m=r[4]+g*Math.sin(o),y=r[5]-g*Math.cos(o));const v="calc(var(--scale-factor)*",S=e.style;h(this,Fn)===h(this,Dc)?(S.left=`${(100*m/h(this,Ad)).toFixed(2)}%`,S.top=`${(100*y/h(this,vd)).toFixed(2)}%`):(S.left=`${v}${m.toFixed(2)}px)`,S.top=`${v}${y.toFixed(2)}px)`),S.fontSize=`${v}${(h(_e,dr)*p).toFixed(2)}px)`,S.fontFamily=d,s.fontSize=p,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,h(this,yd)&&(e.dataset.fontName=c.fontSubstitutionLoadedName||t.fontName),o!==0&&(s.angle=o*(180/Math.PI));let A=!1;if(t.str.length>1)A=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const M=Math.abs(t.transform[0]),R=Math.abs(t.transform[3]);M!==R&&Math.max(M,R)/Math.min(M,R)>1.5&&(A=!0)}if(A&&(s.canvasWidth=c.vertical?t.height:t.width),h(this,_d).set(e,s),h(this,ea).div=e,h(this,ea).properties=s,T(this,Ea,b0).call(this,h(this,ea)),s.hasText&&h(this,Fn).append(e),s.hasEOL){const M=document.createElement("br");M.setAttribute("role","presentation"),h(this,Fn).append(M)}},b0=function(t){var d;const{div:e,properties:s,ctx:r}=t,{style:o}=e;let c="";if(h(_e,dr)>1&&(c=`scale(${1/h(_e,dr)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:p}=o,{canvasWidth:g,fontSize:m}=s;T(d=_e,ri,y0).call(d,r,m*h(this,hr),p);const{width:y}=r.measureText(e.textContent);y>0&&(c=`scaleX(${g*h(this,hr)/y}) ${c}`)}s.angle!==0&&(c=`rotate(${s.angle}deg) ${c}`),c.length>0&&(o.transform=c)},ri=new WeakSet,Bp=function(t=null){let e=h(this,No).get(t||(t=""));if(!e){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=t,document.body.append(s),e=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),h(this,No).set(t,e),h(this,wd).set(e,{size:0,family:""})}return e},y0=function(t,e,s){const r=h(this,wd).get(t);e===r.size&&s===r.family||(t.font=`${e}px ${s}`,r.size=e,r.family=s)},F1=function(){if(h(this,dr)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),E(this,dr,t.getBoundingClientRect().height),t.remove()},j1=function(t,e){const s=h(this,Lo).get(t);if(s)return s;const r=T(this,ri,Bp).call(this,e);r.canvas.width=r.canvas.height=Nn,T(this,ri,y0).call(this,r,Nn,t);const o=r.measureText("");let c=o.fontBoundingBoxAscent,d=Math.abs(o.fontBoundingBoxDescent);if(c){const m=c/(c+d);return h(this,Lo).set(t,m),r.canvas.width=r.canvas.height=0,m}r.strokeStyle="red",r.clearRect(0,0,Nn,Nn),r.strokeText("g",0,0);let p=r.getImageData(0,0,Nn,Nn).data;d=0;for(let m=p.length-1-3;m>=0;m-=4)if(p[m]>0){d=Math.ceil(m/4/Nn);break}r.clearRect(0,0,Nn,Nn),r.strokeText("A",0,Nn),p=r.getImageData(0,0,Nn,Nn).data,c=0;for(let m=0,y=p.length;m<y;m+=4)if(p[m]>0){c=Nn-Math.floor(m/4/Nn);break}r.canvas.width=r.canvas.height=0;const g=c?c/(c+d):qO;return h(this,Lo).set(t,g),g},x(_e,ri),x(_e,Lo,new Map),x(_e,No,new Map),x(_e,wd,new WeakMap),x(_e,dr,null),x(_e,Pc,new Set),_e);class Ih{static textContent(t){const e=[],s={items:e,styles:Object.create(null)};function r(o){var p;if(!o)return;let c=null;const d=o.name;if(d==="#text")c=o.value;else if(Ih.shouldBuildText(d))(p=o==null?void 0:o.attributes)!=null&&p.textContent?c=o.attributes.textContent:o.value&&(c=o.value);else return;if(c!==null&&e.push({str:c}),!!o.children)for(const g of o.children)r(g)}return r(t),s}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const GO=65536,VO=100,XO=5e3,YO=vn?aO:nO,$O=vn?rO:v1,KO=vn?sO:iO,WO=vn?oO:E1;function QO(u={}){typeof u=="string"||u instanceof URL?u={url:u}:(u instanceof ArrayBuffer||ArrayBuffer.isView(u))&&(u={data:u});const t=new v0,{docId:e}=t,s=u.url?ZO(u.url):null,r=u.data?JO(u.data):null,o=u.httpHeaders||null,c=u.withCredentials===!0,d=u.password??null,p=u.range instanceof H1?u.range:null,g=Number.isInteger(u.rangeChunkSize)&&u.rangeChunkSize>0?u.rangeChunkSize:GO;let m=u.worker instanceof uc?u.worker:null;const y=u.verbosity,v=typeof u.docBaseUrl=="string"&&!Wg(u.docBaseUrl)?u.docBaseUrl:null,S=typeof u.cMapUrl=="string"?u.cMapUrl:null,A=u.cMapPacked!==!1,w=u.CMapReaderFactory||$O,M=typeof u.standardFontDataUrl=="string"?u.standardFontDataUrl:null,R=u.StandardFontDataFactory||WO,P=u.stopAtErrors!==!0,O=Number.isInteger(u.maxImageSize)&&u.maxImageSize>-1?u.maxImageSize:-1,N=u.isEvalSupported!==!1,F=typeof u.isOffscreenCanvasSupported=="boolean"?u.isOffscreenCanvasSupported:!vn,B=typeof u.isChrome=="boolean"?u.isChrome:!xn.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),z=Number.isInteger(u.canvasMaxAreaInBytes)?u.canvasMaxAreaInBytes:-1,V=typeof u.disableFontFace=="boolean"?u.disableFontFace:vn,G=u.fontExtraProperties===!0,et=u.enableXfa===!0,it=u.ownerDocument||globalThis.document,dt=u.disableRange===!0,ut=u.disableStream===!0,ct=u.disableAutoFetch===!0,ft=u.pdfBug===!0,$=u.CanvasFactory||YO,Z=u.FilterFactory||KO,tt=u.enableHWA===!0,_t=p?p.length:u.length??NaN,k=typeof u.useSystemFonts=="boolean"?u.useSystemFonts:!vn&&!V,X=typeof u.useWorkerFetch=="boolean"?u.useWorkerFetch:w===v1&&R===E1&&S&&M&&_h(S,document.baseURI)&&_h(M,document.baseURI);u.canvasFactory&&jE("`canvasFactory`-instance option, please use `CanvasFactory` instead."),u.filterFactory&&jE("`filterFactory`-instance option, please use `FilterFactory` instead.");const st=null;N2(y);const at={canvasFactory:new $({ownerDocument:it,enableHWA:tt}),filterFactory:new Z({docId:e,ownerDocument:it}),cMapReaderFactory:X?null:new w({baseUrl:S,isCompressed:A}),standardFontDataFactory:X?null:new R({baseUrl:M})};if(!m){const gt={verbosity:y,port:va.workerPort};m=gt.port?uc.fromPort(gt):new uc(gt),t._worker=m}const rt={docId:e,apiVersion:"4.8.69",data:r,password:d,disableAutoFetch:ct,rangeChunkSize:g,length:_t,docBaseUrl:v,enableXfa:et,evaluatorOptions:{maxImageSize:O,disableFontFace:V,ignoreErrors:P,isEvalSupported:N,isOffscreenCanvasSupported:F,isChrome:B,canvasMaxAreaInBytes:z,fontExtraProperties:G,useSystemFonts:k,cMapUrl:X?S:null,standardFontDataUrl:X?M:null}},Et={disableFontFace:V,fontExtraProperties:G,ownerDocument:it,pdfBug:ft,styleElement:st,loadingParams:{disableAutoFetch:ct,enableXfa:et}};return m.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const gt=m.messageHandler.sendWithPromise("GetDocRequest",rt,r?[r.buffer]:null);let wt;if(p)wt=new wO(p,{disableRange:dt,disableStream:ut});else if(!r){if(!s)throw new Error("getDocument - no `url` parameter provided.");let Dt;vn?Dt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&_h(s)?KE:jO:Dt=_h(s)?KE:LO,wt=new Dt({url:s,length:_t,httpHeaders:o,withCredentials:c,rangeChunkSize:g,disableRange:dt,disableStream:ut})}return gt.then(Dt=>{if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const Vt=new Mh(e,Dt,m.port),St=new iD(Vt,t,wt,Et,at);t._transport=St,Vt.send("Ready",null)})}).catch(t._capability.reject),t}function ZO(u){if(u instanceof URL)return u.href;try{return new URL(u,window.location).href}catch{if(vn&&typeof u=="string")return u}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function JO(u){if(vn&&typeof Buffer<"u"&&u instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(u instanceof Uint8Array&&u.byteLength===u.buffer.byteLength)return u;if(typeof u=="string")return $g(u);if(u instanceof ArrayBuffer||ArrayBuffer.isView(u)||typeof u=="object"&&!isNaN(u==null?void 0:u.length))return new Uint8Array(u);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function WE(u){return typeof u=="object"&&Number.isInteger(u==null?void 0:u.num)&&u.num>=0&&Number.isInteger(u==null?void 0:u.gen)&&u.gen>=0}var Mg;const Og=class Og{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${_n(Og,Mg)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,s;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(r){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Mg=new WeakMap,x(Og,Mg,0);let v0=Og,H1=class{constructor(t,e,s=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=s,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const s of this._rangeListeners)s(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){ue("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class tD{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return qt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var fr,na,xi,ac,Ip;class eD{constructor(t,e,s,r=!1){x(this,xi);x(this,fr,null);x(this,na,!1);this._pageIndex=t,this._pageInfo=e,this._transport=s,this._stats=r?new FE:null,this._pdfBug=r,this.commonObjs=s.commonObjs,this.objs=new z1,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:s=0,offsetY:r=0,dontFlip:o=!1}={}){return new of({viewBox:this.view,scale:t,rotation:e,offsetX:s,offsetY:r,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return qt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:s="display",annotationMode:r=Qa.ENABLE,transform:o=null,background:c=null,optionalContentConfigPromise:d=null,annotationCanvasMap:p=null,pageColors:g=null,printAnnotationStorage:m=null,isEditing:y=!1}){var N,F;(N=this._stats)==null||N.time("Overall");const v=this._transport.getRenderingIntent(s,r,m,y),{renderingIntent:S,cacheKey:A}=v;E(this,na,!1),T(this,xi,Ip).call(this),d||(d=this._transport.getOptionalContentConfig(S));let w=this._intentStates.get(A);w||(w=Object.create(null),this._intentStates.set(A,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const M=!!(S&ii.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(F=this._stats)==null||F.time("Page Request"),this._pumpOperatorList(v));const R=B=>{var z;w.renderTasks.delete(P),(this._maybeCleanupAfterRender||M)&&E(this,na,!0),T(this,xi,ac).call(this,!M),B?(P.capability.reject(B),this._abortOperatorList({intentState:w,reason:B instanceof Error?B:new Error(B)})):P.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(z=globalThis.Stats)!=null&&z.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},P=new S0({callback:R,params:{canvasContext:t,viewport:e,transform:o,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:p,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!M,pdfBug:this._pdfBug,pageColors:g});(w.renderTasks||(w.renderTasks=new Set)).add(P);const O=P.task;return Promise.all([w.displayReadyCapability.promise,d]).then(([B,z])=>{var V;if(this.destroyed){R();return}if((V=this._stats)==null||V.time("Rendering"),!(z.renderingIntent&S))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");P.initializeGraphics({transparency:B,optionalContentConfig:z}),P.operatorListChanged()}).catch(R),O}getOperatorList({intent:t="display",annotationMode:e=Qa.ENABLE,printAnnotationStorage:s=null,isEditing:r=!1}={}){var g;function o(){d.operatorList.lastChunk&&(d.opListReadCapability.resolve(d.operatorList),d.renderTasks.delete(p))}const c=this._transport.getRenderingIntent(t,e,s,r,!0);let d=this._intentStates.get(c.cacheKey);d||(d=Object.create(null),this._intentStates.set(c.cacheKey,d));let p;return d.opListReadCapability||(p=Object.create(null),p.operatorListChanged=o,d.opListReadCapability=Promise.withResolvers(),(d.renderTasks||(d.renderTasks=new Set)).add(p),d.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(g=this._stats)==null||g.time("Page Request"),this._pumpOperatorList(c)),d.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>Ih.textContent(s));const e=this.streamTextContent(t);return new Promise(function(s,r){function o(){c.read().then(function({value:p,done:g}){if(g){s(d);return}d.lang??(d.lang=p.lang),Object.assign(d.styles,p.styles),d.items.push(...p.items),o()},r)}const c=e.getReader(),d={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const s of e.renderTasks)t.push(s.completed),s.cancel();return this.objs.clear(),E(this,na,!1),T(this,xi,Ip).call(this),Promise.all(t)}cleanup(t=!1){E(this,na,!0);const e=T(this,xi,ac).call(this,!1);return t&&e&&this._stats&&(this._stats=new FE),e}_startRenderPage(t,e){var r,o;const s=this._intentStates.get(e);s&&((r=this._stats)==null||r.timeEnd("Page Request"),(o=s.displayReadyCapability)==null||o.resolve(t))}_renderPageChunk(t,e){for(let s=0,r=t.length;s<r;s++)e.operatorList.fnArray.push(t.fnArray[s]),e.operatorList.argsArray.push(t.argsArray[s]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const s of e.renderTasks)s.operatorListChanged();t.lastChunk&&T(this,xi,ac).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:s,modifiedIds:r}){const{map:o,transfer:c}=s,p=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o,modifiedIds:r},c).getReader(),g=this._intentStates.get(e);g.streamReader=p;const m=()=>{p.read().then(({value:y,done:v})=>{if(v){g.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(y,g),m())},y=>{if(g.streamReader=null,!this._transport.destroyed){if(g.operatorList){g.operatorList.lastChunk=!0;for(const v of g.renderTasks)v.operatorListChanged();T(this,xi,ac).call(this,!0)}if(g.displayReadyCapability)g.displayReadyCapability.reject(y);else if(g.opListReadCapability)g.opListReadCapability.reject(y);else throw y}})};m()}_abortOperatorList({intentState:t,reason:e,force:s=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!s){if(t.renderTasks.size>0)return;if(e instanceof hv){let r=VO;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new gl(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}fr=new WeakMap,na=new WeakMap,xi=new WeakSet,ac=function(t=!1){if(T(this,xi,Ip).call(this),!h(this,na)||this.destroyed)return!1;if(t)return E(this,fr,setTimeout(()=>{E(this,fr,null),T(this,xi,ac).call(this,!1)},XO)),!1;for(const{renderTasks:e,operatorList:s}of this._intentStates.values())if(e.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),E(this,na,!1),!0},Ip=function(){h(this,fr)&&(clearTimeout(h(this,fr)),E(this,fr,null))};var ia,Dg;class nD{constructor(){x(this,ia,new Map);x(this,Dg,Promise.resolve())}postMessage(t,e){const s={data:structuredClone(t,e?{transfer:e}:null)};h(this,Dg).then(()=>{for(const[r]of h(this,ia))r.call(this,s)})}addEventListener(t,e,s=null){let r=null;if((s==null?void 0:s.signal)instanceof AbortSignal){const{signal:o}=s;if(o.aborted){Ft("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(t,e);r=()=>o.removeEventListener("abort",c),o.addEventListener("abort",c)}h(this,ia).set(e,r)}removeEventListener(t,e){const s=h(this,ia).get(e);s==null||s(),h(this,ia).delete(e)}terminate(){for(const[,t]of h(this,ia))t==null||t();h(this,ia).clear()}}ia=new WeakMap,Dg=new WeakMap;var Lg,ko,Po,Fc,qp,jc,Gp;const he=class he{constructor({name:t=null,port:e=null,verbosity:s=k2()}={}){x(this,Fc);var r;if(this.name=t,this.destroyed=!1,this.verbosity=s,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((r=h(he,Po))!=null&&r.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(h(he,Po)||E(he,Po,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return vn?Promise.all([xr.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new Mh("main","worker",t),this._messageHandler.on("ready",function(){}),T(this,Fc,qp).call(this)}_initialize(){if(h(he,ko)||h(he,jc,Gp)){this._setupFakeWorker();return}let{workerSrc:t}=he;try{he._isSameOrigin(window.location.href,t)||(t=he._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),s=new Mh("main","worker",e),r=()=>{o.abort(),s.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;e.addEventListener("error",()=>{this._webWorker||r()},{signal:o.signal}),s.on("test",d=>{if(o.abort(),this.destroyed||!d){r();return}this._messageHandler=s,this._port=e,this._webWorker=e,T(this,Fc,qp).call(this)}),s.on("ready",d=>{if(o.abort(),this.destroyed){r();return}try{c()}catch{this._setupFakeWorker()}});const c=()=>{const d=new Uint8Array;s.send("test",d,[d.buffer])};c();return}catch{Xg("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){h(he,ko)||(Ft("Setting up fake worker."),E(he,ko,!0)),he._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new nD;this._port=e;const s=`fake${_n(he,Lg)._++}`,r=new Mh(s+"_worker",s,e);t.setup(r,e),this._messageHandler=new Mh(s,s+"_worker",e),T(this,Fc,qp).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=h(he,Po))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var s;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(s=h(this,Po))==null?void 0:s.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new he(t)}static get workerSrc(){if(va.workerSrc)return va.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return qt(this,"_setupFakeWorkerGlobal",(async()=>h(this,jc,Gp)?h(this,jc,Gp):(await import(this.workerSrc)).WorkerMessageHandler)())}};Lg=new WeakMap,ko=new WeakMap,Po=new WeakMap,Fc=new WeakSet,qp=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},jc=new WeakSet,Gp=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},x(he,jc),x(he,Lg,0),x(he,ko,!1),x(he,Po),vn&&(E(he,ko,!0),va.workerSrc||(va.workerSrc="./pdf.worker.mjs")),he._isSameOrigin=(t,e)=>{let s;try{if(s=new URL(t),!s.origin||s.origin==="null")return!1}catch{return!1}const r=new URL(e,s);return s.origin===r.origin},he._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let uc=he;var sa,bs,Hc,zc,ys,Fo,Oh;class iD{constructor(t,e,s,r,o){x(this,Fo);x(this,sa,new Map);x(this,bs,new Map);x(this,Hc,new Map);x(this,zc,new Map);x(this,ys,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new z1,this.fontLoader=new tO({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return qt(this,"annotationStorage",new gv)}getRenderingIntent(t,e=Qa.ENABLE,s=null,r=!1,o=!1){let c=ii.DISPLAY,d=o0;switch(t){case"any":c=ii.ANY;break;case"display":break;case"print":c=ii.PRINT;break;default:Ft(`getRenderingIntent - invalid intent: ${t}`)}const p=c&ii.PRINT&&s instanceof m1?s:this.annotationStorage;switch(e){case Qa.DISABLE:c+=ii.ANNOTATIONS_DISABLE;break;case Qa.ENABLE:break;case Qa.ENABLE_FORMS:c+=ii.ANNOTATIONS_FORMS;break;case Qa.ENABLE_STORAGE:c+=ii.ANNOTATIONS_STORAGE,d=p.serializable;break;default:Ft(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(c+=ii.IS_EDITING),o&&(c+=ii.OPLIST);const{ids:g,hash:m}=p.modifiedIds,y=[c,d.hash,m];return{renderingIntent:c,cacheKey:y.join("_"),annotationStorageSerializable:d,modifiedIds:g}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=h(this,ys))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of h(this,bs).values())t.push(r._destroy());h(this,bs).clear(),h(this,Hc).clear(),h(this,zc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),h(this,sa).clear(),this.filterFactory.destroy(),m0.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new gl("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(s,r)=>{Ue(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:c}){if(c){r.close();return}Ue(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("ReaderHeadersReady",async s=>{var d;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:c}=this._fullReader;return(!r||!o)&&(this._lastProgress&&((d=e.onProgress)==null||d.call(e,this._lastProgress)),this._fullReader.onProgress=p=>{var g;(g=e.onProgress)==null||g.call(e,{loaded:p.loaded,total:p.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:c}}),t.on("GetRangeReader",(s,r)=>{Ue(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(s.begin,s.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:c,done:d}){if(d){r.close();return}Ue(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{r.error(c)})},r.onCancel=c=>{o.cancel(c),r.ready.catch(d=>{if(!this.destroyed)throw d})}}),t.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,e._capability.resolve(new tD(s,this))}),t.on("DocException",function(s){let r;switch(s.name){case"PasswordException":r=new zy(s.message,s.code);break;case"InvalidPDFException":r=new Iw(s.message);break;case"MissingPDFException":r=new pl(s.message);break;case"UnexpectedResponseException":r=new Yg(s.message,s.status);break;case"UnknownErrorException":r=new Uy(s.message,s.details);break;default:ue("DocException - expected a valid Error.")}e._capability.reject(r)}),t.on("PasswordRequest",s=>{if(E(this,ys,Promise.withResolvers()),e.onPassword){const r=o=>{o instanceof Error?h(this,ys).reject(o):h(this,ys).resolve({password:o})};try{e.onPassword(r,s.code)}catch(o){h(this,ys).reject(o)}}else h(this,ys).reject(new zy(s.message,s.code));return h(this,ys).promise}),t.on("DataLoaded",s=>{var r;(r=e.onProgress)==null||r.call(e,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),t.on("StartRenderPage",s=>{if(this.destroyed)return;h(this,bs).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),t.on("commonobj",([s,r,o])=>{var c;if(this.destroyed||this.commonObjs.has(s))return null;switch(r){case"Font":const{disableFontFace:d,fontExtraProperties:p,pdfBug:g}=this._params;if("error"in o){const S=o.error;Ft(`Error during font loading: ${S}`),this.commonObjs.resolve(s,S);break}const m=g&&((c=globalThis.FontInspector)!=null&&c.enabled)?(S,A)=>globalThis.FontInspector.fontAdded(S,A):null,y=new eO(o,{disableFontFace:d,inspectFont:m});this.fontLoader.bind(y).catch(()=>t.sendWithPromise("FontFallback",{id:s})).finally(()=>{!p&&y.data&&(y.data=null),this.commonObjs.resolve(s,y)});break;case"CopyLocalImage":const{imageRef:v}=o;Ue(v,"The imageRef must be defined.");for(const S of h(this,bs).values())for(const[,A]of S.objs)if((A==null?void 0:A.ref)===v)return A.dataLen?(this.commonObjs.resolve(s,structuredClone(A)),A.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([s,r,o,c])=>{var p;if(this.destroyed)return;const d=h(this,bs).get(r);if(!d.objs.has(s)){if(d._intentStates.size===0){(p=c==null?void 0:c.bitmap)==null||p.close();return}switch(o){case"Image":d.objs.resolve(s,c),(c==null?void 0:c.dataLen)>M2&&(d._maybeCleanupAfterRender=!0);break;case"Pattern":d.objs.resolve(s,c);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",s=>{var r;this.destroyed||(r=e.onProgress)==null||r.call(e,{loaded:s.loaded,total:s.total})}),t.on("FetchBuiltInCMap",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(s)}),t.on("FetchStandardFontData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&Ft("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((s=this._fullReader)==null?void 0:s.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,s=h(this,Hc).get(e);if(s)return s;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&h(this,zc).set(o.refStr,t);const c=new eD(e,o,this,this._params.pdfBug);return h(this,bs).set(e,c),c});return h(this,Hc).set(e,r),r}getPageIndex(t){return WE(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return T(this,Fo,Oh).call(this,"GetFieldObjects")}hasJSActions(){return T(this,Fo,Oh).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return T(this,Fo,Oh).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return T(this,Fo,Oh).call(this,"GetOptionalContentConfig").then(e=>new EO(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=h(this,sa).get(t);if(e)return e;const s=this.messageHandler.sendWithPromise(t,null).then(r=>{var o,c;return{info:r[0],metadata:r[1]?new SO(r[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((c=this._fullReader)==null?void 0:c.contentLength)??null}});return h(this,sa).set(t,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of h(this,bs).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),h(this,sa).clear(),this.filterFactory.destroy(!0),m0.cleanup()}}cachedPageNumber(t){if(!WE(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return h(this,zc).get(e)??null}}sa=new WeakMap,bs=new WeakMap,Hc=new WeakMap,zc=new WeakMap,ys=new WeakMap,Fo=new WeakSet,Oh=function(t,e=null){const s=h(this,sa).get(t);if(s)return s;const r=this.messageHandler.sendWithPromise(t,e);return h(this,sa).set(t,r),r};const Cp=Symbol("INITIAL_DATA");var Ii,Td,A0;class z1{constructor(){x(this,Td);x(this,Ii,Object.create(null))}get(t,e=null){if(e){const r=T(this,Td,A0).call(this,t);return r.promise.then(()=>e(r.data)),null}const s=h(this,Ii)[t];if(!s||s.data===Cp)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return s.data}has(t){const e=h(this,Ii)[t];return!!e&&e.data!==Cp}resolve(t,e=null){const s=T(this,Td,A0).call(this,t);s.data=e,s.resolve()}clear(){var t;for(const e in h(this,Ii)){const{data:s}=h(this,Ii)[e];(t=s==null?void 0:s.bitmap)==null||t.close()}E(this,Ii,Object.create(null))}*[Symbol.iterator](){for(const t in h(this,Ii)){const{data:e}=h(this,Ii)[t];e!==Cp&&(yield[t,e])}}}Ii=new WeakMap,Td=new WeakSet,A0=function(t){var e;return(e=h(this,Ii))[t]||(e[t]={...Promise.withResolvers(),data:Cp})};var pr;class sD{constructor(t){x(this,pr,null);E(this,pr,t),this.onContinue=null}get promise(){return h(this,pr).capability.promise}cancel(t=0){h(this,pr).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=h(this,pr).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=h(this,pr);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}pr=new WeakMap;var gr,jo;const ro=class ro{constructor({callback:t,params:e,objs:s,commonObjs:r,annotationCanvasMap:o,operatorList:c,pageIndex:d,canvasFactory:p,filterFactory:g,useRequestAnimationFrame:m=!1,pdfBug:y=!1,pageColors:v=null}){x(this,gr,null);this.callback=t,this.params=e,this.objs=s,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=d,this.canvasFactory=p,this.filterFactory=g,this._pdfBug=y,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new sD(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var d,p;if(this.cancelled)return;if(this._canvas){if(h(ro,jo).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");h(ro,jo).add(this._canvas)}this._pdfBug&&((d=globalThis.StepperManager)!=null&&d.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:r,transform:o,background:c}=this.params;this.gfx=new cc(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:r,transparency:t,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,(p=this.graphicsReadyCallback)==null||p.call(this)}cancel(t=null,e=0){var s;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),h(this,gr)&&(window.cancelAnimationFrame(h(this,gr)),E(this,gr,null)),h(ro,jo).delete(this._canvas),this.callback(t||new hv(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?E(this,gr,window.requestAnimationFrame(()=>{E(this,gr,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),h(ro,jo).delete(this._canvas),this.callback())))}};gr=new WeakMap,jo=new WeakMap,x(ro,jo,new WeakSet);let S0=ro;const aD="4.8.69",rD="3634dab10";function QE(u){return Math.floor(Math.max(0,Math.min(1,u))*255).toString(16).padStart(2,"0")}function Sh(u){return Math.max(0,Math.min(255,255*u))}class ZE{static CMYK_G([t,e,s,r]){return["G",1-Math.min(1,.3*t+.59*s+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Sh(t),[t,t,t]}static G_HTML([t]){const e=QE(t);return`#${e}${e}${e}`}static RGB_G([t,e,s]){return["G",.3*t+.59*e+.11*s]}static RGB_rgb(t){return t.map(Sh)}static RGB_HTML(t){return`#${t.map(QE).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,s,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,s+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,s,r]){return[Sh(1-Math.min(1,t+r)),Sh(1-Math.min(1,s+r)),Sh(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,s]){const r=1-t,o=1-e,c=1-s,d=Math.min(r,o,c);return["CMYK",r,o,c,d]}}class oD{create(t,e,s=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),s||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){ue("Abstract method `_createSVG` called.")}}class Av extends oD{_createSVG(t){return document.createElementNS(Xs,t)}}class U1{static setupStorage(t,e,s,r,o){const c=r.getValue(e,{value:null});switch(s.name){case"textarea":if(c.value!==null&&(t.textContent=c.value),o==="print")break;t.addEventListener("input",d=>{r.setValue(e,{value:d.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(c.value===s.attributes.xfaOn?t.setAttribute("checked",!0):c.value===s.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",d=>{r.setValue(e,{value:d.target.checked?d.target.getAttribute("xfaOn"):d.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&t.setAttribute("value",c.value),o==="print")break;t.addEventListener("input",d=>{r.setValue(e,{value:d.target.value})})}break;case"select":if(c.value!==null){t.setAttribute("value",c.value);for(const d of s.children)d.attributes.value===c.value?d.attributes.selected=!0:d.attributes.hasOwnProperty("selected")&&delete d.attributes.selected}t.addEventListener("input",d=>{const p=d.target.options,g=p.selectedIndex===-1?"":p[p.selectedIndex].value;r.setValue(e,{value:g})});break}}static setAttributes({html:t,element:e,storage:s=null,intent:r,linkService:o}){const{attributes:c}=e,d=t instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${r}`);for(const[p,g]of Object.entries(c))if(g!=null)switch(p){case"class":g.length&&t.setAttribute(p,g.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",g);break;case"style":Object.assign(t.style,g);break;case"textContent":t.textContent=g;break;default:(!d||p!=="href"&&p!=="newWindow")&&t.setAttribute(p,g)}d&&o.addLinkAttributes(t,c.href,c.newWindow),s&&c.dataId&&this.setupStorage(t,c.dataId,e,s)}static render(t){var y,v;const e=t.annotationStorage,s=t.linkService,r=t.xfaHtml,o=t.intent||"display",c=document.createElement(r.name);r.attributes&&this.setAttributes({html:c,element:r,intent:o,linkService:s});const d=o!=="richText",p=t.div;if(p.append(c),t.viewport){const S=`matrix(${t.viewport.transform.join(",")})`;p.style.transform=S}d&&p.setAttribute("class","xfaLayer xfaFont");const g=[];if(r.children.length===0){if(r.value){const S=document.createTextNode(r.value);c.append(S),d&&Ih.shouldBuildText(r.name)&&g.push(S)}return{textDivs:g}}const m=[[r,-1,c]];for(;m.length>0;){const[S,A,w]=m.at(-1);if(A+1===S.children.length){m.pop();continue}const M=S.children[++m.at(-1)[1]];if(M===null)continue;const{name:R}=M;if(R==="#text"){const O=document.createTextNode(M.value);g.push(O),w.append(O);continue}const P=(y=M==null?void 0:M.attributes)!=null&&y.xmlns?document.createElementNS(M.attributes.xmlns,R):document.createElement(R);if(w.append(P),M.attributes&&this.setAttributes({html:P,element:M,storage:e,intent:o,linkService:s}),((v=M.children)==null?void 0:v.length)>0)m.push([M,-1,P]);else if(M.value){const O=document.createTextNode(M.value);d&&Ih.shouldBuildText(R)&&g.push(O),P.append(O)}}for(const S of p.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))S.setAttribute("readOnly",!0);return{textDivs:g}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const cf=1e3,lD=9,ul=new WeakSet;function Aa(u){return{width:u[2]-u[0],height:u[3]-u[1]}}class cD{static create(t){switch(t.data.annotationType){case Fe.LINK:return new B1(t);case Fe.TEXT:return new uD(t);case Fe.WIDGET:switch(t.data.fieldType){case"Tx":return new hD(t);case"Btn":return t.data.radioButton?new G1(t):t.data.checkBox?new fD(t):new pD(t);case"Ch":return new gD(t);case"Sig":return new dD(t)}return new ml(t);case Fe.POPUP:return new E0(t);case Fe.FREETEXT:return new K1(t);case Fe.LINE:return new bD(t);case Fe.SQUARE:return new yD(t);case Fe.CIRCLE:return new vD(t);case Fe.POLYLINE:return new W1(t);case Fe.CARET:return new SD(t);case Fe.INK:return new Sv(t);case Fe.POLYGON:return new AD(t);case Fe.HIGHLIGHT:return new Q1(t);case Fe.UNDERLINE:return new _D(t);case Fe.SQUIGGLY:return new ED(t);case Fe.STRIKEOUT:return new wD(t);case Fe.STAMP:return new Z1(t);case Fe.FILEATTACHMENT:return new TD(t);default:return new Ce(t)}}}var Ho,Uc,Bc,xd,_0;const xv=class xv{constructor(t,{isRenderable:e=!1,ignoreBorder:s=!1,createQuadrilaterals:r=!1}={}){x(this,xd);x(this,Ho,null);x(this,Uc,!1);x(this,Bc,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(s)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:s}){return!!(t!=null&&t.str||e!=null&&e.str||s!=null&&s.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return xv._hasPopupData(this.data)}updateEdited(t){var s;if(!this.container)return;h(this,Ho)||E(this,Ho,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&T(this,xd,_0).call(this,e),(s=h(this,Bc))==null||s.popup.updateEdited(t)}resetEdited(){var t;h(this,Ho)&&(T(this,xd,_0).call(this,h(this,Ho).rect),(t=h(this,Bc))==null||t.popup.resetEdited(),E(this,Ho,null))}_createContainer(t){const{data:e,parent:{page:s,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),this instanceof ml||(o.tabIndex=cf);const{style:c}=o;if(c.zIndex=this.parent.zIndex++,e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof E0){const{rotation:w}=e;return!e.hasOwnCanvas&&w!==0&&this.setRotation(w,o),o}const{width:d,height:p}=Aa(e.rect);if(!t&&e.borderStyle.width>0){c.borderWidth=`${e.borderStyle.width}px`;const w=e.borderStyle.horizontalCornerRadius,M=e.borderStyle.verticalCornerRadius;if(w>0||M>0){const P=`calc(${w}px * var(--scale-factor)) / calc(${M}px * var(--scale-factor))`;c.borderRadius=P}else if(this instanceof G1){const P=`calc(${d}px * var(--scale-factor)) / calc(${p}px * var(--scale-factor))`;c.borderRadius=P}switch(e.borderStyle.style){case vh.SOLID:c.borderStyle="solid";break;case vh.DASHED:c.borderStyle="dashed";break;case vh.BEVELED:Ft("Unimplemented border style: beveled");break;case vh.INSET:Ft("Unimplemented border style: inset");break;case vh.UNDERLINE:c.borderBottomStyle="solid";break}const R=e.borderColor||null;R?(E(this,Uc,!0),c.borderColor=bt.makeHexColor(R[0]|0,R[1]|0,R[2]|0)):c.borderWidth=0}const g=bt.normalizeRect([e.rect[0],s.view[3]-e.rect[1]+s.view[1],e.rect[2],s.view[3]-e.rect[3]+s.view[1]]),{pageWidth:m,pageHeight:y,pageX:v,pageY:S}=r.rawDims;c.left=`${100*(g[0]-v)/m}%`,c.top=`${100*(g[1]-S)/y}%`;const{rotation:A}=e;return e.hasOwnCanvas||A===0?(c.width=`${100*d/m}%`,c.height=`${100*p/y}%`):this.setRotation(A,o),o}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:r}=this.parent.viewport.rawDims,{width:o,height:c}=Aa(this.data.rect);let d,p;t%180===0?(d=100*o/s,p=100*c/r):(d=100*c/s,p=100*o/r),e.style.width=`${d}%`,e.style.height=`${p}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,s,r)=>{const o=r.detail[e],c=o[0],d=o.slice(1);r.target.style[s]=ZE[`${c}_HTML`](d),this.annotationStorage.setValue(this.data.id,{[s]:ZE[`${c}_rgb`](d)})};return qt(this,"_commonActions",{display:e=>{const{display:s}=e.detail,r=s%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:s===1||s===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:s}=e.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const s=e.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(t,e){const s=this._commonActions;for(const r of Object.keys(e.detail)){const o=t[r]||s[r];o==null||o(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const s=this._commonActions;for(const[r,o]of Object.entries(e)){const c=s[r];if(c){const d={detail:{[r]:o},target:t};c(d),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,s,r,o]=this.data.rect.map(w=>Math.fround(w));if(t.length===8){const[w,M,R,P]=t.subarray(2,6);if(r===w&&o===M&&e===R&&s===P)return}const{style:c}=this.container;let d;if(h(this,Uc)){const{borderColor:w,borderWidth:M}=c;c.borderWidth=0,d=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${M}">`],this.container.classList.add("hasBorder")}const p=r-e,g=o-s,{svgFactory:m}=this,y=m.createElement("svg");y.classList.add("quadrilateralsContainer"),y.setAttribute("width",0),y.setAttribute("height",0);const v=m.createElement("defs");y.append(v);const S=m.createElement("clipPath"),A=`clippath_${this.data.id}`;S.setAttribute("id",A),S.setAttribute("clipPathUnits","objectBoundingBox"),v.append(S);for(let w=2,M=t.length;w<M;w+=8){const R=t[w],P=t[w+1],O=t[w+2],N=t[w+3],F=m.createElement("rect"),B=(O-e)/p,z=(o-P)/g,V=(R-O)/p,G=(P-N)/g;F.setAttribute("x",B),F.setAttribute("y",z),F.setAttribute("width",V),F.setAttribute("height",G),S.append(F),d==null||d.push(`<rect vector-effect="non-scaling-stroke" x="${B}" y="${z}" width="${V}" height="${G}"/>`)}h(this,Uc)&&(d.push("</g></svg>')"),c.backgroundImage=d.join("")),this.container.append(y),this.container.style.clipPath=`url(#${A})`}_createPopup(){const{data:t}=this,e=E(this,Bc,new E0({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){ue("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const s=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:o,id:c,exportValues:d}of r){if(o===-1||c===e)continue;const p=typeof d=="string"?d:null,g=document.querySelector(`[data-element-id="${c}"]`);if(g&&!ul.has(g)){Ft(`_getElementsByName - element not allowed: ${c}`);continue}s.push({id:c,exportValue:p,domElement:g})}return s}for(const r of document.getElementsByName(t)){const{exportValue:o}=r,c=r.getAttribute("data-element-id");c!==e&&ul.has(r)&&s.push({id:c,exportValue:o,domElement:r})}return s}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};Ho=new WeakMap,Uc=new WeakMap,Bc=new WeakMap,xd=new WeakSet,_0=function(t){const{container:{style:e},data:{rect:s,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:c,pageX:d,pageY:p}}}}=this;s==null||s.splice(0,4,...t);const{width:g,height:m}=Aa(t);e.left=`${100*(t[0]-d)/o}%`,e.top=`${100*(c-t[3]+p)/c}%`,r===0?(e.width=`${100*g/o}%`,e.height=`${100*m/c}%`):this.setRotation(r)};let Ce=xv;var si,eo,I1,q1;class B1 extends Ce{constructor(e,s=null){super(e,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});x(this,si);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:s}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let o=!1;return e.url?(s.addLinkAttributes(r,e.url,e.newWindow),o=!0):e.action?(this._bindNamedAction(r,e.action),o=!0):e.attachment?(T(this,si,I1).call(this,r,e.attachment,e.attachmentDest),o=!0):e.setOCGState?(T(this,si,q1).call(this,r,e.setOCGState),o=!0):e.dest?(this._bindLink(r,e.dest),o=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),o=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(r,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(r),this.container}_bindLink(e,s){e.href=this.linkService.getDestinationHash(s),e.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&T(this,si,eo).call(this)}_bindNamedAction(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(s),!1),T(this,si,eo).call(this)}_bindJSAction(e,s){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(s.actions)){const c=r.get(o);c&&(e[c]=()=>{var d;return(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:o}}),!1})}e.onclick||(e.onclick=()=>!1),T(this,si,eo).call(this)}_bindResetFormAction(e,s){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),T(this,si,eo).call(this),!this._fieldObjects){Ft('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{var y;r==null||r();const{fields:o,refs:c,include:d}=s,p=[];if(o.length!==0||c.length!==0){const v=new Set(c);for(const S of o){const A=this._fieldObjects[S]||[];for(const{id:w}of A)v.add(w)}for(const S of Object.values(this._fieldObjects))for(const A of S)v.has(A.id)===d&&p.push(A)}else for(const v of Object.values(this._fieldObjects))p.push(...v);const g=this.annotationStorage,m=[];for(const v of p){const{id:S}=v;switch(m.push(S),v.type){case"text":{const w=v.defaultValue||"";g.setValue(S,{value:w});break}case"checkbox":case"radiobutton":{const w=v.defaultValue===v.exportValues;g.setValue(S,{value:w});break}case"combobox":case"listbox":{const w=v.defaultValue||"";g.setValue(S,{value:w});break}default:continue}const A=document.querySelector(`[data-element-id="${S}"]`);if(A){if(!ul.has(A)){Ft(`_bindResetFormAction - element not allowed: ${S}`);continue}}else continue;A.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:m,name:"ResetForm"}})),!1}}}si=new WeakSet,eo=function(){this.container.setAttribute("data-internal-link","")},I1=function(e,s,r=null){e.href=this.linkService.getAnchorUrl(""),s.description&&(e.title=s.description),e.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(s.content,s.filename,r),!1},T(this,si,eo).call(this)},q1=function(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(s),!1),T(this,si,eo).call(this)};class uD extends Ce{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class ml extends Ce{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return xn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,s,r,o){s.includes("mouse")?t.addEventListener(s,c=>{var d;(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(s,c=>{var d;if(s==="blur"){if(!e.focused||!c.relatedTarget)return;e.focused=!1}else if(s==="focus"){if(e.focused)return;e.focused=!0}o&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(c)}}))})}_setEventListeners(t,e,s,r){var o,c,d;for(const[p,g]of s)(g==="Action"||(o=this.data.actions)!=null&&o[g])&&((g==="Focus"||g==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,p,g,r),g==="Focus"&&!((c=this.data.actions)!=null&&c.Blur)?this._setEventListener(t,e,"blur","Blur",null):g==="Blur"&&!((d=this.data.actions)!=null&&d.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":bt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||lD,o=t.style;let c;const d=2,p=g=>Math.round(10*g)/10;if(this.data.multiLine){const g=Math.abs(this.data.rect[3]-this.data.rect[1]-d),m=Math.round(g/(Sy*r))||1,y=g/m;c=Math.min(r,p(y/Sy))}else{const g=Math.abs(this.data.rect[3]-this.data.rect[1]-d);c=Math.min(r,p(g/Sy))}o.fontSize=`calc(${c}px * var(--scale-factor))`,o.color=bt.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(o.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class hD extends ml{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,s,r){const o=this.annotationStorage;for(const c of this._getElementsByName(t.name,t.id))c.domElement&&(c.domElement[e]=s),o.setValue(c.id,{[r]:s})}render(){var r,o;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const c=t.getValue(e,{value:this.data.fieldValue});let d=c.value||"";const p=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;p&&d.length>p&&(d=d.slice(0,p));let g=c.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;g&&this.data.comb&&(g=g.replaceAll(/\s+/g,""));const m={userValue:d,formattedValue:g,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=g??d,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type="text",s.setAttribute("value",g??d),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),ul.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=cf,this._setRequired(s,this.data.required),p&&(s.maxLength=p),s.addEventListener("input",v=>{t.setValue(e,{value:v.target.value}),this.setPropertyOnSiblings(s,"value",v.target.value,"value"),m.formattedValue=null}),s.addEventListener("resetform",v=>{const S=this.data.defaultFieldValue??"";s.value=m.userValue=S,m.formattedValue=null});let y=v=>{const{formattedValue:S}=m;S!=null&&(v.target.value=S),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",S=>{var w;if(m.focused)return;const{target:A}=S;m.userValue&&(A.value=m.userValue),m.lastCommittedValue=A.value,m.commitKey=1,(w=this.data.actions)!=null&&w.Focus||(m.focused=!0)}),s.addEventListener("updatefromsandbox",S=>{this.showElementAndHideCanvas(S.target);const A={value(w){m.userValue=w.detail.value??"",t.setValue(e,{value:m.userValue.toString()}),w.target.value=m.userValue},formattedValue(w){const{formattedValue:M}=w.detail;m.formattedValue=M,M!=null&&w.target!==document.activeElement&&(w.target.value=M),t.setValue(e,{formattedValue:M})},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{var O;const{charLimit:M}=w.detail,{target:R}=w;if(M===0){R.removeAttribute("maxLength");return}R.setAttribute("maxLength",M);let P=m.userValue;!P||P.length<=M||(P=P.slice(0,M),R.value=m.userValue=P,t.setValue(e,{value:P}),(O=this.linkService.eventBus)==null||O.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:P,willCommit:!0,commitKey:1,selStart:R.selectionStart,selEnd:R.selectionEnd}}))}};this._dispatchEventFromSandbox(A,S)}),s.addEventListener("keydown",S=>{var M;m.commitKey=1;let A=-1;if(S.key==="Escape"?A=0:S.key==="Enter"&&!this.data.multiLine?A=2:S.key==="Tab"&&(m.commitKey=3),A===-1)return;const{value:w}=S.target;m.lastCommittedValue!==w&&(m.lastCommittedValue=w,m.userValue=w,(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:w,willCommit:!0,commitKey:A,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}))});const v=y;y=null,s.addEventListener("blur",S=>{var w,M;if(!m.focused||!S.relatedTarget)return;(w=this.data.actions)!=null&&w.Blur||(m.focused=!1);const{value:A}=S.target;m.userValue=A,m.lastCommittedValue!==A&&((M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,willCommit:!0,commitKey:m.commitKey,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}})),v(S)}),(o=this.data.actions)!=null&&o.Keystroke&&s.addEventListener("beforeinput",S=>{var F;m.lastCommittedValue=null;const{data:A,target:w}=S,{value:M,selectionStart:R,selectionEnd:P}=w;let O=R,N=P;switch(S.inputType){case"deleteWordBackward":{const B=M.substring(0,R).match(/\w*[^\w]*$/);B&&(O-=B[0].length);break}case"deleteWordForward":{const B=M.substring(R).match(/^[^\w]*\w*/);B&&(N+=B[0].length);break}case"deleteContentBackward":R===P&&(O-=1);break;case"deleteContentForward":R===P&&(N+=1);break}S.preventDefault(),(F=this.linkService.eventBus)==null||F.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:M,change:A||"",willCommit:!1,selStart:O,selEnd:N}})}),this._setEventListeners(s,m,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],S=>S.target.value)}if(y&&s.addEventListener("blur",y),this.data.comb){const S=(this.data.rect[2]-this.data.rect[0])/p;s.classList.add("comb"),s.style.letterSpacing=`calc(${S}px * var(--scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class dD extends ml{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class fD extends ml{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,s=e.id;let r=t.getValue(s,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(s,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return ul.add(o),o.setAttribute("data-element-id",s),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",e.exportValue),o.tabIndex=cf,o.addEventListener("change",c=>{const{name:d,checked:p}=c.target;for(const g of this._getElementsByName(d,s)){const m=p&&g.exportValue===e.exportValue;g.domElement&&(g.domElement.checked=m),t.setValue(g.id,{value:m})}t.setValue(s,{value:p})}),o.addEventListener("resetform",c=>{const d=e.defaultFieldValue||"Off";c.target.checked=d===e.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",c=>{const d={value(p){p.target.checked=p.detail.value!=="Off",t.setValue(s,{value:p.target.checked})}};this._dispatchEventFromSandbox(d,c)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class G1 extends ml{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,s=e.id;let r=t.getValue(s,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(s,{value:r})),r)for(const c of this._getElementsByName(e.fieldName,s))t.setValue(c.id,{value:!1});const o=document.createElement("input");if(ul.add(o),o.setAttribute("data-element-id",s),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=cf,o.addEventListener("change",c=>{const{name:d,checked:p}=c.target;for(const g of this._getElementsByName(d,s))t.setValue(g.id,{value:!1});t.setValue(s,{value:p})}),o.addEventListener("resetform",c=>{const d=e.defaultFieldValue;c.target.checked=d!=null&&d===e.buttonValue}),this.enableScripting&&this.hasJSActions){const c=e.buttonValue;o.addEventListener("updatefromsandbox",d=>{const p={value:g=>{const m=c===g.detail.value;for(const y of this._getElementsByName(g.target.name)){const v=m&&y.id===s;y.domElement&&(y.domElement.checked=v),t.setValue(y.id,{value:v})}}};this._dispatchEventFromSandbox(p,d)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class pD extends B1{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),t}}class gD extends ml{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,s=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");ul.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=cf;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",m=>{const y=this.data.defaultFieldValue;for(const v of r.options)v.selected=v.value===y});for(const m of this.data.options){const y=document.createElement("option");y.textContent=m.displayValue,y.value=m.exportValue,s.value.includes(m.exportValue)&&(y.setAttribute("selected",!0),o=!1),r.append(y)}let c=null;if(o){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),r.prepend(m),c=()=>{m.remove(),r.removeEventListener("input",c),c=null},r.addEventListener("input",c)}const d=m=>{const y=m?"value":"textContent",{options:v,multiple:S}=r;return S?Array.prototype.filter.call(v,A=>A.selected).map(A=>A[y]):v.selectedIndex===-1?null:v[v.selectedIndex][y]};let p=d(!1);const g=m=>{const y=m.target.options;return Array.prototype.map.call(y,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",m=>{const y={value(v){c==null||c();const S=v.detail.value,A=new Set(Array.isArray(S)?S:[S]);for(const w of r.options)w.selected=A.has(w.value);t.setValue(e,{value:d(!0)}),p=d(!1)},multipleSelection(v){r.multiple=!0},remove(v){const S=r.options,A=v.detail.remove;S[A].selected=!1,r.remove(A),S.length>0&&Array.prototype.findIndex.call(S,M=>M.selected)===-1&&(S[0].selected=!0),t.setValue(e,{value:d(!0),items:g(v)}),p=d(!1)},clear(v){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),p=d(!1)},insert(v){const{index:S,displayValue:A,exportValue:w}=v.detail.insert,M=r.children[S],R=document.createElement("option");R.textContent=A,R.value=w,M?M.before(R):r.append(R),t.setValue(e,{value:d(!0),items:g(v)}),p=d(!1)},items(v){const{items:S}=v.detail;for(;r.length!==0;)r.remove(0);for(const A of S){const{displayValue:w,exportValue:M}=A,R=document.createElement("option");R.textContent=w,R.value=M,r.append(R)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:d(!0),items:g(v)}),p=d(!1)},indices(v){const S=new Set(v.detail.indices);for(const A of v.target.options)A.selected=S.has(A.index);t.setValue(e,{value:d(!0)}),p=d(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(y,m)}),r.addEventListener("input",m=>{var S;const y=d(!0),v=d(!1);t.setValue(e,{value:y}),m.preventDefault(),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:p,change:v,changeEx:y,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):r.addEventListener("input",function(m){t.setValue(e,{value:d(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class E0 extends Ce{constructor(t){const{data:e,elements:s}=t;super(t,{isRenderable:Ce._hasPopupData(e)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new mD({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const s of this.elements)s.popup=t,s.container.ariaHasPopup="dialog",e.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(s=>`${uv}${s}`).join(",")),this.container}}var Ic,Ng,kg,qc,zo,Se,aa,Gc,Cd,Rd,Vc,ra,qi,oa,Md,la,Od,Uo,Bo,ne,Vp,w0,V1,X1,Y1,$1,Xp,Yp,T0;class mD{constructor({container:t,color:e,elements:s,titleObj:r,modificationDate:o,contentsObj:c,richText:d,parent:p,rect:g,parentRect:m,open:y}){x(this,ne);x(this,Ic,T(this,ne,Y1).bind(this));x(this,Ng,T(this,ne,T0).bind(this));x(this,kg,T(this,ne,Yp).bind(this));x(this,qc,T(this,ne,Xp).bind(this));x(this,zo,null);x(this,Se,null);x(this,aa,null);x(this,Gc,null);x(this,Cd,null);x(this,Rd,null);x(this,Vc,null);x(this,ra,!1);x(this,qi,null);x(this,oa,null);x(this,Md,null);x(this,la,null);x(this,Od,null);x(this,Uo,null);x(this,Bo,!1);var v;E(this,Se,t),E(this,Od,r),E(this,aa,c),E(this,la,d),E(this,Rd,p),E(this,zo,e),E(this,Md,g),E(this,Vc,m),E(this,Cd,s),E(this,Gc,fv.toDateObject(o)),this.trigger=s.flatMap(S=>S.getElementsToTriggerPopup());for(const S of this.trigger)S.addEventListener("click",h(this,qc)),S.addEventListener("mouseenter",h(this,kg)),S.addEventListener("mouseleave",h(this,Ng)),S.classList.add("popupTriggerArea");for(const S of s)(v=S.container)==null||v.addEventListener("keydown",h(this,Ic));h(this,Se).hidden=!0,y&&T(this,ne,Xp).call(this)}render(){if(h(this,qi))return;const t=E(this,qi,document.createElement("div"));if(t.className="popup",h(this,zo)){const o=t.style.outlineColor=bt.makeHexColor(...h(this,zo));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:t.style.backgroundColor=bt.makeHexColor(...h(this,zo).map(d=>Math.floor(.7*(255-d)+d)))}const e=document.createElement("span");e.className="header";const s=document.createElement("h1");if(e.append(s),{dir:s.dir,str:s.textContent}=h(this,Od),t.append(e),h(this,Gc)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:h(this,Gc).valueOf()})),e.append(o)}const r=h(this,ne,Vp);if(r)U1.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(h(this,aa));t.append(o)}h(this,Se).append(t)}_formatContents({str:t,dir:e}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let o=0,c=r.length;o<c;++o){const d=r[o];s.append(document.createTextNode(d)),o<c-1&&s.append(document.createElement("br"))}return s}updateEdited({rect:t,popupContent:e}){var s;h(this,Uo)||E(this,Uo,{contentsObj:h(this,aa),richText:h(this,la)}),t&&E(this,oa,null),e&&(E(this,la,T(this,ne,X1).call(this,e)),E(this,aa,null)),(s=h(this,qi))==null||s.remove(),E(this,qi,null)}resetEdited(){var t;h(this,Uo)&&({contentsObj:_n(this,aa)._,richText:_n(this,la)._}=h(this,Uo),E(this,Uo,null),(t=h(this,qi))==null||t.remove(),E(this,qi,null),E(this,oa,null))}forceHide(){E(this,Bo,this.isVisible),h(this,Bo)&&(h(this,Se).hidden=!0)}maybeShow(){h(this,Bo)&&(h(this,qi)||T(this,ne,Yp).call(this),E(this,Bo,!1),h(this,Se).hidden=!1)}get isVisible(){return h(this,Se).hidden===!1}}Ic=new WeakMap,Ng=new WeakMap,kg=new WeakMap,qc=new WeakMap,zo=new WeakMap,Se=new WeakMap,aa=new WeakMap,Gc=new WeakMap,Cd=new WeakMap,Rd=new WeakMap,Vc=new WeakMap,ra=new WeakMap,qi=new WeakMap,oa=new WeakMap,Md=new WeakMap,la=new WeakMap,Od=new WeakMap,Uo=new WeakMap,Bo=new WeakMap,ne=new WeakSet,Vp=function(){const t=h(this,la),e=h(this,aa);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&h(this,la).html||null},w0=function(){var t,e,s;return((s=(e=(t=h(this,ne,Vp))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:s.fontSize)||0},V1=function(){var t,e,s;return((s=(e=(t=h(this,ne,Vp))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:s.color)||null},X1=function(t){const e=[],s={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:h(this,ne,V1),fontSize:h(this,ne,w0)?`calc(${h(this,ne,w0)}px * var(--scale-factor))`:""}};for(const o of t.split(`
`))e.push({name:"span",value:o,attributes:r});return s},Y1=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&h(this,ra))&&T(this,ne,Xp).call(this)},$1=function(){if(h(this,oa)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:s,pageX:r,pageY:o}}}=h(this,Rd);let c=!!h(this,Vc),d=c?h(this,Vc):h(this,Md);for(const A of h(this,Cd))if(!d||bt.intersect(A.data.rect,d)!==null){d=A.data.rect,c=!0;break}const p=bt.normalizeRect([d[0],t[3]-d[1]+t[1],d[2],t[3]-d[3]+t[1]]),m=c?d[2]-d[0]+5:0,y=p[0]+m,v=p[1];E(this,oa,[100*(y-r)/e,100*(v-o)/s]);const{style:S}=h(this,Se);S.left=`${h(this,oa)[0]}%`,S.top=`${h(this,oa)[1]}%`},Xp=function(){E(this,ra,!h(this,ra)),h(this,ra)?(T(this,ne,Yp).call(this),h(this,Se).addEventListener("click",h(this,qc)),h(this,Se).addEventListener("keydown",h(this,Ic))):(T(this,ne,T0).call(this),h(this,Se).removeEventListener("click",h(this,qc)),h(this,Se).removeEventListener("keydown",h(this,Ic)))},Yp=function(){h(this,qi)||this.render(),this.isVisible?h(this,ra)&&h(this,Se).classList.add("focused"):(T(this,ne,$1).call(this),h(this,Se).hidden=!1,h(this,Se).style.zIndex=parseInt(h(this,Se).style.zIndex)+1e3)},T0=function(){h(this,Se).classList.remove("focused"),!(h(this,ra)||!this.isVisible)&&(h(this,Se).hidden=!0,h(this,Se).style.zIndex=parseInt(h(this,Se).style.zIndex)-1e3)};class K1 extends Ce{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Nt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const s=document.createElement("span");s.textContent=e,t.append(s)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Dd;class bD extends Ce{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,Dd,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:s,height:r}=Aa(e.rect),o=this.svgFactory.create(s,r,!0),c=E(this,Dd,this.svgFactory.createElement("svg:line"));return c.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),c.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),c.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),c.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),c.setAttribute("stroke-width",e.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),o.append(c),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Dd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Dd=new WeakMap;var Ld;class yD extends Ce{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,Ld,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:s,height:r}=Aa(e.rect),o=this.svgFactory.create(s,r,!0),c=e.borderStyle.width,d=E(this,Ld,this.svgFactory.createElement("svg:rect"));return d.setAttribute("x",c/2),d.setAttribute("y",c/2),d.setAttribute("width",s-c),d.setAttribute("height",r-c),d.setAttribute("stroke-width",c||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),o.append(d),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Ld)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ld=new WeakMap;var Nd;class vD extends Ce{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,Nd,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:s,height:r}=Aa(e.rect),o=this.svgFactory.create(s,r,!0),c=e.borderStyle.width,d=E(this,Nd,this.svgFactory.createElement("svg:ellipse"));return d.setAttribute("cx",s/2),d.setAttribute("cy",r/2),d.setAttribute("rx",s/2-c/2),d.setAttribute("ry",r/2-c/2),d.setAttribute("stroke-width",c||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),o.append(d),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Nd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Nd=new WeakMap;var kd;class W1 extends Ce{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,kd,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:s,borderStyle:r,popupRef:o}}=this;if(!s)return this.container;const{width:c,height:d}=Aa(e),p=this.svgFactory.create(c,d,!0);let g=[];for(let y=0,v=s.length;y<v;y+=2){const S=s[y]-e[0],A=e[3]-s[y+1];g.push(`${S},${A}`)}g=g.join(" ");const m=E(this,kd,this.svgFactory.createElement(this.svgElementName));return m.setAttribute("points",g),m.setAttribute("stroke-width",r.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),p.append(m),this.container.append(p),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,kd)}addHighlightArea(){this.container.classList.add("highlightArea")}}kd=new WeakMap;class AD extends W1{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class SD extends Ce{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Pd;class Sv extends Ce{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,Pd,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Nt.HIGHLIGHT:Nt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:s,borderStyle:r,popupRef:o}}=this,{width:c,height:d}=Aa(e),p=this.svgFactory.create(c,d,!0);for(const g of s){let m=[];for(let v=0,S=g.length;v<S;v+=2){const A=g[v]-e[0],w=e[3]-g[v+1];m.push(`${A},${w}`)}m=m.join(" ");const y=this.svgFactory.createElement(this.svgElementName);h(this,Pd).push(y),y.setAttribute("points",m),y.setAttribute("stroke-width",r.width||1),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),p.append(y)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(p),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return h(this,Pd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Pd=new WeakMap;class Q1 extends Ce{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Nt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class _D extends Ce{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class ED extends Ce{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class wD extends Ce{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Z1 extends Ce{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Nt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Fd,jd,x0;class TD extends Ce{constructor(e){var r;super(e,{isRenderable:!0});x(this,jd);x(this,Fd,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:s}=this;let r;s.hasAppearance||s.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),r.addEventListener("dblclick",T(this,jd,x0).bind(this)),E(this,Fd,r);const{isMac:o}=xn.platform;return e.addEventListener("keydown",c=>{c.key==="Enter"&&(o?c.metaKey:c.ctrlKey)&&T(this,jd,x0).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return h(this,Fd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fd=new WeakMap,jd=new WeakSet,x0=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var Hd,Io,qo,zd,dl,J1,C0,mw;let xD=(mw=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:s,annotationEditorUIManager:r,page:o,viewport:c,structTreeLayer:d}){x(this,dl);x(this,Hd,null);x(this,Io,null);x(this,qo,new Map);x(this,zd,null);this.div=t,E(this,Hd,e),E(this,Io,s),E(this,zd,d||null),this.page=o,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return h(this,qo).size>0}async render(t){var c;const{annotations:e}=t,s=this.div;ll(s,this.viewport);const r=new Map,o={data:null,layer:s,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Av,annotationStorage:t.annotationStorage||new gv,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const d of e){if(d.noHTML)continue;const p=d.annotationType===Fe.POPUP;if(p){const y=r.get(d.id);if(!y)continue;o.elements=y}else{const{width:y,height:v}=Aa(d.rect);if(y<=0||v<=0)continue}o.data=d;const g=cD.create(o);if(!g.isRenderable)continue;if(!p&&d.popupRef){const y=r.get(d.popupRef);y?y.push(g):r.set(d.popupRef,[g])}const m=g.render();d.hidden&&(m.style.visibility="hidden"),await T(this,dl,J1).call(this,m,d.id),g._isEditable&&(h(this,qo).set(g.data.id,g),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(g))}T(this,dl,C0).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,ll(e,{rotation:t.rotation}),T(this,dl,C0).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(h(this,qo).values())}getEditableAnnotation(t){return h(this,qo).get(t)}},Hd=new WeakMap,Io=new WeakMap,qo=new WeakMap,zd=new WeakMap,dl=new WeakSet,J1=async function(t,e){var c,d;const s=t.firstChild||t,r=s.id=`${uv}${e}`,o=await((c=h(this,zd))==null?void 0:c.getAriaAttributes(r));if(o)for(const[p,g]of o)s.setAttribute(p,g);this.div.append(t),(d=h(this,Hd))==null||d.moveElementInDOM(this.div,t,s,!1)},C0=function(){if(!h(this,Io))return;const t=this.div;for(const[e,s]of h(this,Io)){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;s.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(s):o.classList.contains("annotationContent")?o.after(s):o.before(s):r.append(s)}h(this,Io).clear()},mw);const Rp=/\r\n?|\n/g;var Gi,Qn,Ud,Go,Zn,Ne,tT,eT,nT,$p,_a,Kp,Wp,iT,M0,sT;const oe=class oe extends Zt{constructor(e){super({...e,name:"freeTextEditor"});x(this,Ne);x(this,Gi);x(this,Qn,"");x(this,Ud,`${this.id}-editor`);x(this,Go,null);x(this,Zn);E(this,Gi,e.color||oe._defaultColor||Zt._defaultLineColor),E(this,Zn,e.fontSize||oe._defaultFontSize)}static get _keyboardManager(){const e=oe.prototype,s=c=>c.isEmpty(),r=cl.TRANSLATE_SMALL,o=cl.TRANSLATE_BIG;return qt(this,"_keyboardManager",new lf([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-o,0],checker:s}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[o,0],checker:s}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-o],checker:s}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,o],checker:s}]]))}static initialize(e,s){Zt.initialize(e,s);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,s){switch(e){case xt.FREETEXT_SIZE:oe._defaultFontSize=s;break;case xt.FREETEXT_COLOR:oe._defaultColor=s;break}}updateParams(e,s){switch(e){case xt.FREETEXT_SIZE:T(this,Ne,tT).call(this,s);break;case xt.FREETEXT_COLOR:T(this,Ne,eT).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[xt.FREETEXT_SIZE,oe._defaultFontSize],[xt.FREETEXT_COLOR,oe._defaultColor||Zt._defaultLineColor]]}get propertiesToUpdate(){return[[xt.FREETEXT_SIZE,h(this,Zn)],[xt.FREETEXT_COLOR,h(this,Gi)]]}_translateEmpty(e,s){this._uiManager.translateSelectedEditors(e,s,!0)}getInitialTranslation(){const e=this.parentScale;return[-oe._internalPadding*e,-(oe._internalPadding+h(this,Zn))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Nt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),E(this,Go,new AbortController);const e=this._uiManager.combinedSignal(h(this,Go));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",h(this,Ud)),this._isDraggable=!0,(e=h(this,Go))==null||e.abort(),E(this,Go,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=h(this,Qn),s=E(this,Qn,T(this,Ne,nT).call(this).trimEnd());if(e===s)return;const r=o=>{if(E(this,Qn,o),!o){this.remove();return}T(this,Ne,Wp).call(this),this._uiManager.rebuild(this),T(this,Ne,$p).call(this)};this.addCommands({cmd:()=>{r(s)},undo:()=>{r(e)},mustExec:!1}),T(this,Ne,$p).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){oe._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,s;this.width&&(e=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",h(this,Ud)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${h(this,Zn)}px * var(--scale-factor))`,r.color=h(this,Gi),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),fg(this,this.div,["dblclick","keydown"]),this.width){const[o,c]=this.parentDimensions;if(this.annotationElementId){const{position:d}=this._initialData;let[p,g]=this.getInitialTranslation();[p,g]=this.pageTranslationToScreen(p,g);const[m,y]=this.pageDimensions,[v,S]=this.pageTranslation;let A,w;switch(this.rotation){case 0:A=e+(d[0]-v)/m,w=s+this.height-(d[1]-S)/y;break;case 90:A=e+(d[0]-v)/m,w=s-(d[1]-S)/y,[p,g]=[g,-p];break;case 180:A=e-this.width+(d[0]-v)/m,w=s-(d[1]-S)/y,[p,g]=[-p,-g];break;case 270:A=e+(d[0]-v-this.height*y)/m,w=s+(d[1]-S-this.width*m)/y,[p,g]=[-g,p];break}this.setAt(A*o,w*c,p,g)}else this.setAt(e*o,s*c,this.width*o,this.height*c);T(this,Ne,Wp).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var A,w,M;const s=e.clipboardData||window.clipboardData,{types:r}=s;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const o=T(A=oe,_a,M0).call(A,s.getData("text")||"").replaceAll(Rp,`
`);if(!o)return;const c=window.getSelection();if(!c.rangeCount)return;this.editorDiv.normalize(),c.deleteFromDocument();const d=c.getRangeAt(0);if(!o.includes(`
`)){d.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),c.collapseToStart();return}const{startContainer:p,startOffset:g}=d,m=[],y=[];if(p.nodeType===Node.TEXT_NODE){const R=p.parentElement;if(y.push(p.nodeValue.slice(g).replaceAll(Rp,"")),R!==this.editorDiv){let P=m;for(const O of this.editorDiv.childNodes){if(O===R){P=y;continue}P.push(T(w=oe,_a,Kp).call(w,O))}}m.push(p.nodeValue.slice(0,g).replaceAll(Rp,""))}else if(p===this.editorDiv){let R=m,P=0;for(const O of this.editorDiv.childNodes)P++===g&&(R=y),R.push(T(M=oe,_a,Kp).call(M,O))}E(this,Qn,`${m.join(`
`)}${o}${y.join(`
`)}`),T(this,Ne,Wp).call(this);const v=new Range;let S=m.reduce((R,P)=>R+P.length,0);for(const{firstChild:R}of this.editorDiv.childNodes)if(R.nodeType===Node.TEXT_NODE){const P=R.nodeValue.length;if(S<=P){v.setStart(R,S),v.setEnd(R,S);break}S-=P}c.removeAllRanges(),c.addRange(v)}get contentDiv(){return this.editorDiv}static async deserialize(e,s,r){var d;let o=null;if(e instanceof K1){const{data:{defaultAppearanceData:{fontSize:p,fontColor:g},rect:m,rotation:y,id:v,popupRef:S},textContent:A,textPosition:w,parent:{page:{pageNumber:M}}}=e;if(!A||A.length===0)return null;o=e={annotationType:Nt.FREETEXT,color:Array.from(g),fontSize:p,value:A.join(`
`),position:w,pageIndex:M-1,rect:m.slice(0),rotation:y,id:v,deleted:!1,popupRef:S}}const c=await super.deserialize(e,s,r);return E(c,Zn,e.fontSize),E(c,Gi,bt.makeHexColor(...e.color)),E(c,Qn,T(d=oe,_a,M0).call(d,e.value)),c.annotationElementId=e.id||null,c._initialData=o,c}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=oe._internalPadding*this.parentScale,r=this.getRect(s,s),o=Zt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:h(this,Gi)),c={annotationType:Nt.FREETEXT,color:o,fontSize:h(this,Zn),value:T(this,Ne,iT).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?c:this.annotationElementId&&!T(this,Ne,sT).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(e){const s=super.renderAnnotationElement(e);if(this.deleted)return s;const{style:r}=s;r.fontSize=`calc(${h(this,Zn)}px * var(--scale-factor))`,r.color=h(this,Gi),s.replaceChildren();for(const c of h(this,Qn).split(`
`)){const d=document.createElement("div");d.append(c?document.createTextNode(c):document.createElement("br")),s.append(d)}const o=oe._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(o,o),popupContent:h(this,Qn)}),s}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};Gi=new WeakMap,Qn=new WeakMap,Ud=new WeakMap,Go=new WeakMap,Zn=new WeakMap,Ne=new WeakSet,tT=function(e){const s=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-h(this,Zn))*this.parentScale),E(this,Zn,o),T(this,Ne,$p).call(this)},r=h(this,Zn);this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},eT=function(e){const s=o=>{E(this,Gi,this.editorDiv.style.color=o)},r=h(this,Gi);this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},nT=function(){var r;const e=[];this.editorDiv.normalize();let s=null;for(const o of this.editorDiv.childNodes)(s==null?void 0:s.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(e.push(T(r=oe,_a,Kp).call(r,o)),s=o);return e.join(`
`)},$p=function(){const[e,s]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:o,div:c}=this,d=c.style.display,p=c.classList.contains("hidden");c.classList.remove("hidden"),c.style.display="hidden",o.div.append(this.div),r=c.getBoundingClientRect(),c.remove(),c.style.display=d,c.classList.toggle("hidden",p)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/s):(this.width=r.height/e,this.height=r.width/s),this.fixAndSetPosition()},_a=new WeakSet,Kp=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Rp,"")},Wp=function(){if(this.editorDiv.replaceChildren(),!!h(this,Qn))for(const e of h(this,Qn).split(`
`)){const s=document.createElement("div");s.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(s)}},iT=function(){return h(this,Qn).replaceAll(""," ")},M0=function(e){return e.replaceAll(" ","")},sT=function(e){const{value:s,fontSize:r,color:o,pageIndex:c}=this._initialData;return this._hasBeenMoved||e.value!==s||e.fontSize!==r||e.color.some((d,p)=>d!==o[p])||e.pageIndex!==c},x(oe,_a),Tt(oe,"_freeTextDefaultContent",""),Tt(oe,"_internalPadding",0),Tt(oe,"_defaultColor",null),Tt(oe,"_defaultFontSize",10),Tt(oe,"_type","freetext"),Tt(oe,"_editorType",Nt.FREETEXT);let R0=oe;class aT{toSVGPath(){ue("Abstract method `toSVGPath` must be implemented.")}get box(){ue("Abstract getter `box` must be implemented.")}serialize(t,e){ue("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){ue("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){ue("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Jn,Vi,Xc,Yc,vs,Ht,Vo,Xo,Bd,Id,$c,Kc,mr,qd,Pg,Fg,Be,Dh,rT,oT,lT,cT,uT,hT;const $s=class $s{constructor({x:t,y:e},s,r,o,c,d=0){x(this,Be);x(this,Jn);x(this,Vi,[]);x(this,Xc);x(this,Yc);x(this,vs,[]);x(this,Ht,new Float64Array(18));x(this,Vo);x(this,Xo);x(this,Bd);x(this,Id);x(this,$c);x(this,Kc);x(this,mr,[]);E(this,Jn,s),E(this,Kc,o*r),E(this,Yc,c),h(this,Ht).set([NaN,NaN,NaN,NaN,t,e],6),E(this,Xc,d),E(this,Id,h($s,qd)*r),E(this,Bd,h($s,Fg)*r),E(this,$c,r),h(this,mr).push(t,e)}isEmpty(){return isNaN(h(this,Ht)[8])}add({x:t,y:e}){var G;E(this,Vo,t),E(this,Xo,e);const[s,r,o,c]=h(this,Jn);let[d,p,g,m]=h(this,Ht).subarray(8,12);const y=t-g,v=e-m,S=Math.hypot(y,v);if(S<h(this,Bd))return!1;const A=S-h(this,Id),w=A/S,M=w*y,R=w*v;let P=d,O=p;d=g,p=m,g+=M,m+=R,(G=h(this,mr))==null||G.push(t,e);const N=-R/A,F=M/A,B=N*h(this,Kc),z=F*h(this,Kc);return h(this,Ht).set(h(this,Ht).subarray(2,8),0),h(this,Ht).set([g+B,m+z],4),h(this,Ht).set(h(this,Ht).subarray(14,18),12),h(this,Ht).set([g-B,m-z],16),isNaN(h(this,Ht)[6])?(h(this,vs).length===0&&(h(this,Ht).set([d+B,p+z],2),h(this,vs).push(NaN,NaN,NaN,NaN,(d+B-s)/o,(p+z-r)/c),h(this,Ht).set([d-B,p-z],14),h(this,Vi).push(NaN,NaN,NaN,NaN,(d-B-s)/o,(p-z-r)/c)),h(this,Ht).set([P,O,d,p,g,m],6),!this.isEmpty()):(h(this,Ht).set([P,O,d,p,g,m],6),Math.abs(Math.atan2(O-p,P-d)-Math.atan2(R,M))<Math.PI/2?([d,p,g,m]=h(this,Ht).subarray(2,6),h(this,vs).push(NaN,NaN,NaN,NaN,((d+g)/2-s)/o,((p+m)/2-r)/c),[d,p,P,O]=h(this,Ht).subarray(14,18),h(this,Vi).push(NaN,NaN,NaN,NaN,((P+d)/2-s)/o,((O+p)/2-r)/c),!0):([P,O,d,p,g,m]=h(this,Ht).subarray(0,6),h(this,vs).push(((P+5*d)/6-s)/o,((O+5*p)/6-r)/c,((5*d+g)/6-s)/o,((5*p+m)/6-r)/c,((d+g)/2-s)/o,((p+m)/2-r)/c),[g,m,d,p,P,O]=h(this,Ht).subarray(12,18),h(this,Vi).push(((P+5*d)/6-s)/o,((O+5*p)/6-r)/c,((5*d+g)/6-s)/o,((5*p+m)/6-r)/c,((d+g)/2-s)/o,((p+m)/2-r)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const t=h(this,vs),e=h(this,Vi);if(isNaN(h(this,Ht)[6])&&!this.isEmpty())return T(this,Be,rT).call(this);const s=[];s.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?s.push(`L${t[r+4]} ${t[r+5]}`):s.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);T(this,Be,lT).call(this,s);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?s.push(`L${e[r+4]} ${e[r+5]}`):s.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return T(this,Be,oT).call(this,s),s.join(" ")}newFreeDrawOutline(t,e,s,r,o,c){return new dT(t,e,s,r,o,c)}getOutlines(){var y;const t=h(this,vs),e=h(this,Vi),s=h(this,Ht),[r,o,c,d]=h(this,Jn),p=new Float64Array((((y=h(this,mr))==null?void 0:y.length)??0)+2);for(let v=0,S=p.length-2;v<S;v+=2)p[v]=(h(this,mr)[v]-r)/c,p[v+1]=(h(this,mr)[v+1]-o)/d;if(p[p.length-2]=(h(this,Vo)-r)/c,p[p.length-1]=(h(this,Xo)-o)/d,isNaN(s[6])&&!this.isEmpty())return T(this,Be,cT).call(this,p);const g=new Float64Array(h(this,vs).length+24+h(this,Vi).length);let m=t.length;for(let v=0;v<m;v+=2){if(isNaN(t[v])){g[v]=g[v+1]=NaN;continue}g[v]=t[v],g[v+1]=t[v+1]}m=T(this,Be,hT).call(this,g,m);for(let v=e.length-6;v>=6;v-=6)for(let S=0;S<6;S+=2){if(isNaN(e[v+S])){g[m]=g[m+1]=NaN,m+=2;continue}g[m]=e[v+S],g[m+1]=e[v+S+1],m+=2}return T(this,Be,uT).call(this,g,m),this.newFreeDrawOutline(g,p,h(this,Jn),h(this,$c),h(this,Xc),h(this,Yc))}};Jn=new WeakMap,Vi=new WeakMap,Xc=new WeakMap,Yc=new WeakMap,vs=new WeakMap,Ht=new WeakMap,Vo=new WeakMap,Xo=new WeakMap,Bd=new WeakMap,Id=new WeakMap,$c=new WeakMap,Kc=new WeakMap,mr=new WeakMap,qd=new WeakMap,Pg=new WeakMap,Fg=new WeakMap,Be=new WeakSet,Dh=function(){const t=h(this,Ht).subarray(4,6),e=h(this,Ht).subarray(16,18),[s,r,o,c]=h(this,Jn);return[(h(this,Vo)+(t[0]-e[0])/2-s)/o,(h(this,Xo)+(t[1]-e[1])/2-r)/c,(h(this,Vo)+(e[0]-t[0])/2-s)/o,(h(this,Xo)+(e[1]-t[1])/2-r)/c]},rT=function(){const[t,e,s,r]=h(this,Jn),[o,c,d,p]=T(this,Be,Dh).call(this);return`M${(h(this,Ht)[2]-t)/s} ${(h(this,Ht)[3]-e)/r} L${(h(this,Ht)[4]-t)/s} ${(h(this,Ht)[5]-e)/r} L${o} ${c} L${d} ${p} L${(h(this,Ht)[16]-t)/s} ${(h(this,Ht)[17]-e)/r} L${(h(this,Ht)[14]-t)/s} ${(h(this,Ht)[15]-e)/r} Z`},oT=function(t){const e=h(this,Vi);t.push(`L${e[4]} ${e[5]} Z`)},lT=function(t){const[e,s,r,o]=h(this,Jn),c=h(this,Ht).subarray(4,6),d=h(this,Ht).subarray(16,18),[p,g,m,y]=T(this,Be,Dh).call(this);t.push(`L${(c[0]-e)/r} ${(c[1]-s)/o} L${p} ${g} L${m} ${y} L${(d[0]-e)/r} ${(d[1]-s)/o}`)},cT=function(t){const e=h(this,Ht),[s,r,o,c]=h(this,Jn),[d,p,g,m]=T(this,Be,Dh).call(this),y=new Float64Array(36);return y.set([NaN,NaN,NaN,NaN,(e[2]-s)/o,(e[3]-r)/c,NaN,NaN,NaN,NaN,(e[4]-s)/o,(e[5]-r)/c,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,(e[16]-s)/o,(e[17]-r)/c,NaN,NaN,NaN,NaN,(e[14]-s)/o,(e[15]-r)/c],0),this.newFreeDrawOutline(y,t,h(this,Jn),h(this,$c),h(this,Xc),h(this,Yc))},uT=function(t,e){const s=h(this,Vi);return t.set([NaN,NaN,NaN,NaN,s[4],s[5]],e),e+=6},hT=function(t,e){const s=h(this,Ht).subarray(4,6),r=h(this,Ht).subarray(16,18),[o,c,d,p]=h(this,Jn),[g,m,y,v]=T(this,Be,Dh).call(this);return t.set([NaN,NaN,NaN,NaN,(s[0]-o)/d,(s[1]-c)/p,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,y,v,NaN,NaN,NaN,NaN,(r[0]-o)/d,(r[1]-c)/p],e),e+=24},x($s,qd,8),x($s,Pg,2),x($s,Fg,h($s,qd)+h($s,Pg));let gg=$s;var Wc,Yo,ca,Gd,ti,Vd,Te,zn,Lh,Nh,fT;class dT extends aT{constructor(e,s,r,o,c,d){super();x(this,zn);x(this,Wc);x(this,Yo,null);x(this,ca);x(this,Gd);x(this,ti);x(this,Vd);x(this,Te);E(this,Te,e),E(this,ti,s),E(this,Wc,r),E(this,Vd,o),E(this,ca,c),E(this,Gd,d),T(this,zn,fT).call(this,d);const{x:p,y:g,width:m,height:y}=h(this,Yo);for(let v=0,S=e.length;v<S;v+=2)e[v]=(e[v]-p)/m,e[v+1]=(e[v+1]-g)/y;for(let v=0,S=s.length;v<S;v+=2)s[v]=(s[v]-p)/m,s[v+1]=(s[v+1]-g)/y}toSVGPath(){const e=[`M${h(this,Te)[4]} ${h(this,Te)[5]}`];for(let s=6,r=h(this,Te).length;s<r;s+=6){if(isNaN(h(this,Te)[s])){e.push(`L${h(this,Te)[s+4]} ${h(this,Te)[s+5]}`);continue}e.push(`C${h(this,Te)[s]} ${h(this,Te)[s+1]} ${h(this,Te)[s+2]} ${h(this,Te)[s+3]} ${h(this,Te)[s+4]} ${h(this,Te)[s+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,s,r,o],c){const d=r-e,p=o-s;let g,m;switch(c){case 0:g=T(this,zn,Lh).call(this,h(this,Te),e,o,d,-p),m=T(this,zn,Lh).call(this,h(this,ti),e,o,d,-p);break;case 90:g=T(this,zn,Nh).call(this,h(this,Te),e,s,d,p),m=T(this,zn,Nh).call(this,h(this,ti),e,s,d,p);break;case 180:g=T(this,zn,Lh).call(this,h(this,Te),r,s,-d,p),m=T(this,zn,Lh).call(this,h(this,ti),r,s,-d,p);break;case 270:g=T(this,zn,Nh).call(this,h(this,Te),r,o,-d,-p),m=T(this,zn,Nh).call(this,h(this,ti),r,o,-d,-p);break}return{outline:Array.from(g),points:[Array.from(m)]}}get box(){return h(this,Yo)}newOutliner(e,s,r,o,c,d=0){return new gg(e,s,r,o,c,d)}getNewOutline(e,s){const{x:r,y:o,width:c,height:d}=h(this,Yo),[p,g,m,y]=h(this,Wc),v=c*m,S=d*y,A=r*m+p,w=o*y+g,M=this.newOutliner({x:h(this,ti)[0]*v+A,y:h(this,ti)[1]*S+w},h(this,Wc),h(this,Vd),e,h(this,Gd),s??h(this,ca));for(let R=2;R<h(this,ti).length;R+=2)M.add({x:h(this,ti)[R]*v+A,y:h(this,ti)[R+1]*S+w});return M.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Wc=new WeakMap,Yo=new WeakMap,ca=new WeakMap,Gd=new WeakMap,ti=new WeakMap,Vd=new WeakMap,Te=new WeakMap,zn=new WeakSet,Lh=function(e,s,r,o,c){const d=new Float64Array(e.length);for(let p=0,g=e.length;p<g;p+=2)d[p]=s+e[p]*o,d[p+1]=r+e[p+1]*c;return d},Nh=function(e,s,r,o,c){const d=new Float64Array(e.length);for(let p=0,g=e.length;p<g;p+=2)d[p]=s+e[p+1]*o,d[p+1]=r+e[p]*c;return d},fT=function(e){const s=h(this,Te);let r=s[4],o=s[5],c=r,d=o,p=r,g=o,m=r,y=o;const v=e?Math.max:Math.min;for(let R=6,P=s.length;R<P;R+=6){if(isNaN(s[R]))c=Math.min(c,s[R+4]),d=Math.min(d,s[R+5]),p=Math.max(p,s[R+4]),g=Math.max(g,s[R+5]),y<s[R+5]?(m=s[R+4],y=s[R+5]):y===s[R+5]&&(m=v(m,s[R+4]));else{const O=bt.bezierBoundingBox(r,o,...s.slice(R,R+6));c=Math.min(c,O[0]),d=Math.min(d,O[1]),p=Math.max(p,O[2]),g=Math.max(g,O[3]),y<O[3]?(m=O[2],y=O[3]):y===O[3]&&(m=v(m,O[2]))}r=s[R+4],o=s[R+5]}const S=c-h(this,ca),A=d-h(this,ca),w=p-c+2*h(this,ca),M=g-d+2*h(this,ca);E(this,Yo,{x:S,y:A,width:w,height:M,lastPoint:[m,y]})};var Xd,br,Xi,Rn,pT,Qp,gT,mT,O0;class JE{constructor(t,e=0,s=0,r=!0){x(this,Rn);x(this,Xd);x(this,br,[]);x(this,Xi,[]);let o=1/0,c=-1/0,d=1/0,p=-1/0;const g=10**-4;for(const{x:M,y:R,width:P,height:O}of t){const N=Math.floor((M-e)/g)*g,F=Math.ceil((M+P+e)/g)*g,B=Math.floor((R-e)/g)*g,z=Math.ceil((R+O+e)/g)*g,V=[N,B,z,!0],G=[F,B,z,!1];h(this,br).push(V,G),o=Math.min(o,N),c=Math.max(c,F),d=Math.min(d,B),p=Math.max(p,z)}const m=c-o+2*s,y=p-d+2*s,v=o-s,S=d-s,A=h(this,br).at(r?-1:-2),w=[A[0],A[2]];for(const M of h(this,br)){const[R,P,O]=M;M[0]=(R-v)/m,M[1]=(P-S)/y,M[2]=(O-S)/y}E(this,Xd,{x:v,y:S,width:m,height:y,lastPoint:w})}getOutlines(){h(this,br).sort((e,s)=>e[0]-s[0]||e[1]-s[1]||e[2]-s[2]);const t=[];for(const e of h(this,br))e[3]?(t.push(...T(this,Rn,O0).call(this,e)),T(this,Rn,gT).call(this,e)):(T(this,Rn,mT).call(this,e),t.push(...T(this,Rn,O0).call(this,e)));return T(this,Rn,pT).call(this,t)}}Xd=new WeakMap,br=new WeakMap,Xi=new WeakMap,Rn=new WeakSet,pT=function(t){const e=[],s=new Set;for(const c of t){const[d,p,g]=c;e.push([d,p,c],[d,g,c])}e.sort((c,d)=>c[1]-d[1]||c[0]-d[0]);for(let c=0,d=e.length;c<d;c+=2){const p=e[c][2],g=e[c+1][2];p.push(g),g.push(p),s.add(p),s.add(g)}const r=[];let o;for(;s.size>0;){const c=s.values().next().value;let[d,p,g,m,y]=c;s.delete(c);let v=d,S=p;for(o=[d,g],r.push(o);;){let A;if(s.has(m))A=m;else if(s.has(y))A=y;else break;s.delete(A),[d,p,g,m,y]=A,v!==d&&(o.push(v,S,d,S===p?p:g),v=d),S=S===p?g:p}o.push(v,S)}return new CD(r,h(this,Xd))},Qp=function(t){const e=h(this,Xi);let s=0,r=e.length-1;for(;s<=r;){const o=s+r>>1,c=e[o][0];if(c===t)return o;c<t?s=o+1:r=o-1}return r+1},gT=function([,t,e]){const s=T(this,Rn,Qp).call(this,t);h(this,Xi).splice(s,0,[t,e])},mT=function([,t,e]){const s=T(this,Rn,Qp).call(this,t);for(let r=s;r<h(this,Xi).length;r++){const[o,c]=h(this,Xi)[r];if(o!==t)break;if(o===t&&c===e){h(this,Xi).splice(r,1);return}}for(let r=s-1;r>=0;r--){const[o,c]=h(this,Xi)[r];if(o!==t)break;if(o===t&&c===e){h(this,Xi).splice(r,1);return}}},O0=function(t){const[e,s,r]=t,o=[[e,s,r]],c=T(this,Rn,Qp).call(this,r);for(let d=0;d<c;d++){const[p,g]=h(this,Xi)[d];for(let m=0,y=o.length;m<y;m++){const[,v,S]=o[m];if(!(g<=v||S<=p)){if(v>=p){if(S>g)o[m][1]=g;else{if(y===1)return[];o.splice(m,1),m--,y--}continue}o[m][2]=p,S>g&&o.push([e,g,S])}}}return o};var Yd,Qc;class CD extends aT{constructor(e,s){super();x(this,Yd);x(this,Qc);E(this,Qc,e),E(this,Yd,s)}toSVGPath(){const e=[];for(const s of h(this,Qc)){let[r,o]=s;e.push(`M${r} ${o}`);for(let c=2;c<s.length;c+=2){const d=s[c],p=s[c+1];d===r?(e.push(`V${p}`),o=p):p===o&&(e.push(`H${d}`),r=d)}e.push("Z")}return e.join(" ")}serialize([e,s,r,o],c){const d=[],p=r-e,g=o-s;for(const m of h(this,Qc)){const y=new Array(m.length);for(let v=0;v<m.length;v+=2)y[v]=e+m[v]*p,y[v+1]=o-m[v+1]*g;d.push(y)}return d}get box(){return h(this,Yd)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Yd=new WeakMap,Qc=new WeakMap;class D0 extends gg{newFreeDrawOutline(t,e,s,r,o,c){return new RD(t,e,s,r,o,c)}get classNamesForDrawing(){return["highlight","free"]}}class RD extends dT{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,e,s,r,o,c=0){return new D0(t,e,s,r,o,c)}}var Yi,$o,Zc,He,$d,Jc,Kd,Wd,yr,$i,tu,Qd,ee,L0,N0,k0,no,bT,Wa;const kn=class kn{constructor({editor:t=null,uiManager:e=null}){x(this,ee);x(this,Yi,null);x(this,$o,null);x(this,Zc);x(this,He,null);x(this,$d,!1);x(this,Jc,!1);x(this,Kd,null);x(this,Wd);x(this,yr,null);x(this,$i,null);x(this,tu);var s;t?(E(this,Jc,!1),E(this,tu,xt.HIGHLIGHT_COLOR),E(this,Kd,t)):(E(this,Jc,!0),E(this,tu,xt.HIGHLIGHT_DEFAULT_COLOR)),E(this,$i,(t==null?void 0:t._uiManager)||e),E(this,Wd,h(this,$i)._eventBus),E(this,Zc,(t==null?void 0:t.color)||((s=h(this,$i))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),h(kn,Qd)||E(kn,Qd,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return qt(this,"_keyboardManager",new lf([[["Escape","mac+Escape"],kn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],kn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],kn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],kn.prototype._moveToPrevious],[["Home","mac+Home"],kn.prototype._moveToBeginning],[["End","mac+End"],kn.prototype._moveToEnd]]))}renderButton(){const t=E(this,Yi,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=h(this,$i)._signal;t.addEventListener("click",T(this,ee,no).bind(this),{signal:e}),t.addEventListener("keydown",T(this,ee,k0).bind(this),{signal:e});const s=E(this,$o,document.createElement("span"));return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=h(this,Zc),t.append(s),t}renderMainDropdown(){const t=E(this,He,T(this,ee,L0).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===h(this,Yi)){T(this,ee,no).call(this,t);return}const e=t.target.getAttribute("data-color");e&&T(this,ee,N0).call(this,e,t)}_moveToNext(t){var e,s;if(!h(this,ee,Wa)){T(this,ee,no).call(this,t);return}if(t.target===h(this,Yi)){(e=h(this,He).firstChild)==null||e.focus();return}(s=t.target.nextSibling)==null||s.focus()}_moveToPrevious(t){var e,s;if(t.target===((e=h(this,He))==null?void 0:e.firstChild)||t.target===h(this,Yi)){h(this,ee,Wa)&&this._hideDropdownFromKeyboard();return}h(this,ee,Wa)||T(this,ee,no).call(this,t),(s=t.target.previousSibling)==null||s.focus()}_moveToBeginning(t){var e;if(!h(this,ee,Wa)){T(this,ee,no).call(this,t);return}(e=h(this,He).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!h(this,ee,Wa)){T(this,ee,no).call(this,t);return}(e=h(this,He).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=h(this,He))==null||t.classList.add("hidden"),(e=h(this,yr))==null||e.abort(),E(this,yr,null)}_hideDropdownFromKeyboard(){var t;if(!h(this,Jc)){if(!h(this,ee,Wa)){(t=h(this,Kd))==null||t.unselect();return}this.hideDropdown(),h(this,Yi).focus({preventScroll:!0,focusVisible:h(this,$d)})}}updateColor(t){if(h(this,$o)&&(h(this,$o).style.backgroundColor=t),!h(this,He))return;const e=h(this,$i).highlightColors.values();for(const s of h(this,He).children)s.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=h(this,Yi))==null||t.remove(),E(this,Yi,null),E(this,$o,null),(e=h(this,He))==null||e.remove(),E(this,He,null)}};Yi=new WeakMap,$o=new WeakMap,Zc=new WeakMap,He=new WeakMap,$d=new WeakMap,Jc=new WeakMap,Kd=new WeakMap,Wd=new WeakMap,yr=new WeakMap,$i=new WeakMap,tu=new WeakMap,Qd=new WeakMap,ee=new WeakSet,L0=function(){const t=document.createElement("div"),e=h(this,$i)._signal;t.addEventListener("contextmenu",Mi,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,r]of h(this,$i).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=s,o.setAttribute("data-l10n-id",h(kn,Qd)[s]);const c=document.createElement("span");o.append(c),c.className="swatch",c.style.backgroundColor=r,o.setAttribute("aria-selected",r===h(this,Zc)),o.addEventListener("click",T(this,ee,N0).bind(this,r),{signal:e}),t.append(o)}return t.addEventListener("keydown",T(this,ee,k0).bind(this),{signal:e}),t},N0=function(t,e){e.stopPropagation(),h(this,Wd).dispatch("switchannotationeditorparams",{source:this,type:h(this,tu),value:t})},k0=function(t){kn._keyboardManager.exec(this,t)},no=function(t){if(h(this,ee,Wa)){this.hideDropdown();return}if(E(this,$d,t.detail===0),h(this,yr)||(E(this,yr,new AbortController),window.addEventListener("pointerdown",T(this,ee,bT).bind(this),{signal:h(this,$i).combinedSignal(h(this,yr))})),h(this,He)){h(this,He).classList.remove("hidden");return}const e=E(this,He,T(this,ee,L0).call(this));h(this,Yi).append(e)},bT=function(t){var e;(e=h(this,He))!=null&&e.contains(t.target)||this.hideDropdown()},Wa=function(){return h(this,He)&&!h(this,He).classList.contains("hidden")},x(kn,Qd,null);let mg=kn;var eu,Zd,ua,Ko,nu,Ei,Jd,tf,Wo,Ki,gn,jn,iu,ha,ze,su,wi,ef,Ot,P0,Zp,yT,vT,AT,F0,io,Ci,rc,ST,Jp,kh,_T,ET,wT,TT,xT;const $t=class $t extends Zt{constructor(e){super({...e,name:"highlightEditor"});x(this,Ot);x(this,eu,null);x(this,Zd,0);x(this,ua);x(this,Ko,null);x(this,nu,null);x(this,Ei,null);x(this,Jd,null);x(this,tf,0);x(this,Wo,null);x(this,Ki,null);x(this,gn,null);x(this,jn,!1);x(this,iu,null);x(this,ha);x(this,ze,null);x(this,su,"");x(this,wi);x(this,ef,"");this.color=e.color||$t._defaultColor,E(this,wi,e.thickness||$t._defaultThickness),E(this,ha,e.opacity||$t._defaultOpacity),E(this,ua,e.boxes||null),E(this,ef,e.methodOfCreation||""),E(this,su,e.text||""),this._isDraggable=!1,e.highlightId>-1?(E(this,jn,!0),T(this,Ot,Zp).call(this,e),T(this,Ot,io).call(this)):h(this,ua)&&(E(this,eu,e.anchorNode),E(this,Zd,e.anchorOffset),E(this,Jd,e.focusNode),E(this,tf,e.focusOffset),T(this,Ot,P0).call(this),T(this,Ot,io).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=$t.prototype;return qt(this,"_keyboardManager",new lf([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:h(this,jn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:h(this,wi),methodOfCreation:h(this,ef)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,s){var r;Zt.initialize(e,s),$t._defaultColor||($t._defaultColor=((r=s.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(e,s){switch(e){case xt.HIGHLIGHT_DEFAULT_COLOR:$t._defaultColor=s;break;case xt.HIGHLIGHT_THICKNESS:$t._defaultThickness=s;break}}translateInPage(e,s){}get toolbarPosition(){return h(this,iu)}updateParams(e,s){switch(e){case xt.HIGHLIGHT_COLOR:T(this,Ot,yT).call(this,s);break;case xt.HIGHLIGHT_THICKNESS:T(this,Ot,vT).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[xt.HIGHLIGHT_DEFAULT_COLOR,$t._defaultColor],[xt.HIGHLIGHT_THICKNESS,$t._defaultThickness]]}get propertiesToUpdate(){return[[xt.HIGHLIGHT_COLOR,this.color||$t._defaultColor],[xt.HIGHLIGHT_THICKNESS,h(this,wi)||$t._defaultThickness],[xt.HIGHLIGHT_FREE,h(this,jn)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(E(this,nu,new mg({editor:this})),e.addColorPicker(h(this,nu))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(T(this,Ot,kh).call(this))}getBaseTranslation(){return[0,0]}getRect(e,s){return super.getRect(e,s,T(this,Ot,kh).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){T(this,Ot,F0).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(T(this,Ot,io).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let s=!1;this.parent&&!e?T(this,Ot,F0).call(this):e&&(T(this,Ot,io).call(this,e),s=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),s&&this.select()}rotate(e){var o,c,d;const{drawLayer:s}=this.parent;let r;h(this,jn)?(e=(e-this.rotation+360)%360,r=T(o=$t,Ci,rc).call(o,h(this,Ki).box,e)):r=T(c=$t,Ci,rc).call(c,this,e),s.rotate(h(this,gn),e),s.rotate(h(this,ze),e),s.updateBox(h(this,gn),r),s.updateBox(h(this,ze),T(d=$t,Ci,rc).call(d,h(this,Ei).box,e))}render(){if(this.div)return this.div;const e=super.render();h(this,su)&&(e.setAttribute("aria-label",h(this,su)),e.setAttribute("role","mark")),h(this,jn)?e.classList.add("free"):this.div.addEventListener("keydown",T(this,Ot,ST).bind(this),{signal:this._uiManager._signal});const s=E(this,Wo,document.createElement("div"));e.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=h(this,Ko);const[r,o]=this.parentDimensions;return this.setDims(this.width*r,this.height*o),fg(this,h(this,Wo),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(h(this,ze),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(h(this,ze),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:T(this,Ot,Jp).call(this,!0);break;case 1:case 3:T(this,Ot,Jp).call(this,!1);break}}select(){var e,s;super.select(),h(this,ze)&&((e=this.parent)==null||e.drawLayer.removeClass(h(this,ze),"hovered"),(s=this.parent)==null||s.drawLayer.addClass(h(this,ze),"selected"))}unselect(){var e;super.unselect(),h(this,ze)&&((e=this.parent)==null||e.drawLayer.removeClass(h(this,ze),"selected"),h(this,jn)||T(this,Ot,Jp).call(this,!1))}get _mustFixPosition(){return!h(this,jn)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(h(this,gn),e),this.parent.drawLayer.show(h(this,ze),e))}static startHighlighting(e,s,{target:r,x:o,y:c}){const{x:d,y:p,width:g,height:m}=r.getBoundingClientRect(),y=new AbortController,v=e.combinedSignal(y),S=w=>{w.preventDefault(),w.stopPropagation()},A=w=>{y.abort(),T(this,Ci,TT).call(this,e,w)};window.addEventListener("blur",A,{signal:v}),window.addEventListener("pointerup",A,{signal:v}),window.addEventListener("pointerdown",S,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",Mi,{signal:v}),r.addEventListener("pointermove",T(this,Ci,wT).bind(this,e),{signal:v}),this._freeHighlight=new D0({x:o,y:c},[d,p,g,m],e.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(e,s,r){var w,M,R,P;let o=null;if(e instanceof Q1){const{data:{quadPoints:O,rect:N,rotation:F,id:B,color:z,opacity:V,popupRef:G},parent:{page:{pageNumber:et}}}=e;o=e={annotationType:Nt.HIGHLIGHT,color:Array.from(z),opacity:V,quadPoints:O,boxes:null,pageIndex:et-1,rect:N.slice(0),rotation:F,id:B,deleted:!1,popupRef:G}}else if(e instanceof Sv){const{data:{inkLists:O,rect:N,rotation:F,id:B,color:z,borderStyle:{rawWidth:V},popupRef:G},parent:{page:{pageNumber:et}}}=e;o=e={annotationType:Nt.HIGHLIGHT,color:Array.from(z),thickness:V,inkLists:O,boxes:null,pageIndex:et-1,rect:N.slice(0),rotation:F,id:B,deleted:!1,popupRef:G}}const{color:c,quadPoints:d,inkLists:p,opacity:g}=e,m=await super.deserialize(e,s,r);m.color=bt.makeHexColor(...c),E(m,ha,g||1),p&&E(m,wi,e.thickness),m.annotationElementId=e.id||null,m._initialData=o;const[y,v]=m.pageDimensions,[S,A]=m.pageTranslation;if(d){const O=E(m,ua,[]);for(let N=0;N<d.length;N+=8)O.push({x:(d[N]-S)/y,y:1-(d[N+1]-A)/v,width:(d[N+2]-d[N])/y,height:(d[N+1]-d[N+5])/v});T(w=m,Ot,P0).call(w),T(M=m,Ot,io).call(M),m.rotate(m.rotation)}else if(p){E(m,jn,!0);const O=p[0],N={x:O[0]-S,y:v-(O[1]-A)},F=new D0(N,[0,0,y,v],1,h(m,wi)/2,!0,.001);for(let V=0,G=O.length;V<G;V+=2)N.x=O[V]-S,N.y=v-(O[V+1]-A),F.add(N);const{id:B,clipPathId:z}=s.drawLayer.draw(F,m.color,m._defaultOpacity,!0);T(R=m,Ot,Zp).call(R,{highlightOutlines:F.getOutlines(),highlightId:B,clipPathId:z}),T(P=m,Ot,io).call(P)}return m}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const s=this.getRect(0,0),r=Zt._colorManager.convert(this.color),o={annotationType:Nt.HIGHLIGHT,color:r,opacity:h(this,ha),thickness:h(this,wi),quadPoints:T(this,Ot,_T).call(this),outlines:T(this,Ot,ET).call(this,s),pageIndex:this.pageIndex,rect:s,rotation:T(this,Ot,kh).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!T(this,Ot,xT).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};eu=new WeakMap,Zd=new WeakMap,ua=new WeakMap,Ko=new WeakMap,nu=new WeakMap,Ei=new WeakMap,Jd=new WeakMap,tf=new WeakMap,Wo=new WeakMap,Ki=new WeakMap,gn=new WeakMap,jn=new WeakMap,iu=new WeakMap,ha=new WeakMap,ze=new WeakMap,su=new WeakMap,wi=new WeakMap,ef=new WeakMap,Ot=new WeakSet,P0=function(){const e=new JE(h(this,ua),.001);E(this,Ki,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=h(this,Ki).box;const s=new JE(h(this,ua),.0025,.001,this._uiManager.direction==="ltr");E(this,Ei,s.getOutlines());const{lastPoint:r}=h(this,Ei).box;E(this,iu,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},Zp=function({highlightOutlines:e,highlightId:s,clipPathId:r}){var y,v;if(E(this,Ki,e),E(this,Ei,e.getNewOutline(h(this,wi)/2+1.5,.0025)),s>=0)E(this,gn,s),E(this,Ko,r),this.parent.drawLayer.finalizeLine(s,e),E(this,ze,this.parent.drawLayer.drawOutline(h(this,Ei)));else if(this.parent){const S=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(h(this,gn),e),this.parent.drawLayer.updateBox(h(this,gn),T(y=$t,Ci,rc).call(y,h(this,Ki).box,(S-this.rotation+360)%360)),this.parent.drawLayer.updateLine(h(this,ze),h(this,Ei)),this.parent.drawLayer.updateBox(h(this,ze),T(v=$t,Ci,rc).call(v,h(this,Ei).box,S))}const{x:c,y:d,width:p,height:g}=e.box;switch(this.rotation){case 0:this.x=c,this.y=d,this.width=p,this.height=g;break;case 90:{const[S,A]=this.parentDimensions;this.x=d,this.y=1-c,this.width=p*A/S,this.height=g*S/A;break}case 180:this.x=1-c,this.y=1-d,this.width=p,this.height=g;break;case 270:{const[S,A]=this.parentDimensions;this.x=1-d,this.y=c,this.width=p*A/S,this.height=g*S/A;break}}const{lastPoint:m}=h(this,Ei).box;E(this,iu,[(m[0]-c)/p,(m[1]-d)/g])},yT=function(e){const s=(c,d)=>{var p,g,m;this.color=c,(p=this.parent)==null||p.drawLayer.changeColor(h(this,gn),c),(g=h(this,nu))==null||g.updateColor(c),E(this,ha,d),(m=this.parent)==null||m.drawLayer.changeOpacity(h(this,gn),d)},r=this.color,o=h(this,ha);this.addCommands({cmd:s.bind(this,e,$t._defaultOpacity),undo:s.bind(this,r,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},vT=function(e){const s=h(this,wi),r=o=>{E(this,wi,o),T(this,Ot,AT).call(this,o)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},AT=function(e){if(!h(this,jn))return;T(this,Ot,Zp).call(this,{highlightOutlines:h(this,Ki).getNewOutline(e/2)}),this.fixAndSetPosition();const[s,r]=this.parentDimensions;this.setDims(this.width*s,this.height*r)},F0=function(){h(this,gn)===null||!this.parent||(this.parent.drawLayer.remove(h(this,gn)),E(this,gn,null),this.parent.drawLayer.remove(h(this,ze)),E(this,ze,null))},io=function(e=this.parent){h(this,gn)===null&&({id:_n(this,gn)._,clipPathId:_n(this,Ko)._}=e.drawLayer.draw(h(this,Ki),this.color,h(this,ha)),E(this,ze,e.drawLayer.drawOutline(h(this,Ei))),h(this,Wo)&&(h(this,Wo).style.clipPath=h(this,Ko)))},Ci=new WeakSet,rc=function({x:e,y:s,width:r,height:o},c){switch(c){case 90:return{x:1-s-o,y:e,width:o,height:r};case 180:return{x:1-e-r,y:1-s-o,width:r,height:o};case 270:return{x:s,y:1-e-r,width:o,height:r}}return{x:e,y:s,width:r,height:o}},ST=function(e){$t._keyboardManager.exec(this,e)},Jp=function(e){if(!h(this,eu))return;const s=window.getSelection();e?s.setPosition(h(this,eu),h(this,Zd)):s.setPosition(h(this,Jd),h(this,tf))},kh=function(){return h(this,jn)?this.rotation:0},_T=function(){if(h(this,jn))return null;const[e,s]=this.pageDimensions,[r,o]=this.pageTranslation,c=h(this,ua),d=new Float32Array(c.length*8);let p=0;for(const{x:g,y:m,width:y,height:v}of c){const S=g*e+r,A=(1-m-v)*s+o;d[p]=d[p+4]=S,d[p+1]=d[p+3]=A,d[p+2]=d[p+6]=S+y*e,d[p+5]=d[p+7]=A+v*s,p+=8}return d},ET=function(e){return h(this,Ki).serialize(e,T(this,Ot,kh).call(this))},wT=function(e,s){this._freeHighlight.add(s)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},TT=function(e,s){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},xT=function(e){const{color:s}=this._initialData;return e.color.some((r,o)=>r!==s[o])},x($t,Ci),Tt($t,"_defaultColor",null),Tt($t,"_defaultOpacity",1),Tt($t,"_defaultThickness",12),Tt($t,"_type","highlight"),Tt($t,"_editorType",Nt.HIGHLIGHT),Tt($t,"_freeHighlightId",-1),Tt($t,"_freeHighlight",null),Tt($t,"_freeHighlightClipId","");let bg=$t;var Qo,Zo,As,da,Ti,Jo,tl,el,fa,au,nl,il,vr,ot,CT,RT,MT,OT,H0,DT,z0,LT,NT,kT,PT,FT,so,U0,B0,I0,tg,eg,oc,q0,ng,wa,jT,G0,HT,zT,V0,ig,Ph;const pe=class pe extends Zt{constructor(e){super({...e,name:"inkEditor"});x(this,ot);x(this,Qo,0);x(this,Zo,0);x(this,As,null);x(this,da,new Path2D);x(this,Ti,!1);x(this,Jo,null);x(this,tl,!1);x(this,el,!1);x(this,fa,null);x(this,au,null);x(this,nl,0);x(this,il,0);x(this,vr,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,s){Zt.initialize(e,s)}static updateDefaultParams(e,s){switch(e){case xt.INK_THICKNESS:pe._defaultThickness=s;break;case xt.INK_COLOR:pe._defaultColor=s;break;case xt.INK_OPACITY:pe._defaultOpacity=s/100;break}}updateParams(e,s){switch(e){case xt.INK_THICKNESS:T(this,ot,CT).call(this,s);break;case xt.INK_COLOR:T(this,ot,RT).call(this,s);break;case xt.INK_OPACITY:T(this,ot,MT).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[xt.INK_THICKNESS,pe._defaultThickness],[xt.INK_COLOR,pe._defaultColor||Zt._defaultLineColor],[xt.INK_OPACITY,Math.round(pe._defaultOpacity*100)]]}get propertiesToUpdate(){return[[xt.INK_THICKNESS,this.thickness||pe._defaultThickness],[xt.INK_COLOR,this.color||pe._defaultColor||Zt._defaultLineColor],[xt.INK_OPACITY,Math.round(100*(this.opacity??pe._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(T(this,ot,tg).call(this),T(this,ot,eg).call(this)),this.isAttachedToDOM||(this.parent.add(this),T(this,ot,oc).call(this)),T(this,ot,Ph).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,h(this,As)&&(clearTimeout(h(this,As)),E(this,As,null)),(e=h(this,fa))==null||e.disconnect(),E(this,fa,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,s]=this.parentDimensions,r=this.width*e,o=this.height*s;this.setDimensions(r,o)}enableEditMode(){h(this,Ti)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,T(this,ot,U0).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),T(this,ot,B0).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){h(this,Ti)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),E(this,Ti,!0),this.div.classList.add("disabled"),T(this,ot,Ph).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||h(this,Ti)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),T(this,ot,DT).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),T(this,ot,z0).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),T(this,ot,I0).call(this,e)}canvasPointerleave(e){T(this,ot,I0).call(this,e)}get isResizable(){return!this.isEmpty()&&h(this,Ti)}render(){if(this.div)return this.div;let e,s;this.width&&(e=this.x,s=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,o,c,d]=T(this,ot,OT).call(this);if(this.setAt(r,o,0,0),this.setDims(c,d),T(this,ot,tg).call(this),this.width){const[p,g]=this.parentDimensions;this.setAspectRatio(this.width*p,this.height*g),this.setAt(e*p,s*g,this.width*p,this.height*g),E(this,el,!0),T(this,ot,oc).call(this),this.setDims(this.width*p,this.height*g),T(this,ot,so).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return T(this,ot,eg).call(this),this.div}setDimensions(e,s){const r=Math.round(e),o=Math.round(s);if(h(this,nl)===r&&h(this,il)===o)return;E(this,nl,r),E(this,il,o),this.canvas.style.visibility="hidden";const[c,d]=this.parentDimensions;this.width=e/c,this.height=s/d,this.fixAndSetPosition(),h(this,Ti)&&T(this,ot,q0).call(this,e,s),T(this,ot,oc).call(this),T(this,ot,so).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,s,r){var M,R,P;if(e instanceof Sv)return null;const o=await super.deserialize(e,s,r);o.thickness=e.thickness,o.color=bt.makeHexColor(...e.color),o.opacity=e.opacity;const[c,d]=o.pageDimensions,p=o.width*c,g=o.height*d,m=o.parentScale,y=e.thickness/2;E(o,Ti,!0),E(o,nl,Math.round(p)),E(o,il,Math.round(g));const{paths:v,rect:S,rotation:A}=e;for(let{bezier:O}of v){O=T(M=pe,wa,HT).call(M,O,S,A);const N=[];o.paths.push(N);let F=m*(O[0]-y),B=m*(O[1]-y);for(let V=2,G=O.length;V<G;V+=6){const et=m*(O[V]-y),it=m*(O[V+1]-y),dt=m*(O[V+2]-y),ut=m*(O[V+3]-y),ct=m*(O[V+4]-y),ft=m*(O[V+5]-y);N.push([[F,B],[et,it],[dt,ut],[ct,ft]]),F=ct,B=ft}const z=T(this,wa,jT).call(this,N);o.bezierPath2D.push(z)}const w=T(R=o,ot,V0).call(R);return E(o,Zo,Math.max(Zt.MIN_SIZE,w[2]-w[0])),E(o,Qo,Math.max(Zt.MIN_SIZE,w[3]-w[1])),T(P=o,ot,q0).call(P,p,g),o}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),s=Zt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Nt.INK,color:s,thickness:this.thickness,opacity:this.opacity,paths:T(this,ot,zT).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Qo=new WeakMap,Zo=new WeakMap,As=new WeakMap,da=new WeakMap,Ti=new WeakMap,Jo=new WeakMap,tl=new WeakMap,el=new WeakMap,fa=new WeakMap,au=new WeakMap,nl=new WeakMap,il=new WeakMap,vr=new WeakMap,ot=new WeakSet,CT=function(e){const s=o=>{this.thickness=o,T(this,ot,Ph).call(this)},r=this.thickness;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},RT=function(e){const s=o=>{this.color=o,T(this,ot,so).call(this)},r=this.color;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},MT=function(e){const s=o=>{this.opacity=o,T(this,ot,so).call(this)};e/=100;const r=this.opacity;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:xt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},OT=function(){const{parentRotation:e,parentDimensions:[s,r]}=this;switch(e){case 90:return[0,r,r,s];case 180:return[s,r,s,r];case 270:return[s,0,r,s];default:return[0,0,s,r]}},H0=function(){const{ctx:e,color:s,opacity:r,thickness:o,parentScale:c,scaleFactor:d}=this;e.lineWidth=o*c/d,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${s}${W2(r)}`},DT=function(e,s){this.canvas.addEventListener("contextmenu",Mi,{signal:this._uiManager._signal}),T(this,ot,B0).call(this),E(this,Jo,new AbortController);const r=this._uiManager.combinedSignal(h(this,Jo));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,h(this,el)||(E(this,el,!0),T(this,ot,oc).call(this),this.thickness||(this.thickness=pe._defaultThickness),this.color||(this.color=pe._defaultColor||Zt._defaultLineColor),this.opacity??(this.opacity=pe._defaultOpacity)),this.currentPath.push([e,s]),E(this,tl,!1),T(this,ot,H0).call(this),E(this,vr,()=>{T(this,ot,kT).call(this),h(this,vr)&&window.requestAnimationFrame(h(this,vr))}),window.requestAnimationFrame(h(this,vr))},z0=function(e,s){const[r,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===r&&s===o)return;const c=this.currentPath;let d=h(this,da);if(c.push([e,s]),E(this,tl,!0),c.length<=2){d.moveTo(...c[0]),d.lineTo(e,s);return}c.length===3&&(E(this,da,d=new Path2D),d.moveTo(...c[0])),T(this,ot,PT).call(this,d,...c.at(-3),...c.at(-2),e,s)},LT=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);h(this,da).lineTo(...e)},NT=function(e,s){E(this,vr,null),e=Math.min(Math.max(e,0),this.canvas.width),s=Math.min(Math.max(s,0),this.canvas.height),T(this,ot,z0).call(this,e,s),T(this,ot,LT).call(this);let r;if(this.currentPath.length!==1)r=T(this,ot,FT).call(this);else{const g=[e,s];r=[[g,g.slice(),g.slice(),g]]}const o=h(this,da),c=this.currentPath;this.currentPath=[],E(this,da,new Path2D);const d=()=>{this.allRawPaths.push(c),this.paths.push(r),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},p=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(T(this,ot,tg).call(this),T(this,ot,eg).call(this)),T(this,ot,Ph).call(this))};this.addCommands({cmd:d,undo:p,mustExec:!0})},kT=function(){if(!h(this,tl))return;E(this,tl,!1);const e=Math.ceil(this.thickness*this.parentScale),s=this.currentPath.slice(-3),r=s.map(d=>d[0]),o=s.map(d=>d[1]);Math.min(...r)-e,Math.max(...r)+e,Math.min(...o)-e,Math.max(...o)+e;const{ctx:c}=this;c.save(),c.clearRect(0,0,this.canvas.width,this.canvas.height);for(const d of this.bezierPath2D)c.stroke(d);c.stroke(h(this,da)),c.restore()},PT=function(e,s,r,o,c,d,p){const g=(s+o)/2,m=(r+c)/2,y=(o+d)/2,v=(c+p)/2;e.bezierCurveTo(g+2*(o-g)/3,m+2*(c-m)/3,y+2*(o-y)/3,v+2*(c-v)/3,y,v)},FT=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const s=[];let r,[o,c]=e[0];for(r=1;r<e.length-2;r++){const[S,A]=e[r],[w,M]=e[r+1],R=(S+w)/2,P=(A+M)/2,O=[o+2*(S-o)/3,c+2*(A-c)/3],N=[R+2*(S-R)/3,P+2*(A-P)/3];s.push([[o,c],O,N,[R,P]]),[o,c]=[R,P]}const[d,p]=e[r],[g,m]=e[r+1],y=[o+2*(d-o)/3,c+2*(p-c)/3],v=[g+2*(d-g)/3,m+2*(p-m)/3];return s.push([[o,c],y,v,[g,m]]),s},so=function(){if(this.isEmpty()){T(this,ot,ng).call(this);return}T(this,ot,H0).call(this);const{canvas:e,ctx:s}=this;s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,e.width,e.height),T(this,ot,ng).call(this);for(const r of this.bezierPath2D)s.stroke(r)},U0=function(){if(h(this,au))return;E(this,au,new AbortController);const e=this._uiManager.combinedSignal(h(this,au));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})},B0=function(){var e;(e=this.pointerdownAC)==null||e.abort(),this.pointerdownAC=null},I0=function(e){var s;(s=h(this,Jo))==null||s.abort(),E(this,Jo,null),T(this,ot,U0).call(this),h(this,As)&&clearTimeout(h(this,As)),E(this,As,setTimeout(()=>{E(this,As,null),this.canvas.removeEventListener("contextmenu",Mi)},10)),T(this,ot,NT).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},tg=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},eg=function(){E(this,fa,new ResizeObserver(e=>{const s=e[0].contentRect;s.width&&s.height&&this.setDimensions(s.width,s.height)})),h(this,fa).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=h(this,fa))==null||e.disconnect(),E(this,fa,null)},{once:!0})},oc=function(){if(!h(this,el))return;const[e,s]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*s),T(this,ot,ng).call(this)},q0=function(e,s){const r=T(this,ot,ig).call(this),o=(e-r)/h(this,Zo),c=(s-r)/h(this,Qo);this.scaleFactor=Math.min(o,c)},ng=function(){const e=T(this,ot,ig).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},wa=new WeakSet,jT=function(e){const s=new Path2D;for(let r=0,o=e.length;r<o;r++){const[c,d,p,g]=e[r];r===0&&s.moveTo(...c),s.bezierCurveTo(d[0],d[1],p[0],p[1],g[0],g[1])}return s},G0=function(e,s,r){const[o,c,d,p]=s;switch(r){case 0:for(let g=0,m=e.length;g<m;g+=2)e[g]+=o,e[g+1]=p-e[g+1];break;case 90:for(let g=0,m=e.length;g<m;g+=2){const y=e[g];e[g]=e[g+1]+o,e[g+1]=y+c}break;case 180:for(let g=0,m=e.length;g<m;g+=2)e[g]=d-e[g],e[g+1]+=c;break;case 270:for(let g=0,m=e.length;g<m;g+=2){const y=e[g];e[g]=d-e[g+1],e[g+1]=p-y}break;default:throw new Error("Invalid rotation")}return e},HT=function(e,s,r){const[o,c,d,p]=s;switch(r){case 0:for(let g=0,m=e.length;g<m;g+=2)e[g]-=o,e[g+1]=p-e[g+1];break;case 90:for(let g=0,m=e.length;g<m;g+=2){const y=e[g];e[g]=e[g+1]-c,e[g+1]=y-o}break;case 180:for(let g=0,m=e.length;g<m;g+=2)e[g]=d-e[g],e[g+1]-=c;break;case 270:for(let g=0,m=e.length;g<m;g+=2){const y=e[g];e[g]=p-e[g+1],e[g+1]=d-y}break;default:throw new Error("Invalid rotation")}return e},zT=function(e,s,r,o){var m,y;const c=[],d=this.thickness/2,p=e*s+d,g=e*r+d;for(const v of this.paths){const S=[],A=[];for(let w=0,M=v.length;w<M;w++){const[R,P,O,N]=v[w];if(R[0]===N[0]&&R[1]===N[1]&&M===1){const ut=e*R[0]+p,ct=e*R[1]+g;S.push(ut,ct),A.push(ut,ct);break}const F=e*R[0]+p,B=e*R[1]+g,z=e*P[0]+p,V=e*P[1]+g,G=e*O[0]+p,et=e*O[1]+g,it=e*N[0]+p,dt=e*N[1]+g;w===0&&(S.push(F,B),A.push(F,B)),S.push(z,V,G,et,it,dt),A.push(z,V),w===M-1&&A.push(it,dt)}c.push({bezier:T(m=pe,wa,G0).call(m,S,o,this.rotation),points:T(y=pe,wa,G0).call(y,A,o,this.rotation)})}return c},V0=function(){let e=1/0,s=-1/0,r=1/0,o=-1/0;for(const c of this.paths)for(const[d,p,g,m]of c){const y=bt.bezierBoundingBox(...d,...p,...g,...m);e=Math.min(e,y[0]),r=Math.min(r,y[1]),s=Math.max(s,y[2]),o=Math.max(o,y[3])}return[e,r,s,o]},ig=function(){return h(this,Ti)?Math.ceil(this.thickness*this.parentScale):0},Ph=function(e=!1){if(this.isEmpty())return;if(!h(this,Ti)){T(this,ot,so).call(this);return}const s=T(this,ot,V0).call(this),r=T(this,ot,ig).call(this);E(this,Zo,Math.max(Zt.MIN_SIZE,s[2]-s[0])),E(this,Qo,Math.max(Zt.MIN_SIZE,s[3]-s[1]));const o=Math.ceil(r+h(this,Zo)*this.scaleFactor),c=Math.ceil(r+h(this,Qo)*this.scaleFactor),[d,p]=this.parentDimensions;this.width=o/d,this.height=c/p,this.setAspectRatio(o,c);const g=this.translationX,m=this.translationY;this.translationX=-s[0],this.translationY=-s[1],T(this,ot,oc).call(this),T(this,ot,so).call(this),E(this,nl,o),E(this,il,c),this.setDims(o,c);const y=e?r/this.scaleFactor/2:0;this.translate(g-this.translationX-y,m-this.translationY-y)},x(pe,wa),Tt(pe,"_defaultColor",null),Tt(pe,"_defaultOpacity",1),Tt(pe,"_defaultThickness",1),Tt(pe,"_type","ink"),Tt(pe,"_editorType",Nt.INK);let j0=pe;var me,an,Ar,pa,Sr,ru,Ss,ga,_s,ei,ou,Ut,Fh,jh,sg,Y0,UT,ag,$0,rg,BT,IT;const Uh=class Uh extends Zt{constructor(e){super({...e,name:"stampEditor"});x(this,Ut);x(this,me,null);x(this,an,null);x(this,Ar,null);x(this,pa,null);x(this,Sr,null);x(this,ru,"");x(this,Ss,null);x(this,ga,null);x(this,_s,null);x(this,ei,!1);x(this,ou,!1);E(this,pa,e.bitmapUrl),E(this,Sr,e.bitmapFile)}static initialize(e,s){Zt.initialize(e,s)}static get supportedTypes(){return qt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(s=>`image/${s}`))}static get supportedTypesStr(){return qt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,s){s.pasteEditor(Nt.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const s=e.get("hasAltText");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}async mlGuessAltText(e=null,s=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:c,height:d}=e||this.copyCanvas(null,null,!0).imageData,p=await r.guess({name:"altText",request:{data:o,width:c,height:d,channels:o.length/(c*d)}});if(!p)throw new Error("No response from the AI service.");if(p.error)throw new Error("Error from the AI service.");if(p.cancel)return null;if(!p.output)throw new Error("No valid response from the AI service.");const g=p.output;return await this.setGuessedAltText(g),s&&!this.hasAltTextData()&&(this.altTextData={alt:g,decorative:!1}),g}remove(){var e,s;h(this,an)&&(E(this,me,null),this._uiManager.imageManager.deleteId(h(this,an)),(e=h(this,Ss))==null||e.remove(),E(this,Ss,null),(s=h(this,ga))==null||s.disconnect(),E(this,ga,null),h(this,_s)&&(clearTimeout(h(this,_s)),E(this,_s,null))),super.remove()}rebuild(){if(!this.parent){h(this,an)&&T(this,Ut,sg).call(this);return}super.rebuild(),this.div!==null&&(h(this,an)&&h(this,Ss)===null&&T(this,Ut,sg).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(h(this,Ar)||h(this,me)||h(this,pa)||h(this,Sr)||h(this,an))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,s;if(this.width&&(e=this.x,s=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),h(this,me)?T(this,Ut,Y0).call(this):T(this,Ut,sg).call(this),this.width&&!this.annotationElementId){const[r,o]=this.parentDimensions;this.setAt(e*r,s*o,this.width*r,this.height*o)}return this.div}copyCanvas(e,s,r=!1){var S;e||(e=224);const{width:o,height:c}=h(this,me),d=new Iy;let p=h(this,me),g=o,m=c,y=null;if(s){if(o>s||c>s){const V=Math.min(s/o,s/c);g=Math.floor(o*V),m=Math.floor(c*V)}y=document.createElement("canvas");const A=y.width=Math.ceil(g*d.sx),w=y.height=Math.ceil(m*d.sy);h(this,ei)||(p=T(this,Ut,ag).call(this,A,w));const M=y.getContext("2d");M.filter=this._uiManager.hcmFilter;let R="white",P="#cfcfd8";this._uiManager.hcmFilter!=="none"?P="black":(S=window.matchMedia)!=null&&S.call(window,"(prefers-color-scheme: dark)").matches&&(R="#8f8f9d",P="#42414d");const O=15,N=O*d.sx,F=O*d.sy,B=new OffscreenCanvas(N*2,F*2),z=B.getContext("2d");z.fillStyle=R,z.fillRect(0,0,N*2,F*2),z.fillStyle=P,z.fillRect(0,0,N,F),z.fillRect(N,F,N,F),M.fillStyle=M.createPattern(B,"repeat"),M.fillRect(0,0,A,w),M.drawImage(p,0,0,p.width,p.height,0,0,A,w)}let v=null;if(r){let A,w;if(d.symmetric&&p.width<e&&p.height<e)A=p.width,w=p.height;else if(p=h(this,me),o>e||c>e){const P=Math.min(e/o,e/c);A=Math.floor(o*P),w=Math.floor(c*P),h(this,ei)||(p=T(this,Ut,ag).call(this,A,w))}const R=new OffscreenCanvas(A,w).getContext("2d",{willReadFrequently:!0});R.drawImage(p,0,0,p.width,p.height,0,0,A,w),v={width:A,height:w,data:R.getImageData(0,0,A,w).data}}return{canvas:y,width:g,height:m,imageData:v}}getImageForAltText(){return h(this,Ss)}static async deserialize(e,s,r){var w;let o=null;if(e instanceof Z1){const{data:{rect:M,rotation:R,id:P,structParent:O,popupRef:N},container:F,parent:{page:{pageNumber:B}}}=e,z=F.querySelector("canvas"),V=r.imageManager.getFromCanvas(F.id,z);z.remove();const G=((w=await s._structTree.getAriaAttributes(`${uv}${P}`))==null?void 0:w.get("aria-label"))||"";o=e={annotationType:Nt.STAMP,bitmapId:V.id,bitmap:V.bitmap,pageIndex:B-1,rect:M.slice(0),rotation:R,id:P,deleted:!1,accessibilityData:{decorative:!1,altText:G},isSvg:!1,structParent:O,popupRef:N}}const c=await super.deserialize(e,s,r),{rect:d,bitmap:p,bitmapUrl:g,bitmapId:m,isSvg:y,accessibilityData:v}=e;m&&r.imageManager.isValidId(m)?(E(c,an,m),p&&E(c,me,p)):E(c,pa,g),E(c,ei,y);const[S,A]=c.pageDimensions;return c.width=(d[2]-d[0])/S,c.height=(d[3]-d[1])/A,c.annotationElementId=e.id||null,v&&(c.altTextData=v),c._initialData=o,E(c,ou,!!o),c}serialize(e=!1,s=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Nt.STAMP,bitmapId:h(this,an),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:h(this,ei),structTreeParentId:this._structTreeParentId};if(e)return r.bitmapUrl=T(this,Ut,rg).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:o,altText:c}=this.serializeAltText(!1);if(!o&&c&&(r.accessibilityData={type:"Figure",alt:c}),this.annotationElementId){const p=T(this,Ut,IT).call(this,r);if(p.isSame)return null;p.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,s===null)return r;s.stamps||(s.stamps=new Map);const d=h(this,ei)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!s.stamps.has(h(this,an)))s.stamps.set(h(this,an),{area:d,serialized:r}),r.bitmap=T(this,Ut,rg).call(this,!1);else if(h(this,ei)){const p=s.stamps.get(h(this,an));d>p.area&&(p.area=d,p.serialized.bitmap.close(),p.serialized.bitmap=T(this,Ut,rg).call(this,!1))}return r}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};me=new WeakMap,an=new WeakMap,Ar=new WeakMap,pa=new WeakMap,Sr=new WeakMap,ru=new WeakMap,Ss=new WeakMap,ga=new WeakMap,_s=new WeakMap,ei=new WeakMap,ou=new WeakMap,Ut=new WeakSet,Fh=function(e,s=!1){if(!e){this.remove();return}E(this,me,e.bitmap),s||(E(this,an,e.id),E(this,ei,e.isSvg)),e.file&&E(this,ru,e.file.name),T(this,Ut,Y0).call(this)},jh=function(){if(E(this,Ar,null),this._uiManager.enableWaiting(!1),!!h(this,Ss)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,me)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,me)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},sg=function(){if(h(this,an)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(h(this,an)).then(r=>T(this,Ut,Fh).call(this,r,!0)).finally(()=>T(this,Ut,jh).call(this));return}if(h(this,pa)){const r=h(this,pa);E(this,pa,null),this._uiManager.enableWaiting(!0),E(this,Ar,this._uiManager.imageManager.getFromUrl(r).then(o=>T(this,Ut,Fh).call(this,o)).finally(()=>T(this,Ut,jh).call(this)));return}if(h(this,Sr)){const r=h(this,Sr);E(this,Sr,null),this._uiManager.enableWaiting(!0),E(this,Ar,this._uiManager.imageManager.getFromFile(r).then(o=>T(this,Ut,Fh).call(this,o)).finally(()=>T(this,Ut,jh).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=Uh.supportedTypesStr;const s=this._uiManager._signal;E(this,Ar,new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),T(this,Ut,Fh).call(this,o)}r()},{signal:s}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:s})}).finally(()=>T(this,Ut,jh).call(this))),e.click()},Y0=function(){const{div:e}=this;let{width:s,height:r}=h(this,me);const[o,c]=this.pageDimensions,d=.75;if(this.width)s=this.width*o,r=this.height*c;else if(s>d*o||r>d*c){const y=Math.min(d*o/s,d*c/r);s*=y,r*=y}const[p,g]=this.parentDimensions;this.setDims(s*p/o,r*g/c),this._uiManager.enableWaiting(!1);const m=E(this,Ss,document.createElement("canvas"));m.setAttribute("role","img"),this.addContainer(m),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),T(this,Ut,$0).call(this,s,r),T(this,Ut,BT).call(this),h(this,ou)||(this.parent.addUndoableEditor(this),E(this,ou,!0)),this._reportTelemetry({action:"inserted_image"}),h(this,ru)&&m.setAttribute("aria-label",h(this,ru))},UT=function(e,s){var d;const[r,o]=this.parentDimensions;this.width=e/r,this.height=s/o,(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,h(this,_s)!==null&&clearTimeout(h(this,_s)),E(this,_s,setTimeout(()=>{E(this,_s,null),T(this,Ut,$0).call(this,e,s)},200))},ag=function(e,s){const{width:r,height:o}=h(this,me);let c=r,d=o,p=h(this,me);for(;c>2*e||d>2*s;){const g=c,m=d;c>2*e&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2)),d>2*s&&(d=d>=16384?Math.floor(d/2)-1:Math.ceil(d/2));const y=new OffscreenCanvas(c,d);y.getContext("2d").drawImage(p,0,0,g,m,0,0,c,d),p=y.transferToImageBitmap()}return p},$0=function(e,s){const r=new Iy,o=Math.ceil(e*r.sx),c=Math.ceil(s*r.sy),d=h(this,Ss);if(!d||d.width===o&&d.height===c)return;d.width=o,d.height=c;const p=h(this,ei)?h(this,me):T(this,Ut,ag).call(this,o,c),g=d.getContext("2d");g.filter=this._uiManager.hcmFilter,g.drawImage(p,0,0,p.width,p.height,0,0,o,c)},rg=function(e){if(e){if(h(this,ei)){const o=this._uiManager.imageManager.getSvgUrl(h(this,an));if(o)return o}const s=document.createElement("canvas");return{width:s.width,height:s.height}=h(this,me),s.getContext("2d").drawImage(h(this,me),0,0),s.toDataURL()}if(h(this,ei)){const[s,r]=this.pageDimensions,o=Math.round(this.width*s*Tr.PDF_TO_CSS_UNITS),c=Math.round(this.height*r*Tr.PDF_TO_CSS_UNITS),d=new OffscreenCanvas(o,c);return d.getContext("2d").drawImage(h(this,me),0,0,h(this,me).width,h(this,me).height,0,0,o,c),d.transferToImageBitmap()}return structuredClone(h(this,me))},BT=function(){this._uiManager._signal&&(E(this,ga,new ResizeObserver(e=>{const s=e[0].contentRect;s.width&&s.height&&T(this,Ut,UT).call(this,s.width,s.height)})),h(this,ga).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=h(this,ga))==null||e.disconnect(),E(this,ga,null)},{once:!0}))},IT=function(e){var g;const{rect:s,pageIndex:r,accessibilityData:{altText:o}}=this._initialData,c=e.rect.every((m,y)=>Math.abs(m-s[y])<1),d=e.pageIndex===r,p=(((g=e.accessibilityData)==null?void 0:g.alt)||"")===o;return{isSame:c&&d&&p,isSameAltText:p}},Tt(Uh,"_type","stamp"),Tt(Uh,"_editorType",Nt.STAMP);let X0=Uh;var sl,lu,Es,_r,ma,ni,Er,cu,uu,mn,ba,vt,wr,rn,qT,W0,Q0,Z0,og;const Pi=class Pi{constructor({uiManager:t,pageIndex:e,div:s,structTreeLayer:r,accessibilityManager:o,annotationLayer:c,drawLayer:d,textLayer:p,viewport:g,l10n:m}){x(this,rn);x(this,sl);x(this,lu,!1);x(this,Es,null);x(this,_r,null);x(this,ma,null);x(this,ni,new Map);x(this,Er,!1);x(this,cu,!1);x(this,uu,!1);x(this,mn,null);x(this,ba,null);x(this,vt);const y=[...h(Pi,wr).values()];if(!Pi._initialized){Pi._initialized=!0;for(const v of y)v.initialize(m,t)}t.registerEditorTypes(y),E(this,vt,t),this.pageIndex=e,this.div=s,E(this,sl,o),E(this,Es,c),this.viewport=g,E(this,mn,p),this.drawLayer=d,this._structTree=r,h(this,vt).addLayer(this)}get isEmpty(){return h(this,ni).size===0}get isInvisible(){return this.isEmpty&&h(this,vt).getMode()===Nt.NONE}updateToolbar(t){h(this,vt).updateToolbar(t)}updateMode(t=h(this,vt).getMode()){switch(T(this,rn,og).call(this),t){case Nt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Nt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Nt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const s of h(Pi,wr).values())e.toggle(`${s._type}Editing`,t===s._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=h(this,mn))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(h(this,vt).getMode()!==Nt.INK)return;if(!t){for(const s of h(this,ni).values())if(s.isEmpty()){s.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){h(this,vt).setEditingState(t)}addCommands(t){h(this,vt).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=h(this,Es))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const s of h(this,ni).values())s.enableEditing(),s.show(!0),s.annotationElementId&&(h(this,vt).removeChangedExistingAnnotation(s),t.add(s.annotationElementId));if(!h(this,Es))return;const e=h(this,Es).getEditableAnnotations();for(const s of e){if(s.hide(),h(this,vt).isDeletedAnnotationElement(s.data.id)||t.has(s.data.id))continue;const r=await this.deserialize(s);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;E(this,uu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const o of h(this,ni).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){t.set(o.annotationElementId,o);continue}else e.set(o.annotationElementId,o);(r=this.getEditableAnnotation(o.annotationElementId))==null||r.show(),o.remove()}if(h(this,Es)){const o=h(this,Es).getEditableAnnotations();for(const c of o){const{id:d}=c.data;if(h(this,vt).isDeletedAnnotationElement(d))continue;let p=e.get(d);if(p){p.resetAnnotationElement(c),p.show(!1),c.show();continue}p=t.get(d),p&&(h(this,vt).addChangedExistingAnnotation(p),p.renderAnnotationElement(c)&&p.show(!1)),c.show()}}T(this,rn,og).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const o of h(Pi,wr).values())s.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),E(this,uu,!1)}getEditableAnnotation(t){var e;return((e=h(this,Es))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){h(this,vt).getActive()!==t&&h(this,vt).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=h(this,mn))!=null&&t.div&&!h(this,ba)){E(this,ba,new AbortController);const e=h(this,vt).combinedSignal(h(this,ba));h(this,mn).div.addEventListener("pointerdown",T(this,rn,qT).bind(this),{signal:e}),h(this,mn).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=h(this,mn))!=null&&t.div&&h(this,ba)&&(h(this,ba).abort(),E(this,ba,null),h(this,mn).div.classList.remove("highlighting"))}enableClick(){if(h(this,_r))return;E(this,_r,new AbortController);const t=h(this,vt).combinedSignal(h(this,_r));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=h(this,_r))==null||t.abort(),E(this,_r,null)}attach(t){h(this,ni).set(t.id,t);const{annotationElementId:e}=t;e&&h(this,vt).isDeletedAnnotationElement(e)&&h(this,vt).removeDeletedAnnotationElement(t)}detach(t){var e;h(this,ni).delete(t.id),(e=h(this,sl))==null||e.removePointerInTextLayer(t.contentDiv),!h(this,uu)&&t.annotationElementId&&h(this,vt).addDeletedAnnotationElement(t)}remove(t){this.detach(t),h(this,vt).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,h(this,cu)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(h(this,vt).addDeletedAnnotationElement(t.annotationElementId),Zt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),h(this,vt).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),h(this,vt).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var s;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!h(this,ma)&&(t._focusEventsAllowed=!1,E(this,ma,setTimeout(()=>{E(this,ma,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:h(this,vt)._signal}),e.focus())},0))),t._structTreeParentId=(s=h(this,sl))==null?void 0:s.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),s=()=>{t.remove()};this.addCommands({cmd:e,undo:s,mustExec:!1})}getNextId(){return h(this,vt).getId()}combinedSignal(t){return h(this,vt).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=h(this,rn,W0))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){h(this,vt).updateToolbar(t),h(this,vt).updateMode(t);const{offsetX:s,offsetY:r}=T(this,rn,Z0).call(this),o=this.getNextId(),c=T(this,rn,Q0).call(this,{parent:this,id:o,x:s,y:r,uiManager:h(this,vt),isCentered:!0,...e});c&&this.add(c)}async deserialize(t){var e;return await((e=h(Pi,wr).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,h(this,vt)))||null}createAndAddNewEditor(t,e,s={}){const r=this.getNextId(),o=T(this,rn,Q0).call(this,{parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:h(this,vt),isCentered:e,...s});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(T(this,rn,Z0).call(this),!0)}setSelected(t){h(this,vt).setSelected(t)}toggleSelected(t){h(this,vt).toggleSelected(t)}unselect(t){h(this,vt).unselect(t)}pointerup(t){const{isMac:e}=xn.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&h(this,Er)){if(E(this,Er,!1),!h(this,lu)){E(this,lu,!0);return}if(h(this,vt).getMode()===Nt.STAMP){h(this,vt).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(h(this,vt).getMode()===Nt.HIGHLIGHT&&this.enableTextSelection(),h(this,Er)){E(this,Er,!1);return}const{isMac:e}=xn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;E(this,Er,!0);const s=h(this,vt).getActive();E(this,lu,!s||s.isEmpty())}findNewParent(t,e,s){const r=h(this,vt).findParent(e,s);return r===null||r===this?!1:(r.changeParent(t),!0)}destroy(){var t,e;((t=h(this,vt).getActive())==null?void 0:t.parent)===this&&(h(this,vt).commitOrRemove(),h(this,vt).setActiveEditor(null)),h(this,ma)&&(clearTimeout(h(this,ma)),E(this,ma,null));for(const s of h(this,ni).values())(e=h(this,sl))==null||e.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,h(this,ni).clear(),h(this,vt).removeLayer(this)}render({viewport:t}){this.viewport=t,ll(this.div,t);for(const e of h(this,vt).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){h(this,vt).commitOrRemove(),T(this,rn,og).call(this);const e=this.viewport.rotation,s=t.rotation;if(this.viewport=t,ll(this.div,{rotation:s}),e!==s)for(const r of h(this,ni).values())r.rotate(s);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return h(this,vt).viewParameters.realScale}};sl=new WeakMap,lu=new WeakMap,Es=new WeakMap,_r=new WeakMap,ma=new WeakMap,ni=new WeakMap,Er=new WeakMap,cu=new WeakMap,uu=new WeakMap,mn=new WeakMap,ba=new WeakMap,vt=new WeakMap,wr=new WeakMap,rn=new WeakSet,qT=function(t){h(this,vt).unselectAll();const{target:e}=t;if(e===h(this,mn).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&h(this,mn).div.contains(e)){const{isMac:s}=xn.platform;if(t.button!==0||t.ctrlKey&&s)return;h(this,vt).showAllEditors("highlight",!0,!0),h(this,mn).div.classList.add("free"),this.toggleDrawing(),bg.startHighlighting(this,h(this,vt).direction==="ltr",{target:h(this,mn).div,x:t.x,y:t.y}),h(this,mn).div.addEventListener("pointerup",()=>{h(this,mn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:h(this,vt)._signal}),t.preventDefault()}},W0=function(){return h(Pi,wr).get(h(this,vt).getMode())},Q0=function(t){const e=h(this,rn,W0);return e?new e.prototype.constructor(t):null},Z0=function(){const{x:t,y:e,width:s,height:r}=this.div.getBoundingClientRect(),o=Math.max(0,t),c=Math.max(0,e),d=Math.min(window.innerWidth,t+s),p=Math.min(window.innerHeight,e+r),g=(o+d)/2-t,m=(c+p)/2-e,[y,v]=this.viewport.rotation%180===0?[g,m]:[m,g];return{offsetX:y,offsetY:v}},og=function(){E(this,cu,!0);for(const t of h(this,ni).values())t.isEmpty()&&t.remove();E(this,cu,!1)},Tt(Pi,"_initialized",!1),x(Pi,wr,new Map([R0,j0,X0,bg].map(t=>[t._editorType,t])));let K0=Pi;var ws,nf,Le,ya,sf,tv,fl,ev,GT;const en=class en{constructor({pageIndex:t}){x(this,fl);x(this,ws,null);x(this,nf,0);x(this,Le,new Map);x(this,ya,new Map);this.pageIndex=t}setParent(t){if(!h(this,ws)){E(this,ws,t);return}if(h(this,ws)!==t){if(h(this,Le).size>0)for(const e of h(this,Le).values())e.remove(),t.append(e);E(this,ws,t)}}static get _svgFactory(){return qt(this,"_svgFactory",new Av)}draw(t,e,s,r=!1){const o=_n(this,nf)._++,c=T(this,fl,ev).call(this,t.box);c.classList.add(...t.classNamesForDrawing);const d=en._svgFactory.createElement("defs");c.append(d);const p=en._svgFactory.createElement("path");d.append(p);const g=`path_p${this.pageIndex}_${o}`;p.setAttribute("id",g),p.setAttribute("d",t.toSVGPath()),r&&h(this,ya).set(o,p);const m=T(this,fl,GT).call(this,d,g),y=en._svgFactory.createElement("use");return c.append(y),c.setAttribute("fill",e),c.setAttribute("fill-opacity",s),y.setAttribute("href",`#${g}`),h(this,Le).set(o,c),{id:o,clipPathId:`url(#${m})`}}drawOutline(t){const e=_n(this,nf)._++,s=T(this,fl,ev).call(this,t.box);s.classList.add(...t.classNamesForOutlining);const r=en._svgFactory.createElement("defs");s.append(r);const o=en._svgFactory.createElement("path");r.append(o);const c=`path_p${this.pageIndex}_${e}`;o.setAttribute("id",c),o.setAttribute("d",t.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let d;if(t.mustRemoveSelfIntersections){const m=en._svgFactory.createElement("mask");r.append(m),d=`mask_p${this.pageIndex}_${e}`,m.setAttribute("id",d),m.setAttribute("maskUnits","objectBoundingBox");const y=en._svgFactory.createElement("rect");m.append(y),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("fill","white");const v=en._svgFactory.createElement("use");m.append(v),v.setAttribute("href",`#${c}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const p=en._svgFactory.createElement("use");s.append(p),p.setAttribute("href",`#${c}`),d&&p.setAttribute("mask",`url(#${d})`);const g=p.cloneNode();return s.append(g),p.classList.add("mainOutline"),g.classList.add("secondaryOutline"),h(this,Le).set(e,s),e}finalizeLine(t,e){const s=h(this,ya).get(t);h(this,ya).delete(t),this.updateBox(t,e.box),s.setAttribute("d",e.toSVGPath())}updateLine(t,e){h(this,Le).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(t,e){h(this,ya).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var s;T(s=en,sf,tv).call(s,h(this,Le).get(t),e)}show(t,e){h(this,Le).get(t).classList.toggle("hidden",!e)}rotate(t,e){h(this,Le).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){h(this,Le).get(t).setAttribute("fill",e)}changeOpacity(t,e){h(this,Le).get(t).setAttribute("fill-opacity",e)}addClass(t,e){h(this,Le).get(t).classList.add(e)}removeClass(t,e){h(this,Le).get(t).classList.remove(e)}getSVGRoot(t){return h(this,Le).get(t)}remove(t){h(this,ya).delete(t),h(this,ws)!==null&&(h(this,Le).get(t).remove(),h(this,Le).delete(t))}destroy(){E(this,ws,null);for(const t of h(this,Le).values())t.remove();h(this,Le).clear(),h(this,ya).clear()}};ws=new WeakMap,nf=new WeakMap,Le=new WeakMap,ya=new WeakMap,sf=new WeakSet,tv=function(t,{x:e=0,y:s=0,width:r=1,height:o=1}={}){const{style:c}=t;c.top=`${100*s}%`,c.left=`${100*e}%`,c.width=`${100*r}%`,c.height=`${100*o}%`},fl=new WeakSet,ev=function(t){var s;const e=en._svgFactory.create(1,1,!0);return h(this,ws).append(e),e.setAttribute("aria-hidden",!0),T(s=en,sf,tv).call(s,e,t),e},GT=function(t,e){const s=en._svgFactory.createElement("clipPath");t.append(s);const r=`clip_${e}`;s.setAttribute("id",r),s.setAttribute("clipPathUnits","objectBoundingBox");const o=en._svgFactory.createElement("use");return s.append(o),o.setAttribute("href",`#${e}`),o.classList.add("clip"),r},x(en,sf);let J0=en;var MD=Rt.AbortException,OD=Rt.AnnotationEditorLayer,DD=Rt.AnnotationEditorParamsType,LD=Rt.AnnotationEditorType,ND=Rt.AnnotationEditorUIManager,VT=Rt.AnnotationLayer,XT=Rt.AnnotationMode,kD=Rt.ColorPicker,PD=Rt.DOMSVGFactory,FD=Rt.DrawLayer,jD=Rt.FeatureTest,_v=Rt.GlobalWorkerOptions,HD=Rt.ImageKind,zD=Rt.InvalidPDFException,UD=Rt.MissingPDFException,BD=Rt.OPS,ID=Rt.OutputScale,qD=Rt.PDFDataRangeTransport,GD=Rt.PDFDateString,VD=Rt.PDFWorker,XD=Rt.PasswordResponses,YD=Rt.PermissionFlag,$D=Rt.PixelsPerInch,KD=Rt.RenderingCancelledException,YT=Rt.TextLayer,WD=Rt.UnexpectedResponseException,QD=Rt.Util,ZD=Rt.VerbosityLevel,JD=Rt.XfaLayer,tL=Rt.build,eL=Rt.createValidAbsoluteUrl,nL=Rt.fetchData,$T=Rt.getDocument,iL=Rt.getFilenameFromUrl,sL=Rt.getPdfFilenameFromUrl,aL=Rt.getXfaPageViewport,rL=Rt.isDataScheme,oL=Rt.isPdfFile,lL=Rt.noContextMenu,cL=Rt.normalizeUnicode,uL=Rt.setLayerDimensions,hL=Rt.shadow,KT=Rt.version;const dL=Object.freeze(Object.defineProperty({__proto__:null,AbortException:MD,AnnotationEditorLayer:OD,AnnotationEditorParamsType:DD,AnnotationEditorType:LD,AnnotationEditorUIManager:ND,AnnotationLayer:VT,AnnotationMode:XT,ColorPicker:kD,DOMSVGFactory:PD,DrawLayer:FD,FeatureTest:jD,GlobalWorkerOptions:_v,ImageKind:HD,InvalidPDFException:zD,MissingPDFException:UD,OPS:BD,OutputScale:ID,PDFDataRangeTransport:qD,PDFDateString:GD,PDFWorker:VD,PasswordResponses:XD,PermissionFlag:YD,PixelsPerInch:$D,RenderingCancelledException:KD,TextLayer:YT,UnexpectedResponseException:WD,Util:QD,VerbosityLevel:ZD,XfaLayer:JD,build:tL,createValidAbsoluteUrl:eL,fetchData:nL,getDocument:$T,getFilenameFromUrl:iL,getPdfFilenameFromUrl:sL,getXfaPageViewport:aL,isDataScheme:rL,isPdfFile:oL,noContextMenu:lL,normalizeUnicode:cL,setLayerDimensions:uL,shadow:hL,version:KT},Symbol.toStringTag,{value:"Module"}));var Xe=function(u,t,e){if(e||arguments.length===2)for(var s=0,r=t.length,o;s<r;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return u.concat(o||Array.prototype.slice.call(t))},fL=["onCopy","onCut","onPaste"],pL=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],gL=["onFocus","onBlur"],mL=["onInput","onInvalid","onReset","onSubmit"],bL=["onLoad","onError"],yL=["onKeyDown","onKeyPress","onKeyUp"],vL=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],AL=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],SL=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],_L=["onSelect"],EL=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],wL=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],TL=["onScroll"],xL=["onWheel"],CL=["onAnimationStart","onAnimationEnd","onAnimationIteration"],RL=["onTransitionEnd"],ML=["onToggle"],OL=["onChange"],DL=Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe([],fL,!0),pL,!0),gL,!0),mL,!0),bL,!0),yL,!0),vL,!0),AL,!0),SL,!0),_L,!0),EL,!0),wL,!0),TL,!0),xL,!0),CL,!0),RL,!0),OL,!0),ML,!0);function WT(u,t){var e={};return DL.forEach(function(s){var r=u[s];r&&(t?e[s]=function(o){return r(o,t(s))}:e[s]=r)}),e}function uf(u){var t=!1,e=new Promise(function(s,r){u.then(function(o){return!t&&s(o)}).catch(function(o){return!t&&r(o)})});return{promise:e,cancel:function(){t=!0}}}function QT(u){var t,e,s="";if(typeof u=="string"||typeof u=="number")s+=u;else if(typeof u=="object")if(Array.isArray(u)){var r=u.length;for(t=0;t<r;t++)u[t]&&(e=QT(u[t]))&&(s&&(s+=" "),s+=e)}else for(e in u)u[e]&&(s&&(s+=" "),s+=e);return s}function Or(){for(var u,t,e=0,s="",r=arguments.length;e<r;e++)(u=arguments[e])&&(t=QT(u))&&(s&&(s+=" "),s+=t);return s}var LL="Invariant failed";function se(u,t){if(!u)throw new Error(LL)}var Cy,tw;function NL(){if(tw)return Cy;tw=1;var u=function(){};return Cy=u,Cy}var kL=NL();const yn=av(kL);var ew=Object.prototype.hasOwnProperty;function nw(u,t,e){for(e of u.keys())if(hc(e,t))return e}function hc(u,t){var e,s,r;if(u===t)return!0;if(u&&t&&(e=u.constructor)===t.constructor){if(e===Date)return u.getTime()===t.getTime();if(e===RegExp)return u.toString()===t.toString();if(e===Array){if((s=u.length)===t.length)for(;s--&&hc(u[s],t[s]););return s===-1}if(e===Set){if(u.size!==t.size)return!1;for(s of u)if(r=s,r&&typeof r=="object"&&(r=nw(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(u.size!==t.size)return!1;for(s of u)if(r=s[0],r&&typeof r=="object"&&(r=nw(t,r),!r)||!hc(s[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)u=new Uint8Array(u),t=new Uint8Array(t);else if(e===DataView){if((s=u.byteLength)===t.byteLength)for(;s--&&u.getInt8(s)===t.getInt8(s););return s===-1}if(ArrayBuffer.isView(u)){if((s=u.byteLength)===t.byteLength)for(;s--&&u[s]===t[s];);return s===-1}if(!e||typeof u=="object"){s=0;for(e in u)if(ew.call(u,e)&&++s&&!ew.call(t,e)||!(e in t)||!hc(u[e],t[e]))return!1;return Object.keys(t).length===s}}return u!==u&&t!==t}const ZT=Q.createContext(null);function dc({children:u,type:t}){return L.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:u})}const PL="noopener noreferrer nofollow";class FL{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return se(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){se(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{se(this.pdfDocument),se(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{se(Array.isArray(e));const s=e[0];new Promise(r=>{se(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(o=>{r(o)}).catch(()=>{se(!1)}):typeof s=="number"?r(s):se(!1)}).then(r=>{const o=r+1;se(this.pdfViewer),se(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:o})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;se(this.pdfViewer),se(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,s){t.href=e,t.rel=this.externalLinkRel||PL,t.target=s?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const iw={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Zg=typeof window<"u",JT=Zg&&window.location.protocol==="file:";function jL(u){return typeof u<"u"}function Jr(u){return jL(u)&&u!==null}function HL(u){return typeof u=="string"}function zL(u){return u instanceof ArrayBuffer}function UL(u){return se(Zg),u instanceof Blob}function nv(u){return HL(u)&&/^data:/.test(u)}function sw(u){se(nv(u));const[t="",e=""]=u.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function BL(){return Zg&&window.devicePixelRatio||1}const tx="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function aw(){yn(!JT,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${tx}`)}function IL(){yn(!JT,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${tx}`)}function hl(u){u!=null&&u.cancel&&u.cancel()}function iv(u,t){return Object.defineProperty(u,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(u,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(u,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(u,"originalHeight",{get(){return this.view[3]},configurable:!0}),u}function qL(u){return u.name==="RenderingCancelledException"}function GL(u){return new Promise((t,e)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return e(new Error("Error while reading a file."));t(s.result)},s.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:o}=r.target;if(!o)return e(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},s.readAsArrayBuffer(u)})}function VL(u,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return u}}function du(){return Q.useReducer(VL,{value:void 0,error:void 0})}var XL=function(u,t,e,s){function r(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function d(m){try{g(s.next(m))}catch(y){c(y)}}function p(m){try{g(s.throw(m))}catch(y){c(y)}}function g(m){m.done?o(m.value):r(m.value).then(d,p)}g((s=s.apply(u,t||[])).next())})},rw=function(u,t){var e={};for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&t.indexOf(s)<0&&(e[s]=u[s]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(u);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(u,s[r])&&(e[s[r]]=u[s[r]]);return e};const{PDFDataRangeTransport:YL}=dL,$L=(u,t)=>{switch(t){case iw.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");u(e);break}case iw.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");u(e);break}}};function ow(u){return typeof u=="object"&&u!==null&&("data"in u||"range"in u||"url"in u)}const KL=Q.forwardRef(function(t,e){var{children:s,className:r,error:o="Failed to load PDF file.",externalLinkRel:c,externalLinkTarget:d,file:p,inputRef:g,imageResourcesPath:m,loading:y="Loading PDF",noData:v="No PDF file specified.",onItemClick:S,onLoadError:A,onLoadProgress:w,onLoadSuccess:M,onPassword:R=$L,onSourceError:P,onSourceSuccess:O,options:N,renderMode:F,rotate:B}=t,z=rw(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[V,G]=du(),{value:et,error:it}=V,[dt,ut]=du(),{value:ct,error:ft}=dt,$=Q.useRef(new FL),Z=Q.useRef([]),tt=Q.useRef(void 0),_t=Q.useRef(void 0);p&&p!==tt.current&&ow(p)&&(yn(!hc(p,tt.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),tt.current=p),N&&N!==_t.current&&(yn(!hc(N,_t.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),_t.current=N);const k=Q.useRef({scrollPageIntoView:Bt=>{const{dest:le,pageNumber:Ee,pageIndex:ce=Ee-1}=Bt;if(S){S({dest:le,pageIndex:ce,pageNumber:Ee});return}const Zi=Z.current[ce];if(Zi){Zi.scrollIntoView();return}yn(!1,`An internal link leading to page ${Ee} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});Q.useImperativeHandle(e,()=>({linkService:$,pages:Z,viewer:k}),[]);function X(){O&&O()}function st(){it&&(yn(!1,it.toString()),P&&P(it))}function at(){G({type:"RESET"})}Q.useEffect(at,[p,G]);const rt=Q.useCallback(()=>XL(this,void 0,void 0,function*(){if(!p)return null;if(typeof p=="string")return nv(p)?{data:sw(p)}:(aw(),{url:p});if(p instanceof YL)return{range:p};if(zL(p))return{data:p};if(Zg&&UL(p))return{data:yield GL(p)};if(se(typeof p=="object"),se(ow(p)),"url"in p&&typeof p.url=="string"){if(nv(p.url)){const{url:Bt}=p,le=rw(p,["url"]),Ee=sw(Bt);return Object.assign({data:Ee},le)}aw()}return p}),[p]);Q.useEffect(()=>{const Bt=uf(rt());return Bt.promise.then(le=>{G({type:"RESOLVE",value:le})}).catch(le=>{G({type:"REJECT",error:le})}),()=>{hl(Bt)}},[rt,G]),Q.useEffect(()=>{if(!(typeof et>"u")){if(et===!1){st();return}X()}},[et]);function Et(){ct&&(M&&M(ct),Z.current=new Array(ct.numPages),$.current.setDocument(ct))}function gt(){ft&&(yn(!1,ft.toString()),A&&A(ft))}Q.useEffect(function(){ut({type:"RESET"})},[ut,et]),Q.useEffect(function(){if(!et)return;const le=N?Object.assign(Object.assign({},et),N):et,Ee=$T(le);w&&(Ee.onProgress=w),R&&(Ee.onPassword=R);const ce=Ee,Zi=ce.promise.then(Ji=>{ut({type:"RESOLVE",value:Ji})}).catch(Ji=>{ce.destroyed||ut({type:"REJECT",error:Ji})});return()=>{Zi.finally(()=>ce.destroy())}},[N,ut,et]),Q.useEffect(()=>{if(!(typeof ct>"u")){if(ct===!1){gt();return}Et()}},[ct]),Q.useEffect(function(){$.current.setViewer(k.current),$.current.setExternalLinkRel(c),$.current.setExternalLinkTarget(d)},[c,d]);const wt=Q.useCallback((Bt,le)=>{Z.current[Bt]=le},[]),Dt=Q.useCallback(Bt=>{delete Z.current[Bt]},[]),Vt=Q.useMemo(()=>({imageResourcesPath:m,linkService:$.current,onItemClick:S,pdf:ct,registerPage:wt,renderMode:F,rotate:B,unregisterPage:Dt}),[m,S,ct,wt,F,B,Dt]),St=Q.useMemo(()=>WT(z,()=>ct),[z,ct]);function on(){return L.jsx(ZT.Provider,{value:Vt,children:s})}function Oi(){return p?ct==null?L.jsx(dc,{type:"loading",children:typeof y=="function"?y():y}):ct===!1?L.jsx(dc,{type:"error",children:typeof o=="function"?o():o}):on():L.jsx(dc,{type:"no-data",children:typeof v=="function"?v():v})}return L.jsx("div",Object.assign({className:Or("react-pdf__Document",r),ref:g,style:{"--scale-factor":"1"}},St,{children:Oi()}))});function ex(){return Q.useContext(ZT)}function nx(){for(var u=[],t=0;t<arguments.length;t++)u[t]=arguments[t];var e=u.filter(Boolean);if(e.length<=1){var s=e[0];return s||null}return function(o){e.forEach(function(c){typeof c=="function"?c(o):c&&(c.current=o)})}}const ix=Q.createContext(null),sx={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},WL=/^H(\d+)$/;function QL(u){return u in sx}function Jg(u){return"children"in u}function ax(u){return Jg(u)?u.children.length===1&&0 in u.children&&"id"in u.children[0]:!1}function ZL(u){const t={};if(Jg(u)){const{role:e}=u,s=e.match(WL);if(s)t.role="heading",t["aria-level"]=Number(s[1]);else if(QL(e)){const r=sx[e];r&&(t.role=r)}}return t}function rx(u){const t={};if(Jg(u)){if(u.alt!==void 0&&(t["aria-label"]=u.alt),u.lang!==void 0&&(t.lang=u.lang),ax(u)){const[e]=u.children;if(e){const s=rx(e);return Object.assign(Object.assign({},t),s)}}}else"id"in u&&(t["aria-owns"]=u.id);return t}function JL(u){return u?Object.assign(Object.assign({},ZL(u)),rx(u)):null}function ox({className:u,node:t}){const e=Q.useMemo(()=>JL(t),[t]),s=Q.useMemo(()=>!Jg(t)||ax(t)?null:t.children.map((r,o)=>L.jsx(ox,{node:r},o)),[t]);return L.jsx("span",Object.assign({className:u},e,{children:s}))}function tm(){return Q.useContext(ix)}function tN(){const u=tm();se(u);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=u,[s,r]=du(),{value:o,error:c}=s,{customTextRenderer:d,page:p}=u;function g(){o&&e&&e(o)}function m(){c&&(yn(!1,c.toString()),t&&t(c))}return Q.useEffect(function(){r({type:"RESET"})},[r,p]),Q.useEffect(function(){if(d||!p)return;const v=uf(p.getStructTree()),S=v;return v.promise.then(A=>{r({type:"RESOLVE",value:A})}).catch(A=>{r({type:"REJECT",error:A})}),()=>hl(S)},[d,p,r]),Q.useEffect(()=>{if(o!==void 0){if(o===!1){m();return}g()}},[o]),o?L.jsx(ox,{className:"react-pdf__Page__structTree structTree",node:o}):null}const lw=XT;function eN(u){const t=tm();se(t);const e=Object.assign(Object.assign({},t),u),{_className:s,canvasBackground:r,devicePixelRatio:o=BL(),onRenderError:c,onRenderSuccess:d,page:p,renderForms:g,renderTextLayer:m,rotate:y,scale:v}=e,{canvasRef:S}=u;se(p);const A=Q.useRef(null);function w(){p&&d&&d(iv(p,v))}function M(N){qL(N)||(yn(!1,N.toString()),c&&c(N))}const R=Q.useMemo(()=>p.getViewport({scale:v*o,rotation:y}),[o,p,y,v]),P=Q.useMemo(()=>p.getViewport({scale:v,rotation:y}),[p,y,v]);Q.useEffect(function(){if(!p)return;p.cleanup();const{current:F}=A;if(!F)return;F.width=R.width,F.height=R.height,F.style.width=`${Math.floor(P.width)}px`,F.style.height=`${Math.floor(P.height)}px`,F.style.visibility="hidden";const B={annotationMode:g?lw.ENABLE_FORMS:lw.ENABLE,canvasContext:F.getContext("2d",{alpha:!1}),viewport:R};r&&(B.background=r);const z=p.render(B),V=z;return z.promise.then(()=>{F.style.visibility="",w()}).catch(M),()=>hl(V)},[r,p,g,R,P]);const O=Q.useCallback(()=>{const{current:N}=A;N&&(N.width=0,N.height=0)},[]);return Q.useEffect(()=>O,[O]),L.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:nx(S,A),style:{display:"block",userSelect:"none"},children:m?L.jsx(tN,{}):null})}function nN(u){return"str"in u}function iN(){const u=tm();se(u);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:s,onRenderTextLayerError:r,onRenderTextLayerSuccess:o,page:c,pageIndex:d,pageNumber:p,rotate:g,scale:m}=u;se(c);const[y,v]=du(),{value:S,error:A}=y,w=Q.useRef(null);yn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function M(){S&&s&&s(S)}function R(){A&&(yn(!1,A.toString()),e&&e(A))}Q.useEffect(function(){v({type:"RESET"})},[c,v]),Q.useEffect(function(){if(!c)return;const V=uf(c.getTextContent()),G=V;return V.promise.then(et=>{v({type:"RESOLVE",value:et})}).catch(et=>{v({type:"REJECT",error:et})}),()=>hl(G)},[c,v]),Q.useEffect(()=>{if(S!==void 0){if(S===!1){R();return}M()}},[S]);const P=Q.useCallback(()=>{o&&o()},[o]),O=Q.useCallback(z=>{yn(!1,z.toString()),r&&r(z)},[r]);function N(){const z=w.current;z&&z.classList.add("selecting")}function F(){const z=w.current;z&&z.classList.remove("selecting")}const B=Q.useMemo(()=>c.getViewport({scale:m,rotation:g}),[c,g,m]);return Q.useLayoutEffect(function(){if(!c||!S)return;const{current:V}=w;if(!V)return;V.innerHTML="";const G=c.streamTextContent({includeMarkedContent:!0}),et={container:V,textContentSource:G,viewport:B},it=new YT(et),dt=it;return it.render().then(()=>{const ut=document.createElement("div");ut.className="endOfContent",V.append(ut);const ct=V.querySelectorAll('[role="presentation"]');if(t){let ft=0;S.items.forEach(($,Z)=>{if(!nN($))return;const tt=ct[ft];if(!tt)return;const _t=t(Object.assign({pageIndex:d,pageNumber:p,itemIndex:Z},$));tt.innerHTML=_t,ft+=$.str&&$.hasEOL?2:1})}P()}).catch(O),()=>hl(dt)},[t,O,P,c,d,p,S,B]),L.jsx("div",{className:Or("react-pdf__Page__textContent","textLayer"),onMouseUp:F,onMouseDown:N,ref:w})}function sN(){const u=ex(),t=tm();se(t);const e=Object.assign(Object.assign({},u),t),{imageResourcesPath:s,linkService:r,onGetAnnotationsError:o,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:d,onRenderAnnotationLayerSuccess:p,page:g,pdf:m,renderForms:y,rotate:v,scale:S=1}=e;se(m),se(g),se(r);const[A,w]=du(),{value:M,error:R}=A,P=Q.useRef(null);yn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function O(){M&&c&&c(M)}function N(){R&&(yn(!1,R.toString()),o&&o(R))}Q.useEffect(function(){w({type:"RESET"})},[w,g]),Q.useEffect(function(){if(!g)return;const G=uf(g.getAnnotations()),et=G;return G.promise.then(it=>{w({type:"RESOLVE",value:it})}).catch(it=>{w({type:"REJECT",error:it})}),()=>{hl(et)}},[w,g]),Q.useEffect(()=>{if(M!==void 0){if(M===!1){N();return}O()}},[M]);function F(){p&&p()}function B(V){yn(!1,`${V}`),d&&d(V)}const z=Q.useMemo(()=>g.getViewport({scale:S,rotation:v}),[g,v,S]);return Q.useEffect(function(){if(!m||!g||!r||!M)return;const{current:G}=P;if(!G)return;const et=z.clone({dontFlip:!0}),it={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:G,l10n:null,page:g,structTreeLayer:null,viewport:et},dt={annotations:M,annotationStorage:m.annotationStorage,div:G,imageResourcesPath:s,linkService:r,page:g,renderForms:y,viewport:et};G.innerHTML="";try{new VT(it).render(dt),F()}catch(ut){B(ut)}return()=>{}},[M,s,r,g,m,y,z]),L.jsx("div",{className:Or("react-pdf__Page__annotations","annotationLayer"),ref:P})}var aN=function(u,t){var e={};for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&t.indexOf(s)<0&&(e[s]=u[s]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(u);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(u,s[r])&&(e[s[r]]=u[s[r]]);return e};const cw=1;function rN(u){const t=ex(),e=Object.assign(Object.assign({},t),u),{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:o,canvasRef:c,children:d,className:p,customRenderer:g,customTextRenderer:m,devicePixelRatio:y,error:v="Failed to load the page.",height:S,inputRef:A,loading:w="Loading page",noData:M="No page specified.",onGetAnnotationsError:R,onGetAnnotationsSuccess:P,onGetStructTreeError:O,onGetStructTreeSuccess:N,onGetTextError:F,onGetTextSuccess:B,onLoadError:z,onLoadSuccess:V,onRenderAnnotationLayerError:G,onRenderAnnotationLayerSuccess:et,onRenderError:it,onRenderSuccess:dt,onRenderTextLayerError:ut,onRenderTextLayerSuccess:ct,pageIndex:ft,pageNumber:$,pdf:Z,registerPage:tt,renderAnnotationLayer:_t=!0,renderForms:k=!1,renderMode:X="canvas",renderTextLayer:st=!0,rotate:at,scale:rt=cw,unregisterPage:Et,width:gt}=e,wt=aN(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Dt,Vt]=du(),{value:St,error:on}=Dt,Oi=Q.useRef(null);se(Z);const Bt=Jr($)?$-1:ft??null,le=$??(Jr(ft)?ft+1:null),Ee=at??(St?St.rotate:null),ce=Q.useMemo(()=>{if(!St)return null;let Ts=1;const xs=rt??cw;if(gt||S){const bl=St.getViewport({scale:1,rotation:Ee});gt?Ts=gt/bl.width:S&&(Ts=S/bl.height)}return xs*Ts},[S,St,Ee,rt,gt]);Q.useEffect(function(){return()=>{Jr(Bt)&&r&&Et&&Et(Bt)}},[r,Z,Bt,Et]);function Zi(){if(V){if(!St||!ce)return;V(iv(St,ce))}if(r&&tt){if(!Jr(Bt)||!Oi.current)return;tt(Bt,Oi.current)}}function Ji(){on&&(yn(!1,on.toString()),z&&z(on))}Q.useEffect(function(){Vt({type:"RESET"})},[Vt,Z,Bt]),Q.useEffect(function(){if(!Z||!le)return;const xs=uf(Z.getPage(le)),bl=xs;return xs.promise.then(yl=>{Vt({type:"RESOLVE",value:yl})}).catch(yl=>{Vt({type:"REJECT",error:yl})}),()=>hl(bl)},[Vt,Z,le]),Q.useEffect(()=>{if(St!==void 0){if(St===!1){Ji();return}Zi()}},[St,ce]);const gu=Q.useMemo(()=>St&&Jr(Bt)&&le&&Jr(Ee)&&Jr(ce)?{_className:s,canvasBackground:o,customTextRenderer:m,devicePixelRatio:y,onGetAnnotationsError:R,onGetAnnotationsSuccess:P,onGetStructTreeError:O,onGetStructTreeSuccess:N,onGetTextError:F,onGetTextSuccess:B,onRenderAnnotationLayerError:G,onRenderAnnotationLayerSuccess:et,onRenderError:it,onRenderSuccess:dt,onRenderTextLayerError:ut,onRenderTextLayerSuccess:ct,page:St,pageIndex:Bt,pageNumber:le,renderForms:k,renderTextLayer:st,rotate:Ee,scale:ce}:null,[s,o,m,y,R,P,O,N,F,B,G,et,it,dt,ut,ct,St,Bt,le,k,st,Ee,ce]),mu=Q.useMemo(()=>WT(wt,()=>St&&(ce?iv(St,ce):void 0)),[wt,St,ce]),Ta=`${Bt}@${ce}/${Ee}`;function im(){switch(X){case"custom":return se(g),L.jsx(g,{},`${Ta}_custom`);case"none":return null;case"canvas":default:return L.jsx(eN,{canvasRef:c},`${Ta}_canvas`)}}function sm(){return st?L.jsx(iN,{},`${Ta}_text`):null}function oi(){return _t?L.jsx(sN,{},`${Ta}_annotations`):null}function am(){return L.jsxs(ix.Provider,{value:gu,children:[im(),sm(),oi(),d]})}function df(){return le?Z===null||St===void 0||St===null?L.jsx(dc,{type:"loading",children:typeof w=="function"?w():w}):Z===!1||St===!1?L.jsx(dc,{type:"error",children:typeof v=="function"?v():v}):am():L.jsx(dc,{type:"no-data",children:typeof M=="function"?M():M})}return L.jsx("div",Object.assign({className:Or(s,p),"data-page-number":le,ref:nx(A,Oi),style:{"--scale-factor":`${ce}`,backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},mu,{children:df()}))}IL();_v.workerSrc="pdf.worker.mjs";_v.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${KT}/pdf.worker.min.mjs`;function oN({deployment:u,setResume:t,resume:e,setResumeUrl:s,resumeUrl:r}){const[o,c]=Q.useState(null),[d,p]=Q.useState(null),[g,m]=Q.useState(!1),[y,v]=Q.useState(!1),S=async z=>{const V=URL.createObjectURL(z);localStorage.setItem("resume",z.name),localStorage.setItem("resumeUrl",V),t(z),s(V)},A=async()=>{c(null),m(!0);const z=new FormData;z.append("resume",e);const V=await fetch(u+"/summarize-resume",{method:"POST",body:z});if(V.ok){const G=await V.json();c(G.summary)}m(!1)},w=async()=>{p(null),v(!0);const z=new FormData;z.append("resume",e);const V=await fetch(u+"/improve-resume",{method:"POST",body:z});if(V.ok){const G=await V.json();p(G.improvements)}v(!1)},M=()=>{r?window.open(r,"_blank"):alert("No resume found in cache.")},R=()=>{if(window.confirm("Are you sure you want to update the resume? This will clear the current resume.")){localStorage.removeItem("resume"),localStorage.removeItem("resumeUrl"),t(null),s(null),c(null),p(null);const z=document.createElement("input");z.type="file",z.accept="application/pdf",z.onchange=V=>S(V.target.files[0]),z.click()}},P=()=>L.jsx("div",{id:"resume-basic-actions",children:r?L.jsxs("div",{children:[L.jsx("button",{onClick:R,children:"Update Resume"}),L.jsx("button",{onClick:M,children:"Show Resume"})]}):L.jsx("input",{type:"file",accept:"application/pdf",onChange:z=>S(z.target.files[0])})}),O=()=>r?L.jsx("div",{id:"resume-preview",children:L.jsx(KL,{file:r,children:L.jsx(rN,{pageNumber:1,renderAnnotationLayer:!1,renderTextLayer:!1})})}):null,N=()=>!o&&!g?null:L.jsxs("div",{id:"resume-summary",children:[L.jsx("h3",{children:"Resume Summary"}),o?L.jsx("p",{children:o}):L.jsx(ol,{loading:g,message:"Summarizing resume..."})]}),F=()=>L.jsxs("div",{id:"resume-improvements",children:[(d||y)&&L.jsx("h3",{style:{textAlign:"center"},children:"Resume Improvements"}),d?L.jsx("ul",{children:d.map((z,V)=>L.jsx("li",{className:"resume-improvement",children:z},V))}):L.jsx(ol,{loading:y,message:"Suggesting improvements..."})]}),B=()=>r?L.jsxs("div",{id:"resume-action-buttons",children:[L.jsx("button",{onClick:A,children:"Summarize Resume"}),L.jsx("button",{onClick:w,children:"Suggest Improvements"})]}):null;return L.jsxs("div",{id:"resume-section",children:[L.jsxs("div",{id:"resume-upload-section",children:[L.jsx(P,{}),L.jsx(N,{}),L.jsx(O,{})]}),"",L.jsxs("div",{id:"resume-operations-section",children:[L.jsx(B,{}),L.jsx(F,{})]})]})}function lN({deployment:u}){const[t,e]=Q.useState(null),[s,r]=Q.useState(null),[o,c]=Q.useState(""),[d,p]=Q.useState(t),g="https://cdn.brandfetch.io/";Q.useEffect(()=>{const w=async()=>{const R=await fetch(u+"/get-apply-data",{method:"GET"});if(R.ok){const P=await R.json();e(P),p(P)}};(async()=>{const R=await fetch(u+"/get-logo-client-id",{method:"GET"});if(R.ok){const P=await R.text();r(P)}})().then(()=>w())},[u]);function m(w){c(w.target.value)}const y=w=>{if(!t)return;w=w.toLowerCase();const M=t.map(R=>{const P=R.data.filter(O=>O.name.toLowerCase().includes(w)||O.portal_link.toLowerCase().includes(w)||O.domain.toLowerCase().includes(w));return P.length>0||R.category.toLowerCase().includes(w)?{...R,data:P.length>0?P:R.data}:null}).filter(Boolean);p(M)};Q.useEffect(()=>{y(o)},[o]);function v(w){return w=w.company,L.jsxs("a",{className:"apply-button",href:w.portal_link,target:"_blank",rel:"noopener noreferrer",children:[L.jsx("img",{className:"company-logo",src:`${g}${w.domain}?c=${s}`,alt:w.name}),L.jsx("div",{className:"company-name",children:w.name})]})}function S(w){return w=w.category,L.jsxs("div",{className:"apply-category",children:[L.jsx("h2",{className:"category-name",children:w.category}),L.jsx("div",{className:"company-list",children:w.data.map((M,R)=>L.jsx(v,{company:M},R))})]})}function A(w){return w.map((M,R)=>L.jsx(S,{category:M},R))}return L.jsxs("div",{id:"apply-section",children:[L.jsx("h2",{className:"section-heading",children:"APPLY DIRECTLY THROUGH THEIR PORTAL"}),L.jsx("p",{children:"I felt by the time a role was advertised on universal job portals like LinkedIn or Glassdoor, it would be too late to apply. With the current job market, it has become very competitive and a little late is a little too late. Hence, I used to apply directly through each company's portal. The problem was that it was not a structured effort and I used to apply to any company that came to my mind and resonated with me. This section would hence help to improve this process."}),L.jsx("p",{children:"I had also tried to research to find out if there are any data endpoints or public APIs that I could leverage so that I could accumulate all jobs in a single place but unfortunately that wasn't possible. It struck me later that if that would have been possible, most universal job portals would have not been competing for the applicants' attention."}),L.jsx("p",{children:"In some cases, I too felt like going to these universal job portals. Hence I have included them at the end of this section as well."}),L.jsx("h4",{children:"Please Note, there is no affiliation between RaDAR and any of these companies. These are just the direct links to the list of job opportunties there."}),L.jsx("h3",{children:"Happy Applying!"}),L.jsx(ol,{loading:t==null,message:"Loading the Portal List"}),t&&L.jsxs(L.Fragment,{children:[L.jsx("input",{type:"text",placeholder:"Search company ...",value:o,onChange:m,id:"search-company"}),o==""?A(t):A(d)]})]})}function cN({serverStatus:u}){return L.jsxs("div",{id:"introduction-section",children:[L.jsx("div",{id:"website-title",children:"RaDAR"}),L.jsx("div",{id:"server-status",children:u}),L.jsx("h3",{id:"website-subtitle",children:"Resume and Description Analysis Resource"}),L.jsx("p",{children:"Job Search can be a very daunting journey, one filled with a lot of failures. I, myself, am currently (as of March 2025) going through the same journey. With the current job market, the competition has become very tough. From layoffs going on one side of the industry, to even experienced candidates applying for entry level roles, getting an opportunity has never felt short of a battle."}),L.jsx("p",{children:"Anything help or guidance at this instance can be a blessing in disguise. Any suggestion for resume improvement, any suggestion for job hunting strategy improvement, anything could be your edge against other candidates out there. So I decided to create a tool that can help you in your job search journey."}),L.jsx("p",{children:"RaDAR is a tool I came up with which incorporates all the suggestions I have ever been given to optimize my job search, improve my resume, and improve my job hunting strategy."})]})}var Ry={exports:{}},My,uw;function uN(){if(uw)return My;uw=1;var u="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return My=u,My}var Oy,hw;function hN(){if(hw)return Oy;hw=1;var u=uN();function t(){}function e(){}return e.resetWarningCache=t,Oy=function(){function s(c,d,p,g,m,y){if(y!==u){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}s.isRequired=s;function r(){return s}var o={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:r,element:s,elementType:s,instanceOf:r,node:s,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:e,resetWarningCache:t};return o.PropTypes=o,o},Oy}var dw;function dN(){return dw||(dw=1,Ry.exports=hN()()),Ry.exports}var lx=dN();function Ev(u){return t=>!!t.type&&t.type.tabsRole===u}const hf=Ev("Tab"),em=Ev("TabList"),nm=Ev("TabPanel");function fN(u){return hf(u)||em(u)||nm(u)}function sv(u,t){return Q.Children.map(u,e=>e===null?null:fN(e)?t(e):e.props&&e.props.children&&typeof e.props.children=="object"?Q.cloneElement(e,Object.assign({},e.props,{children:sv(e.props.children,t)})):e)}function yg(u,t){return Q.Children.forEach(u,e=>{e!==null&&(hf(e)||nm(e)?t(e):e.props&&e.props.children&&typeof e.props.children=="object"&&(em(e)&&t(e),yg(e.props.children,t)))})}function cx(u,t,e){let s,r=0,o=0,c=!1;const d=[],p=u[t];return yg(p,g=>{em(g)&&(g.props&&g.props.children&&typeof g.props.children=="object"&&yg(g.props.children,m=>d.push(m)),c&&(s=new Error("Found multiple 'TabList' components inside 'Tabs'. Only one is allowed.")),c=!0),hf(g)?((!c||d.indexOf(g)===-1)&&(s=new Error("Found a 'Tab' component outside of the 'TabList' component. 'Tab' components have to be inside the 'TabList' component.")),r++):nm(g)&&o++}),!s&&r!==o&&(s=new Error(`There should be an equal number of 'Tab' and 'TabPanel' in \`${e}\`. Received ${r} 'Tab' and ${o} 'TabPanel'.`)),s}function pN(u,t,e,s,r){const o=u[t],c=r||t;let d=null;return o&&typeof o!="function"?d=new Error(`Invalid ${s} \`${c}\` of type \`${typeof o}\` supplied to \`${e}\`, expected \`function\`.`):u.selectedIndex!=null&&o==null&&(d=new Error(`The ${s} \`${c}\` is marked as required in \`${e}\`, but its value is \`undefined\` or \`null\`.
\`onSelect\` is required when \`selectedIndex\` is also set. Not doing so will make the tabs not do anything, as \`selectedIndex\` indicates that you want to handle the selected tab yourself.
If you only want to set the inital tab replace \`selectedIndex\` with \`defaultIndex\`.`)),d}function gN(u,t,e,s,r){const o=u[t],c=r||t;let d=null;if(o!=null&&typeof o!="number")d=new Error(`Invalid ${s} \`${c}\` of type \`${typeof o}\` supplied to \`${e}\`, expected \`number\`.`);else if(u.defaultIndex!=null&&o!=null)return new Error(`The ${s} \`${c}\` cannot be used together with \`defaultIndex\` in \`${e}\`.
Either remove \`${c}\` to let \`${e}\` handle the selected tab internally or remove \`defaultIndex\` to handle it yourself.`);return d}function ux(u){let t=0;return yg(u,e=>{hf(e)&&t++}),t}const mN=["children","className","disabledTabClassName","domRef","focus","forceRenderTabPanel","onSelect","selectedIndex","selectedTabClassName","selectedTabPanelClassName","environment","disableUpDownKeys","disableLeftRightKeys"];function bN(u,t){if(u==null)return{};var e={};for(var s in u)if({}.hasOwnProperty.call(u,s)){if(t.includes(s))continue;e[s]=u[s]}return e}function hx(u){return u&&"getAttribute"in u}function fw(u){return hx(u)&&u.getAttribute("data-rttab")}function to(u){return hx(u)&&u.getAttribute("aria-disabled")==="true"}let vg;function yN(u){const t=u||(typeof window<"u"?window:void 0);try{vg=!!(typeof t<"u"&&t.document&&t.document.activeElement)}catch{vg=!1}}const vN={className:"react-tabs",focus:!1},AN={children:cx},SN=u=>{lx.checkPropTypes(AN,u,"prop","UncontrolledTabs");let t=Q.useRef([]),e=Q.useRef([]);const s=Q.useRef();function r(O,N){if(O<0||O>=g())return;const{onSelect:F,selectedIndex:B}=u;F(O,B,N)}function o(O){const N=g();for(let F=O+1;F<N;F++)if(!to(m(F)))return F;for(let F=0;F<O;F++)if(!to(m(F)))return F;return O}function c(O){let N=O;for(;N--;)if(!to(m(N)))return N;for(N=g();N-- >O;)if(!to(m(N)))return N;return O}function d(){const O=g();for(let N=0;N<O;N++)if(!to(m(N)))return N;return null}function p(){let O=g();for(;O--;)if(!to(m(O)))return O;return null}function g(){const{children:O}=u;return ux(O)}function m(O){return t.current[`tabs-${O}`]}function y(){let O=0;const{children:N,disabledTabClassName:F,focus:B,forceRenderTabPanel:z,selectedIndex:V,selectedTabClassName:G,selectedTabPanelClassName:et,environment:it}=u;e.current=e.current||[];let dt=e.current.length-g();const ut=Q.useId();for(;dt++<0;)e.current.push(`${ut}${e.current.length}`);return sv(N,ct=>{let ft=ct;if(em(ct)){let $=0,Z=!1;vg==null&&yN(it);const tt=it||(typeof window<"u"?window:void 0);vg&&tt&&(Z=hu.Children.toArray(ct.props.children).filter(hf).some((_t,k)=>tt.document.activeElement===m(k))),ft=Q.cloneElement(ct,{children:sv(ct.props.children,_t=>{const k=`tabs-${$}`,X=V===$,st={tabRef:at=>{t.current[k]=at},id:e.current[$],selected:X,focus:X&&(B||Z)};return G&&(st.selectedClassName=G),F&&(st.disabledClassName=F),$++,Q.cloneElement(_t,st)})})}else if(nm(ct)){const $={id:e.current[O],selected:V===O};z&&($.forceRender=z),et&&($.selectedClassName=et),O++,ft=Q.cloneElement(ct,$)}return ft})}function v(O){const{direction:N,disableUpDownKeys:F,disableLeftRightKeys:B}=u;if(A(O.target)){let{selectedIndex:z}=u,V=!1,G=!1;(O.code==="Space"||O.keyCode===32||O.code==="Enter"||O.keyCode===13)&&(V=!0,G=!1,S(O)),!B&&(O.keyCode===37||O.code==="ArrowLeft")||!F&&(O.keyCode===38||O.code==="ArrowUp")?(N==="rtl"?z=o(z):z=c(z),V=!0,G=!0):!B&&(O.keyCode===39||O.code==="ArrowRight")||!F&&(O.keyCode===40||O.code==="ArrowDown")?(N==="rtl"?z=c(z):z=o(z),V=!0,G=!0):O.keyCode===35||O.code==="End"?(z=p(),V=!0,G=!0):(O.keyCode===36||O.code==="Home")&&(z=d(),V=!0,G=!0),V&&O.preventDefault(),G&&r(z,O)}}function S(O){let N=O.target;do if(A(N)){if(to(N))return;const F=[].slice.call(N.parentNode.children).filter(fw).indexOf(N);r(F,O);return}while((N=N.parentNode)!=null)}function A(O){if(!fw(O))return!1;let N=O.parentElement;do{if(N===s.current)return!0;if(N.getAttribute("data-rttabs"))break;N=N.parentElement}while(N);return!1}const w=Object.assign({},vN,u),{className:M,domRef:R}=w,P=bN(w,mN);return hu.createElement("div",Object.assign({},P,{className:Or(M),onClick:S,onKeyDown:v,ref:O=>{s.current=O,R&&R(O)},"data-rttabs":!0}),y())},_N=["children","defaultFocus","defaultIndex","focusTabOnClick","onSelect"];function EN(u,t){if(u==null)return{};var e={};for(var s in u)if({}.hasOwnProperty.call(u,s)){if(t.includes(s))continue;e[s]=u[s]}return e}const wN=0,lg=1,TN={children:cx,onSelect:pN,selectedIndex:gN},xN={defaultFocus:!1,focusTabOnClick:!0,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1,disableLeftRightKeys:!1},CN=u=>u.selectedIndex===null?lg:wN,dx=u=>{lx.checkPropTypes(TN,u,"prop","Tabs");const t=Object.assign({},xN,u),{children:e,defaultFocus:s,defaultIndex:r,focusTabOnClick:o,onSelect:c}=t,d=EN(t,_N),[p,g]=Q.useState(s),[m]=Q.useState(CN(d)),[y,v]=Q.useState(m===lg?r||0:null);if(Q.useEffect(()=>{g(!1)},[]),m===lg){const w=ux(e);Q.useEffect(()=>{if(y!=null){const M=Math.max(0,w-1);v(Math.min(y,M))}},[w])}const S=(w,M,R)=>{typeof c=="function"&&c(w,M,R)===!1||(o&&g(!0),m===lg&&v(w))};let A=Object.assign({},u,d);return A.focus=p,A.onSelect=S,y!=null&&(A.selectedIndex=y),delete A.defaultFocus,delete A.defaultIndex,delete A.focusTabOnClick,hu.createElement(SN,A,e)};dx.tabsRole="Tabs";const RN=["children","className"];function MN(u,t){if(u==null)return{};var e={};for(var s in u)if({}.hasOwnProperty.call(u,s)){if(t.includes(s))continue;e[s]=u[s]}return e}const ON={className:"react-tabs__tab-list"},fx=u=>{const t=Object.assign({},ON,u),{children:e,className:s}=t,r=MN(t,RN);return hu.createElement("ul",Object.assign({},r,{className:Or(s),role:"tablist"}),e)};fx.tabsRole="TabList";const DN=["children","className","disabled","disabledClassName","focus","id","selected","selectedClassName","tabIndex","tabRef"];function LN(u,t){if(u==null)return{};var e={};for(var s in u)if({}.hasOwnProperty.call(u,s)){if(t.includes(s))continue;e[s]=u[s]}return e}const Dy="react-tabs__tab",NN={className:Dy,disabledClassName:`${Dy}--disabled`,focus:!1,id:null,selected:!1,selectedClassName:`${Dy}--selected`},cg=u=>{let t=Q.useRef();const e=Object.assign({},NN,u),{children:s,className:r,disabled:o,disabledClassName:c,focus:d,id:p,selected:g,selectedClassName:m,tabIndex:y,tabRef:v}=e,S=LN(e,DN);return Q.useEffect(()=>{g&&d&&t.current.focus()},[g,d]),hu.createElement("li",Object.assign({},S,{className:Or(r,{[m]:g,[c]:o}),ref:A=>{t.current=A,v&&v(A)},role:"tab",id:`tab${p}`,"aria-selected":g?"true":"false","aria-disabled":o?"true":"false","aria-controls":`panel${p}`,tabIndex:y||(g?"0":null),"data-rttab":!0}),s)};cg.tabsRole="Tab";const kN=["children","className","forceRender","id","selected","selectedClassName"];function PN(u,t){if(u==null)return{};var e={};for(var s in u)if({}.hasOwnProperty.call(u,s)){if(t.includes(s))continue;e[s]=u[s]}return e}const pw="react-tabs__tab-panel",FN={className:pw,forceRender:!1,selectedClassName:`${pw}--selected`},ug=u=>{const t=Object.assign({},FN,u),{children:e,className:s,forceRender:r,id:o,selected:c,selectedClassName:d}=t,p=PN(t,kN);return hu.createElement("div",Object.assign({},p,{className:Or(s,{[d]:c}),role:"tabpanel",id:`panel${o}`,"aria-labelledby":`tab${o}`}),r||c?e:null)};ug.tabsRole="TabPanel";async function px(u,t,e,s,r=null){let o=JSON.parse(localStorage.getItem(u));if(o!=null){if(t in o)return o[t]}else o={},localStorage.setItem(u,JSON.stringify(o));const c=await fetch(e+s,r);if(c.ok){const d=await c.json();return o[t]=d,localStorage.setItem(u,JSON.stringify(o)),d}else return console.alert("Fetching data for "+t+" within "+u+" cache, got a weird response. Check console logs."),console.log(c),c}function gx({deployment:u,jobCompany:t}){const[e,s]=Q.useState(null),[r,o]=Q.useState(null);return Q.useEffect(()=>{const c=async()=>{const p=await fetch(u+"/get-logo-client-id",{method:"GET"});if(p.ok){const g=await p.text();s(g)}},d=async()=>{const p=await px("RADAR_CACHED_COMPANY_DOMAINS",t.toLowerCase(),u,"/get-company-domain",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company:t})});o(p.domain)};c(),d()},[]),e&&r&&L.jsx("img",{className:"company-logo",src:`https://cdn.brandfetch.io/${r}?c=${e}`,alt:t})}function jN({loading:u,deployment:t,jobTitle:e,jobCompany:s,jobDescription:r,resume:o,resumeText:c,alignmentScore:d,jobKeywords:p,highlightKeywords:g,jobKeyNotes:m,benefits:y,sponsorship:v,experienceLevel:S,salaryBracket:A,teamName:w,location:M}){const R=()=>{if(!r||u)return null;if(o){if(!d)return L.jsx("div",{className:"section-footnote",children:L.jsxs("em",{children:[L.jsx("a",{href:"#jd-section",children:"Process JD"})," to get resume alignment score."]})})}else return L.jsx("div",{className:"section-footnote",children:L.jsxs("em",{children:[L.jsx("a",{href:"#introduction-section",children:"Add resume"})," and process the JD again to get resume alignment score."]})});if(d)return L.jsxs("div",{className:"resume-alignment-score",children:["Alignment Score:",L.jsxs("b",{className:d>=80?"A alignment-score":d<80&&d>=60?"B alignment-score":d<60&&d>=40?"C alignment-score":d<40&&d>=20?"D alignment-score":"F alignment-score",children:[d,"%"]})]})},P=()=>!e||!s?null:L.jsxs("div",{id:"jd-header",children:[L.jsxs("div",{id:"jd-within-header-title",children:[L.jsx(gx,{deployment:t,jobCompany:s})," ",L.jsxs("div",{children:[e&&L.jsx("div",{id:"jd-title",children:e}),s&&L.jsx("div",{id:"jd-company",children:s})]})]}),L.jsx(R,{})]}),O=()=>s?L.jsxs("div",{id:"jd-subheader",children:[w&&L.jsxs("div",{id:"jd-team-name",children:[L.jsx("span",{children:""})," ",L.jsx("span",{children:w})]}),A&&L.jsxs("div",{id:"jd-salary-bracket",children:[L.jsx("span",{children:""})," ",L.jsx("span",{children:A})]}),S&&L.jsxs("div",{id:"jd-experience-level",children:[L.jsx("span",{children:""})," ",L.jsx("span",{children:S})]}),v&&L.jsxs("div",{id:"jd-sponsorship",children:["Visa Sponsorship: ",v?"":""]}),M&&L.jsxs("div",{id:"jd-location",children:[L.jsx("span",{children:""})," ",L.jsx("span",{children:M})]})]}):null;function N(z){return!c||!g?!1:c.toLowerCase().includes(z.toLowerCase())}const F=()=>p?L.jsxs("div",{children:[L.jsx("ul",{id:"jd-keywords-section",children:p.map((z,V)=>L.jsx("li",{className:N(z)?"jd-keyword keyword-present":"jd-keyword",children:z},V))}),g?L.jsxs("div",{className:"section-footnote",children:[L.jsx("span",{className:"jd-keyword keyword-present",children:"Green"})," indicate that the keyword was found in your resume."]}):L.jsx("div",{className:"section-footnote",children:o?L.jsxs("em",{children:[L.jsx("a",{href:"#jd-section",children:"Process JD"})," to highlight which keywords were found in your resume."]}):L.jsxs("em",{children:[L.jsx("a",{href:"#introduction-section",children:"Add resume"})," and process JD again to check which keywords were found in your resume."]})}),""]}):null,B=()=>m?L.jsxs("div",{children:[y&&L.jsxs("div",{id:"jd-benefits",children:[L.jsx("h3",{children:"  Key Benefits"}),L.jsx("ul",{children:y.map((z,V)=>L.jsx("li",{children:z},V))})]}),L.jsx("h3",{children:"  Note:"}),L.jsx("ul",{id:"jd-note",children:m.map((z,V)=>L.jsx("li",{children:z},V))})]}):null;return L.jsxs("div",{id:"job-section",children:[L.jsx(ol,{loading:u,message:"Processing the Job Description"}),L.jsx(P,{}),L.jsx(O,{}),L.jsx(F,{}),L.jsx(B,{})]})}function HN({jobTitle:u,jobCompany:t,deployment:e}){const[s,r]=Q.useState(null),[o,c]=Q.useState(null),[d,p]=Q.useState(!0);return Q.useEffect(()=>{(async()=>{const m=await px("RADAR_CACHED_COMPANY_VALUES",t.toLowerCase(),e,"/get-company-values",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({job_title:u,company:t})});r(m.values),c(m.link),p(!1)})()},[t]),L.jsx("div",{id:"company-values",className:"section-container",children:d?L.jsx("div",{style:{margin:"1% 0"},children:L.jsx(ol,{loading:d,message:"Fetching company values..."})}):L.jsxs("div",{children:[L.jsxs("div",{id:"company-values-redirect",children:[L.jsx("h2",{children:"Core Values"}),L.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer",children:""})]}),s.map((g,m)=>L.jsxs("div",{className:"company-value-item",children:[L.jsx("div",{children:L.jsx("strong",{children:g.value_name})}),L.jsx("div",{children:L.jsx("em",{children:g.value_explanation})}),L.jsx("ul",{children:g.value_usage_recommendations_in_interview.map((y,v)=>L.jsx("li",{children:y},v))})]},m))]})})}const zN="/radar_frontend/assets/levelfyi-DrBVGahx.svg",UN="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%20id='Glassdoor--Streamline-Simple-Icons'%20height='24'%20width='24'%3e%3cdesc%3e%20Glassdoor%20Streamline%20Icon:%20https://streamlinehq.com%20%3c/desc%3e%3ctitle%3eGlassdoor%3c/title%3e%3cpath%20d='M14.1093%200.0006c-0.0749%20-0.0074%20-0.1348%200.0522%20-0.1348%200.127v3.451c0%200.0673%200.0537%200.1194%200.121%200.127%202.619%200.172%204.6092%200.9501%204.6092%203.6814H13.086a0.1343%200.1343%200%200%200%20-0.1348%200.1347v8.9644c0%200.0748%200.06%200.1347%200.1348%200.1347h10.0034c0.0748%200%200.1347%20-0.0599%200.1347%20-0.1347V7.342c0%20-2.2374%20-0.7996%20-4.0558%20-2.4159%20-5.3279C19.3191%200.8469%2017.0874%200.1428%2014.1093%200.0006ZM0.9107%207.387a0.1342%200.1342%200%200%200%20-0.1347%200.1347v8.9566c0%200.0748%200.06%200.1347%200.1347%200.1347h5.6189c0%202.7313%20-1.9902%203.5094%20-4.6091%203.6815%20-0.0674%200.0075%20-0.1192%200.0596%20-0.1192%200.127v3.451c0%200.0747%200.06%200.1343%200.1348%200.1269%202.9781%20-0.1422%205.2078%20-0.8463%206.6969%20-2.0136%201.6163%20-1.272%202.4159%20-3.0905%202.4159%20-5.3278V7.5217a0.1343%200.1343%200%200%200%20-0.1348%20-0.1347z'%20fill='%23187443'%20stroke-width='1'%3e%3c/path%3e%3c/svg%3e",BN="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%3e%3cpath%20d='M16%208.016A8.522%208.522%200%20008.016%2016h-.032A8.521%208.521%200%20000%208.016v-.032A8.521%208.521%200%20007.984%200h.032A8.522%208.522%200%200016%207.984v.032z'%20fill='url(%23prefix__paint0_radial_980_20147)'/%3e%3cdefs%3e%3cradialGradient%20id='prefix__paint0_radial_980_20147'%20cx='0'%20cy='0'%20r='1'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(16.1326%205.4553%20-43.70045%20129.2322%201.588%206.503)'%3e%3cstop%20offset='.067'%20stop-color='%239168C0'/%3e%3cstop%20offset='.343'%20stop-color='%235684D1'/%3e%3cstop%20offset='.672'%20stop-color='%231BA1E3'/%3e%3c/radialGradient%3e%3c/defs%3e%3c/svg%3e";function IN({jobTitle:u,jobCompany:t,deployment:e}){const[s,r]=Q.useState(!1),o=()=>L.jsxs("button",{id:"check-salaries",children:[L.jsx("img",{src:zN,alt:"Redirect to Levels.fyi",width:"60px",height:"35px"}),L.jsx("a",{href:"https://www.levels.fyi/",target:"_blank",rel:"noopener noreferrer",children:"Check Salaries"})]}),c=()=>L.jsxs("button",{id:"check-company",children:[L.jsx("img",{src:UN,alt:"Redirect to Glassdoor Review",width:"20px",height:"35px"}),L.jsx("a",{href:"https://www.glassdoor.ie/Reviews/index.htm",target:"_blank",rel:"noopener noreferrer",children:"Glassdoor Review"})]}),d=()=>L.jsxs("button",{id:"get-company-values",style:{margin:"1% 0"},onClick:()=>r(!s),children:[L.jsx("img",{src:BN,alt:"Redirect to Levels.fyi",width:"30px",height:"35px"}),s?"Hide":"Get"," Company Values"]}),p=()=>t?L.jsxs("div",{id:"company-section-header",children:[L.jsxs("div",{id:"company-section-header-title",children:[L.jsx(gx,{deployment:e,jobCompany:t})," ",L.jsx("h2",{id:"jd-company",children:t})]}),L.jsxs("div",{id:"company-section-header-buttons",children:[L.jsx(o,{}),L.jsx(c,{}),L.jsx(d,{})]})]}):null;return L.jsxs("div",{id:"company-section",children:[L.jsx(p,{}),s&&L.jsx(HN,{deployment:e,jobCompany:t,jobTitle:u})]})}function qN({resume:u,jobDescription:t,jobTitle:e,jobCompany:s,deployment:r}){const[o,c]=Q.useState(null),[d,p]=Q.useState(null),[g,m]=Q.useState(null),[y,v]=Q.useState(!1),S=async()=>{if(c(null),p(null),u===null){alert("Please upload a resume first.");return}else if(t===""){alert("Please enter a job description and process it first.");return}else if(e===""||s===""){alert("Please process the job description first");return}v(!0);const A=new FormData;A.append("resume",u),A.append("jd",t),A.append("position",e),A.append("company",s),A.append("context",g);const w=await fetch(r+"/generate-additional-msg",{method:"POST",body:A});if(w.ok){const M=await w.json();console.log("Additional message generated:",M.additional_msg),c(M.additional_msg),p(M.improvements)}else console.log("Error generating additional message"),console.log(w.json().then(M=>console.log(M.error)));v(!1)};return L.jsxs("div",{id:"additional-msg-section",children:[L.jsx("h3",{children:"Additional message with your application"}),L.jsxs("div",{children:[L.jsx("h4",{children:"Context (optional)"}),L.jsx("textarea",{rows:2,id:"additional-msg-context",placeholder:"Additional Message context",onChange:A=>m(A.target.value)})]}),"",L.jsx("button",{id:"gen-additional-msg",onClick:S,children:"Generate Additional Message"}),"",L.jsx(ol,{loading:y,message:"Generating Additional Message"}),o&&L.jsx("div",{id:"additional-msg",children:L.jsx("p",{children:o})}),o&&L.jsxs("p",{id:"additional-msg-characters-count",children:[o.length," characters"]}),d&&L.jsxs("div",{children:[L.jsx("u",{children:"Improvements for final version:"}),L.jsx("ul",{children:d.map((A,w)=>L.jsx("li",{children:A},w))})]})]})}function GN({resume:u,jobDescription:t,jobTitle:e,jobCompany:s,deployment:r}){const[o,c]=Q.useState(null),[d,p]=Q.useState(null),[g,m]=Q.useState(null),[y,v]=Q.useState(!1),S=async()=>{if(c(null),p(null),u===null){alert("Please upload a resume first.");return}else if(t===""){alert("Please enter a job description and process it first.");return}else if(e===""||s===""){alert("Please process the job description first");return}v(!0);const A=new FormData;A.append("resume",u),A.append("jd",t),A.append("position",e),A.append("company",s),A.append("context",g);const w=await fetch(r+"/generate-cover-letter",{method:"POST",body:A});if(w.ok){const M=await w.json();console.log("Cover Letter generated:",M.cover_letter),c(M.cover_letter),p(M.improvements)}else console.log("Error generating cover letter"),console.log(w.json().then(M=>console.log(M.error)));v(!1)};return L.jsxs("div",{id:"cover-letter-section",children:[L.jsx("h2",{children:"Cover Letter"}),L.jsxs("div",{children:[L.jsx("h4",{children:"Context for your cover letter (optional)"}),L.jsx("textarea",{rows:2,id:"cover-letter-context",placeholder:"Cover letter context",onChange:A=>m(A.target.value)})]}),"",L.jsx("button",{id:"gen-cover-letter",onClick:S,children:"Generate Cover Letter"}),"",L.jsx(ol,{loading:y,message:g?"Generating Cover Letter using JB, Resume and User context":"Generating Cover Letter using the Job Description and your resume"}),o&&L.jsxs("div",{id:"cover-letter",children:[L.jsx("p",{id:"cover-letter-greeting",children:o.greeting}),L.jsxs("div",{id:"cover-letter-body",children:[L.jsx("p",{children:o.opening_paragraph}),L.jsx("p",{children:o.body_paragraph}),L.jsx("p",{children:o.closing_paragraph})]}),L.jsxs("div",{id:"cover-letter-signature",children:[L.jsx("p",{children:o.sign_off}),L.jsx("p",{children:o.signature})]})]}),d&&L.jsxs("div",{id:"cover-letter-improvements",children:[L.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:" Improvements for final version:"}),L.jsx("ul",{children:d.map((A,w)=>L.jsx("li",{children:A},w))})]})]})}function VN({resume:u,jobDescription:t,jobTitle:e,jobCompany:s,deployment:r}){return L.jsxs("div",{id:"additional-docs-section",children:[L.jsxs("p",{children:["Please note, you ",L.jsx("strong",{children:"MUST NOT"})," use these generated documents directly. It has been generated based on your resume and job description via a Generative AI and it bound to have a lot of issues and will lack the personal touch of a human. Recruiters and Hiring Managers are capable of easily identifying AI generated documents.",L.jsx("br",{}),"Instead, use it as a starting point for your own document. There will be some suggestions on how to start to improve each generated document. Use them as your guide to make them your own."]}),L.jsx(GN,{resume:u,jobDescription:t,jobTitle:e,jobCompany:s,deployment:r}),"",L.jsx(qN,{resume:u,jobDescription:t,jobTitle:e,jobCompany:s,deployment:r})]})}function XN({deployment:u,setJobDescription:t,jobDescription:e,setJobTitle:s,setJobCompany:r,jobCompany:o,jobTitle:c,resume:d}){const[p,g]=Q.useState(null),[m,y]=Q.useState(null),[v,S]=Q.useState(""),[A,w]=Q.useState(null),[M,R]=Q.useState(null),[P,O]=Q.useState(null),[N,F]=Q.useState(null),[B,z]=Q.useState(null),[V,G]=Q.useState(!1),[et,it]=Q.useState(null),[dt,ut]=Q.useState(null),[ct,ft]=Q.useState(!1),[$,Z]=Q.useState(!1),tt=async()=>{if(v===""){alert("Please enter a job description.");return}if(ft(!0),R(null),g(null),y(null),r(null),s(null),t(v),d){const X=new FormData;X.append("resume",d);const st=await fetch(u+"/get-resume-text",{method:"POST",body:X});if(st.ok){Z(!0);const at=await st.text();w(at)}else alert("Failed to get resume text.")}const k=await fetch(u+"/process-job-description",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jd:v})});if(k.ok){const X=await k.json();s(X.title),r(X.company),g(X.keywords),y(X.notes),"salary_bracket"in X&&O(X.salary_bracket),"experience_level"in X&&F(X.experience_level),"visa_sponsorship"in X&&G(X.visa_sponsorship),"location"in X&&it(X.location),"benefits"in X&&ut(X.benefits),"team_name"in X&&z(X.team_name)}else alert("Failed to process job description. "+result.error),ft(!1);if(d){const X=new FormData;X.append("resume",d),X.append("jd",v),X.append("company",o),X.append("position",c);const st=await fetch(u+"/get-resume-alignment-score",{method:"POST",body:X});if(st.ok){const at=await st.json();R(at.alignment_score)}else alert("Failed to get resume alignment score. "+st.text().error),ft(!1)}ft(!1)},_t=()=>L.jsx("textarea",{id:"jd-input",rows:20,value:v,onChange:k=>S(k.target.value),placeholder:"Paste job description here...",wrap:"soft"});return L.jsxs("div",{id:"jd-section",children:[L.jsx("h2",{className:"section-heading",children:"Job Description"}),L.jsx(_t,{}),"",L.jsx("button",{onClick:tt,children:"Process Job Description"}),"",e&&L.jsxs(dx,{children:[L.jsxs(fx,{children:[L.jsx(cg,{children:"Job Details"}),L.jsx(cg,{children:"Company Details"}),L.jsx(cg,{children:"Additional Documents"})]}),L.jsx(ug,{children:L.jsx(jN,{loading:ct,deployment:u,jobTitle:c,jobCompany:o,jobDescription:e,resume:d,resumeText:A,alignmentScore:M,jobKeywords:p,highlightKeywords:$,jobKeyNotes:m,benefits:dt,sponsorship:V,experienceLevel:N,salaryBracket:P,teamName:B,location:et})}),L.jsx(ug,{children:L.jsx(IN,{deployment:u,jobTitle:c,jobCompany:o})}),L.jsx(ug,{children:L.jsx(VN,{resume:d,jobDescription:e,jobTitle:c,jobCompany:o,deployment:u})})]})]})}function YN(){const[u,t]=Q.useState(" Initialising..."),[e,s]=Q.useState(null),[r,o]=Q.useState(null),[c,d]=Q.useState(""),[p,g]=Q.useState(null),[m,y]=Q.useState(null),v="http://localhost:4000";return Q.useEffect(()=>{async function S(){try{const A=await xe.get(v+"/hello-server");A.status===200?(t(" Online"),console.log("RaDAR Online!")):console.log("This is weird. Server status: "+A)}catch(A){t(" Offline"),alert("Server response: "+A+". Report back to the developer.")}}S()},[]),L.jsxs("div",{children:[L.jsx(cN,{serverStatus:u}),L.jsx(oN,{deployment:v,setResume:s,resume:e,setResumeUrl:o,resumeUrl:r}),L.jsx(XN,{deployment:v,setJobDescription:d,jobDescription:c,setJobTitle:g,jobTitle:p,setJobCompany:y,jobCompany:m,resume:e})," ",L.jsx(lN,{deployment:v})]})}VR.createRoot(document.getElementById("root")).render(L.jsx(Q.StrictMode,{children:L.jsx(YN,{})}));
