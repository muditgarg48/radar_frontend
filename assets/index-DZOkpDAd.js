var bD=Object.defineProperty;var tw=o=>{throw TypeError(o)};var vD=(o,t,e)=>t in o?bD(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var xt=(o,t,e)=>vD(o,typeof t!="symbol"?t+"":t,e),zb=(o,t,e)=>t.has(o)||tw("Cannot "+e);var d=(o,t,e)=>(zb(o,t,"read from private field"),e?e.call(o):t.get(o)),C=(o,t,e)=>t.has(o)?tw("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(o):t.set(o,e),E=(o,t,e,i)=>(zb(o,t,"write to private field"),i?i.call(o,e):t.set(o,e),e),x=(o,t,e)=>(zb(o,t,"access private method"),e);var wn=(o,t,e,i)=>({set _(a){E(o,t,a,e)},get _(){return d(o,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function Y0(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Ub={exports:{}},Rh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ew;function AD(){if(ew)return Rh;ew=1;var o=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:o,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Rh.Fragment=t,Rh.jsx=e,Rh.jsxs=e,Rh}var nw;function SD(){return nw||(nw=1,Ub.exports=AD()),Ub.exports}var L=SD(),Ib={exports:{}},Lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iw;function _D(){if(iw)return Lt;iw=1;var o=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.iterator;function v(j){return j===null||typeof j!="object"?null:(j=b&&j[b]||j["@@iterator"],typeof j=="function"?j:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function M(j,Q,ot){this.props=j,this.context=Q,this.refs=w,this.updater=ot||A}M.prototype.isReactComponent={},M.prototype.setState=function(j,Q){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Q,"setState")},M.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function T(){}T.prototype=M.prototype;function P(j,Q,ot){this.props=j,this.context=Q,this.refs=w,this.updater=ot||A}var O=P.prototype=new T;O.constructor=P,S(O,M.prototype),O.isPureReactComponent=!0;var D=Array.isArray,k={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function B(j,Q,ot,at,st,Et){return ot=Et.ref,{$$typeof:o,type:j,key:Q,ref:ot!==void 0?ot:null,props:Et}}function V(j,Q){return B(j.type,Q,void 0,void 0,void 0,j.props)}function U(j){return typeof j=="object"&&j!==null&&j.$$typeof===o}function W(j){var Q={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ot){return Q[ot]})}var tt=/\/+/g;function ct(j,Q){return typeof j=="object"&&j!==null&&j.key!=null?W(""+j.key):Q.toString(36)}function ut(){}function ht(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(ut,ut):(j.status="pending",j.then(function(Q){j.status==="pending"&&(j.status="fulfilled",j.value=Q)},function(Q){j.status==="pending"&&(j.status="rejected",j.reason=Q)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function pt(j,Q,ot,at,st){var Et=typeof j;(Et==="undefined"||Et==="boolean")&&(j=null);var gt=!1;if(j===null)gt=!0;else switch(Et){case"bigint":case"string":case"number":gt=!0;break;case"object":switch(j.$$typeof){case o:case t:gt=!0;break;case m:return gt=j._init,pt(gt(j._payload),Q,ot,at,st)}}if(gt)return st=st(j),gt=at===""?"."+ct(j,0):at,D(st)?(ot="",gt!=null&&(ot=gt.replace(tt,"$&/")+"/"),pt(st,Q,ot,"",function(Vt){return Vt})):st!=null&&(U(st)&&(st=V(st,ot+(st.key==null||j&&j.key===st.key?"":(""+st.key).replace(tt,"$&/")+"/")+gt)),Q.push(st)),1;gt=0;var wt=at===""?".":at+":";if(D(j))for(var Ot=0;Ot<j.length;Ot++)at=j[Ot],Et=wt+ct(at,Ot),gt+=pt(at,Q,ot,Et,st);else if(Ot=v(j),typeof Ot=="function")for(j=Ot.call(j),Ot=0;!(at=j.next()).done;)at=at.value,Et=wt+ct(at,Ot++),gt+=pt(at,Q,ot,Et,st);else if(Et==="object"){if(typeof j.then=="function")return pt(ht(j),Q,ot,at,st);throw Q=String(j),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return gt}function Y(j,Q,ot){if(j==null)return j;var at=[],st=0;return pt(j,at,"","",function(Et){return Q.call(ot,Et,st++)}),at}function J(j){if(j._status===-1){var Q=j._result;Q=Q(),Q.then(function(ot){(j._status===0||j._status===-1)&&(j._status=1,j._result=ot)},function(ot){(j._status===0||j._status===-1)&&(j._status=2,j._result=ot)}),j._status===-1&&(j._status=0,j._result=Q)}if(j._status===1)return j._result.default;throw j._result}var et=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function _t(){}return Lt.Children={map:Y,forEach:function(j,Q,ot){Y(j,function(){Q.apply(this,arguments)},ot)},count:function(j){var Q=0;return Y(j,function(){Q++}),Q},toArray:function(j){return Y(j,function(Q){return Q})||[]},only:function(j){if(!U(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Lt.Component=M,Lt.Fragment=e,Lt.Profiler=a,Lt.PureComponent=P,Lt.StrictMode=i,Lt.Suspense=f,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Lt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Lt.cache=function(j){return function(){return j.apply(null,arguments)}},Lt.cloneElement=function(j,Q,ot){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var at=S({},j.props),st=j.key,Et=void 0;if(Q!=null)for(gt in Q.ref!==void 0&&(Et=void 0),Q.key!==void 0&&(st=""+Q.key),Q)!H.call(Q,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&Q.ref===void 0||(at[gt]=Q[gt]);var gt=arguments.length-2;if(gt===1)at.children=ot;else if(1<gt){for(var wt=Array(gt),Ot=0;Ot<gt;Ot++)wt[Ot]=arguments[Ot+2];at.children=wt}return B(j.type,st,void 0,void 0,Et,at)},Lt.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},Lt.createElement=function(j,Q,ot){var at,st={},Et=null;if(Q!=null)for(at in Q.key!==void 0&&(Et=""+Q.key),Q)H.call(Q,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(st[at]=Q[at]);var gt=arguments.length-2;if(gt===1)st.children=ot;else if(1<gt){for(var wt=Array(gt),Ot=0;Ot<gt;Ot++)wt[Ot]=arguments[Ot+2];st.children=wt}if(j&&j.defaultProps)for(at in gt=j.defaultProps,gt)st[at]===void 0&&(st[at]=gt[at]);return B(j,Et,void 0,void 0,null,st)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(j){return{$$typeof:h,render:j}},Lt.isValidElement=U,Lt.lazy=function(j){return{$$typeof:m,_payload:{_status:-1,_result:j},_init:J}},Lt.memo=function(j,Q){return{$$typeof:g,type:j,compare:Q===void 0?null:Q}},Lt.startTransition=function(j){var Q=k.T,ot={};k.T=ot;try{var at=j(),st=k.S;st!==null&&st(ot,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(_t,et)}catch(Et){et(Et)}finally{k.T=Q}},Lt.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Lt.use=function(j){return k.H.use(j)},Lt.useActionState=function(j,Q,ot){return k.H.useActionState(j,Q,ot)},Lt.useCallback=function(j,Q){return k.H.useCallback(j,Q)},Lt.useContext=function(j){return k.H.useContext(j)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(j,Q){return k.H.useDeferredValue(j,Q)},Lt.useEffect=function(j,Q){return k.H.useEffect(j,Q)},Lt.useId=function(){return k.H.useId()},Lt.useImperativeHandle=function(j,Q,ot){return k.H.useImperativeHandle(j,Q,ot)},Lt.useInsertionEffect=function(j,Q){return k.H.useInsertionEffect(j,Q)},Lt.useLayoutEffect=function(j,Q){return k.H.useLayoutEffect(j,Q)},Lt.useMemo=function(j,Q){return k.H.useMemo(j,Q)},Lt.useOptimistic=function(j,Q){return k.H.useOptimistic(j,Q)},Lt.useReducer=function(j,Q,ot){return k.H.useReducer(j,Q,ot)},Lt.useRef=function(j){return k.H.useRef(j)},Lt.useState=function(j){return k.H.useState(j)},Lt.useSyncExternalStore=function(j,Q,ot){return k.H.useSyncExternalStore(j,Q,ot)},Lt.useTransition=function(){return k.H.useTransition()},Lt.version="19.0.0",Lt}var sw;function Ef(){return sw||(sw=1,Ib.exports=_D()),Ib.exports}var it=Ef();const xu=Y0(it);var Bb={exports:{}},Mh={},qb={exports:{}},Gb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aw;function ED(){return aw||(aw=1,function(o){function t(Y,J){var et=Y.length;Y.push(J);t:for(;0<et;){var _t=et-1>>>1,j=Y[_t];if(0<a(j,J))Y[_t]=J,Y[et]=j,et=_t;else break t}}function e(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var J=Y[0],et=Y.pop();if(et!==J){Y[0]=et;t:for(var _t=0,j=Y.length,Q=j>>>1;_t<Q;){var ot=2*(_t+1)-1,at=Y[ot],st=ot+1,Et=Y[st];if(0>a(at,et))st<j&&0>a(Et,at)?(Y[_t]=Et,Y[st]=et,_t=st):(Y[_t]=at,Y[ot]=et,_t=ot);else if(st<j&&0>a(Et,et))Y[_t]=Et,Y[st]=et,_t=st;else break t}}return J}function a(Y,J){var et=Y.sortIndex-J.sortIndex;return et!==0?et:Y.id-J.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;o.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();o.unstable_now=function(){return c.now()-h}}var f=[],g=[],m=1,b=null,v=3,A=!1,S=!1,w=!1,M=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function O(Y){for(var J=e(g);J!==null;){if(J.callback===null)i(g);else if(J.startTime<=Y)i(g),J.sortIndex=J.expirationTime,t(f,J);else break;J=e(g)}}function D(Y){if(w=!1,O(Y),!S)if(e(f)!==null)S=!0,ht();else{var J=e(g);J!==null&&pt(D,J.startTime-Y)}}var k=!1,H=-1,B=5,V=-1;function U(){return!(o.unstable_now()-V<B)}function W(){if(k){var Y=o.unstable_now();V=Y;var J=!0;try{t:{S=!1,w&&(w=!1,T(H),H=-1),A=!0;var et=v;try{e:{for(O(Y),b=e(f);b!==null&&!(b.expirationTime>Y&&U());){var _t=b.callback;if(typeof _t=="function"){b.callback=null,v=b.priorityLevel;var j=_t(b.expirationTime<=Y);if(Y=o.unstable_now(),typeof j=="function"){b.callback=j,O(Y),J=!0;break e}b===e(f)&&i(f),O(Y)}else i(f);b=e(f)}if(b!==null)J=!0;else{var Q=e(g);Q!==null&&pt(D,Q.startTime-Y),J=!1}}break t}finally{b=null,v=et,A=!1}J=void 0}}finally{J?tt():k=!1}}}var tt;if(typeof P=="function")tt=function(){P(W)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,ut=ct.port2;ct.port1.onmessage=W,tt=function(){ut.postMessage(null)}}else tt=function(){M(W,0)};function ht(){k||(k=!0,tt())}function pt(Y,J){H=M(function(){Y(o.unstable_now())},J)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(Y){Y.callback=null},o.unstable_continueExecution=function(){S||A||(S=!0,ht())},o.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<Y?Math.floor(1e3/Y):5},o.unstable_getCurrentPriorityLevel=function(){return v},o.unstable_getFirstCallbackNode=function(){return e(f)},o.unstable_next=function(Y){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var et=v;v=J;try{return Y()}finally{v=et}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(Y,J){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var et=v;v=Y;try{return J()}finally{v=et}},o.unstable_scheduleCallback=function(Y,J,et){var _t=o.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?_t+et:_t):et=_t,Y){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=et+j,Y={id:m++,callback:J,priorityLevel:Y,startTime:et,expirationTime:j,sortIndex:-1},et>_t?(Y.sortIndex=et,t(g,Y),e(f)===null&&Y===e(g)&&(w?(T(H),H=-1):w=!0,pt(D,et-_t))):(Y.sortIndex=j,t(f,Y),S||A||(S=!0,ht())),Y},o.unstable_shouldYield=U,o.unstable_wrapCallback=function(Y){var J=v;return function(){var et=v;v=J;try{return Y.apply(this,arguments)}finally{v=et}}}}(Gb)),Gb}var rw;function wD(){return rw||(rw=1,qb.exports=ED()),qb.exports}var Vb={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ow;function xD(){if(ow)return dn;ow=1;var o=Ef();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)g+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,g,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:f,containerInfo:g,implementation:m}}var c=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,dn.createPortal=function(f,g){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(f,g,null,m)},dn.flushSync=function(f){var g=c.T,m=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=g,i.p=m,i.d.f()}},dn.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},dn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},dn.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var m=g.as,b=h(m,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;m==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:A}):m==="script"&&i.d.X(f,{crossOrigin:b,integrity:v,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},dn.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var m=h(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},dn.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var m=g.as,b=h(m,g.crossOrigin);i.d.L(f,m,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},dn.preloadModule=function(f,g){if(typeof f=="string")if(g){var m=h(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},dn.requestFormReset=function(f){i.d.r(f)},dn.unstable_batchedUpdates=function(f,g){return f(g)},dn.useFormState=function(f,g,m){return c.H.useFormState(f,g,m)},dn.useFormStatus=function(){return c.H.useHostTransitionStatus()},dn.version="19.0.0",dn}var lw;function TD(){if(lw)return Vb.exports;lw=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(t){console.error(t)}}return o(),Vb.exports=xD(),Vb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cw;function CD(){if(cw)return Mh;cw=1;var o=wD(),t=Ef(),e=TD();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),A=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),D=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function H(n){return n===null||typeof n!="object"?null:(n=k&&n[k]||n["@@iterator"],typeof n=="function"?n:null)}var B=Symbol.for("react.client.reference");function V(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===B?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case f:return"Fragment";case h:return"Portal";case m:return"Profiler";case g:return"StrictMode";case w:return"Suspense";case M:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case A:return(n.displayName||"Context")+".Provider";case v:return(n._context.displayName||"Context")+".Consumer";case S:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case T:return s=n.displayName||null,s!==null?s:V(n.type)||"Memo";case P:s=n._payload,n=n._init;try{return V(n(s))}catch{}}return null}var U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=Object.assign,tt,ct;function ut(n){if(tt===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);tt=s&&s[1]||"",ct=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tt+n+ct}var ht=!1;function pt(n,s){if(!n||ht)return"";ht=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch($){var G=$}Reflect.construct(n,[],nt)}else{try{nt.call()}catch($){G=$}n.call(nt.prototype)}}else{try{throw Error()}catch($){G=$}(nt=n())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch($){if($&&G&&typeof $.stack=="string")return[$.stack,G.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),_=y[0],R=y[1];if(_&&R){var N=_.split(`
`),z=R.split(`
`);for(p=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;p<z.length&&!z[p].includes("DetermineComponentFrameRoot");)p++;if(u===N.length||p===z.length)for(u=N.length-1,p=z.length-1;1<=u&&0<=p&&N[u]!==z[p];)p--;for(;1<=u&&0<=p;u--,p--)if(N[u]!==z[p]){if(u!==1||p!==1)do if(u--,p--,0>p||N[u]!==z[p]){var K=`
`+N[u].replace(" at new "," at ");return n.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",n.displayName)),K}while(1<=u&&0<=p);break}}}finally{ht=!1,Error.prepareStackTrace=r}return(r=n?n.displayName||n.name:"")?ut(r):""}function Y(n){switch(n.tag){case 26:case 27:case 5:return ut(n.type);case 16:return ut("Lazy");case 13:return ut("Suspense");case 19:return ut("SuspenseList");case 0:case 15:return n=pt(n.type,!1),n;case 11:return n=pt(n.type.render,!1),n;case 1:return n=pt(n.type,!0),n;default:return""}}function J(n){try{var s="";do s+=Y(n),n=n.return;while(n);return s}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function et(n){var s=n,r=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(r=s.return),n=s.return;while(n)}return s.tag===3?r:null}function _t(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function j(n){if(et(n)!==n)throw Error(i(188))}function Q(n){var s=n.alternate;if(!s){if(s=et(n),s===null)throw Error(i(188));return s!==n?null:n}for(var r=n,u=s;;){var p=r.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){r=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===r)return j(p),n;if(y===u)return j(p),s;y=y.sibling}throw Error(i(188))}if(r.return!==u.return)r=p,u=y;else{for(var _=!1,R=p.child;R;){if(R===r){_=!0,r=p,u=y;break}if(R===u){_=!0,u=p,r=y;break}R=R.sibling}if(!_){for(R=y.child;R;){if(R===r){_=!0,r=y,u=p;break}if(R===u){_=!0,u=y,r=p;break}R=R.sibling}if(!_)throw Error(i(189))}}if(r.alternate!==u)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?n:s}function ot(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=ot(n),s!==null)return s;n=n.sibling}return null}var at=Array.isArray,st=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Et={pending:!1,data:null,method:null,action:null},gt=[],wt=-1;function Ot(n){return{current:n}}function Vt(n){0>wt||(n.current=gt[wt],gt[wt]=null,wt--)}function St(n,s){wt++,gt[wt]=n.current,n.current=s}var cn=Ot(null),ki=Ot(null),It=Ot(null),ce=Ot(null);function we(n,s){switch(St(It,s),St(ki,n),St(cn,null),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?ME(s):0;break;default:if(n=n===8?s.parentNode:s,s=n.tagName,n=n.namespaceURI)n=ME(n),s=DE(n,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Vt(cn),St(cn,s)}function ue(){Vt(cn),Vt(ki),Vt(It)}function ss(n){n.memoizedState!==null&&St(ce,n);var s=cn.current,r=DE(s,n.type);s!==r&&(St(ki,n),St(cn,r))}function as(n){ki.current===n&&(Vt(cn),Vt(ki)),ce.current===n&&(Vt(ce),Eh._currentValue=Et)}var Du=Object.prototype.hasOwnProperty,Ou=o.unstable_scheduleCallback,Na=o.unstable_cancelCallback,Om=o.unstable_shouldYield,Lm=o.unstable_requestPaint,hi=o.unstable_now,Nm=o.unstable_getCurrentPriorityLevel,Lf=o.unstable_ImmediatePriority,Os=o.unstable_UserBlockingPriority,Ls=o.unstable_NormalPriority,Ml=o.unstable_LowPriority,Dl=o.unstable_IdlePriority,tR=o.log,eR=o.unstable_setDisableYieldValue,Lu=null,qn=null;function nR(n){if(qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(Lu,n,void 0,(n.current.flags&128)===128)}catch{}}function ka(n){if(typeof tR=="function"&&eR(n),qn&&typeof qn.setStrictMode=="function")try{qn.setStrictMode(Lu,n)}catch{}}var Gn=Math.clz32?Math.clz32:aR,iR=Math.log,sR=Math.LN2;function aR(n){return n>>>=0,n===0?32:31-(iR(n)/sR|0)|0}var Nf=128,kf=4194304;function Ir(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Pf(n,s){var r=n.pendingLanes;if(r===0)return 0;var u=0,p=n.suspendedLanes,y=n.pingedLanes,_=n.warmLanes;n=n.finishedLanes!==0;var R=r&134217727;return R!==0?(r=R&~p,r!==0?u=Ir(r):(y&=R,y!==0?u=Ir(y):n||(_=R&~_,_!==0&&(u=Ir(_))))):(R=r&~p,R!==0?u=Ir(R):y!==0?u=Ir(y):n||(_=r&~_,_!==0&&(u=Ir(_)))),u===0?0:s!==0&&s!==u&&(s&p)===0&&(p=u&-u,_=s&-s,p>=_||p===32&&(_&4194176)!==0)?s:u}function Nu(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function rR(n,s){switch(n){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SA(){var n=Nf;return Nf<<=1,(Nf&4194176)===0&&(Nf=128),n}function _A(){var n=kf;return kf<<=1,(kf&62914560)===0&&(kf=4194304),n}function km(n){for(var s=[],r=0;31>r;r++)s.push(n);return s}function ku(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function oR(n,s,r,u,p,y){var _=n.pendingLanes;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=r,n.entangledLanes&=r,n.errorRecoveryDisabledLanes&=r,n.shellSuspendCounter=0;var R=n.entanglements,N=n.expirationTimes,z=n.hiddenUpdates;for(r=_&~r;0<r;){var K=31-Gn(r),nt=1<<K;R[K]=0,N[K]=-1;var G=z[K];if(G!==null)for(z[K]=null,K=0;K<G.length;K++){var $=G[K];$!==null&&($.lane&=-536870913)}r&=~nt}u!==0&&EA(n,u,0),y!==0&&p===0&&n.tag!==0&&(n.suspendedLanes|=y&~(_&~s))}function EA(n,s,r){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-Gn(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|r&4194218}function wA(n,s){var r=n.entangledLanes|=s;for(n=n.entanglements;r;){var u=31-Gn(r),p=1<<u;p&s|n[u]&s&&(n[u]|=s),r&=~p}}function xA(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function TA(){var n=st.p;return n!==0?n:(n=window.event,n===void 0?32:$E(n.type))}function lR(n,s){var r=st.p;try{return st.p=n,s()}finally{st.p=r}}var Pa=Math.random().toString(36).slice(2),un="__reactFiber$"+Pa,On="__reactProps$"+Pa,Ol="__reactContainer$"+Pa,Pm="__reactEvents$"+Pa,cR="__reactListeners$"+Pa,uR="__reactHandles$"+Pa,CA="__reactResources$"+Pa,Pu="__reactMarker$"+Pa;function jm(n){delete n[un],delete n[On],delete n[Pm],delete n[cR],delete n[uR]}function Br(n){var s=n[un];if(s)return s;for(var r=n.parentNode;r;){if(s=r[Ol]||r[un]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(n=NE(n);n!==null;){if(r=n[un])return r;n=NE(n)}return s}n=r,r=n.parentNode}return null}function Ll(n){if(n=n[un]||n[Ol]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function ju(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function Nl(n){var s=n[CA];return s||(s=n[CA]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function qe(n){n[Pu]=!0}var RA=new Set,MA={};function qr(n,s){kl(n,s),kl(n+"Capture",s)}function kl(n,s){for(MA[n]=s,n=0;n<s.length;n++)RA.add(s[n])}var Ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),DA={},OA={};function dR(n){return Du.call(OA,n)?!0:Du.call(DA,n)?!1:hR.test(n)?OA[n]=!0:(DA[n]=!0,!1)}function jf(n,s,r){if(dR(s))if(r===null)n.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+r)}}function Ff(n,s,r){if(r===null)n.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+r)}}function ks(n,s,r,u){if(u===null)n.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttributeNS(s,r,""+u)}}function di(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function LA(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function fR(n){var s=LA(n)?"checked":"value",r=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),u=""+n[s];if(!n.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var p=r.get,y=r.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return p.call(this)},set:function(_){u=""+_,y.call(this,_)}}),Object.defineProperty(n,s,{enumerable:r.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Hf(n){n._valueTracker||(n._valueTracker=fR(n))}function NA(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var r=s.getValue(),u="";return n&&(u=LA(n)?n.checked?"true":"false":n.value),n=u,n!==r?(s.setValue(n),!0):!1}function zf(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var pR=/[\n"\\]/g;function fi(n){return n.replace(pR,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Fm(n,s,r,u,p,y,_,R){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),s!=null?_==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+di(s)):n.value!==""+di(s)&&(n.value=""+di(s)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),s!=null?Hm(n,_,di(s)):r!=null?Hm(n,_,di(r)):u!=null&&n.removeAttribute("value"),p==null&&y!=null&&(n.defaultChecked=!!y),p!=null&&(n.checked=p&&typeof p!="function"&&typeof p!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?n.name=""+di(R):n.removeAttribute("name")}function kA(n,s,r,u,p,y,_,R){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),s!=null||r!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;r=r!=null?""+di(r):"",s=s!=null?""+di(s):r,R||s===n.value||(n.value=s),n.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=R?n.checked:!!u,n.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_)}function Hm(n,s,r){s==="number"&&zf(n.ownerDocument)===n||n.defaultValue===""+r||(n.defaultValue=""+r)}function Pl(n,s,r,u){if(n=n.options,s){s={};for(var p=0;p<r.length;p++)s["$"+r[p]]=!0;for(r=0;r<n.length;r++)p=s.hasOwnProperty("$"+n[r].value),n[r].selected!==p&&(n[r].selected=p),p&&u&&(n[r].defaultSelected=!0)}else{for(r=""+di(r),s=null,p=0;p<n.length;p++){if(n[p].value===r){n[p].selected=!0,u&&(n[p].defaultSelected=!0);return}s!==null||n[p].disabled||(s=n[p])}s!==null&&(s.selected=!0)}}function PA(n,s,r){if(s!=null&&(s=""+di(s),s!==n.value&&(n.value=s),r==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=r!=null?""+di(r):""}function jA(n,s,r,u){if(s==null){if(u!=null){if(r!=null)throw Error(i(92));if(at(u)){if(1<u.length)throw Error(i(93));u=u[0]}r=u}r==null&&(r=""),s=r}r=di(s),n.defaultValue=r,u=n.textContent,u===r&&u!==""&&u!==null&&(n.value=u)}function jl(n,s){if(s){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=s;return}}n.textContent=s}var gR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function FA(n,s,r){var u=s.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,r):typeof r!="number"||r===0||gR.has(s)?s==="float"?n.cssFloat=r:n[s]=(""+r).trim():n[s]=r+"px"}function HA(n,s,r){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,r!=null){for(var u in r)!r.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&r[p]!==u&&FA(n,p,u)}else for(var y in s)s.hasOwnProperty(y)&&FA(n,y,s[y])}function zm(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Uf(n){return yR.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Um=null;function Im(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Fl=null,Hl=null;function zA(n){var s=Ll(n);if(s&&(n=s.stateNode)){var r=n[On]||null;t:switch(n=s.stateNode,s.type){case"input":if(Fm(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),s=r.name,r.type==="radio"&&s!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+fi(""+s)+'"][type="radio"]'),s=0;s<r.length;s++){var u=r[s];if(u!==n&&u.form===n.form){var p=u[On]||null;if(!p)throw Error(i(90));Fm(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<r.length;s++)u=r[s],u.form===n.form&&NA(u)}break t;case"textarea":PA(n,r.value,r.defaultValue);break t;case"select":s=r.value,s!=null&&Pl(n,!!r.multiple,s,!1)}}}var Bm=!1;function UA(n,s,r){if(Bm)return n(s,r);Bm=!0;try{var u=n(s);return u}finally{if(Bm=!1,(Fl!==null||Hl!==null)&&(Ep(),Fl&&(s=Fl,n=Hl,Hl=Fl=null,zA(s),n)))for(s=0;s<n.length;s++)zA(n[s])}}function Fu(n,s){var r=n.stateNode;if(r===null)return null;var u=r[On]||null;if(u===null)return null;r=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break t;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(i(231,s,typeof r));return r}var qm=!1;if(Ns)try{var Hu={};Object.defineProperty(Hu,"passive",{get:function(){qm=!0}}),window.addEventListener("test",Hu,Hu),window.removeEventListener("test",Hu,Hu)}catch{qm=!1}var ja=null,Gm=null,If=null;function IA(){if(If)return If;var n,s=Gm,r=s.length,u,p="value"in ja?ja.value:ja.textContent,y=p.length;for(n=0;n<r&&s[n]===p[n];n++);var _=r-n;for(u=1;u<=_&&s[r-u]===p[y-u];u++);return If=p.slice(n,1<u?1-u:void 0)}function Bf(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function qf(){return!0}function BA(){return!1}function Ln(n){function s(r,u,p,y,_){this._reactName=r,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(r=n[R],this[R]=r?r(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?qf:BA,this.isPropagationStopped=BA,this}return W(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qf)},persist:function(){},isPersistent:qf}),s}var Gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gf=Ln(Gr),zu=W({},Gr,{view:0,detail:0}),bR=Ln(zu),Vm,Xm,Uu,Vf=W({},zu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$m,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Uu&&(Uu&&n.type==="mousemove"?(Vm=n.screenX-Uu.screenX,Xm=n.screenY-Uu.screenY):Xm=Vm=0,Uu=n),Vm)},movementY:function(n){return"movementY"in n?n.movementY:Xm}}),qA=Ln(Vf),vR=W({},Vf,{dataTransfer:0}),AR=Ln(vR),SR=W({},zu,{relatedTarget:0}),Ym=Ln(SR),_R=W({},Gr,{animationName:0,elapsedTime:0,pseudoElement:0}),ER=Ln(_R),wR=W({},Gr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),xR=Ln(wR),TR=W({},Gr,{data:0}),GA=Ln(TR),CR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DR(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=MR[n])?!!s[n]:!1}function $m(){return DR}var OR=W({},zu,{key:function(n){if(n.key){var s=CR[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Bf(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?RR[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$m,charCode:function(n){return n.type==="keypress"?Bf(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Bf(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),LR=Ln(OR),NR=W({},Vf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),VA=Ln(NR),kR=W({},zu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$m}),PR=Ln(kR),jR=W({},Gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),FR=Ln(jR),HR=W({},Vf,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),zR=Ln(HR),UR=W({},Gr,{newState:0,oldState:0}),IR=Ln(UR),BR=[9,13,27,32],Km=Ns&&"CompositionEvent"in window,Iu=null;Ns&&"documentMode"in document&&(Iu=document.documentMode);var qR=Ns&&"TextEvent"in window&&!Iu,XA=Ns&&(!Km||Iu&&8<Iu&&11>=Iu),YA=" ",$A=!1;function KA(n,s){switch(n){case"keyup":return BR.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WA(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var zl=!1;function GR(n,s){switch(n){case"compositionend":return WA(s);case"keypress":return s.which!==32?null:($A=!0,YA);case"textInput":return n=s.data,n===YA&&$A?null:n;default:return null}}function VR(n,s){if(zl)return n==="compositionend"||!Km&&KA(n,s)?(n=IA(),If=Gm=ja=null,zl=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return XA&&s.locale!=="ko"?null:s.data;default:return null}}var XR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QA(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!XR[n.type]:s==="textarea"}function ZA(n,s,r,u){Fl?Hl?Hl.push(u):Hl=[u]:Fl=u,s=Rp(s,"onChange"),0<s.length&&(r=new Gf("onChange","change",null,r,u),n.push({event:r,listeners:s}))}var Bu=null,qu=null;function YR(n){wE(n,0)}function Xf(n){var s=ju(n);if(NA(s))return n}function JA(n,s){if(n==="change")return s}var tS=!1;if(Ns){var Wm;if(Ns){var Qm="oninput"in document;if(!Qm){var eS=document.createElement("div");eS.setAttribute("oninput","return;"),Qm=typeof eS.oninput=="function"}Wm=Qm}else Wm=!1;tS=Wm&&(!document.documentMode||9<document.documentMode)}function nS(){Bu&&(Bu.detachEvent("onpropertychange",iS),qu=Bu=null)}function iS(n){if(n.propertyName==="value"&&Xf(qu)){var s=[];ZA(s,qu,n,Im(n)),UA(YR,s)}}function $R(n,s,r){n==="focusin"?(nS(),Bu=s,qu=r,Bu.attachEvent("onpropertychange",iS)):n==="focusout"&&nS()}function KR(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Xf(qu)}function WR(n,s){if(n==="click")return Xf(s)}function QR(n,s){if(n==="input"||n==="change")return Xf(s)}function ZR(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Vn=typeof Object.is=="function"?Object.is:ZR;function Gu(n,s){if(Vn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var r=Object.keys(n),u=Object.keys(s);if(r.length!==u.length)return!1;for(u=0;u<r.length;u++){var p=r[u];if(!Du.call(s,p)||!Vn(n[p],s[p]))return!1}return!0}function sS(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function aS(n,s){var r=sS(n);n=0;for(var u;r;){if(r.nodeType===3){if(u=n+r.textContent.length,n<=s&&u>=s)return{node:r,offset:s-n};n=u}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=sS(r)}}function rS(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?rS(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function oS(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=zf(n.document);s instanceof n.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)n=s.contentWindow;else break;s=zf(n.document)}return s}function Zm(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function JR(n,s){var r=oS(s);s=n.focusedElem;var u=n.selectionRange;if(r!==s&&s&&s.ownerDocument&&rS(s.ownerDocument.documentElement,s)){if(u!==null&&Zm(s)){if(n=u.start,r=u.end,r===void 0&&(r=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(r,s.value.length);else if(r=(n=s.ownerDocument||document)&&n.defaultView||window,r.getSelection){r=r.getSelection();var p=s.textContent.length,y=Math.min(u.start,p);u=u.end===void 0?y:Math.min(u.end,p),!r.extend&&y>u&&(p=u,u=y,y=p),p=aS(s,y);var _=aS(s,u);p&&_&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(n=n.createRange(),n.setStart(p.node,p.offset),r.removeAllRanges(),y>u?(r.addRange(n),r.extend(_.node,_.offset)):(n.setEnd(_.node,_.offset),r.addRange(n)))}}for(n=[],r=s;r=r.parentNode;)r.nodeType===1&&n.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)r=n[s],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var tM=Ns&&"documentMode"in document&&11>=document.documentMode,Ul=null,Jm=null,Vu=null,ty=!1;function lS(n,s,r){var u=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ty||Ul==null||Ul!==zf(u)||(u=Ul,"selectionStart"in u&&Zm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Vu&&Gu(Vu,u)||(Vu=u,u=Rp(Jm,"onSelect"),0<u.length&&(s=new Gf("onSelect","select",null,s,r),n.push({event:s,listeners:u}),s.target=Ul)))}function Vr(n,s){var r={};return r[n.toLowerCase()]=s.toLowerCase(),r["Webkit"+n]="webkit"+s,r["Moz"+n]="moz"+s,r}var Il={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},ey={},cS={};Ns&&(cS=document.createElement("div").style,"AnimationEvent"in window||(delete Il.animationend.animation,delete Il.animationiteration.animation,delete Il.animationstart.animation),"TransitionEvent"in window||delete Il.transitionend.transition);function Xr(n){if(ey[n])return ey[n];if(!Il[n])return n;var s=Il[n],r;for(r in s)if(s.hasOwnProperty(r)&&r in cS)return ey[n]=s[r];return n}var uS=Xr("animationend"),hS=Xr("animationiteration"),dS=Xr("animationstart"),eM=Xr("transitionrun"),nM=Xr("transitionstart"),iM=Xr("transitioncancel"),fS=Xr("transitionend"),pS=new Map,gS="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Pi(n,s){pS.set(n,s),qr(s,[n])}var pi=[],Bl=0,ny=0;function Yf(){for(var n=Bl,s=ny=Bl=0;s<n;){var r=pi[s];pi[s++]=null;var u=pi[s];pi[s++]=null;var p=pi[s];pi[s++]=null;var y=pi[s];if(pi[s++]=null,u!==null&&p!==null){var _=u.pending;_===null?p.next=p:(p.next=_.next,_.next=p),u.pending=p}y!==0&&mS(r,p,y)}}function $f(n,s,r,u){pi[Bl++]=n,pi[Bl++]=s,pi[Bl++]=r,pi[Bl++]=u,ny|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function iy(n,s,r,u){return $f(n,s,r,u),Kf(n)}function Fa(n,s){return $f(n,null,null,s),Kf(n)}function mS(n,s,r){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r);for(var p=!1,y=n.return;y!==null;)y.childLanes|=r,u=y.alternate,u!==null&&(u.childLanes|=r),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(p=!0)),n=y,y=y.return;p&&s!==null&&n.tag===3&&(y=n.stateNode,p=31-Gn(r),y=y.hiddenUpdates,n=y[p],n===null?y[p]=[s]:n.push(s),s.lane=r|536870912)}function Kf(n){if(50<mh)throw mh=0,cb=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var ql={},yS=new WeakMap;function gi(n,s){if(typeof n=="object"&&n!==null){var r=yS.get(n);return r!==void 0?r:(s={value:n,source:s,stack:J(s)},yS.set(n,s),s)}return{value:n,source:s,stack:J(s)}}var Gl=[],Vl=0,Wf=null,Qf=0,mi=[],yi=0,Yr=null,Ps=1,js="";function $r(n,s){Gl[Vl++]=Qf,Gl[Vl++]=Wf,Wf=n,Qf=s}function bS(n,s,r){mi[yi++]=Ps,mi[yi++]=js,mi[yi++]=Yr,Yr=n;var u=Ps;n=js;var p=32-Gn(u)-1;u&=~(1<<p),r+=1;var y=32-Gn(s)+p;if(30<y){var _=p-p%5;y=(u&(1<<_)-1).toString(32),u>>=_,p-=_,Ps=1<<32-Gn(s)+p|r<<p|u,js=y+n}else Ps=1<<y|r<<p|u,js=n}function sy(n){n.return!==null&&($r(n,1),bS(n,1,0))}function ay(n){for(;n===Wf;)Wf=Gl[--Vl],Gl[Vl]=null,Qf=Gl[--Vl],Gl[Vl]=null;for(;n===Yr;)Yr=mi[--yi],mi[yi]=null,js=mi[--yi],mi[yi]=null,Ps=mi[--yi],mi[yi]=null}var _n=null,Je=null,Xt=!1,ji=null,rs=!1,ry=Error(i(519));function Kr(n){var s=Error(i(418,""));throw $u(gi(s,n)),ry}function vS(n){var s=n.stateNode,r=n.type,u=n.memoizedProps;switch(s[un]=n,s[On]=u,r){case"dialog":Bt("cancel",s),Bt("close",s);break;case"iframe":case"object":case"embed":Bt("load",s);break;case"video":case"audio":for(r=0;r<bh.length;r++)Bt(bh[r],s);break;case"source":Bt("error",s);break;case"img":case"image":case"link":Bt("error",s),Bt("load",s);break;case"details":Bt("toggle",s);break;case"input":Bt("invalid",s),kA(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Hf(s);break;case"select":Bt("invalid",s);break;case"textarea":Bt("invalid",s),jA(s,u.value,u.defaultValue,u.children),Hf(s)}r=u.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||s.textContent===""+r||u.suppressHydrationWarning===!0||RE(s.textContent,r)?(u.popover!=null&&(Bt("beforetoggle",s),Bt("toggle",s)),u.onScroll!=null&&Bt("scroll",s),u.onScrollEnd!=null&&Bt("scrollend",s),u.onClick!=null&&(s.onclick=Mp),s=!0):s=!1,s||Kr(n)}function AS(n){for(_n=n.return;_n;)switch(_n.tag){case 3:case 27:rs=!0;return;case 5:case 13:rs=!1;return;default:_n=_n.return}}function Xu(n){if(n!==_n)return!1;if(!Xt)return AS(n),Xt=!0,!1;var s=!1,r;if((r=n.tag!==3&&n.tag!==27)&&((r=n.tag===5)&&(r=n.type,r=!(r!=="form"&&r!=="button")||Tb(n.type,n.memoizedProps)),r=!r),r&&(s=!0),s&&Je&&Kr(n),AS(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));t:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(r=n.data,r==="/$"){if(s===0){Je=Hi(n.nextSibling);break t}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++;n=n.nextSibling}Je=null}}else Je=_n?Hi(n.stateNode.nextSibling):null;return!0}function Yu(){Je=_n=null,Xt=!1}function $u(n){ji===null?ji=[n]:ji.push(n)}var Ku=Error(i(460)),SS=Error(i(474)),oy={then:function(){}};function _S(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Zf(){}function ES(n,s,r){switch(r=n[r],r===void 0?n.push(s):r!==s&&(s.then(Zf,Zf),s=r),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,n===Ku?Error(i(483)):n;default:if(typeof s.status=="string")s.then(Zf,Zf);else{if(n=re,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,n===Ku?Error(i(483)):n}throw Wu=s,Ku}}var Wu=null;function wS(){if(Wu===null)throw Error(i(459));var n=Wu;return Wu=null,n}var Xl=null,Qu=0;function Jf(n){var s=Qu;return Qu+=1,Xl===null&&(Xl=[]),ES(Xl,n,s)}function Zu(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function tp(n,s){throw s.$$typeof===l?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function xS(n){var s=n._init;return s(n._payload)}function TS(n){function s(I,F){if(n){var q=I.deletions;q===null?(I.deletions=[F],I.flags|=16):q.push(F)}}function r(I,F){if(!n)return null;for(;F!==null;)s(I,F),F=F.sibling;return null}function u(I){for(var F=new Map;I!==null;)I.key!==null?F.set(I.key,I):F.set(I.index,I),I=I.sibling;return F}function p(I,F){return I=Ka(I,F),I.index=0,I.sibling=null,I}function y(I,F,q){return I.index=q,n?(q=I.alternate,q!==null?(q=q.index,q<F?(I.flags|=33554434,F):q):(I.flags|=33554434,F)):(I.flags|=1048576,F)}function _(I){return n&&I.alternate===null&&(I.flags|=33554434),I}function R(I,F,q,Z){return F===null||F.tag!==6?(F=eb(q,I.mode,Z),F.return=I,F):(F=p(F,q),F.return=I,F)}function N(I,F,q,Z){var ft=q.type;return ft===f?K(I,F,q.props.children,Z,q.key):F!==null&&(F.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===P&&xS(ft)===F.type)?(F=p(F,q.props),Zu(F,q),F.return=I,F):(F=bp(q.type,q.key,q.props,null,I.mode,Z),Zu(F,q),F.return=I,F)}function z(I,F,q,Z){return F===null||F.tag!==4||F.stateNode.containerInfo!==q.containerInfo||F.stateNode.implementation!==q.implementation?(F=nb(q,I.mode,Z),F.return=I,F):(F=p(F,q.children||[]),F.return=I,F)}function K(I,F,q,Z,ft){return F===null||F.tag!==7?(F=ao(q,I.mode,Z,ft),F.return=I,F):(F=p(F,q),F.return=I,F)}function nt(I,F,q){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=eb(""+F,I.mode,q),F.return=I,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case c:return q=bp(F.type,F.key,F.props,null,I.mode,q),Zu(q,F),q.return=I,q;case h:return F=nb(F,I.mode,q),F.return=I,F;case P:var Z=F._init;return F=Z(F._payload),nt(I,F,q)}if(at(F)||H(F))return F=ao(F,I.mode,q,null),F.return=I,F;if(typeof F.then=="function")return nt(I,Jf(F),q);if(F.$$typeof===A)return nt(I,gp(I,F),q);tp(I,F)}return null}function G(I,F,q,Z){var ft=F!==null?F.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ft!==null?null:R(I,F,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case c:return q.key===ft?N(I,F,q,Z):null;case h:return q.key===ft?z(I,F,q,Z):null;case P:return ft=q._init,q=ft(q._payload),G(I,F,q,Z)}if(at(q)||H(q))return ft!==null?null:K(I,F,q,Z,null);if(typeof q.then=="function")return G(I,F,Jf(q),Z);if(q.$$typeof===A)return G(I,F,gp(I,q),Z);tp(I,q)}return null}function $(I,F,q,Z,ft){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return I=I.get(q)||null,R(F,I,""+Z,ft);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case c:return I=I.get(Z.key===null?q:Z.key)||null,N(F,I,Z,ft);case h:return I=I.get(Z.key===null?q:Z.key)||null,z(F,I,Z,ft);case P:var Ft=Z._init;return Z=Ft(Z._payload),$(I,F,q,Z,ft)}if(at(Z)||H(Z))return I=I.get(q)||null,K(F,I,Z,ft,null);if(typeof Z.then=="function")return $(I,F,q,Jf(Z),ft);if(Z.$$typeof===A)return $(I,F,q,gp(F,Z),ft);tp(F,Z)}return null}function mt(I,F,q,Z){for(var ft=null,Ft=null,bt=F,At=F=0,Xe=null;bt!==null&&At<q.length;At++){bt.index>At?(Xe=bt,bt=null):Xe=bt.sibling;var Yt=G(I,bt,q[At],Z);if(Yt===null){bt===null&&(bt=Xe);break}n&&bt&&Yt.alternate===null&&s(I,bt),F=y(Yt,F,At),Ft===null?ft=Yt:Ft.sibling=Yt,Ft=Yt,bt=Xe}if(At===q.length)return r(I,bt),Xt&&$r(I,At),ft;if(bt===null){for(;At<q.length;At++)bt=nt(I,q[At],Z),bt!==null&&(F=y(bt,F,At),Ft===null?ft=bt:Ft.sibling=bt,Ft=bt);return Xt&&$r(I,At),ft}for(bt=u(bt);At<q.length;At++)Xe=$(bt,I,At,q[At],Z),Xe!==null&&(n&&Xe.alternate!==null&&bt.delete(Xe.key===null?At:Xe.key),F=y(Xe,F,At),Ft===null?ft=Xe:Ft.sibling=Xe,Ft=Xe);return n&&bt.forEach(function(nr){return s(I,nr)}),Xt&&$r(I,At),ft}function Ct(I,F,q,Z){if(q==null)throw Error(i(151));for(var ft=null,Ft=null,bt=F,At=F=0,Xe=null,Yt=q.next();bt!==null&&!Yt.done;At++,Yt=q.next()){bt.index>At?(Xe=bt,bt=null):Xe=bt.sibling;var nr=G(I,bt,Yt.value,Z);if(nr===null){bt===null&&(bt=Xe);break}n&&bt&&nr.alternate===null&&s(I,bt),F=y(nr,F,At),Ft===null?ft=nr:Ft.sibling=nr,Ft=nr,bt=Xe}if(Yt.done)return r(I,bt),Xt&&$r(I,At),ft;if(bt===null){for(;!Yt.done;At++,Yt=q.next())Yt=nt(I,Yt.value,Z),Yt!==null&&(F=y(Yt,F,At),Ft===null?ft=Yt:Ft.sibling=Yt,Ft=Yt);return Xt&&$r(I,At),ft}for(bt=u(bt);!Yt.done;At++,Yt=q.next())Yt=$(bt,I,At,Yt.value,Z),Yt!==null&&(n&&Yt.alternate!==null&&bt.delete(Yt.key===null?At:Yt.key),F=y(Yt,F,At),Ft===null?ft=Yt:Ft.sibling=Yt,Ft=Yt);return n&&bt.forEach(function(yD){return s(I,yD)}),Xt&&$r(I,At),ft}function Se(I,F,q,Z){if(typeof q=="object"&&q!==null&&q.type===f&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case c:t:{for(var ft=q.key;F!==null;){if(F.key===ft){if(ft=q.type,ft===f){if(F.tag===7){r(I,F.sibling),Z=p(F,q.props.children),Z.return=I,I=Z;break t}}else if(F.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===P&&xS(ft)===F.type){r(I,F.sibling),Z=p(F,q.props),Zu(Z,q),Z.return=I,I=Z;break t}r(I,F);break}else s(I,F);F=F.sibling}q.type===f?(Z=ao(q.props.children,I.mode,Z,q.key),Z.return=I,I=Z):(Z=bp(q.type,q.key,q.props,null,I.mode,Z),Zu(Z,q),Z.return=I,I=Z)}return _(I);case h:t:{for(ft=q.key;F!==null;){if(F.key===ft)if(F.tag===4&&F.stateNode.containerInfo===q.containerInfo&&F.stateNode.implementation===q.implementation){r(I,F.sibling),Z=p(F,q.children||[]),Z.return=I,I=Z;break t}else{r(I,F);break}else s(I,F);F=F.sibling}Z=nb(q,I.mode,Z),Z.return=I,I=Z}return _(I);case P:return ft=q._init,q=ft(q._payload),Se(I,F,q,Z)}if(at(q))return mt(I,F,q,Z);if(H(q)){if(ft=H(q),typeof ft!="function")throw Error(i(150));return q=ft.call(q),Ct(I,F,q,Z)}if(typeof q.then=="function")return Se(I,F,Jf(q),Z);if(q.$$typeof===A)return Se(I,F,gp(I,q),Z);tp(I,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,F!==null&&F.tag===6?(r(I,F.sibling),Z=p(F,q),Z.return=I,I=Z):(r(I,F),Z=eb(q,I.mode,Z),Z.return=I,I=Z),_(I)):r(I,F)}return function(I,F,q,Z){try{Qu=0;var ft=Se(I,F,q,Z);return Xl=null,ft}catch(bt){if(bt===Ku)throw bt;var Ft=Si(29,bt,null,I.mode);return Ft.lanes=Z,Ft.return=I,Ft}finally{}}}var Wr=TS(!0),CS=TS(!1),Yl=Ot(null),ep=Ot(0);function RS(n,s){n=Ys,St(ep,n),St(Yl,s),Ys=n|s.baseLanes}function ly(){St(ep,Ys),St(Yl,Yl.current)}function cy(){Ys=ep.current,Vt(Yl),Vt(ep)}var bi=Ot(null),os=null;function Ha(n){var s=n.alternate;St(Pe,Pe.current&1),St(bi,n),os===null&&(s===null||Yl.current!==null||s.memoizedState!==null)&&(os=n)}function MS(n){if(n.tag===22){if(St(Pe,Pe.current),St(bi,n),os===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(os=n)}}else za()}function za(){St(Pe,Pe.current),St(bi,bi.current)}function Fs(n){Vt(bi),os===n&&(os=null),Vt(Pe)}var Pe=Ot(0);function np(n){for(var s=n;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var sM=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(r,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(r){return r()})}},aM=o.unstable_scheduleCallback,rM=o.unstable_NormalPriority,je={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uy(){return{controller:new sM,data:new Map,refCount:0}}function Ju(n){n.refCount--,n.refCount===0&&aM(rM,function(){n.controller.abort()})}var th=null,hy=0,$l=0,Kl=null;function oM(n,s){if(th===null){var r=th=[];hy=0,$l=yb(),Kl={status:"pending",value:void 0,then:function(u){r.push(u)}}}return hy++,s.then(DS,DS),s}function DS(){if(--hy===0&&th!==null){Kl!==null&&(Kl.status="fulfilled");var n=th;th=null,$l=0,Kl=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function lM(n,s){var r=[],u={status:"pending",value:null,reason:null,then:function(p){r.push(p)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<r.length;p++)(0,r[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<r.length;p++)(0,r[p])(void 0)}),u}var OS=U.S;U.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&oM(n,s),OS!==null&&OS(n,s)};var Qr=Ot(null);function dy(){var n=Qr.current;return n!==null?n:re.pooledCache}function ip(n,s){s===null?St(Qr,Qr.current):St(Qr,s.pool)}function LS(){var n=dy();return n===null?null:{parent:je._currentValue,pool:n}}var Ua=0,Pt=null,te=null,Me=null,sp=!1,Wl=!1,Zr=!1,ap=0,eh=0,Ql=null,cM=0;function xe(){throw Error(i(321))}function fy(n,s){if(s===null)return!1;for(var r=0;r<s.length&&r<n.length;r++)if(!Vn(n[r],s[r]))return!1;return!0}function py(n,s,r,u,p,y){return Ua=y,Pt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,U.H=n===null||n.memoizedState===null?Jr:Ia,Zr=!1,y=r(u,p),Zr=!1,Wl&&(y=kS(s,r,u,p)),NS(n),y}function NS(n){U.H=ls;var s=te!==null&&te.next!==null;if(Ua=0,Me=te=Pt=null,sp=!1,eh=0,Ql=null,s)throw Error(i(300));n===null||Ge||(n=n.dependencies,n!==null&&pp(n)&&(Ge=!0))}function kS(n,s,r,u){Pt=n;var p=0;do{if(Wl&&(Ql=null),eh=0,Wl=!1,25<=p)throw Error(i(301));if(p+=1,Me=te=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}U.H=to,y=s(r,u)}while(Wl);return y}function uM(){var n=U.H,s=n.useState()[0];return s=typeof s.then=="function"?nh(s):s,n=n.useState()[0],(te!==null?te.memoizedState:null)!==n&&(Pt.flags|=1024),s}function gy(){var n=ap!==0;return ap=0,n}function my(n,s,r){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~r}function yy(n){if(sp){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}sp=!1}Ua=0,Me=te=Pt=null,Wl=!1,eh=ap=0,Ql=null}function Nn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Pt.memoizedState=Me=n:Me=Me.next=n,Me}function De(){if(te===null){var n=Pt.alternate;n=n!==null?n.memoizedState:null}else n=te.next;var s=Me===null?Pt.memoizedState:Me.next;if(s!==null)Me=s,te=n;else{if(n===null)throw Pt.alternate===null?Error(i(467)):Error(i(310));te=n,n={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Me===null?Pt.memoizedState=Me=n:Me=Me.next=n}return Me}var rp;rp=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function nh(n){var s=eh;return eh+=1,Ql===null&&(Ql=[]),n=ES(Ql,n,s),s=Pt,(Me===null?s.memoizedState:Me.next)===null&&(s=s.alternate,U.H=s===null||s.memoizedState===null?Jr:Ia),n}function op(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return nh(n);if(n.$$typeof===A)return hn(n)}throw Error(i(438,String(n)))}function by(n){var s=null,r=Pt.updateQueue;if(r!==null&&(s=r.memoCache),s==null){var u=Pt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),r===null&&(r=rp(),Pt.updateQueue=r),r.memoCache=s,r=s.data[s.index],r===void 0)for(r=s.data[s.index]=Array(n),u=0;u<n;u++)r[u]=D;return s.index++,r}function Hs(n,s){return typeof s=="function"?s(n):s}function lp(n){var s=De();return vy(s,te,n)}function vy(n,s,r){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var p=n.baseQueue,y=u.pending;if(y!==null){if(p!==null){var _=p.next;p.next=y.next,y.next=_}s.baseQueue=p=y,u.pending=null}if(y=n.baseState,p===null)n.memoizedState=y;else{s=p.next;var R=_=null,N=null,z=s,K=!1;do{var nt=z.lane&-536870913;if(nt!==z.lane?(Gt&nt)===nt:(Ua&nt)===nt){var G=z.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),nt===$l&&(K=!0);else if((Ua&G)===G){z=z.next,G===$l&&(K=!0);continue}else nt={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(R=N=nt,_=y):N=N.next=nt,Pt.lanes|=G,Wa|=G;nt=z.action,Zr&&r(y,nt),y=z.hasEagerState?z.eagerState:r(y,nt)}else G={lane:nt,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(R=N=G,_=y):N=N.next=G,Pt.lanes|=nt,Wa|=nt;z=z.next}while(z!==null&&z!==s);if(N===null?_=y:N.next=R,!Vn(y,n.memoizedState)&&(Ge=!0,K&&(r=Kl,r!==null)))throw r;n.memoizedState=y,n.baseState=_,n.baseQueue=N,u.lastRenderedState=y}return p===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Ay(n){var s=De(),r=s.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var u=r.dispatch,p=r.pending,y=s.memoizedState;if(p!==null){r.pending=null;var _=p=p.next;do y=n(y,_.action),_=_.next;while(_!==p);Vn(y,s.memoizedState)||(Ge=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),r.lastRenderedState=y}return[y,u]}function PS(n,s,r){var u=Pt,p=De(),y=Xt;if(y){if(r===void 0)throw Error(i(407));r=r()}else r=s();var _=!Vn((te||p).memoizedState,r);if(_&&(p.memoizedState=r,Ge=!0),p=p.queue,Ey(HS.bind(null,u,p,n),[n]),p.getSnapshot!==s||_||Me!==null&&Me.memoizedState.tag&1){if(u.flags|=2048,Zl(9,FS.bind(null,u,p,r,s),{destroy:void 0},null),re===null)throw Error(i(349));y||(Ua&60)!==0||jS(u,s,r)}return r}function jS(n,s,r){n.flags|=16384,n={getSnapshot:s,value:r},s=Pt.updateQueue,s===null?(s=rp(),Pt.updateQueue=s,s.stores=[n]):(r=s.stores,r===null?s.stores=[n]:r.push(n))}function FS(n,s,r,u){s.value=r,s.getSnapshot=u,zS(s)&&US(n)}function HS(n,s,r){return r(function(){zS(s)&&US(n)})}function zS(n){var s=n.getSnapshot;n=n.value;try{var r=s();return!Vn(n,r)}catch{return!0}}function US(n){var s=Fa(n,2);s!==null&&En(s,n,2)}function Sy(n){var s=Nn();if(typeof n=="function"){var r=n;if(n=r(),Zr){ka(!0);try{r()}finally{ka(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:n},s}function IS(n,s,r,u){return n.baseState=r,vy(n,te,typeof u=="function"?u:Hs)}function hM(n,s,r,u,p){if(hp(n))throw Error(i(485));if(n=s.action,n!==null){var y={payload:p,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};U.T!==null?r(!0):y.isTransition=!1,u(y),r=s.pending,r===null?(y.next=s.pending=y,BS(s,y)):(y.next=r.next,s.pending=r.next=y)}}function BS(n,s){var r=s.action,u=s.payload,p=n.state;if(s.isTransition){var y=U.T,_={};U.T=_;try{var R=r(p,u),N=U.S;N!==null&&N(_,R),qS(n,s,R)}catch(z){_y(n,s,z)}finally{U.T=y}}else try{y=r(p,u),qS(n,s,y)}catch(z){_y(n,s,z)}}function qS(n,s,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(u){GS(n,s,u)},function(u){return _y(n,s,u)}):GS(n,s,r)}function GS(n,s,r){s.status="fulfilled",s.value=r,VS(s),n.state=r,s=n.pending,s!==null&&(r=s.next,r===s?n.pending=null:(r=r.next,s.next=r,BS(n,r)))}function _y(n,s,r){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=r,VS(s),s=s.next;while(s!==u)}n.action=null}function VS(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function XS(n,s){return s}function YS(n,s){if(Xt){var r=re.formState;if(r!==null){t:{var u=Pt;if(Xt){if(Je){e:{for(var p=Je,y=rs;p.nodeType!==8;){if(!y){p=null;break e}if(p=Hi(p.nextSibling),p===null){p=null;break e}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Je=Hi(p.nextSibling),u=p.data==="F!";break t}}Kr(u)}u=!1}u&&(s=r[0])}}return r=Nn(),r.memoizedState=r.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:XS,lastRenderedState:s},r.queue=u,r=h_.bind(null,Pt,u),u.dispatch=r,u=Sy(!1),y=Ry.bind(null,Pt,!1,u.queue),u=Nn(),p={state:s,dispatch:null,action:n,pending:null},u.queue=p,r=hM.bind(null,Pt,p,y,r),p.dispatch=r,u.memoizedState=n,[s,r,!1]}function $S(n){var s=De();return KS(s,te,n)}function KS(n,s,r){s=vy(n,s,XS)[0],n=lp(Hs)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?nh(s):s;var u=De(),p=u.queue,y=p.dispatch;return r!==u.memoizedState&&(Pt.flags|=2048,Zl(9,dM.bind(null,p,r),{destroy:void 0},null)),[s,y,n]}function dM(n,s){n.action=s}function WS(n){var s=De(),r=te;if(r!==null)return KS(s,r,n);De(),s=s.memoizedState,r=De();var u=r.queue.dispatch;return r.memoizedState=n,[s,u,!1]}function Zl(n,s,r,u){return n={tag:n,create:s,inst:r,deps:u,next:null},s=Pt.updateQueue,s===null&&(s=rp(),Pt.updateQueue=s),r=s.lastEffect,r===null?s.lastEffect=n.next=n:(u=r.next,r.next=n,n.next=u,s.lastEffect=n),n}function QS(){return De().memoizedState}function cp(n,s,r,u){var p=Nn();Pt.flags|=n,p.memoizedState=Zl(1|s,r,{destroy:void 0},u===void 0?null:u)}function up(n,s,r,u){var p=De();u=u===void 0?null:u;var y=p.memoizedState.inst;te!==null&&u!==null&&fy(u,te.memoizedState.deps)?p.memoizedState=Zl(s,r,y,u):(Pt.flags|=n,p.memoizedState=Zl(1|s,r,y,u))}function ZS(n,s){cp(8390656,8,n,s)}function Ey(n,s){up(2048,8,n,s)}function JS(n,s){return up(4,2,n,s)}function t_(n,s){return up(4,4,n,s)}function e_(n,s){if(typeof s=="function"){n=n();var r=s(n);return function(){typeof r=="function"?r():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function n_(n,s,r){r=r!=null?r.concat([n]):null,up(4,4,e_.bind(null,s,n),r)}function wy(){}function i_(n,s){var r=De();s=s===void 0?null:s;var u=r.memoizedState;return s!==null&&fy(s,u[1])?u[0]:(r.memoizedState=[n,s],n)}function s_(n,s){var r=De();s=s===void 0?null:s;var u=r.memoizedState;if(s!==null&&fy(s,u[1]))return u[0];if(u=n(),Zr){ka(!0);try{n()}finally{ka(!1)}}return r.memoizedState=[u,s],u}function xy(n,s,r){return r===void 0||(Ua&1073741824)!==0?n.memoizedState=s:(n.memoizedState=r,n=rE(),Pt.lanes|=n,Wa|=n,r)}function a_(n,s,r,u){return Vn(r,s)?r:Yl.current!==null?(n=xy(n,r,u),Vn(n,s)||(Ge=!0),n):(Ua&42)===0?(Ge=!0,n.memoizedState=r):(n=rE(),Pt.lanes|=n,Wa|=n,s)}function r_(n,s,r,u,p){var y=st.p;st.p=y!==0&&8>y?y:8;var _=U.T,R={};U.T=R,Ry(n,!1,s,r);try{var N=p(),z=U.S;if(z!==null&&z(R,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var K=lM(N,u);ih(n,s,K,Kn(n))}else ih(n,s,u,Kn(n))}catch(nt){ih(n,s,{then:function(){},status:"rejected",reason:nt},Kn())}finally{st.p=y,U.T=_}}function fM(){}function Ty(n,s,r,u){if(n.tag!==5)throw Error(i(476));var p=o_(n).queue;r_(n,p,s,Et,r===null?fM:function(){return l_(n),r(u)})}function o_(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:Et,baseState:Et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:Et},next:null};var r={};return s.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:r},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function l_(n){var s=o_(n).next.queue;ih(n,s,{},Kn())}function Cy(){return hn(Eh)}function c_(){return De().memoizedState}function u_(){return De().memoizedState}function pM(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var r=Kn();n=Ga(r);var u=Va(s,n,r);u!==null&&(En(u,s,r),rh(u,s,r)),s={cache:uy()},n.payload=s;return}s=s.return}}function gM(n,s,r){var u=Kn();r={lane:u,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},hp(n)?d_(s,r):(r=iy(n,s,r,u),r!==null&&(En(r,n,u),f_(r,s,u)))}function h_(n,s,r){var u=Kn();ih(n,s,r,u)}function ih(n,s,r,u){var p={lane:u,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(hp(n))d_(s,p);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var _=s.lastRenderedState,R=y(_,r);if(p.hasEagerState=!0,p.eagerState=R,Vn(R,_))return $f(n,s,p,0),re===null&&Yf(),!1}catch{}finally{}if(r=iy(n,s,p,u),r!==null)return En(r,n,u),f_(r,s,u),!0}return!1}function Ry(n,s,r,u){if(u={lane:2,revertLane:yb(),action:u,hasEagerState:!1,eagerState:null,next:null},hp(n)){if(s)throw Error(i(479))}else s=iy(n,r,u,2),s!==null&&En(s,n,2)}function hp(n){var s=n.alternate;return n===Pt||s!==null&&s===Pt}function d_(n,s){Wl=sp=!0;var r=n.pending;r===null?s.next=s:(s.next=r.next,r.next=s),n.pending=s}function f_(n,s,r){if((r&4194176)!==0){var u=s.lanes;u&=n.pendingLanes,r|=u,s.lanes=r,wA(n,r)}}var ls={readContext:hn,use:op,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useLayoutEffect:xe,useInsertionEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useSyncExternalStore:xe,useId:xe};ls.useCacheRefresh=xe,ls.useMemoCache=xe,ls.useHostTransitionStatus=xe,ls.useFormState=xe,ls.useActionState=xe,ls.useOptimistic=xe;var Jr={readContext:hn,use:op,useCallback:function(n,s){return Nn().memoizedState=[n,s===void 0?null:s],n},useContext:hn,useEffect:ZS,useImperativeHandle:function(n,s,r){r=r!=null?r.concat([n]):null,cp(4194308,4,e_.bind(null,s,n),r)},useLayoutEffect:function(n,s){return cp(4194308,4,n,s)},useInsertionEffect:function(n,s){cp(4,2,n,s)},useMemo:function(n,s){var r=Nn();s=s===void 0?null:s;var u=n();if(Zr){ka(!0);try{n()}finally{ka(!1)}}return r.memoizedState=[u,s],u},useReducer:function(n,s,r){var u=Nn();if(r!==void 0){var p=r(s);if(Zr){ka(!0);try{r(s)}finally{ka(!1)}}}else p=s;return u.memoizedState=u.baseState=p,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:p},u.queue=n,n=n.dispatch=gM.bind(null,Pt,n),[u.memoizedState,n]},useRef:function(n){var s=Nn();return n={current:n},s.memoizedState=n},useState:function(n){n=Sy(n);var s=n.queue,r=h_.bind(null,Pt,s);return s.dispatch=r,[n.memoizedState,r]},useDebugValue:wy,useDeferredValue:function(n,s){var r=Nn();return xy(r,n,s)},useTransition:function(){var n=Sy(!1);return n=r_.bind(null,Pt,n.queue,!0,!1),Nn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,r){var u=Pt,p=Nn();if(Xt){if(r===void 0)throw Error(i(407));r=r()}else{if(r=s(),re===null)throw Error(i(349));(Gt&60)!==0||jS(u,s,r)}p.memoizedState=r;var y={value:r,getSnapshot:s};return p.queue=y,ZS(HS.bind(null,u,y,n),[n]),u.flags|=2048,Zl(9,FS.bind(null,u,y,r,s),{destroy:void 0},null),r},useId:function(){var n=Nn(),s=re.identifierPrefix;if(Xt){var r=js,u=Ps;r=(u&~(1<<32-Gn(u)-1)).toString(32)+r,s=":"+s+"R"+r,r=ap++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=cM++,s=":"+s+"r"+r.toString(32)+":";return n.memoizedState=s},useCacheRefresh:function(){return Nn().memoizedState=pM.bind(null,Pt)}};Jr.useMemoCache=by,Jr.useHostTransitionStatus=Cy,Jr.useFormState=YS,Jr.useActionState=YS,Jr.useOptimistic=function(n){var s=Nn();s.memoizedState=s.baseState=n;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=r,s=Ry.bind(null,Pt,!0,r),r.dispatch=s,[n,s]};var Ia={readContext:hn,use:op,useCallback:i_,useContext:hn,useEffect:Ey,useImperativeHandle:n_,useInsertionEffect:JS,useLayoutEffect:t_,useMemo:s_,useReducer:lp,useRef:QS,useState:function(){return lp(Hs)},useDebugValue:wy,useDeferredValue:function(n,s){var r=De();return a_(r,te.memoizedState,n,s)},useTransition:function(){var n=lp(Hs)[0],s=De().memoizedState;return[typeof n=="boolean"?n:nh(n),s]},useSyncExternalStore:PS,useId:c_};Ia.useCacheRefresh=u_,Ia.useMemoCache=by,Ia.useHostTransitionStatus=Cy,Ia.useFormState=$S,Ia.useActionState=$S,Ia.useOptimistic=function(n,s){var r=De();return IS(r,te,n,s)};var to={readContext:hn,use:op,useCallback:i_,useContext:hn,useEffect:Ey,useImperativeHandle:n_,useInsertionEffect:JS,useLayoutEffect:t_,useMemo:s_,useReducer:Ay,useRef:QS,useState:function(){return Ay(Hs)},useDebugValue:wy,useDeferredValue:function(n,s){var r=De();return te===null?xy(r,n,s):a_(r,te.memoizedState,n,s)},useTransition:function(){var n=Ay(Hs)[0],s=De().memoizedState;return[typeof n=="boolean"?n:nh(n),s]},useSyncExternalStore:PS,useId:c_};to.useCacheRefresh=u_,to.useMemoCache=by,to.useHostTransitionStatus=Cy,to.useFormState=WS,to.useActionState=WS,to.useOptimistic=function(n,s){var r=De();return te!==null?IS(r,te,n,s):(r.baseState=n,[n,r.queue.dispatch])};function My(n,s,r,u){s=n.memoizedState,r=r(u,s),r=r==null?s:W({},s,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var Dy={isMounted:function(n){return(n=n._reactInternals)?et(n)===n:!1},enqueueSetState:function(n,s,r){n=n._reactInternals;var u=Kn(),p=Ga(u);p.payload=s,r!=null&&(p.callback=r),s=Va(n,p,u),s!==null&&(En(s,n,u),rh(s,n,u))},enqueueReplaceState:function(n,s,r){n=n._reactInternals;var u=Kn(),p=Ga(u);p.tag=1,p.payload=s,r!=null&&(p.callback=r),s=Va(n,p,u),s!==null&&(En(s,n,u),rh(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var r=Kn(),u=Ga(r);u.tag=2,s!=null&&(u.callback=s),s=Va(n,u,r),s!==null&&(En(s,n,r),rh(s,n,r))}};function p_(n,s,r,u,p,y,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,y,_):s.prototype&&s.prototype.isPureReactComponent?!Gu(r,u)||!Gu(p,y):!0}function g_(n,s,r,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,u),s.state!==n&&Dy.enqueueReplaceState(s,s.state,null)}function eo(n,s){var r=s;if("ref"in s){r={};for(var u in s)u!=="ref"&&(r[u]=s[u])}if(n=n.defaultProps){r===s&&(r=W({},r));for(var p in n)r[p]===void 0&&(r[p]=n[p])}return r}var dp=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function m_(n){dp(n)}function y_(n){console.error(n)}function b_(n){dp(n)}function fp(n,s){try{var r=n.onUncaughtError;r(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function v_(n,s,r){try{var u=n.onCaughtError;u(r.value,{componentStack:r.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Oy(n,s,r){return r=Ga(r),r.tag=3,r.payload={element:null},r.callback=function(){fp(n,s)},r}function A_(n){return n=Ga(n),n.tag=3,n}function S_(n,s,r,u){var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;n.payload=function(){return p(y)},n.callback=function(){v_(s,r,u)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){v_(s,r,u),typeof p!="function"&&(Qa===null?Qa=new Set([this]):Qa.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function mM(n,s,r,u,p){if(r.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=r.alternate,s!==null&&ah(s,r,p,!0),r=bi.current,r!==null){switch(r.tag){case 13:return os===null?db():r.alternate===null&&Ae===0&&(Ae=3),r.flags&=-257,r.flags|=65536,r.lanes=p,u===oy?r.flags|=16384:(s=r.updateQueue,s===null?r.updateQueue=new Set([u]):s.add(u),pb(n,u,p)),!1;case 22:return r.flags|=65536,u===oy?r.flags|=16384:(s=r.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},r.updateQueue=s):(r=s.retryQueue,r===null?s.retryQueue=new Set([u]):r.add(u)),pb(n,u,p)),!1}throw Error(i(435,r.tag))}return pb(n,u,p),db(),!1}if(Xt)return s=bi.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==ry&&(n=Error(i(422),{cause:u}),$u(gi(n,r)))):(u!==ry&&(s=Error(i(423),{cause:u}),$u(gi(s,r))),n=n.current.alternate,n.flags|=65536,p&=-p,n.lanes|=p,u=gi(u,r),p=Oy(n.stateNode,u,p),Xy(n,p),Ae!==4&&(Ae=2)),!1;var y=Error(i(520),{cause:u});if(y=gi(y,r),ph===null?ph=[y]:ph.push(y),Ae!==4&&(Ae=2),s===null)return!0;u=gi(u,r),r=s;do{switch(r.tag){case 3:return r.flags|=65536,n=p&-p,r.lanes|=n,n=Oy(r.stateNode,u,n),Xy(r,n),!1;case 1:if(s=r.type,y=r.stateNode,(r.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Qa===null||!Qa.has(y))))return r.flags|=65536,p&=-p,r.lanes|=p,p=A_(p),S_(p,n,r,u),Xy(r,p),!1}r=r.return}while(r!==null);return!1}var __=Error(i(461)),Ge=!1;function tn(n,s,r,u){s.child=n===null?CS(s,null,r,u):Wr(s,n.child,r,u)}function E_(n,s,r,u,p){r=r.render;var y=s.ref;if("ref"in u){var _={};for(var R in u)R!=="ref"&&(_[R]=u[R])}else _=u;return io(s),u=py(n,s,r,_,y,p),R=gy(),n!==null&&!Ge?(my(n,s,p),zs(n,s,p)):(Xt&&R&&sy(s),s.flags|=1,tn(n,s,u,p),s.child)}function w_(n,s,r,u,p){if(n===null){var y=r.type;return typeof y=="function"&&!tb(y)&&y.defaultProps===void 0&&r.compare===null?(s.tag=15,s.type=y,x_(n,s,y,u,p)):(n=bp(r.type,null,u,s,s.mode,p),n.ref=s.ref,n.return=s,s.child=n)}if(y=n.child,!Uy(n,p)){var _=y.memoizedProps;if(r=r.compare,r=r!==null?r:Gu,r(_,u)&&n.ref===s.ref)return zs(n,s,p)}return s.flags|=1,n=Ka(y,u),n.ref=s.ref,n.return=s,s.child=n}function x_(n,s,r,u,p){if(n!==null){var y=n.memoizedProps;if(Gu(y,u)&&n.ref===s.ref)if(Ge=!1,s.pendingProps=u=y,Uy(n,p))(n.flags&131072)!==0&&(Ge=!0);else return s.lanes=n.lanes,zs(n,s,p)}return Ly(n,s,r,u,p)}function T_(n,s,r){var u=s.pendingProps,p=u.children,y=(s.stateNode._pendingVisibility&2)!==0,_=n!==null?n.memoizedState:null;if(sh(n,s),u.mode==="hidden"||y){if((s.flags&128)!==0){if(u=_!==null?_.baseLanes|r:r,n!==null){for(p=s.child=n.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;s.childLanes=y&~u}else s.childLanes=0,s.child=null;return C_(n,s,u,r)}if((r&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&ip(s,_!==null?_.cachePool:null),_!==null?RS(s,_):ly(),MS(s);else return s.lanes=s.childLanes=536870912,C_(n,s,_!==null?_.baseLanes|r:r,r)}else _!==null?(ip(s,_.cachePool),RS(s,_),za(),s.memoizedState=null):(n!==null&&ip(s,null),ly(),za());return tn(n,s,p,r),s.child}function C_(n,s,r,u){var p=dy();return p=p===null?null:{parent:je._currentValue,pool:p},s.memoizedState={baseLanes:r,cachePool:p},n!==null&&ip(s,null),ly(),MS(s),n!==null&&ah(n,s,u,!0),null}function sh(n,s){var r=s.ref;if(r===null)n!==null&&n.ref!==null&&(s.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(n===null||n.ref!==r)&&(s.flags|=2097664)}}function Ly(n,s,r,u,p){return io(s),r=py(n,s,r,u,void 0,p),u=gy(),n!==null&&!Ge?(my(n,s,p),zs(n,s,p)):(Xt&&u&&sy(s),s.flags|=1,tn(n,s,r,p),s.child)}function R_(n,s,r,u,p,y){return io(s),s.updateQueue=null,r=kS(s,u,r,p),NS(n),u=gy(),n!==null&&!Ge?(my(n,s,y),zs(n,s,y)):(Xt&&u&&sy(s),s.flags|=1,tn(n,s,r,y),s.child)}function M_(n,s,r,u,p){if(io(s),s.stateNode===null){var y=ql,_=r.contextType;typeof _=="object"&&_!==null&&(y=hn(_)),y=new r(u,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Dy,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=u,y.state=s.memoizedState,y.refs={},Gy(s),_=r.contextType,y.context=typeof _=="object"&&_!==null?hn(_):ql,y.state=s.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(My(s,r,_,u),y.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&Dy.enqueueReplaceState(y,y.state,null),lh(s,u,y,p),oh(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){y=s.stateNode;var R=s.memoizedProps,N=eo(r,R);y.props=N;var z=y.context,K=r.contextType;_=ql,typeof K=="object"&&K!==null&&(_=hn(K));var nt=r.getDerivedStateFromProps;K=typeof nt=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,K||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||z!==_)&&g_(s,y,u,_),qa=!1;var G=s.memoizedState;y.state=G,lh(s,u,y,p),oh(),z=s.memoizedState,R||G!==z||qa?(typeof nt=="function"&&(My(s,r,nt,u),z=s.memoizedState),(N=qa||p_(s,r,N,u,G,z,_))?(K||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=z),y.props=u,y.state=z,y.context=_,u=N):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,Vy(n,s),_=s.memoizedProps,K=eo(r,_),y.props=K,nt=s.pendingProps,G=y.context,z=r.contextType,N=ql,typeof z=="object"&&z!==null&&(N=hn(z)),R=r.getDerivedStateFromProps,(z=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==nt||G!==N)&&g_(s,y,u,N),qa=!1,G=s.memoizedState,y.state=G,lh(s,u,y,p),oh();var $=s.memoizedState;_!==nt||G!==$||qa||n!==null&&n.dependencies!==null&&pp(n.dependencies)?(typeof R=="function"&&(My(s,r,R,u),$=s.memoizedState),(K=qa||p_(s,r,K,u,G,$,N)||n!==null&&n.dependencies!==null&&pp(n.dependencies))?(z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,$,N),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,$,N)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===n.memoizedProps&&G===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&G===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=$),y.props=u,y.state=$,y.context=N,u=K):(typeof y.componentDidUpdate!="function"||_===n.memoizedProps&&G===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&G===n.memoizedState||(s.flags|=1024),u=!1)}return y=u,sh(n,s),u=(s.flags&128)!==0,y||u?(y=s.stateNode,r=u&&typeof r.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,n!==null&&u?(s.child=Wr(s,n.child,null,p),s.child=Wr(s,null,r,p)):tn(n,s,r,p),s.memoizedState=y.state,n=s.child):n=zs(n,s,p),n}function D_(n,s,r,u){return Yu(),s.flags|=256,tn(n,s,r,u),s.child}var Ny={dehydrated:null,treeContext:null,retryLane:0};function ky(n){return{baseLanes:n,cachePool:LS()}}function Py(n,s,r){return n=n!==null?n.childLanes&~r:0,s&&(n|=_i),n}function O_(n,s,r){var u=s.pendingProps,p=!1,y=(s.flags&128)!==0,_;if((_=y)||(_=n!==null&&n.memoizedState===null?!1:(Pe.current&2)!==0),_&&(p=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,n===null){if(Xt){if(p?Ha(s):za(),Xt){var R=Je,N;if(N=R){t:{for(N=R,R=rs;N.nodeType!==8;){if(!R){R=null;break t}if(N=Hi(N.nextSibling),N===null){R=null;break t}}R=N}R!==null?(s.memoizedState={dehydrated:R,treeContext:Yr!==null?{id:Ps,overflow:js}:null,retryLane:536870912},N=Si(18,null,null,0),N.stateNode=R,N.return=s,s.child=N,_n=s,Je=null,N=!0):N=!1}N||Kr(s)}if(R=s.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return R.data==="$!"?s.lanes=16:s.lanes=536870912,null;Fs(s)}return R=u.children,u=u.fallback,p?(za(),p=s.mode,R=Fy({mode:"hidden",children:R},p),u=ao(u,p,r,null),R.return=s,u.return=s,R.sibling=u,s.child=R,p=s.child,p.memoizedState=ky(r),p.childLanes=Py(n,_,r),s.memoizedState=Ny,u):(Ha(s),jy(s,R))}if(N=n.memoizedState,N!==null&&(R=N.dehydrated,R!==null)){if(y)s.flags&256?(Ha(s),s.flags&=-257,s=Hy(n,s,r)):s.memoizedState!==null?(za(),s.child=n.child,s.flags|=128,s=null):(za(),p=u.fallback,R=s.mode,u=Fy({mode:"visible",children:u.children},R),p=ao(p,R,r,null),p.flags|=2,u.return=s,p.return=s,u.sibling=p,s.child=u,Wr(s,n.child,null,r),u=s.child,u.memoizedState=ky(r),u.childLanes=Py(n,_,r),s.memoizedState=Ny,s=p);else if(Ha(s),R.data==="$!"){if(_=R.nextSibling&&R.nextSibling.dataset,_)var z=_.dgst;_=z,u=Error(i(419)),u.stack="",u.digest=_,$u({value:u,source:null,stack:null}),s=Hy(n,s,r)}else if(Ge||ah(n,s,r,!1),_=(r&n.childLanes)!==0,Ge||_){if(_=re,_!==null){if(u=r&-r,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(_.suspendedLanes|r))!==0?0:u,u!==0&&u!==N.retryLane)throw N.retryLane=u,Fa(n,u),En(_,n,u),__}R.data==="$?"||db(),s=Hy(n,s,r)}else R.data==="$?"?(s.flags|=128,s.child=n.child,s=OM.bind(null,n),R._reactRetry=s,s=null):(n=N.treeContext,Je=Hi(R.nextSibling),_n=s,Xt=!0,ji=null,rs=!1,n!==null&&(mi[yi++]=Ps,mi[yi++]=js,mi[yi++]=Yr,Ps=n.id,js=n.overflow,Yr=s),s=jy(s,u.children),s.flags|=4096);return s}return p?(za(),p=u.fallback,R=s.mode,N=n.child,z=N.sibling,u=Ka(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&31457280,z!==null?p=Ka(z,p):(p=ao(p,R,r,null),p.flags|=2),p.return=s,u.return=s,u.sibling=p,s.child=u,u=p,p=s.child,R=n.child.memoizedState,R===null?R=ky(r):(N=R.cachePool,N!==null?(z=je._currentValue,N=N.parent!==z?{parent:z,pool:z}:N):N=LS(),R={baseLanes:R.baseLanes|r,cachePool:N}),p.memoizedState=R,p.childLanes=Py(n,_,r),s.memoizedState=Ny,u):(Ha(s),r=n.child,n=r.sibling,r=Ka(r,{mode:"visible",children:u.children}),r.return=s,r.sibling=null,n!==null&&(_=s.deletions,_===null?(s.deletions=[n],s.flags|=16):_.push(n)),s.child=r,s.memoizedState=null,r)}function jy(n,s){return s=Fy({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Fy(n,s){return iE(n,s,0,null)}function Hy(n,s,r){return Wr(s,n.child,null,r),n=jy(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function L_(n,s,r){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),By(n.return,s,r)}function zy(n,s,r,u,p){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:r,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=r,y.tailMode=p)}function N_(n,s,r){var u=s.pendingProps,p=u.revealOrder,y=u.tail;if(tn(n,s,u.children,r),u=Pe.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&L_(n,r,s);else if(n.tag===19)L_(n,r,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(St(Pe,u),p){case"forwards":for(r=s.child,p=null;r!==null;)n=r.alternate,n!==null&&np(n)===null&&(p=r),r=r.sibling;r=p,r===null?(p=s.child,s.child=null):(p=r.sibling,r.sibling=null),zy(s,!1,p,r,y);break;case"backwards":for(r=null,p=s.child,s.child=null;p!==null;){if(n=p.alternate,n!==null&&np(n)===null){s.child=p;break}n=p.sibling,p.sibling=r,r=p,p=n}zy(s,!0,r,null,y);break;case"together":zy(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function zs(n,s,r){if(n!==null&&(s.dependencies=n.dependencies),Wa|=s.lanes,(r&s.childLanes)===0)if(n!==null){if(ah(n,s,r,!1),(r&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,r=Ka(n,n.pendingProps),s.child=r,r.return=s;n.sibling!==null;)n=n.sibling,r=r.sibling=Ka(n,n.pendingProps),r.return=s;r.sibling=null}return s.child}function Uy(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&pp(n)))}function yM(n,s,r){switch(s.tag){case 3:we(s,s.stateNode.containerInfo),Ba(s,je,n.memoizedState.cache),Yu();break;case 27:case 5:ss(s);break;case 4:we(s,s.stateNode.containerInfo);break;case 10:Ba(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Ha(s),s.flags|=128,null):(r&s.child.childLanes)!==0?O_(n,s,r):(Ha(s),n=zs(n,s,r),n!==null?n.sibling:null);Ha(s);break;case 19:var p=(n.flags&128)!==0;if(u=(r&s.childLanes)!==0,u||(ah(n,s,r,!1),u=(r&s.childLanes)!==0),p){if(u)return N_(n,s,r);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),St(Pe,Pe.current),u)break;return null;case 22:case 23:return s.lanes=0,T_(n,s,r);case 24:Ba(s,je,n.memoizedState.cache)}return zs(n,s,r)}function k_(n,s,r){if(n!==null)if(n.memoizedProps!==s.pendingProps)Ge=!0;else{if(!Uy(n,r)&&(s.flags&128)===0)return Ge=!1,yM(n,s,r);Ge=(n.flags&131072)!==0}else Ge=!1,Xt&&(s.flags&1048576)!==0&&bS(s,Qf,s.index);switch(s.lanes=0,s.tag){case 16:t:{n=s.pendingProps;var u=s.elementType,p=u._init;if(u=p(u._payload),s.type=u,typeof u=="function")tb(u)?(n=eo(u,n),s.tag=1,s=M_(null,s,u,n,r)):(s.tag=0,s=Ly(null,s,u,n,r));else{if(u!=null){if(p=u.$$typeof,p===S){s.tag=11,s=E_(null,s,u,n,r);break t}else if(p===T){s.tag=14,s=w_(null,s,u,n,r);break t}}throw s=V(u)||u,Error(i(306,s,""))}}return s;case 0:return Ly(n,s,s.type,s.pendingProps,r);case 1:return u=s.type,p=eo(u,s.pendingProps),M_(n,s,u,p,r);case 3:t:{if(we(s,s.stateNode.containerInfo),n===null)throw Error(i(387));var y=s.pendingProps;p=s.memoizedState,u=p.element,Vy(n,s),lh(s,y,null,r);var _=s.memoizedState;if(y=_.cache,Ba(s,je,y),y!==p.cache&&qy(s,[je],r,!0),oh(),y=_.element,p.isDehydrated)if(p={element:y,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=D_(n,s,y,r);break t}else if(y!==u){u=gi(Error(i(424)),s),$u(u),s=D_(n,s,y,r);break t}else for(Je=Hi(s.stateNode.containerInfo.firstChild),_n=s,Xt=!0,ji=null,rs=!0,r=CS(s,null,y,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Yu(),y===u){s=zs(n,s,r);break t}tn(n,s,y,r)}s=s.child}return s;case 26:return sh(n,s),n===null?(r=FE(s.type,null,s.pendingProps,null))?s.memoizedState=r:Xt||(r=s.type,n=s.pendingProps,u=Dp(It.current).createElement(r),u[un]=s,u[On]=n,en(u,r,n),qe(u),s.stateNode=u):s.memoizedState=FE(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return ss(s),n===null&&Xt&&(u=s.stateNode=kE(s.type,s.pendingProps,It.current),_n=s,rs=!0,Je=Hi(u.firstChild)),u=s.pendingProps.children,n!==null||Xt?tn(n,s,u,r):s.child=Wr(s,null,u,r),sh(n,s),s.child;case 5:return n===null&&Xt&&((p=u=Je)&&(u=YM(u,s.type,s.pendingProps,rs),u!==null?(s.stateNode=u,_n=s,Je=Hi(u.firstChild),rs=!1,p=!0):p=!1),p||Kr(s)),ss(s),p=s.type,y=s.pendingProps,_=n!==null?n.memoizedProps:null,u=y.children,Tb(p,y)?u=null:_!==null&&Tb(p,_)&&(s.flags|=32),s.memoizedState!==null&&(p=py(n,s,uM,null,null,r),Eh._currentValue=p),sh(n,s),tn(n,s,u,r),s.child;case 6:return n===null&&Xt&&((n=r=Je)&&(r=$M(r,s.pendingProps,rs),r!==null?(s.stateNode=r,_n=s,Je=null,n=!0):n=!1),n||Kr(s)),null;case 13:return O_(n,s,r);case 4:return we(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=Wr(s,null,u,r):tn(n,s,u,r),s.child;case 11:return E_(n,s,s.type,s.pendingProps,r);case 7:return tn(n,s,s.pendingProps,r),s.child;case 8:return tn(n,s,s.pendingProps.children,r),s.child;case 12:return tn(n,s,s.pendingProps.children,r),s.child;case 10:return u=s.pendingProps,Ba(s,s.type,u.value),tn(n,s,u.children,r),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,io(s),p=hn(p),u=u(p),s.flags|=1,tn(n,s,u,r),s.child;case 14:return w_(n,s,s.type,s.pendingProps,r);case 15:return x_(n,s,s.type,s.pendingProps,r);case 19:return N_(n,s,r);case 22:return T_(n,s,r);case 24:return io(s),u=hn(je),n===null?(p=dy(),p===null&&(p=re,y=uy(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=r),p=y),s.memoizedState={parent:u,cache:p},Gy(s),Ba(s,je,p)):((n.lanes&r)!==0&&(Vy(n,s),lh(s,null,null,r),oh()),p=n.memoizedState,y=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Ba(s,je,u)):(u=y.cache,Ba(s,je,u),u!==p.cache&&qy(s,[je],r,!0))),tn(n,s,s.pendingProps.children,r),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}var Iy=Ot(null),no=null,Us=null;function Ba(n,s,r){St(Iy,s._currentValue),s._currentValue=r}function Is(n){n._currentValue=Iy.current,Vt(Iy)}function By(n,s,r){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===r)break;n=n.return}}function qy(n,s,r,u){var p=n.child;for(p!==null&&(p.return=n);p!==null;){var y=p.dependencies;if(y!==null){var _=p.child;y=y.firstContext;t:for(;y!==null;){var R=y;y=p;for(var N=0;N<s.length;N++)if(R.context===s[N]){y.lanes|=r,R=y.alternate,R!==null&&(R.lanes|=r),By(y.return,r,n),u||(_=null);break t}y=R.next}}else if(p.tag===18){if(_=p.return,_===null)throw Error(i(341));_.lanes|=r,y=_.alternate,y!==null&&(y.lanes|=r),By(_,r,n),_=null}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===n){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}}function ah(n,s,r,u){n=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var _=p.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var R=p.type;Vn(p.pendingProps.value,_.value)||(n!==null?n.push(R):n=[R])}}else if(p===ce.current){if(_=p.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(n!==null?n.push(Eh):n=[Eh])}p=p.return}n!==null&&qy(s,n,r,u),s.flags|=262144}function pp(n){for(n=n.firstContext;n!==null;){if(!Vn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function io(n){no=n,Us=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function hn(n){return P_(no,n)}function gp(n,s){return no===null&&io(n),P_(n,s)}function P_(n,s){var r=s._currentValue;if(s={context:s,memoizedValue:r,next:null},Us===null){if(n===null)throw Error(i(308));Us=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Us=Us.next=s;return r}var qa=!1;function Gy(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vy(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ga(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Va(n,s,r){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(pe&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=Kf(n),mS(n,null,r),s}return $f(n,u,s,r),Kf(n)}function rh(n,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194176)!==0)){var u=s.lanes;u&=n.pendingLanes,r|=u,s.lanes=r,wA(n,r)}}function Xy(n,s){var r=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,r===u)){var p=null,y=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};y===null?p=y=_:y=y.next=_,r=r.next}while(r!==null);y===null?p=y=s:y=y.next=s}else p=y=s;r={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=s:n.next=s,r.lastBaseUpdate=s}var Yy=!1;function oh(){if(Yy){var n=Kl;if(n!==null)throw n}}function lh(n,s,r,u){Yy=!1;var p=n.updateQueue;qa=!1;var y=p.firstBaseUpdate,_=p.lastBaseUpdate,R=p.shared.pending;if(R!==null){p.shared.pending=null;var N=R,z=N.next;N.next=null,_===null?y=z:_.next=z,_=N;var K=n.alternate;K!==null&&(K=K.updateQueue,R=K.lastBaseUpdate,R!==_&&(R===null?K.firstBaseUpdate=z:R.next=z,K.lastBaseUpdate=N))}if(y!==null){var nt=p.baseState;_=0,K=z=N=null,R=y;do{var G=R.lane&-536870913,$=G!==R.lane;if($?(Gt&G)===G:(u&G)===G){G!==0&&G===$l&&(Yy=!0),K!==null&&(K=K.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var mt=n,Ct=R;G=s;var Se=r;switch(Ct.tag){case 1:if(mt=Ct.payload,typeof mt=="function"){nt=mt.call(Se,nt,G);break t}nt=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=Ct.payload,G=typeof mt=="function"?mt.call(Se,nt,G):mt,G==null)break t;nt=W({},nt,G);break t;case 2:qa=!0}}G=R.callback,G!==null&&(n.flags|=64,$&&(n.flags|=8192),$=p.callbacks,$===null?p.callbacks=[G]:$.push(G))}else $={lane:G,tag:R.tag,payload:R.payload,callback:R.callback,next:null},K===null?(z=K=$,N=nt):K=K.next=$,_|=G;if(R=R.next,R===null){if(R=p.shared.pending,R===null)break;$=R,R=$.next,$.next=null,p.lastBaseUpdate=$,p.shared.pending=null}}while(!0);K===null&&(N=nt),p.baseState=N,p.firstBaseUpdate=z,p.lastBaseUpdate=K,y===null&&(p.shared.lanes=0),Wa|=_,n.lanes=_,n.memoizedState=nt}}function j_(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function F_(n,s){var r=n.callbacks;if(r!==null)for(n.callbacks=null,n=0;n<r.length;n++)j_(r[n],s)}function ch(n,s){try{var r=s.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var p=u.next;r=p;do{if((r.tag&n)===n){u=void 0;var y=r.create,_=r.inst;u=y(),_.destroy=u}r=r.next}while(r!==p)}}catch(R){se(s,s.return,R)}}function Xa(n,s,r){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&n)===n){var _=u.inst,R=_.destroy;if(R!==void 0){_.destroy=void 0,p=s;var N=r;try{R()}catch(z){se(p,N,z)}}}u=u.next}while(u!==y)}}catch(z){se(s,s.return,z)}}function H_(n){var s=n.updateQueue;if(s!==null){var r=n.stateNode;try{F_(s,r)}catch(u){se(n,n.return,u)}}}function z_(n,s,r){r.props=eo(n.type,n.memoizedProps),r.state=n.memoizedState;try{r.componentWillUnmount()}catch(u){se(n,s,u)}}function so(n,s){try{var r=n.ref;if(r!==null){var u=n.stateNode;switch(n.tag){case 26:case 27:case 5:var p=u;break;default:p=u}typeof r=="function"?n.refCleanup=r(p):r.current=p}}catch(y){se(n,s,y)}}function Xn(n,s){var r=n.ref,u=n.refCleanup;if(r!==null)if(typeof u=="function")try{u()}catch(p){se(n,s,p)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(p){se(n,s,p)}else r.current=null}function U_(n){var s=n.type,r=n.memoizedProps,u=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":r.autoFocus&&u.focus();break t;case"img":r.src?u.src=r.src:r.srcSet&&(u.srcset=r.srcSet)}}catch(p){se(n,n.return,p)}}function I_(n,s,r){try{var u=n.stateNode;BM(u,n.type,r,s),u[On]=s}catch(p){se(n,n.return,p)}}function B_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function $y(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||B_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ky(n,s,r){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(n,s):r.insertBefore(n,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(n,r)):(s=r,s.appendChild(n)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=Mp));else if(u!==4&&u!==27&&(n=n.child,n!==null))for(Ky(n,s,r),n=n.sibling;n!==null;)Ky(n,s,r),n=n.sibling}function mp(n,s,r){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?r.insertBefore(n,s):r.appendChild(n);else if(u!==4&&u!==27&&(n=n.child,n!==null))for(mp(n,s,r),n=n.sibling;n!==null;)mp(n,s,r),n=n.sibling}var Bs=!1,ve=!1,Wy=!1,q_=typeof WeakSet=="function"?WeakSet:Set,Ve=null,G_=!1;function bM(n,s){if(n=n.containerInfo,wb=jp,n=oS(n),Zm(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else t:{r=(r=n.ownerDocument)&&r.defaultView||window;var u=r.getSelection&&r.getSelection();if(u&&u.rangeCount!==0){r=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{r.nodeType,y.nodeType}catch{r=null;break t}var _=0,R=-1,N=-1,z=0,K=0,nt=n,G=null;e:for(;;){for(var $;nt!==r||p!==0&&nt.nodeType!==3||(R=_+p),nt!==y||u!==0&&nt.nodeType!==3||(N=_+u),nt.nodeType===3&&(_+=nt.nodeValue.length),($=nt.firstChild)!==null;)G=nt,nt=$;for(;;){if(nt===n)break e;if(G===r&&++z===p&&(R=_),G===y&&++K===u&&(N=_),($=nt.nextSibling)!==null)break;nt=G,G=nt.parentNode}nt=$}r=R===-1||N===-1?null:{start:R,end:N}}else r=null}r=r||{start:0,end:0}}else r=null;for(xb={focusedElem:n,selectionRange:r},jp=!1,Ve=s;Ve!==null;)if(s=Ve,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Ve=n;else for(;Ve!==null;){switch(s=Ve,y=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,r=s,p=y.memoizedProps,y=y.memoizedState,u=r.stateNode;try{var mt=eo(r.type,p,r.elementType===r.type);n=u.getSnapshotBeforeUpdate(mt,y),u.__reactInternalSnapshotBeforeUpdate=n}catch(Ct){se(r,r.return,Ct)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,r=n.nodeType,r===9)Mb(n);else if(r===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Mb(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,Ve=n;break}Ve=s.return}return mt=G_,G_=!1,mt}function V_(n,s,r){var u=r.flags;switch(r.tag){case 0:case 11:case 15:Gs(n,r),u&4&&ch(5,r);break;case 1:if(Gs(n,r),u&4)if(n=r.stateNode,s===null)try{n.componentDidMount()}catch(R){se(r,r.return,R)}else{var p=eo(r.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(p,s,n.__reactInternalSnapshotBeforeUpdate)}catch(R){se(r,r.return,R)}}u&64&&H_(r),u&512&&so(r,r.return);break;case 3:if(Gs(n,r),u&64&&(u=r.updateQueue,u!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{F_(u,n)}catch(R){se(r,r.return,R)}}break;case 26:Gs(n,r),u&512&&so(r,r.return);break;case 27:case 5:Gs(n,r),s===null&&u&4&&U_(r),u&512&&so(r,r.return);break;case 12:Gs(n,r);break;case 13:Gs(n,r),u&4&&$_(n,r);break;case 22:if(p=r.memoizedState!==null||Bs,!p){s=s!==null&&s.memoizedState!==null||ve;var y=Bs,_=ve;Bs=p,(ve=s)&&!_?Ya(n,r,(r.subtreeFlags&8772)!==0):Gs(n,r),Bs=y,ve=_}u&512&&(r.memoizedProps.mode==="manual"?so(r,r.return):Xn(r,r.return));break;default:Gs(n,r)}}function X_(n){var s=n.alternate;s!==null&&(n.alternate=null,X_(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&jm(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Oe=null,Yn=!1;function qs(n,s,r){for(r=r.child;r!==null;)Y_(n,s,r),r=r.sibling}function Y_(n,s,r){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(Lu,r)}catch{}switch(r.tag){case 26:ve||Xn(r,s),qs(n,s,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ve||Xn(r,s);var u=Oe,p=Yn;for(Oe=r.stateNode,qs(n,s,r),r=r.stateNode,s=r.attributes;s.length;)r.removeAttributeNode(s[0]);jm(r),Oe=u,Yn=p;break;case 5:ve||Xn(r,s);case 6:p=Oe;var y=Yn;if(Oe=null,qs(n,s,r),Oe=p,Yn=y,Oe!==null)if(Yn)try{n=Oe,u=r.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)}catch(_){se(r,s,_)}else try{Oe.removeChild(r.stateNode)}catch(_){se(r,s,_)}break;case 18:Oe!==null&&(Yn?(s=Oe,r=r.stateNode,s.nodeType===8?Rb(s.parentNode,r):s.nodeType===1&&Rb(s,r),Ch(s)):Rb(Oe,r.stateNode));break;case 4:u=Oe,p=Yn,Oe=r.stateNode.containerInfo,Yn=!0,qs(n,s,r),Oe=u,Yn=p;break;case 0:case 11:case 14:case 15:ve||Xa(2,r,s),ve||Xa(4,r,s),qs(n,s,r);break;case 1:ve||(Xn(r,s),u=r.stateNode,typeof u.componentWillUnmount=="function"&&z_(r,s,u)),qs(n,s,r);break;case 21:qs(n,s,r);break;case 22:ve||Xn(r,s),ve=(u=ve)||r.memoizedState!==null,qs(n,s,r),ve=u;break;default:qs(n,s,r)}}function $_(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ch(n)}catch(r){se(s,s.return,r)}}function vM(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new q_),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new q_),s;default:throw Error(i(435,n.tag))}}function Qy(n,s){var r=vM(n);s.forEach(function(u){var p=LM.bind(null,n,u);r.has(u)||(r.add(u),u.then(p,p))})}function vi(n,s){var r=s.deletions;if(r!==null)for(var u=0;u<r.length;u++){var p=r[u],y=n,_=s,R=_;t:for(;R!==null;){switch(R.tag){case 27:case 5:Oe=R.stateNode,Yn=!1;break t;case 3:Oe=R.stateNode.containerInfo,Yn=!0;break t;case 4:Oe=R.stateNode.containerInfo,Yn=!0;break t}R=R.return}if(Oe===null)throw Error(i(160));Y_(y,_,p),Oe=null,Yn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)K_(s,n),s=s.sibling}var Fi=null;function K_(n,s){var r=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:vi(s,n),Ai(n),u&4&&(Xa(3,n,n.return),ch(3,n),Xa(5,n,n.return));break;case 1:vi(s,n),Ai(n),u&512&&(ve||r===null||Xn(r,r.return)),u&64&&Bs&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(r=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=r===null?u:r.concat(u))));break;case 26:var p=Fi;if(vi(s,n),Ai(n),u&512&&(ve||r===null||Xn(r,r.return)),u&4){var y=r!==null?r.memoizedState:null;if(u=n.memoizedState,r===null)if(u===null)if(n.stateNode===null){t:{u=n.type,r=n.memoizedProps,p=p.ownerDocument||p;e:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Pu]||y[un]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),en(y,u,r),y[un]=n,qe(y),u=y;break t;case"link":var _=UE("link","href",p).get(u+(r.href||""));if(_){for(var R=0;R<_.length;R++)if(y=_[R],y.getAttribute("href")===(r.href==null?null:r.href)&&y.getAttribute("rel")===(r.rel==null?null:r.rel)&&y.getAttribute("title")===(r.title==null?null:r.title)&&y.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(R,1);break e}}y=p.createElement(u),en(y,u,r),p.head.appendChild(y);break;case"meta":if(_=UE("meta","content",p).get(u+(r.content||""))){for(R=0;R<_.length;R++)if(y=_[R],y.getAttribute("content")===(r.content==null?null:""+r.content)&&y.getAttribute("name")===(r.name==null?null:r.name)&&y.getAttribute("property")===(r.property==null?null:r.property)&&y.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&y.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(R,1);break e}}y=p.createElement(u),en(y,u,r),p.head.appendChild(y);break;default:throw Error(i(468,u))}y[un]=n,qe(y),u=y}n.stateNode=u}else IE(p,n.type,n.stateNode);else n.stateNode=zE(p,u,n.memoizedProps);else y!==u?(y===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):y.count--,u===null?IE(p,n.type,n.stateNode):zE(p,u,n.memoizedProps)):u===null&&n.stateNode!==null&&I_(n,n.memoizedProps,r.memoizedProps)}break;case 27:if(u&4&&n.alternate===null){p=n.stateNode,y=n.memoizedProps;try{for(var N=p.firstChild;N;){var z=N.nextSibling,K=N.nodeName;N[Pu]||K==="HEAD"||K==="BODY"||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&N.rel.toLowerCase()==="stylesheet"||p.removeChild(N),N=z}for(var nt=n.type,G=p.attributes;G.length;)p.removeAttributeNode(G[0]);en(p,nt,y),p[un]=n,p[On]=y}catch(mt){se(n,n.return,mt)}}case 5:if(vi(s,n),Ai(n),u&512&&(ve||r===null||Xn(r,r.return)),n.flags&32){p=n.stateNode;try{jl(p,"")}catch(mt){se(n,n.return,mt)}}u&4&&n.stateNode!=null&&(p=n.memoizedProps,I_(n,p,r!==null?r.memoizedProps:p)),u&1024&&(Wy=!0);break;case 6:if(vi(s,n),Ai(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,r=n.stateNode;try{r.nodeValue=u}catch(mt){se(n,n.return,mt)}}break;case 3:if(Np=null,p=Fi,Fi=Op(s.containerInfo),vi(s,n),Fi=p,Ai(n),u&4&&r!==null&&r.memoizedState.isDehydrated)try{Ch(s.containerInfo)}catch(mt){se(n,n.return,mt)}Wy&&(Wy=!1,W_(n));break;case 4:u=Fi,Fi=Op(n.stateNode.containerInfo),vi(s,n),Ai(n),Fi=u;break;case 12:vi(s,n),Ai(n);break;case 13:vi(s,n),Ai(n),n.child.flags&8192&&n.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(rb=hi()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Qy(n,u)));break;case 22:if(u&512&&(ve||r===null||Xn(r,r.return)),N=n.memoizedState!==null,z=r!==null&&r.memoizedState!==null,K=Bs,nt=ve,Bs=K||N,ve=nt||z,vi(s,n),ve=nt,Bs=K,Ai(n),s=n.stateNode,s._current=n,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=N?s._visibility&-2:s._visibility|1,N&&(s=Bs||ve,r===null||z||s||Jl(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))t:for(r=null,s=n;;){if(s.tag===5||s.tag===26||s.tag===27){if(r===null){z=r=s;try{if(p=z.stateNode,N)y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{_=z.stateNode,R=z.memoizedProps.style;var $=R!=null&&R.hasOwnProperty("display")?R.display:null;_.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(mt){se(z,z.return,mt)}}}else if(s.tag===6){if(r===null){z=s;try{z.stateNode.nodeValue=N?"":z.memoizedProps}catch(mt){se(z,z.return,mt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;r===s&&(r=null),s=s.return}r===s&&(r=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(r=u.retryQueue,r!==null&&(u.retryQueue=null,Qy(n,r))));break;case 19:vi(s,n),Ai(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Qy(n,u)));break;case 21:break;default:vi(s,n),Ai(n)}}function Ai(n){var s=n.flags;if(s&2){try{if(n.tag!==27){t:{for(var r=n.return;r!==null;){if(B_(r)){var u=r;break t}r=r.return}throw Error(i(160))}switch(u.tag){case 27:var p=u.stateNode,y=$y(n);mp(n,y,p);break;case 5:var _=u.stateNode;u.flags&32&&(jl(_,""),u.flags&=-33);var R=$y(n);mp(n,R,_);break;case 3:case 4:var N=u.stateNode.containerInfo,z=$y(n);Ky(n,z,N);break;default:throw Error(i(161))}}}catch(K){se(n,n.return,K)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function W_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;W_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Gs(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)V_(n,s.alternate,s),s=s.sibling}function Jl(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Xa(4,s,s.return),Jl(s);break;case 1:Xn(s,s.return);var r=s.stateNode;typeof r.componentWillUnmount=="function"&&z_(s,s.return,r),Jl(s);break;case 26:case 27:case 5:Xn(s,s.return),Jl(s);break;case 22:Xn(s,s.return),s.memoizedState===null&&Jl(s);break;default:Jl(s)}n=n.sibling}}function Ya(n,s,r){for(r=r&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=n,y=s,_=y.flags;switch(y.tag){case 0:case 11:case 15:Ya(p,y,r),ch(4,y);break;case 1:if(Ya(p,y,r),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(z){se(u,u.return,z)}if(u=y,p=u.updateQueue,p!==null){var R=u.stateNode;try{var N=p.shared.hiddenCallbacks;if(N!==null)for(p.shared.hiddenCallbacks=null,p=0;p<N.length;p++)j_(N[p],R)}catch(z){se(u,u.return,z)}}r&&_&64&&H_(y),so(y,y.return);break;case 26:case 27:case 5:Ya(p,y,r),r&&u===null&&_&4&&U_(y),so(y,y.return);break;case 12:Ya(p,y,r);break;case 13:Ya(p,y,r),r&&_&4&&$_(p,y);break;case 22:y.memoizedState===null&&Ya(p,y,r),so(y,y.return);break;default:Ya(p,y,r)}s=s.sibling}}function Zy(n,s){var r=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==r&&(n!=null&&n.refCount++,r!=null&&Ju(r))}function Jy(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Ju(n))}function $a(n,s,r,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Q_(n,s,r,u),s=s.sibling}function Q_(n,s,r,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:$a(n,s,r,u),p&2048&&ch(9,s);break;case 3:$a(n,s,r,u),p&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Ju(n)));break;case 12:if(p&2048){$a(n,s,r,u),n=s.stateNode;try{var y=s.memoizedProps,_=y.id,R=y.onPostCommit;typeof R=="function"&&R(_,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){se(s,s.return,N)}}else $a(n,s,r,u);break;case 23:break;case 22:y=s.stateNode,s.memoizedState!==null?y._visibility&4?$a(n,s,r,u):uh(n,s):y._visibility&4?$a(n,s,r,u):(y._visibility|=4,tc(n,s,r,u,(s.subtreeFlags&10256)!==0)),p&2048&&Zy(s.alternate,s);break;case 24:$a(n,s,r,u),p&2048&&Jy(s.alternate,s);break;default:$a(n,s,r,u)}}function tc(n,s,r,u,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=n,_=s,R=r,N=u,z=_.flags;switch(_.tag){case 0:case 11:case 15:tc(y,_,R,N,p),ch(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&4?tc(y,_,R,N,p):uh(y,_):(K._visibility|=4,tc(y,_,R,N,p)),p&&z&2048&&Zy(_.alternate,_);break;case 24:tc(y,_,R,N,p),p&&z&2048&&Jy(_.alternate,_);break;default:tc(y,_,R,N,p)}s=s.sibling}}function uh(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var r=n,u=s,p=u.flags;switch(u.tag){case 22:uh(r,u),p&2048&&Zy(u.alternate,u);break;case 24:uh(r,u),p&2048&&Jy(u.alternate,u);break;default:uh(r,u)}s=s.sibling}}var hh=8192;function ec(n){if(n.subtreeFlags&hh)for(n=n.child;n!==null;)Z_(n),n=n.sibling}function Z_(n){switch(n.tag){case 26:ec(n),n.flags&hh&&n.memoizedState!==null&&oD(Fi,n.memoizedState,n.memoizedProps);break;case 5:ec(n);break;case 3:case 4:var s=Fi;Fi=Op(n.stateNode.containerInfo),ec(n),Fi=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=hh,hh=16777216,ec(n),hh=s):ec(n));break;default:ec(n)}}function J_(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function dh(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var u=s[r];Ve=u,eE(u,n)}J_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)tE(n),n=n.sibling}function tE(n){switch(n.tag){case 0:case 11:case 15:dh(n),n.flags&2048&&Xa(9,n,n.return);break;case 3:dh(n);break;case 12:dh(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&4&&(n.return===null||n.return.tag!==13)?(s._visibility&=-5,yp(n)):dh(n);break;default:dh(n)}}function yp(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var u=s[r];Ve=u,eE(u,n)}J_(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Xa(8,s,s.return),yp(s);break;case 22:r=s.stateNode,r._visibility&4&&(r._visibility&=-5,yp(s));break;default:yp(s)}n=n.sibling}}function eE(n,s){for(;Ve!==null;){var r=Ve;switch(r.tag){case 0:case 11:case 15:Xa(8,r,s);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var u=r.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ju(r.memoizedState.cache)}if(u=r.child,u!==null)u.return=r,Ve=u;else t:for(r=n;Ve!==null;){u=Ve;var p=u.sibling,y=u.return;if(X_(u),u===r){Ve=null;break t}if(p!==null){p.return=y,Ve=p;break t}Ve=y}}}function AM(n,s,r,u){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Si(n,s,r,u){return new AM(n,s,r,u)}function tb(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ka(n,s){var r=n.alternate;return r===null?(r=Si(n.tag,s,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=s,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&31457280,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,s=n.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r.refCleanup=n.refCleanup,r}function nE(n,s){n.flags&=31457282;var r=n.alternate;return r===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=r.childLanes,n.lanes=r.lanes,n.child=r.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=r.memoizedProps,n.memoizedState=r.memoizedState,n.updateQueue=r.updateQueue,n.type=r.type,s=r.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function bp(n,s,r,u,p,y){var _=0;if(u=n,typeof n=="function")tb(n)&&(_=1);else if(typeof n=="string")_=aD(n,r,cn.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case f:return ao(r.children,p,y,s);case g:_=8,p|=24;break;case m:return n=Si(12,r,s,p|2),n.elementType=m,n.lanes=y,n;case w:return n=Si(13,r,s,p),n.elementType=w,n.lanes=y,n;case M:return n=Si(19,r,s,p),n.elementType=M,n.lanes=y,n;case O:return iE(r,p,y,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case b:case A:_=10;break t;case v:_=9;break t;case S:_=11;break t;case T:_=14;break t;case P:_=16,u=null;break t}_=29,r=Error(i(130,n===null?"null":typeof n,"")),u=null}return s=Si(_,r,s,p),s.elementType=n,s.type=u,s.lanes=y,s}function ao(n,s,r,u){return n=Si(7,n,u,s),n.lanes=r,n}function iE(n,s,r,u){n=Si(22,n,u,s),n.elementType=O,n.lanes=r;var p={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=p._current;if(y===null)throw Error(i(456));if((p._pendingVisibility&2)===0){var _=Fa(y,2);_!==null&&(p._pendingVisibility|=2,En(_,y,2))}},attach:function(){var y=p._current;if(y===null)throw Error(i(456));if((p._pendingVisibility&2)!==0){var _=Fa(y,2);_!==null&&(p._pendingVisibility&=-3,En(_,y,2))}}};return n.stateNode=p,n}function eb(n,s,r){return n=Si(6,n,null,s),n.lanes=r,n}function nb(n,s,r){return s=Si(4,n.children!==null?n.children:[],n.key,s),s.lanes=r,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function Vs(n){n.flags|=4}function sE(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!BE(s)){if(s=bi.current,s!==null&&((Gt&4194176)===Gt?os!==null:(Gt&62914560)!==Gt&&(Gt&536870912)===0||s!==os))throw Wu=oy,SS;n.flags|=8192}}function vp(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?_A():536870912,n.lanes|=s,ic|=s)}function fh(n,s){if(!Xt)switch(n.tailMode){case"hidden":s=n.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function fe(n){var s=n.alternate!==null&&n.alternate.child===n.child,r=0,u=0;if(s)for(var p=n.child;p!==null;)r|=p.lanes|p.childLanes,u|=p.subtreeFlags&31457280,u|=p.flags&31457280,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)r|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=u,n.childLanes=r,s}function SM(n,s,r){var u=s.pendingProps;switch(ay(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(s),null;case 1:return fe(s),null;case 3:return r=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Is(je),ue(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Xu(s)?Vs(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ji!==null&&(ub(ji),ji=null))),fe(s),null;case 26:return r=s.memoizedState,n===null?(Vs(s),r!==null?(fe(s),sE(s,r)):(fe(s),s.flags&=-16777217)):r?r!==n.memoizedState?(Vs(s),fe(s),sE(s,r)):(fe(s),s.flags&=-16777217):(n.memoizedProps!==u&&Vs(s),fe(s),s.flags&=-16777217),null;case 27:as(s),r=It.current;var p=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Vs(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return fe(s),null}n=cn.current,Xu(s)?vS(s):(n=kE(p,u,r),s.stateNode=n,Vs(s))}return fe(s),null;case 5:if(as(s),r=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Vs(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return fe(s),null}if(n=cn.current,Xu(s))vS(s);else{switch(p=Dp(It.current),n){case 1:n=p.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:n=p.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":n=p.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":n=p.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":n=p.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?p.createElement(r,{is:u.is}):p.createElement(r)}}n[un]=s,n[On]=u;t:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)n.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break t;for(;p.sibling===null;){if(p.return===null||p.return===s)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=n;t:switch(en(n,r,u),r){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Vs(s)}}return fe(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&Vs(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(n=It.current,Xu(s)){if(n=s.stateNode,r=s.memoizedProps,u=null,p=_n,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}n[un]=s,n=!!(n.nodeValue===r||u!==null&&u.suppressHydrationWarning===!0||RE(n.nodeValue,r)),n||Kr(s)}else n=Dp(n).createTextNode(u),n[un]=s,s.stateNode=n}return fe(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(p=Xu(s),u!==null&&u.dehydrated!==null){if(n===null){if(!p)throw Error(i(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[un]=s}else Yu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;fe(s),p=!1}else ji!==null&&(ub(ji),ji=null),p=!0;if(!p)return s.flags&256?(Fs(s),s):(Fs(s),null)}if(Fs(s),(s.flags&128)!==0)return s.lanes=r,s;if(r=u!==null,n=n!==null&&n.memoizedState!==null,r){u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)}return r!==n&&r&&(s.child.flags|=8192),vp(s,s.updateQueue),fe(s),null;case 4:return ue(),n===null&&Sb(s.stateNode.containerInfo),fe(s),null;case 10:return Is(s.type),fe(s),null;case 19:if(Vt(Pe),p=s.memoizedState,p===null)return fe(s),null;if(u=(s.flags&128)!==0,y=p.rendering,y===null)if(u)fh(p,!1);else{if(Ae!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(y=np(n),y!==null){for(s.flags|=128,fh(p,!1),n=y.updateQueue,s.updateQueue=n,vp(s,n),s.subtreeFlags=0,n=r,r=s.child;r!==null;)nE(r,n),r=r.sibling;return St(Pe,Pe.current&1|2),s.child}n=n.sibling}p.tail!==null&&hi()>Ap&&(s.flags|=128,u=!0,fh(p,!1),s.lanes=4194304)}else{if(!u)if(n=np(y),n!==null){if(s.flags|=128,u=!0,n=n.updateQueue,s.updateQueue=n,vp(s,n),fh(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Xt)return fe(s),null}else 2*hi()-p.renderingStartTime>Ap&&r!==536870912&&(s.flags|=128,u=!0,fh(p,!1),s.lanes=4194304);p.isBackwards?(y.sibling=s.child,s.child=y):(n=p.last,n!==null?n.sibling=y:s.child=y,p.last=y)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=hi(),s.sibling=null,n=Pe.current,St(Pe,u?n&1|2:n&1),s):(fe(s),null);case 22:case 23:return Fs(s),cy(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(r&536870912)!==0&&(s.flags&128)===0&&(fe(s),s.subtreeFlags&6&&(s.flags|=8192)):fe(s),r=s.updateQueue,r!==null&&vp(s,r.retryQueue),r=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==r&&(s.flags|=2048),n!==null&&Vt(Qr),null;case 24:return r=null,n!==null&&(r=n.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),Is(je),fe(s),null;case 25:return null}throw Error(i(156,s.tag))}function _M(n,s){switch(ay(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Is(je),ue(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return as(s),null;case 13:if(Fs(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Yu()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Vt(Pe),null;case 4:return ue(),null;case 10:return Is(s.type),null;case 22:case 23:return Fs(s),cy(),n!==null&&Vt(Qr),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Is(je),null;case 25:return null;default:return null}}function aE(n,s){switch(ay(s),s.tag){case 3:Is(je),ue();break;case 26:case 27:case 5:as(s);break;case 4:ue();break;case 13:Fs(s);break;case 19:Vt(Pe);break;case 10:Is(s.type);break;case 22:case 23:Fs(s),cy(),n!==null&&Vt(Qr);break;case 24:Is(je)}}var EM={getCacheForType:function(n){var s=hn(je),r=s.data.get(n);return r===void 0&&(r=n(),s.data.set(n,r)),r}},wM=typeof WeakMap=="function"?WeakMap:Map,pe=0,re=null,zt=null,Gt=0,oe=0,$n=null,Xs=!1,nc=!1,ib=!1,Ys=0,Ae=0,Wa=0,ro=0,sb=0,_i=0,ic=0,ph=null,cs=null,ab=!1,rb=0,Ap=1/0,Sp=null,Qa=null,_p=!1,oo=null,gh=0,ob=0,lb=null,mh=0,cb=null;function Kn(){if((pe&2)!==0&&Gt!==0)return Gt&-Gt;if(U.T!==null){var n=$l;return n!==0?n:yb()}return TA()}function rE(){_i===0&&(_i=(Gt&536870912)===0||Xt?SA():536870912);var n=bi.current;return n!==null&&(n.flags|=32),_i}function En(n,s,r){(n===re&&oe===2||n.cancelPendingCommit!==null)&&(sc(n,0),$s(n,Gt,_i,!1)),ku(n,r),((pe&2)===0||n!==re)&&(n===re&&((pe&2)===0&&(ro|=r),Ae===4&&$s(n,Gt,_i,!1)),us(n))}function oE(n,s,r){if((pe&6)!==0)throw Error(i(327));var u=!r&&(s&60)===0&&(s&n.expiredLanes)===0||Nu(n,s),p=u?CM(n,s):fb(n,s,!0),y=u;do{if(p===0){nc&&!u&&$s(n,s,0,!1);break}else if(p===6)$s(n,s,0,!Xs);else{if(r=n.current.alternate,y&&!xM(r)){p=fb(n,s,!1),y=!1;continue}if(p===2){if(y=s,n.errorRecoveryDisabledLanes&y)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;t:{var R=n;p=ph;var N=R.current.memoizedState.isDehydrated;if(N&&(sc(R,_).flags|=256),_=fb(R,_,!1),_!==2){if(ib&&!N){R.errorRecoveryDisabledLanes|=y,ro|=y,p=4;break t}y=cs,cs=p,y!==null&&ub(y)}p=_}if(y=!1,p!==2)continue}}if(p===1){sc(n,0),$s(n,s,0,!0);break}t:{switch(u=n,p){case 0:case 1:throw Error(i(345));case 4:if((s&4194176)===s){$s(u,s,_i,!Xs);break t}break;case 2:cs=null;break;case 3:case 5:break;default:throw Error(i(329))}if(u.finishedWork=r,u.finishedLanes=s,(s&62914560)===s&&(y=rb+300-hi(),10<y)){if($s(u,s,_i,!Xs),Pf(u,0)!==0)break t;u.timeoutHandle=OE(lE.bind(null,u,r,cs,Sp,ab,s,_i,ro,ic,Xs,2,-0,0),y);break t}lE(u,r,cs,Sp,ab,s,_i,ro,ic,Xs,0,-0,0)}}break}while(!0);us(n)}function ub(n){cs===null?cs=n:cs.push.apply(cs,n)}function lE(n,s,r,u,p,y,_,R,N,z,K,nt,G){var $=s.subtreeFlags;if(($&8192||($&16785408)===16785408)&&(_h={stylesheets:null,count:0,unsuspend:rD},Z_(s),s=lD(),s!==null)){n.cancelPendingCommit=s(gE.bind(null,n,r,u,p,_,R,N,1,nt,G)),$s(n,y,_,!z);return}gE(n,r,u,p,_,R,N,K,nt,G)}function xM(n){for(var s=n;;){var r=s.tag;if((r===0||r===11||r===15)&&s.flags&16384&&(r=s.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var u=0;u<r.length;u++){var p=r[u],y=p.getSnapshot;p=p.value;try{if(!Vn(y(),p))return!1}catch{return!1}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function $s(n,s,r,u){s&=~sb,s&=~ro,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var p=s;0<p;){var y=31-Gn(p),_=1<<y;u[y]=-1,p&=~_}r!==0&&EA(n,r,s)}function Ep(){return(pe&6)===0?(yh(0),!1):!0}function hb(){if(zt!==null){if(oe===0)var n=zt.return;else n=zt,Us=no=null,yy(n),Xl=null,Qu=0,n=zt;for(;n!==null;)aE(n.alternate,n),n=n.return;zt=null}}function sc(n,s){n.finishedWork=null,n.finishedLanes=0;var r=n.timeoutHandle;r!==-1&&(n.timeoutHandle=-1,GM(r)),r=n.cancelPendingCommit,r!==null&&(n.cancelPendingCommit=null,r()),hb(),re=n,zt=r=Ka(n.current,null),Gt=s,oe=0,$n=null,Xs=!1,nc=Nu(n,s),ib=!1,ic=_i=sb=ro=Wa=Ae=0,cs=ph=null,ab=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var p=31-Gn(u),y=1<<p;s|=n[p],u&=~y}return Ys=s,Yf(),r}function cE(n,s){Pt=null,U.H=ls,s===Ku?(s=wS(),oe=3):s===SS?(s=wS(),oe=4):oe=s===__?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,$n=s,zt===null&&(Ae=1,fp(n,gi(s,n.current)))}function uE(){var n=U.H;return U.H=ls,n===null?ls:n}function hE(){var n=U.A;return U.A=EM,n}function db(){Ae=4,Xs||(Gt&4194176)!==Gt&&bi.current!==null||(nc=!0),(Wa&134217727)===0&&(ro&134217727)===0||re===null||$s(re,Gt,_i,!1)}function fb(n,s,r){var u=pe;pe|=2;var p=uE(),y=hE();(re!==n||Gt!==s)&&(Sp=null,sc(n,s)),s=!1;var _=Ae;t:do try{if(oe!==0&&zt!==null){var R=zt,N=$n;switch(oe){case 8:hb(),_=6;break t;case 3:case 2:case 6:bi.current===null&&(s=!0);var z=oe;if(oe=0,$n=null,ac(n,R,N,z),r&&nc){_=0;break t}break;default:z=oe,oe=0,$n=null,ac(n,R,N,z)}}TM(),_=Ae;break}catch(K){cE(n,K)}while(!0);return s&&n.shellSuspendCounter++,Us=no=null,pe=u,U.H=p,U.A=y,zt===null&&(re=null,Gt=0,Yf()),_}function TM(){for(;zt!==null;)dE(zt)}function CM(n,s){var r=pe;pe|=2;var u=uE(),p=hE();re!==n||Gt!==s?(Sp=null,Ap=hi()+500,sc(n,s)):nc=Nu(n,s);t:do try{if(oe!==0&&zt!==null){s=zt;var y=$n;e:switch(oe){case 1:oe=0,$n=null,ac(n,s,y,1);break;case 2:if(_S(y)){oe=0,$n=null,fE(s);break}s=function(){oe===2&&re===n&&(oe=7),us(n)},y.then(s,s);break t;case 3:oe=7;break t;case 4:oe=5;break t;case 7:_S(y)?(oe=0,$n=null,fE(s)):(oe=0,$n=null,ac(n,s,y,7));break;case 5:var _=null;switch(zt.tag){case 26:_=zt.memoizedState;case 5:case 27:var R=zt;if(!_||BE(_)){oe=0,$n=null;var N=R.sibling;if(N!==null)zt=N;else{var z=R.return;z!==null?(zt=z,wp(z)):zt=null}break e}}oe=0,$n=null,ac(n,s,y,5);break;case 6:oe=0,$n=null,ac(n,s,y,6);break;case 8:hb(),Ae=6;break t;default:throw Error(i(462))}}RM();break}catch(K){cE(n,K)}while(!0);return Us=no=null,U.H=u,U.A=p,pe=r,zt!==null?0:(re=null,Gt=0,Yf(),Ae)}function RM(){for(;zt!==null&&!Om();)dE(zt)}function dE(n){var s=k_(n.alternate,n,Ys);n.memoizedProps=n.pendingProps,s===null?wp(n):zt=s}function fE(n){var s=n,r=s.alternate;switch(s.tag){case 15:case 0:s=R_(r,s,s.pendingProps,s.type,void 0,Gt);break;case 11:s=R_(r,s,s.pendingProps,s.type.render,s.ref,Gt);break;case 5:yy(s);default:aE(r,s),s=zt=nE(s,Ys),s=k_(r,s,Ys)}n.memoizedProps=n.pendingProps,s===null?wp(n):zt=s}function ac(n,s,r,u){Us=no=null,yy(s),Xl=null,Qu=0;var p=s.return;try{if(mM(n,p,s,r,Gt)){Ae=1,fp(n,gi(r,n.current)),zt=null;return}}catch(y){if(p!==null)throw zt=p,y;Ae=1,fp(n,gi(r,n.current)),zt=null;return}s.flags&32768?(Xt||u===1?n=!0:nc||(Gt&536870912)!==0?n=!1:(Xs=n=!0,(u===2||u===3||u===6)&&(u=bi.current,u!==null&&u.tag===13&&(u.flags|=16384))),pE(s,n)):wp(s)}function wp(n){var s=n;do{if((s.flags&32768)!==0){pE(s,Xs);return}n=s.return;var r=SM(s.alternate,s,Ys);if(r!==null){zt=r;return}if(s=s.sibling,s!==null){zt=s;return}zt=s=n}while(s!==null);Ae===0&&(Ae=5)}function pE(n,s){do{var r=_M(n.alternate,n);if(r!==null){r.flags&=32767,zt=r;return}if(r=n.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!s&&(n=n.sibling,n!==null)){zt=n;return}zt=n=r}while(n!==null);Ae=6,zt=null}function gE(n,s,r,u,p,y,_,R,N,z){var K=U.T,nt=st.p;try{st.p=2,U.T=null,MM(n,s,r,u,nt,p,y,_,R,N,z)}finally{U.T=K,st.p=nt}}function MM(n,s,r,u,p,y,_,R){do rc();while(oo!==null);if((pe&6)!==0)throw Error(i(327));var N=n.finishedWork;if(u=n.finishedLanes,N===null)return null;if(n.finishedWork=null,n.finishedLanes=0,N===n.current)throw Error(i(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var z=N.lanes|N.childLanes;if(z|=ny,oR(n,u,z,y,_,R),n===re&&(zt=re=null,Gt=0),(N.subtreeFlags&10256)===0&&(N.flags&10256)===0||_p||(_p=!0,ob=z,lb=r,NM(Ls,function(){return rc(),null})),r=(N.flags&15990)!==0,(N.subtreeFlags&15990)!==0||r?(r=U.T,U.T=null,y=st.p,st.p=2,_=pe,pe|=4,bM(n,N),K_(N,n),JR(xb,n.containerInfo),jp=!!wb,xb=wb=null,n.current=N,V_(n,N.alternate,N),Lm(),pe=_,st.p=y,U.T=r):n.current=N,_p?(_p=!1,oo=n,gh=u):mE(n,z),z=n.pendingLanes,z===0&&(Qa=null),nR(N.stateNode),us(n),s!==null)for(p=n.onRecoverableError,N=0;N<s.length;N++)z=s[N],p(z.value,{componentStack:z.stack});return(gh&3)!==0&&rc(),z=n.pendingLanes,(u&4194218)!==0&&(z&42)!==0?n===cb?mh++:(mh=0,cb=n):mh=0,yh(0),null}function mE(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Ju(s)))}function rc(){if(oo!==null){var n=oo,s=ob;ob=0;var r=xA(gh),u=U.T,p=st.p;try{if(st.p=32>r?32:r,U.T=null,oo===null)var y=!1;else{r=lb,lb=null;var _=oo,R=gh;if(oo=null,gh=0,(pe&6)!==0)throw Error(i(331));var N=pe;if(pe|=4,tE(_.current),Q_(_,_.current,R,r),pe=N,yh(0,!1),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(Lu,_)}catch{}y=!0}return y}finally{st.p=p,U.T=u,mE(n,s)}}return!1}function yE(n,s,r){s=gi(r,s),s=Oy(n.stateNode,s,2),n=Va(n,s,2),n!==null&&(ku(n,2),us(n))}function se(n,s,r){if(n.tag===3)yE(n,n,r);else for(;s!==null;){if(s.tag===3){yE(s,n,r);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Qa===null||!Qa.has(u))){n=gi(r,n),r=A_(2),u=Va(s,r,2),u!==null&&(S_(r,u,s,n),ku(u,2),us(u));break}}s=s.return}}function pb(n,s,r){var u=n.pingCache;if(u===null){u=n.pingCache=new wM;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(r)||(ib=!0,p.add(r),n=DM.bind(null,n,s,r),s.then(n,n))}function DM(n,s,r){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&r,n.warmLanes&=~r,re===n&&(Gt&r)===r&&(Ae===4||Ae===3&&(Gt&62914560)===Gt&&300>hi()-rb?(pe&2)===0&&sc(n,0):sb|=r,ic===Gt&&(ic=0)),us(n)}function bE(n,s){s===0&&(s=_A()),n=Fa(n,s),n!==null&&(ku(n,s),us(n))}function OM(n){var s=n.memoizedState,r=0;s!==null&&(r=s.retryLane),bE(n,r)}function LM(n,s){var r=0;switch(n.tag){case 13:var u=n.stateNode,p=n.memoizedState;p!==null&&(r=p.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),bE(n,r)}function NM(n,s){return Ou(n,s)}var xp=null,oc=null,gb=!1,Tp=!1,mb=!1,lo=0;function us(n){n!==oc&&n.next===null&&(oc===null?xp=oc=n:oc=oc.next=n),Tp=!0,gb||(gb=!0,PM(kM))}function yh(n,s){if(!mb&&Tp){mb=!0;do for(var r=!1,u=xp;u!==null;){if(n!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var _=u.suspendedLanes,R=u.pingedLanes;y=(1<<31-Gn(42|n)+1)-1,y&=p&~(_&~R),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(r=!0,SE(u,y))}else y=Gt,y=Pf(u,u===re?y:0),(y&3)===0||Nu(u,y)||(r=!0,SE(u,y));u=u.next}while(r);mb=!1}}function kM(){Tp=gb=!1;var n=0;lo!==0&&(qM()&&(n=lo),lo=0);for(var s=hi(),r=null,u=xp;u!==null;){var p=u.next,y=vE(u,s);y===0?(u.next=null,r===null?xp=p:r.next=p,p===null&&(oc=r)):(r=u,(n!==0||(y&3)!==0)&&(Tp=!0)),u=p}yh(n)}function vE(n,s){for(var r=n.suspendedLanes,u=n.pingedLanes,p=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var _=31-Gn(y),R=1<<_,N=p[_];N===-1?((R&r)===0||(R&u)!==0)&&(p[_]=rR(R,s)):N<=s&&(n.expiredLanes|=R),y&=~R}if(s=re,r=Gt,r=Pf(n,n===s?r:0),u=n.callbackNode,r===0||n===s&&oe===2||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Na(u),n.callbackNode=null,n.callbackPriority=0;if((r&3)===0||Nu(n,r)){if(s=r&-r,s===n.callbackPriority)return s;switch(u!==null&&Na(u),xA(r)){case 2:case 8:r=Os;break;case 32:r=Ls;break;case 268435456:r=Dl;break;default:r=Ls}return u=AE.bind(null,n),r=Ou(r,u),n.callbackPriority=s,n.callbackNode=r,s}return u!==null&&u!==null&&Na(u),n.callbackPriority=2,n.callbackNode=null,2}function AE(n,s){var r=n.callbackNode;if(rc()&&n.callbackNode!==r)return null;var u=Gt;return u=Pf(n,n===re?u:0),u===0?null:(oE(n,u,s),vE(n,hi()),n.callbackNode!=null&&n.callbackNode===r?AE.bind(null,n):null)}function SE(n,s){if(rc())return null;oE(n,s,!0)}function PM(n){VM(function(){(pe&6)!==0?Ou(Lf,n):n()})}function yb(){return lo===0&&(lo=SA()),lo}function _E(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Uf(""+n)}function EE(n,s){var r=s.ownerDocument.createElement("input");return r.name=s.name,r.value=s.value,n.id&&r.setAttribute("form",n.id),s.parentNode.insertBefore(r,s),n=new FormData(n),r.parentNode.removeChild(r),n}function jM(n,s,r,u,p){if(s==="submit"&&r&&r.stateNode===p){var y=_E((p[On]||null).action),_=u.submitter;_&&(s=(s=_[On]||null)?_E(s.formAction):_.getAttribute("formAction"),s!==null&&(y=s,_=null));var R=new Gf("action","action",null,u,p);n.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(lo!==0){var N=_?EE(p,_):new FormData(p);Ty(r,{pending:!0,data:N,method:p.method,action:y},null,N)}}else typeof y=="function"&&(R.preventDefault(),N=_?EE(p,_):new FormData(p),Ty(r,{pending:!0,data:N,method:p.method,action:y},y,N))},currentTarget:p}]})}}for(var bb=0;bb<gS.length;bb++){var vb=gS[bb],FM=vb.toLowerCase(),HM=vb[0].toUpperCase()+vb.slice(1);Pi(FM,"on"+HM)}Pi(uS,"onAnimationEnd"),Pi(hS,"onAnimationIteration"),Pi(dS,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(eM,"onTransitionRun"),Pi(nM,"onTransitionStart"),Pi(iM,"onTransitionCancel"),Pi(fS,"onTransitionEnd"),kl("onMouseEnter",["mouseout","mouseover"]),kl("onMouseLeave",["mouseout","mouseover"]),kl("onPointerEnter",["pointerout","pointerover"]),kl("onPointerLeave",["pointerout","pointerover"]),qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qr("onBeforeInput",["compositionend","keypress","textInput","paste"]),qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bh));function wE(n,s){s=(s&4)!==0;for(var r=0;r<n.length;r++){var u=n[r],p=u.event;u=u.listeners;t:{var y=void 0;if(s)for(var _=u.length-1;0<=_;_--){var R=u[_],N=R.instance,z=R.currentTarget;if(R=R.listener,N!==y&&p.isPropagationStopped())break t;y=R,p.currentTarget=z;try{y(p)}catch(K){dp(K)}p.currentTarget=null,y=N}else for(_=0;_<u.length;_++){if(R=u[_],N=R.instance,z=R.currentTarget,R=R.listener,N!==y&&p.isPropagationStopped())break t;y=R,p.currentTarget=z;try{y(p)}catch(K){dp(K)}p.currentTarget=null,y=N}}}}function Bt(n,s){var r=s[Pm];r===void 0&&(r=s[Pm]=new Set);var u=n+"__bubble";r.has(u)||(xE(s,n,2,!1),r.add(u))}function Ab(n,s,r){var u=0;s&&(u|=4),xE(r,n,u,s)}var Cp="_reactListening"+Math.random().toString(36).slice(2);function Sb(n){if(!n[Cp]){n[Cp]=!0,RA.forEach(function(r){r!=="selectionchange"&&(zM.has(r)||Ab(r,!1,n),Ab(r,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Cp]||(s[Cp]=!0,Ab("selectionchange",!1,s))}}function xE(n,s,r,u){switch($E(s)){case 2:var p=hD;break;case 8:p=dD;break;default:p=kb}r=p.bind(null,s,r,n),p=void 0,!qm||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?n.addEventListener(s,r,{capture:!0,passive:p}):n.addEventListener(s,r,!0):p!==void 0?n.addEventListener(s,r,{passive:p}):n.addEventListener(s,r,!1)}function _b(n,s,r,u,p){var y=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var R=u.stateNode.containerInfo;if(R===p||R.nodeType===8&&R.parentNode===p)break;if(_===4)for(_=u.return;_!==null;){var N=_.tag;if((N===3||N===4)&&(N=_.stateNode.containerInfo,N===p||N.nodeType===8&&N.parentNode===p))return;_=_.return}for(;R!==null;){if(_=Br(R),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){u=y=_;continue t}R=R.parentNode}}u=u.return}UA(function(){var z=y,K=Im(r),nt=[];t:{var G=pS.get(n);if(G!==void 0){var $=Gf,mt=n;switch(n){case"keypress":if(Bf(r)===0)break t;case"keydown":case"keyup":$=LR;break;case"focusin":mt="focus",$=Ym;break;case"focusout":mt="blur",$=Ym;break;case"beforeblur":case"afterblur":$=Ym;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=qA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=AR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=PR;break;case uS:case hS:case dS:$=ER;break;case fS:$=FR;break;case"scroll":case"scrollend":$=bR;break;case"wheel":$=zR;break;case"copy":case"cut":case"paste":$=xR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=VA;break;case"toggle":case"beforetoggle":$=IR}var Ct=(s&4)!==0,Se=!Ct&&(n==="scroll"||n==="scrollend"),I=Ct?G!==null?G+"Capture":null:G;Ct=[];for(var F=z,q;F!==null;){var Z=F;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||I===null||(Z=Fu(F,I),Z!=null&&Ct.push(vh(F,Z,q))),Se)break;F=F.return}0<Ct.length&&(G=new $(G,mt,null,r,K),nt.push({event:G,listeners:Ct}))}}if((s&7)===0){t:{if(G=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",G&&r!==Um&&(mt=r.relatedTarget||r.fromElement)&&(Br(mt)||mt[Ol]))break t;if(($||G)&&(G=K.window===K?K:(G=K.ownerDocument)?G.defaultView||G.parentWindow:window,$?(mt=r.relatedTarget||r.toElement,$=z,mt=mt?Br(mt):null,mt!==null&&(Se=et(mt),Ct=mt.tag,mt!==Se||Ct!==5&&Ct!==27&&Ct!==6)&&(mt=null)):($=null,mt=z),$!==mt)){if(Ct=qA,Z="onMouseLeave",I="onMouseEnter",F="mouse",(n==="pointerout"||n==="pointerover")&&(Ct=VA,Z="onPointerLeave",I="onPointerEnter",F="pointer"),Se=$==null?G:ju($),q=mt==null?G:ju(mt),G=new Ct(Z,F+"leave",$,r,K),G.target=Se,G.relatedTarget=q,Z=null,Br(K)===z&&(Ct=new Ct(I,F+"enter",mt,r,K),Ct.target=q,Ct.relatedTarget=Se,Z=Ct),Se=Z,$&&mt)e:{for(Ct=$,I=mt,F=0,q=Ct;q;q=lc(q))F++;for(q=0,Z=I;Z;Z=lc(Z))q++;for(;0<F-q;)Ct=lc(Ct),F--;for(;0<q-F;)I=lc(I),q--;for(;F--;){if(Ct===I||I!==null&&Ct===I.alternate)break e;Ct=lc(Ct),I=lc(I)}Ct=null}else Ct=null;$!==null&&TE(nt,G,$,Ct,!1),mt!==null&&Se!==null&&TE(nt,Se,mt,Ct,!0)}}t:{if(G=z?ju(z):window,$=G.nodeName&&G.nodeName.toLowerCase(),$==="select"||$==="input"&&G.type==="file")var ft=JA;else if(QA(G))if(tS)ft=QR;else{ft=KR;var Ft=$R}else $=G.nodeName,!$||$.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?z&&zm(z.elementType)&&(ft=JA):ft=WR;if(ft&&(ft=ft(n,z))){ZA(nt,ft,r,K);break t}Ft&&Ft(n,G,z),n==="focusout"&&z&&G.type==="number"&&z.memoizedProps.value!=null&&Hm(G,"number",G.value)}switch(Ft=z?ju(z):window,n){case"focusin":(QA(Ft)||Ft.contentEditable==="true")&&(Ul=Ft,Jm=z,Vu=null);break;case"focusout":Vu=Jm=Ul=null;break;case"mousedown":ty=!0;break;case"contextmenu":case"mouseup":case"dragend":ty=!1,lS(nt,r,K);break;case"selectionchange":if(tM)break;case"keydown":case"keyup":lS(nt,r,K)}var bt;if(Km)t:{switch(n){case"compositionstart":var At="onCompositionStart";break t;case"compositionend":At="onCompositionEnd";break t;case"compositionupdate":At="onCompositionUpdate";break t}At=void 0}else zl?KA(n,r)&&(At="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(At="onCompositionStart");At&&(XA&&r.locale!=="ko"&&(zl||At!=="onCompositionStart"?At==="onCompositionEnd"&&zl&&(bt=IA()):(ja=K,Gm="value"in ja?ja.value:ja.textContent,zl=!0)),Ft=Rp(z,At),0<Ft.length&&(At=new GA(At,n,null,r,K),nt.push({event:At,listeners:Ft}),bt?At.data=bt:(bt=WA(r),bt!==null&&(At.data=bt)))),(bt=qR?GR(n,r):VR(n,r))&&(At=Rp(z,"onBeforeInput"),0<At.length&&(Ft=new GA("onBeforeInput","beforeinput",null,r,K),nt.push({event:Ft,listeners:At}),Ft.data=bt)),jM(nt,n,z,r,K)}wE(nt,s)})}function vh(n,s,r){return{instance:n,listener:s,currentTarget:r}}function Rp(n,s){for(var r=s+"Capture",u=[];n!==null;){var p=n,y=p.stateNode;p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Fu(n,r),p!=null&&u.unshift(vh(n,p,y)),p=Fu(n,s),p!=null&&u.push(vh(n,p,y))),n=n.return}return u}function lc(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function TE(n,s,r,u,p){for(var y=s._reactName,_=[];r!==null&&r!==u;){var R=r,N=R.alternate,z=R.stateNode;if(R=R.tag,N!==null&&N===u)break;R!==5&&R!==26&&R!==27||z===null||(N=z,p?(z=Fu(r,y),z!=null&&_.unshift(vh(r,z,N))):p||(z=Fu(r,y),z!=null&&_.push(vh(r,z,N)))),r=r.return}_.length!==0&&n.push({event:s,listeners:_})}var UM=/\r\n?/g,IM=/\u0000|\uFFFD/g;function CE(n){return(typeof n=="string"?n:""+n).replace(UM,`
`).replace(IM,"")}function RE(n,s){return s=CE(s),CE(n)===s}function Mp(){}function ee(n,s,r,u,p,y){switch(r){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||jl(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&jl(n,""+u);break;case"className":Ff(n,"class",u);break;case"tabIndex":Ff(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ff(n,r,u);break;case"style":HA(n,u,y);break;case"data":if(s!=="object"){Ff(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||r!=="href")){n.removeAttribute(r);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(r);break}u=Uf(""+u),n.setAttribute(r,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(r==="formAction"?(s!=="input"&&ee(n,s,"name",p.name,p,null),ee(n,s,"formEncType",p.formEncType,p,null),ee(n,s,"formMethod",p.formMethod,p,null),ee(n,s,"formTarget",p.formTarget,p,null)):(ee(n,s,"encType",p.encType,p,null),ee(n,s,"method",p.method,p,null),ee(n,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(r);break}u=Uf(""+u),n.setAttribute(r,u);break;case"onClick":u!=null&&(n.onclick=Mp);break;case"onScroll":u!=null&&Bt("scroll",n);break;case"onScrollEnd":u!=null&&Bt("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(r=u.__html,r!=null){if(p.children!=null)throw Error(i(60));n.innerHTML=r}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}r=Uf(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(r,""+u):n.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(r,""):n.removeAttribute(r);break;case"capture":case"download":u===!0?n.setAttribute(r,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(r,u):n.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(r,u):n.removeAttribute(r);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(r):n.setAttribute(r,u);break;case"popover":Bt("beforetoggle",n),Bt("toggle",n),jf(n,"popover",u);break;case"xlinkActuate":ks(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ks(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ks(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ks(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ks(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ks(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ks(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ks(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ks(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":jf(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=mR.get(r)||r,jf(n,r,u))}}function Eb(n,s,r,u,p,y){switch(r){case"style":HA(n,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(r=u.__html,r!=null){if(p.children!=null)throw Error(i(60));n.innerHTML=r}}break;case"children":typeof u=="string"?jl(n,u):(typeof u=="number"||typeof u=="bigint")&&jl(n,""+u);break;case"onScroll":u!=null&&Bt("scroll",n);break;case"onScrollEnd":u!=null&&Bt("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Mp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!MA.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(p=r.endsWith("Capture"),s=r.slice(2,p?r.length-7:void 0),y=n[On]||null,y=y!=null?y[r]:null,typeof y=="function"&&n.removeEventListener(s,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(r in n?n[r]=null:n.hasAttribute(r)&&n.removeAttribute(r)),n.addEventListener(s,u,p);break t}r in n?n[r]=u:u===!0?n.setAttribute(r,""):jf(n,r,u)}}}function en(n,s,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",n),Bt("load",n);var u=!1,p=!1,y;for(y in r)if(r.hasOwnProperty(y)){var _=r[y];if(_!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ee(n,s,y,_,r,null)}}p&&ee(n,s,"srcSet",r.srcSet,r,null),u&&ee(n,s,"src",r.src,r,null);return;case"input":Bt("invalid",n);var R=y=_=p=null,N=null,z=null;for(u in r)if(r.hasOwnProperty(u)){var K=r[u];if(K!=null)switch(u){case"name":p=K;break;case"type":_=K;break;case"checked":N=K;break;case"defaultChecked":z=K;break;case"value":y=K;break;case"defaultValue":R=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,s));break;default:ee(n,s,u,K,r,null)}}kA(n,y,R,N,z,_,p,!1),Hf(n);return;case"select":Bt("invalid",n),u=_=y=null;for(p in r)if(r.hasOwnProperty(p)&&(R=r[p],R!=null))switch(p){case"value":y=R;break;case"defaultValue":_=R;break;case"multiple":u=R;default:ee(n,s,p,R,r,null)}s=y,r=_,n.multiple=!!u,s!=null?Pl(n,!!u,s,!1):r!=null&&Pl(n,!!u,r,!0);return;case"textarea":Bt("invalid",n),y=p=u=null;for(_ in r)if(r.hasOwnProperty(_)&&(R=r[_],R!=null))switch(_){case"value":u=R;break;case"defaultValue":p=R;break;case"children":y=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:ee(n,s,_,R,r,null)}jA(n,u,p,y),Hf(n);return;case"option":for(N in r)if(r.hasOwnProperty(N)&&(u=r[N],u!=null))switch(N){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ee(n,s,N,u,r,null)}return;case"dialog":Bt("cancel",n),Bt("close",n);break;case"iframe":case"object":Bt("load",n);break;case"video":case"audio":for(u=0;u<bh.length;u++)Bt(bh[u],n);break;case"image":Bt("error",n),Bt("load",n);break;case"details":Bt("toggle",n);break;case"embed":case"source":case"link":Bt("error",n),Bt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(u=r[z],u!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ee(n,s,z,u,r,null)}return;default:if(zm(s)){for(K in r)r.hasOwnProperty(K)&&(u=r[K],u!==void 0&&Eb(n,s,K,u,r,void 0));return}}for(R in r)r.hasOwnProperty(R)&&(u=r[R],u!=null&&ee(n,s,R,u,r,null))}function BM(n,s,r,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,_=null,R=null,N=null,z=null,K=null;for($ in r){var nt=r[$];if(r.hasOwnProperty($)&&nt!=null)switch($){case"checked":break;case"value":break;case"defaultValue":N=nt;default:u.hasOwnProperty($)||ee(n,s,$,null,u,nt)}}for(var G in u){var $=u[G];if(nt=r[G],u.hasOwnProperty(G)&&($!=null||nt!=null))switch(G){case"type":y=$;break;case"name":p=$;break;case"checked":z=$;break;case"defaultChecked":K=$;break;case"value":_=$;break;case"defaultValue":R=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,s));break;default:$!==nt&&ee(n,s,G,$,u,nt)}}Fm(n,_,R,N,z,K,y,p);return;case"select":$=_=R=G=null;for(y in r)if(N=r[y],r.hasOwnProperty(y)&&N!=null)switch(y){case"value":break;case"multiple":$=N;default:u.hasOwnProperty(y)||ee(n,s,y,null,u,N)}for(p in u)if(y=u[p],N=r[p],u.hasOwnProperty(p)&&(y!=null||N!=null))switch(p){case"value":G=y;break;case"defaultValue":R=y;break;case"multiple":_=y;default:y!==N&&ee(n,s,p,y,u,N)}s=R,r=_,u=$,G!=null?Pl(n,!!r,G,!1):!!u!=!!r&&(s!=null?Pl(n,!!r,s,!0):Pl(n,!!r,r?[]:"",!1));return;case"textarea":$=G=null;for(R in r)if(p=r[R],r.hasOwnProperty(R)&&p!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:ee(n,s,R,null,u,p)}for(_ in u)if(p=u[_],y=r[_],u.hasOwnProperty(_)&&(p!=null||y!=null))switch(_){case"value":G=p;break;case"defaultValue":$=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&ee(n,s,_,p,u,y)}PA(n,G,$);return;case"option":for(var mt in r)if(G=r[mt],r.hasOwnProperty(mt)&&G!=null&&!u.hasOwnProperty(mt))switch(mt){case"selected":n.selected=!1;break;default:ee(n,s,mt,null,u,G)}for(N in u)if(G=u[N],$=r[N],u.hasOwnProperty(N)&&G!==$&&(G!=null||$!=null))switch(N){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:ee(n,s,N,G,u,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in r)G=r[Ct],r.hasOwnProperty(Ct)&&G!=null&&!u.hasOwnProperty(Ct)&&ee(n,s,Ct,null,u,G);for(z in u)if(G=u[z],$=r[z],u.hasOwnProperty(z)&&G!==$&&(G!=null||$!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,s));break;default:ee(n,s,z,G,u,$)}return;default:if(zm(s)){for(var Se in r)G=r[Se],r.hasOwnProperty(Se)&&G!==void 0&&!u.hasOwnProperty(Se)&&Eb(n,s,Se,void 0,u,G);for(K in u)G=u[K],$=r[K],!u.hasOwnProperty(K)||G===$||G===void 0&&$===void 0||Eb(n,s,K,G,u,$);return}}for(var I in r)G=r[I],r.hasOwnProperty(I)&&G!=null&&!u.hasOwnProperty(I)&&ee(n,s,I,null,u,G);for(nt in u)G=u[nt],$=r[nt],!u.hasOwnProperty(nt)||G===$||G==null&&$==null||ee(n,s,nt,G,u,$)}var wb=null,xb=null;function Dp(n){return n.nodeType===9?n:n.ownerDocument}function ME(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function DE(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Tb(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Cb=null;function qM(){var n=window.event;return n&&n.type==="popstate"?n===Cb?!1:(Cb=n,!0):(Cb=null,!1)}var OE=typeof setTimeout=="function"?setTimeout:void 0,GM=typeof clearTimeout=="function"?clearTimeout:void 0,LE=typeof Promise=="function"?Promise:void 0,VM=typeof queueMicrotask=="function"?queueMicrotask:typeof LE<"u"?function(n){return LE.resolve(null).then(n).catch(XM)}:OE;function XM(n){setTimeout(function(){throw n})}function Rb(n,s){var r=s,u=0;do{var p=r.nextSibling;if(n.removeChild(r),p&&p.nodeType===8)if(r=p.data,r==="/$"){if(u===0){n.removeChild(p),Ch(s);return}u--}else r!=="$"&&r!=="$?"&&r!=="$!"||u++;r=p}while(r);Ch(s)}function Mb(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var r=s;switch(s=s.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Mb(r),jm(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}n.removeChild(r)}}function YM(n,s,r,u){for(;n.nodeType===1;){var p=r;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Pu])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==p.rel||n.getAttribute("href")!==(p.href==null?null:p.href)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||n.getAttribute("title")!==(p.title==null?null:p.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(p.src==null?null:p.src)||n.getAttribute("type")!==(p.type==null?null:p.type)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=Hi(n.nextSibling),n===null)break}return null}function $M(n,s,r){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=Hi(n.nextSibling),n===null))return null;return n}function Hi(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}function NE(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return n;s--}else r==="/$"&&s++}n=n.previousSibling}return null}function kE(n,s,r){switch(s=Dp(r),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}var Ei=new Map,PE=new Set;function Op(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var Ks=st.d;st.d={f:KM,r:WM,D:QM,C:ZM,L:JM,m:tD,X:nD,S:eD,M:iD};function KM(){var n=Ks.f(),s=Ep();return n||s}function WM(n){var s=Ll(n);s!==null&&s.tag===5&&s.type==="form"?l_(s):Ks.r(n)}var cc=typeof document>"u"?null:document;function jE(n,s,r){var u=cc;if(u&&typeof s=="string"&&s){var p=fi(s);p='link[rel="'+n+'"][href="'+p+'"]',typeof r=="string"&&(p+='[crossorigin="'+r+'"]'),PE.has(p)||(PE.add(p),n={rel:n,crossOrigin:r,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),en(s,"link",n),qe(s),u.head.appendChild(s)))}}function QM(n){Ks.D(n),jE("dns-prefetch",n,null)}function ZM(n,s){Ks.C(n,s),jE("preconnect",n,s)}function JM(n,s,r){Ks.L(n,s,r);var u=cc;if(u&&n&&s){var p='link[rel="preload"][as="'+fi(s)+'"]';s==="image"&&r&&r.imageSrcSet?(p+='[imagesrcset="'+fi(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(p+='[imagesizes="'+fi(r.imageSizes)+'"]')):p+='[href="'+fi(n)+'"]';var y=p;switch(s){case"style":y=uc(n);break;case"script":y=hc(n)}Ei.has(y)||(n=W({rel:"preload",href:s==="image"&&r&&r.imageSrcSet?void 0:n,as:s},r),Ei.set(y,n),u.querySelector(p)!==null||s==="style"&&u.querySelector(Ah(y))||s==="script"&&u.querySelector(Sh(y))||(s=u.createElement("link"),en(s,"link",n),qe(s),u.head.appendChild(s)))}}function tD(n,s){Ks.m(n,s);var r=cc;if(r&&n){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+fi(u)+'"][href="'+fi(n)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=hc(n)}if(!Ei.has(y)&&(n=W({rel:"modulepreload",href:n},s),Ei.set(y,n),r.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Sh(y)))return}u=r.createElement("link"),en(u,"link",n),qe(u),r.head.appendChild(u)}}}function eD(n,s,r){Ks.S(n,s,r);var u=cc;if(u&&n){var p=Nl(u).hoistableStyles,y=uc(n);s=s||"default";var _=p.get(y);if(!_){var R={loading:0,preload:null};if(_=u.querySelector(Ah(y)))R.loading=5;else{n=W({rel:"stylesheet",href:n,"data-precedence":s},r),(r=Ei.get(y))&&Db(n,r);var N=_=u.createElement("link");qe(N),en(N,"link",n),N._p=new Promise(function(z,K){N.onload=z,N.onerror=K}),N.addEventListener("load",function(){R.loading|=1}),N.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Lp(_,s,u)}_={type:"stylesheet",instance:_,count:1,state:R},p.set(y,_)}}}function nD(n,s){Ks.X(n,s);var r=cc;if(r&&n){var u=Nl(r).hoistableScripts,p=hc(n),y=u.get(p);y||(y=r.querySelector(Sh(p)),y||(n=W({src:n,async:!0},s),(s=Ei.get(p))&&Ob(n,s),y=r.createElement("script"),qe(y),en(y,"link",n),r.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function iD(n,s){Ks.M(n,s);var r=cc;if(r&&n){var u=Nl(r).hoistableScripts,p=hc(n),y=u.get(p);y||(y=r.querySelector(Sh(p)),y||(n=W({src:n,async:!0,type:"module"},s),(s=Ei.get(p))&&Ob(n,s),y=r.createElement("script"),qe(y),en(y,"link",n),r.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function FE(n,s,r,u){var p=(p=It.current)?Op(p):null;if(!p)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(s=uc(r.href),r=Nl(p).hoistableStyles,u=r.get(s),u||(u={type:"style",instance:null,count:0,state:null},r.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){n=uc(r.href);var y=Nl(p).hoistableStyles,_=y.get(n);if(_||(p=p.ownerDocument||p,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,_),(y=p.querySelector(Ah(n)))&&!y._p&&(_.instance=y,_.state.loading=5),Ei.has(n)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Ei.set(n,r),y||sD(p,n,r,_.state))),s&&u===null)throw Error(i(528,""));return _}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=r.async,r=r.src,typeof r=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=hc(r),r=Nl(p).hoistableScripts,u=r.get(s),u||(u={type:"script",instance:null,count:0,state:null},r.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function uc(n){return'href="'+fi(n)+'"'}function Ah(n){return'link[rel="stylesheet"]['+n+"]"}function HE(n){return W({},n,{"data-precedence":n.precedence,precedence:null})}function sD(n,s,r,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),en(s,"link",r),qe(s),n.head.appendChild(s))}function hc(n){return'[src="'+fi(n)+'"]'}function Sh(n){return"script[async]"+n}function zE(n,s,r){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+fi(r.href)+'"]');if(u)return s.instance=u,qe(u),u;var p=W({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),qe(u),en(u,"style",p),Lp(u,r.precedence,n),s.instance=u;case"stylesheet":p=uc(r.href);var y=n.querySelector(Ah(p));if(y)return s.state.loading|=4,s.instance=y,qe(y),y;u=HE(r),(p=Ei.get(p))&&Db(u,p),y=(n.ownerDocument||n).createElement("link"),qe(y);var _=y;return _._p=new Promise(function(R,N){_.onload=R,_.onerror=N}),en(y,"link",u),s.state.loading|=4,Lp(y,r.precedence,n),s.instance=y;case"script":return y=hc(r.src),(p=n.querySelector(Sh(y)))?(s.instance=p,qe(p),p):(u=r,(p=Ei.get(y))&&(u=W({},r),Ob(u,p)),n=n.ownerDocument||n,p=n.createElement("script"),qe(p),en(p,"link",u),n.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Lp(u,r.precedence,n));return s.instance}function Lp(n,s,r){for(var u=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,_=0;_<u.length;_++){var R=u[_];if(R.dataset.precedence===s)y=R;else if(y!==p)break}y?y.parentNode.insertBefore(n,y.nextSibling):(s=r.nodeType===9?r.head:r,s.insertBefore(n,s.firstChild))}function Db(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Ob(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Np=null;function UE(n,s,r){if(Np===null){var u=new Map,p=Np=new Map;p.set(r,u)}else p=Np,u=p.get(r),u||(u=new Map,p.set(r,u));if(u.has(n))return u;for(u.set(n,null),r=r.getElementsByTagName(n),p=0;p<r.length;p++){var y=r[p];if(!(y[Pu]||y[un]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(s)||"";_=n+_;var R=u.get(_);R?R.push(y):u.set(_,[y])}}return u}function IE(n,s,r){n=n.ownerDocument||n,n.head.insertBefore(r,s==="title"?n.querySelector("head > title"):null)}function aD(n,s,r){if(r===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function BE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var _h=null;function rD(){}function oD(n,s,r){if(_h===null)throw Error(i(475));var u=_h;if(s.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=uc(r.href),y=n.querySelector(Ah(p));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=kp.bind(u),n.then(u,u)),s.state.loading|=4,s.instance=y,qe(y);return}y=n.ownerDocument||n,r=HE(r),(p=Ei.get(p))&&Db(r,p),y=y.createElement("link"),qe(y);var _=y;_._p=new Promise(function(R,N){_.onload=R,_.onerror=N}),en(y,"link",r),s.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=kp.bind(u),n.addEventListener("load",s),n.addEventListener("error",s))}}function lD(){if(_h===null)throw Error(i(475));var n=_h;return n.stylesheets&&n.count===0&&Lb(n,n.stylesheets),0<n.count?function(s){var r=setTimeout(function(){if(n.stylesheets&&Lb(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(r)}}:null}function kp(){if(this.count--,this.count===0){if(this.stylesheets)Lb(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Pp=null;function Lb(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Pp=new Map,s.forEach(cD,n),Pp=null,kp.call(n))}function cD(n,s){if(!(s.state.loading&4)){var r=Pp.get(n);if(r)var u=r.get(null);else{r=new Map,Pp.set(n,r);for(var p=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var _=p[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),u=_)}u&&r.set(null,u)}p=s.instance,_=p.getAttribute("data-precedence"),y=r.get(_)||u,y===u&&r.set(null,p),r.set(_,p),this.count++,u=kp.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(p,n.firstChild)),s.state.loading|=4}}var Eh={$$typeof:A,Provider:null,Consumer:null,_currentValue:Et,_currentValue2:Et,_threadCount:0};function uD(n,s,r,u,p,y,_,R){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=km(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=km(0),this.hiddenUpdates=km(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function qE(n,s,r,u,p,y,_,R,N,z,K,nt){return n=new uD(n,s,r,_,R,N,z,nt),s=1,y===!0&&(s|=24),y=Si(3,null,null,s),n.current=y,y.stateNode=n,s=uy(),s.refCount++,n.pooledCache=s,s.refCount++,y.memoizedState={element:u,isDehydrated:r,cache:s},Gy(y),n}function GE(n){return n?(n=ql,n):ql}function VE(n,s,r,u,p,y){p=GE(p),u.context===null?u.context=p:u.pendingContext=p,u=Ga(s),u.payload={element:r},y=y===void 0?null:y,y!==null&&(u.callback=y),r=Va(n,u,s),r!==null&&(En(r,n,s),rh(r,n,s))}function XE(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<s?r:s}}function Nb(n,s){XE(n,s),(n=n.alternate)&&XE(n,s)}function YE(n){if(n.tag===13){var s=Fa(n,67108864);s!==null&&En(s,n,67108864),Nb(n,67108864)}}var jp=!0;function hD(n,s,r,u){var p=U.T;U.T=null;var y=st.p;try{st.p=2,kb(n,s,r,u)}finally{st.p=y,U.T=p}}function dD(n,s,r,u){var p=U.T;U.T=null;var y=st.p;try{st.p=8,kb(n,s,r,u)}finally{st.p=y,U.T=p}}function kb(n,s,r,u){if(jp){var p=Pb(u);if(p===null)_b(n,s,u,Fp,r),KE(n,u);else if(pD(p,n,s,r,u))u.stopPropagation();else if(KE(n,u),s&4&&-1<fD.indexOf(n)){for(;p!==null;){var y=Ll(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=Ir(y.pendingLanes);if(_!==0){var R=y;for(R.pendingLanes|=2,R.entangledLanes|=2;_;){var N=1<<31-Gn(_);R.entanglements[1]|=N,_&=~N}us(y),(pe&6)===0&&(Ap=hi()+500,yh(0))}}break;case 13:R=Fa(y,2),R!==null&&En(R,y,2),Ep(),Nb(y,2)}if(y=Pb(u),y===null&&_b(n,s,u,Fp,r),y===p)break;p=y}p!==null&&u.stopPropagation()}else _b(n,s,u,null,r)}}function Pb(n){return n=Im(n),jb(n)}var Fp=null;function jb(n){if(Fp=null,n=Br(n),n!==null){var s=et(n);if(s===null)n=null;else{var r=s.tag;if(r===13){if(n=_t(s),n!==null)return n;n=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Fp=n,null}function $E(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nm()){case Lf:return 2;case Os:return 8;case Ls:case Ml:return 32;case Dl:return 268435456;default:return 32}default:return 32}}var Fb=!1,Za=null,Ja=null,tr=null,wh=new Map,xh=new Map,er=[],fD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function KE(n,s){switch(n){case"focusin":case"focusout":Za=null;break;case"dragenter":case"dragleave":Ja=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":wh.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":xh.delete(s.pointerId)}}function Th(n,s,r,u,p,y){return n===null||n.nativeEvent!==y?(n={blockedOn:s,domEventName:r,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Ll(s),s!==null&&YE(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),n)}function pD(n,s,r,u,p){switch(s){case"focusin":return Za=Th(Za,n,s,r,u,p),!0;case"dragenter":return Ja=Th(Ja,n,s,r,u,p),!0;case"mouseover":return tr=Th(tr,n,s,r,u,p),!0;case"pointerover":var y=p.pointerId;return wh.set(y,Th(wh.get(y)||null,n,s,r,u,p)),!0;case"gotpointercapture":return y=p.pointerId,xh.set(y,Th(xh.get(y)||null,n,s,r,u,p)),!0}return!1}function WE(n){var s=Br(n.target);if(s!==null){var r=et(s);if(r!==null){if(s=r.tag,s===13){if(s=_t(r),s!==null){n.blockedOn=s,lR(n.priority,function(){if(r.tag===13){var u=Kn(),p=Fa(r,u);p!==null&&En(p,r,u),Nb(r,u)}});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Hp(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var r=Pb(n.nativeEvent);if(r===null){r=n.nativeEvent;var u=new r.constructor(r.type,r);Um=u,r.target.dispatchEvent(u),Um=null}else return s=Ll(r),s!==null&&YE(s),n.blockedOn=r,!1;s.shift()}return!0}function QE(n,s,r){Hp(n)&&r.delete(s)}function gD(){Fb=!1,Za!==null&&Hp(Za)&&(Za=null),Ja!==null&&Hp(Ja)&&(Ja=null),tr!==null&&Hp(tr)&&(tr=null),wh.forEach(QE),xh.forEach(QE)}function zp(n,s){n.blockedOn===s&&(n.blockedOn=null,Fb||(Fb=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,gD)))}var Up=null;function ZE(n){Up!==n&&(Up=n,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Up===n&&(Up=null);for(var s=0;s<n.length;s+=3){var r=n[s],u=n[s+1],p=n[s+2];if(typeof u!="function"){if(jb(u||r)===null)continue;break}var y=Ll(r);y!==null&&(n.splice(s,3),s-=3,Ty(y,{pending:!0,data:p,method:r.method,action:u},u,p))}}))}function Ch(n){function s(N){return zp(N,n)}Za!==null&&zp(Za,n),Ja!==null&&zp(Ja,n),tr!==null&&zp(tr,n),wh.forEach(s),xh.forEach(s);for(var r=0;r<er.length;r++){var u=er[r];u.blockedOn===n&&(u.blockedOn=null)}for(;0<er.length&&(r=er[0],r.blockedOn===null);)WE(r),r.blockedOn===null&&er.shift();if(r=(n.ownerDocument||n).$$reactFormReplay,r!=null)for(u=0;u<r.length;u+=3){var p=r[u],y=r[u+1],_=p[On]||null;if(typeof y=="function")_||ZE(r);else if(_){var R=null;if(y&&y.hasAttribute("formAction")){if(p=y,_=y[On]||null)R=_.formAction;else if(jb(p)!==null)continue}else R=_.action;typeof R=="function"?r[u+1]=R:(r.splice(u,3),u-=3),ZE(r)}}}function Hb(n){this._internalRoot=n}Ip.prototype.render=Hb.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var r=s.current,u=Kn();VE(r,u,n,s,null,null)},Ip.prototype.unmount=Hb.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;n.tag===0&&rc(),VE(n.current,2,null,n,null,null),Ep(),s[Ol]=null}};function Ip(n){this._internalRoot=n}Ip.prototype.unstable_scheduleHydration=function(n){if(n){var s=TA();n={blockedOn:null,target:n,priority:s};for(var r=0;r<er.length&&s!==0&&s<er[r].priority;r++);er.splice(r,0,n),r===0&&WE(n)}};var JE=t.version;if(JE!=="19.0.0")throw Error(i(527,JE,"19.0.0"));st.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=Q(s),n=n!==null?ot(n):null,n=n===null?null:n.stateNode,n};var mD={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:U,findFiberByHostInstance:Br,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bp.isDisabled&&Bp.supportsFiber)try{Lu=Bp.inject(mD),qn=Bp}catch{}}return Mh.createRoot=function(n,s){if(!a(n))throw Error(i(299));var r=!1,u="",p=m_,y=y_,_=b_,R=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks)),s=qE(n,1,!1,null,null,r,u,p,y,_,R,null),n[Ol]=s.current,Sb(n.nodeType===8?n.parentNode:n),new Hb(s)},Mh.hydrateRoot=function(n,s,r){if(!a(n))throw Error(i(299));var u=!1,p="",y=m_,_=y_,R=b_,N=null,z=null;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(p=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(R=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(N=r.unstable_transitionCallbacks),r.formState!==void 0&&(z=r.formState)),s=qE(n,1,!0,s,r??null,u,p,y,_,R,N,z),s.context=GE(null),r=s.current,u=Kn(),p=Ga(u),p.callback=null,Va(r,p,u),s.current.lanes=u,ku(s,u),us(s),n[Ol]=s.current,Sb(n),new Ip(s)},Mh.version="19.0.0",Mh}var uw;function RD(){if(uw)return Bb.exports;uw=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(t){console.error(t)}}return o(),Bb.exports=CD(),Bb.exports}var MD=RD(),Xb={exports:{}},Yb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hw;function DD(){if(hw)return Yb;hw=1;var o=Ef();function t(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var e=typeof Object.is=="function"?Object.is:t,i=o.useSyncExternalStore,a=o.useRef,l=o.useEffect,c=o.useMemo,h=o.useDebugValue;return Yb.useSyncExternalStoreWithSelector=function(f,g,m,b,v){var A=a(null);if(A.current===null){var S={hasValue:!1,value:null};A.current=S}else S=A.current;A=c(function(){function M(k){if(!T){if(T=!0,P=k,k=b(k),v!==void 0&&S.hasValue){var H=S.value;if(v(H,k))return O=H}return O=k}if(H=O,e(P,k))return H;var B=b(k);return v!==void 0&&v(H,B)?(P=k,H):(P=k,O=B)}var T=!1,P,O,D=m===void 0?null:m;return[function(){return M(g())},D===null?void 0:function(){return M(D())}]},[g,m,b,v]);var w=i(f,A[0],A[1]);return l(function(){S.hasValue=!0,S.value=w},[w]),h(w),w},Yb}var dw;function OD(){return dw||(dw=1,Xb.exports=DD()),Xb.exports}var LD=OD();function ND(o){o()}function kD(){let o=null,t=null;return{clear(){o=null,t=null},notify(){ND(()=>{let e=o;for(;e;)e.callback(),e=e.next})},get(){const e=[];let i=o;for(;i;)e.push(i),i=i.next;return e},subscribe(e){let i=!0;const a=t={callback:e,next:null,prev:t};return a.prev?a.prev.next=a:o=a,function(){!i||o===null||(i=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:o=a.next)}}}}var fw={notify(){},get:()=>[]};function PD(o,t){let e,i=fw,a=0,l=!1;function c(w){m();const M=i.subscribe(w);let T=!1;return()=>{T||(T=!0,M(),b())}}function h(){i.notify()}function f(){S.onStateChange&&S.onStateChange()}function g(){return l}function m(){a++,e||(e=o.subscribe(f),i=kD())}function b(){a--,e&&a===0&&(e(),e=void 0,i.clear(),i=fw)}function v(){l||(l=!0,m())}function A(){l&&(l=!1,b())}const S={addNestedSub:c,notifyNestedSubs:h,handleChangeWrapper:f,isSubscribed:g,trySubscribe:v,tryUnsubscribe:A,getListeners:()=>i};return S}var jD=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FD=jD(),HD=()=>typeof navigator<"u"&&navigator.product==="ReactNative",zD=HD(),UD=()=>FD||zD?it.useLayoutEffect:it.useEffect,ID=UD(),$b=Symbol.for("react-redux-context"),Kb=typeof globalThis<"u"?globalThis:{};function BD(){if(!it.createContext)return{};const o=Kb[$b]??(Kb[$b]=new Map);let t=o.get(it.createContext);return t||(t=it.createContext(null),o.set(it.createContext,t)),t}var Nr=BD();function qD(o){const{children:t,context:e,serverState:i,store:a}=o,l=it.useMemo(()=>{const f=PD(a);return{store:a,subscription:f,getServerState:i?()=>i:void 0}},[a,i]),c=it.useMemo(()=>a.getState(),[a]);ID(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,c]);const h=e||Nr;return it.createElement(h.Provider,{value:l},t)}var GD=qD;function $0(o=Nr){return function(){return it.useContext(o)}}var P1=$0();function j1(o=Nr){const t=o===Nr?P1:$0(o),e=()=>{const{store:i}=t();return i};return Object.assign(e,{withTypes:()=>e}),e}var VD=j1();function XD(o=Nr){const t=o===Nr?VD:j1(o),e=()=>t().dispatch;return Object.assign(e,{withTypes:()=>e}),e}var ns=XD(),YD=(o,t)=>o===t;function $D(o=Nr){const t=o===Nr?P1:$0(o),e=(i,a={})=>{const{equalityFn:l=YD}=typeof a=="function"?{equalityFn:a}:a,c=t(),{store:h,subscription:f,getServerState:g}=c;it.useRef(!0);const m=it.useCallback({[i.name](v){return i(v)}}[i.name],[i]),b=LD.useSyncExternalStoreWithSelector(f.addNestedSub,h.getState,g||h.getState,m,l);return it.useDebugValue(b),b};return Object.assign(e,{withTypes:()=>e}),e}var Kt=$D();function on(o){return`Minified Redux error #${o}; visit https://redux.js.org/Errors?code=${o} for the full message or use the non-minified dev environment for full errors. `}var KD=typeof Symbol=="function"&&Symbol.observable||"@@observable",pw=KD,Wb=()=>Math.random().toString(36).substring(7).split("").join("."),WD={INIT:`@@redux/INIT${Wb()}`,REPLACE:`@@redux/REPLACE${Wb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Wb()}`},Og=WD;function K0(o){if(typeof o!="object"||o===null)return!1;let t=o;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(o)===t||Object.getPrototypeOf(o)===null}function F1(o,t,e){if(typeof o!="function")throw new Error(on(2));if(typeof t=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(on(0));if(typeof t=="function"&&typeof e>"u"&&(e=t,t=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(on(1));return e(F1)(o,t)}let i=o,a=t,l=new Map,c=l,h=0,f=!1;function g(){c===l&&(c=new Map,l.forEach((M,T)=>{c.set(T,M)}))}function m(){if(f)throw new Error(on(3));return a}function b(M){if(typeof M!="function")throw new Error(on(4));if(f)throw new Error(on(5));let T=!0;g();const P=h++;return c.set(P,M),function(){if(T){if(f)throw new Error(on(6));T=!1,g(),c.delete(P),l=null}}}function v(M){if(!K0(M))throw new Error(on(7));if(typeof M.type>"u")throw new Error(on(8));if(typeof M.type!="string")throw new Error(on(17));if(f)throw new Error(on(9));try{f=!0,a=i(a,M)}finally{f=!1}return(l=c).forEach(P=>{P()}),M}function A(M){if(typeof M!="function")throw new Error(on(10));i=M,v({type:Og.REPLACE})}function S(){const M=b;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(on(11));function P(){const D=T;D.next&&D.next(m())}return P(),{unsubscribe:M(P)}},[pw](){return this}}}return v({type:Og.INIT}),{dispatch:v,subscribe:b,getState:m,replaceReducer:A,[pw]:S}}function QD(o){Object.keys(o).forEach(t=>{const e=o[t];if(typeof e(void 0,{type:Og.INIT})>"u")throw new Error(on(12));if(typeof e(void 0,{type:Og.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(on(13))})}function ZD(o){const t=Object.keys(o),e={};for(let l=0;l<t.length;l++){const c=t[l];typeof o[c]=="function"&&(e[c]=o[c])}const i=Object.keys(e);let a;try{QD(e)}catch(l){a=l}return function(c={},h){if(a)throw a;let f=!1;const g={};for(let m=0;m<i.length;m++){const b=i[m],v=e[b],A=c[b],S=v(A,h);if(typeof S>"u")throw h&&h.type,new Error(on(14));g[b]=S,f=f||S!==A}return f=f||i.length!==Object.keys(c).length,f?g:c}}function Lg(...o){return o.length===0?t=>t:o.length===1?o[0]:o.reduce((t,e)=>(...i)=>t(e(...i)))}function JD(...o){return t=>(e,i)=>{const a=t(e,i);let l=()=>{throw new Error(on(15))};const c={getState:a.getState,dispatch:(f,...g)=>l(f,...g)},h=o.map(f=>f(c));return l=Lg(...h)(a.dispatch),{...a,dispatch:l}}}function t2(o){return K0(o)&&"type"in o&&typeof o.type=="string"}var H1=Symbol.for("immer-nothing"),gw=Symbol.for("immer-draftable"),ci=Symbol.for("immer-state");function ts(o,...t){throw new Error(`[Immer] minified error nr: ${o}. Full error at: https://bit.ly/3cXEKWf`)}var Tu=Object.getPrototypeOf;function yl(o){return!!o&&!!o[ci]}function Da(o){var t;return o?z1(o)||Array.isArray(o)||!!o[gw]||!!((t=o.constructor)!=null&&t[gw])||cm(o)||um(o):!1}var e2=Object.prototype.constructor.toString();function z1(o){if(!o||typeof o!="object")return!1;const t=Tu(o);if(t===null)return!0;const e=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return e===Object?!0:typeof e=="function"&&Function.toString.call(e)===e2}function Ng(o,t){lm(o)===0?Reflect.ownKeys(o).forEach(e=>{t(e,o[e],o)}):o.forEach((e,i)=>t(i,e,o))}function lm(o){const t=o[ci];return t?t.type_:Array.isArray(o)?1:cm(o)?2:um(o)?3:0}function pv(o,t){return lm(o)===2?o.has(t):Object.prototype.hasOwnProperty.call(o,t)}function U1(o,t,e){const i=lm(o);i===2?o.set(t,e):i===3?o.add(e):o[t]=e}function n2(o,t){return o===t?o!==0||1/o===1/t:o!==o&&t!==t}function cm(o){return o instanceof Map}function um(o){return o instanceof Set}function ho(o){return o.copy_||o.base_}function gv(o,t){if(cm(o))return new Map(o);if(um(o))return new Set(o);if(Array.isArray(o))return Array.prototype.slice.call(o);const e=z1(o);if(t===!0||t==="class_only"&&!e){const i=Object.getOwnPropertyDescriptors(o);delete i[ci];let a=Reflect.ownKeys(i);for(let l=0;l<a.length;l++){const c=a[l],h=i[c];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(i[c]={configurable:!0,writable:!0,enumerable:h.enumerable,value:o[c]})}return Object.create(Tu(o),i)}else{const i=Tu(o);if(i!==null&&e)return{...o};const a=Object.create(i);return Object.assign(a,o)}}function W0(o,t=!1){return hm(o)||yl(o)||!Da(o)||(lm(o)>1&&(o.set=o.add=o.clear=o.delete=i2),Object.freeze(o),t&&Object.entries(o).forEach(([e,i])=>W0(i,!0))),o}function i2(){ts(2)}function hm(o){return Object.isFrozen(o)}var s2={};function bl(o){const t=s2[o];return t||ts(0,o),t}var id;function I1(){return id}function a2(o,t){return{drafts_:[],parent_:o,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function mw(o,t){t&&(bl("Patches"),o.patches_=[],o.inversePatches_=[],o.patchListener_=t)}function mv(o){yv(o),o.drafts_.forEach(r2),o.drafts_=null}function yv(o){o===id&&(id=o.parent_)}function yw(o){return id=a2(id,o)}function r2(o){const t=o[ci];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function bw(o,t){t.unfinalizedDrafts_=t.drafts_.length;const e=t.drafts_[0];return o!==void 0&&o!==e?(e[ci].modified_&&(mv(t),ts(4)),Da(o)&&(o=kg(t,o),t.parent_||Pg(t,o)),t.patches_&&bl("Patches").generateReplacementPatches_(e[ci].base_,o,t.patches_,t.inversePatches_)):o=kg(t,e,[]),mv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),o!==H1?o:void 0}function kg(o,t,e){if(hm(t))return t;const i=t[ci];if(!i)return Ng(t,(a,l)=>vw(o,i,t,a,l,e)),t;if(i.scope_!==o)return t;if(!i.modified_)return Pg(o,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,c=!1;i.type_===3&&(l=new Set(a),a.clear(),c=!0),Ng(l,(h,f)=>vw(o,i,a,h,f,e,c)),Pg(o,a,!1),e&&o.patches_&&bl("Patches").generatePatches_(i,e,o.patches_,o.inversePatches_)}return i.copy_}function vw(o,t,e,i,a,l,c){if(yl(a)){const h=l&&t&&t.type_!==3&&!pv(t.assigned_,i)?l.concat(i):void 0,f=kg(o,a,h);if(U1(e,i,f),yl(f))o.canAutoFreeze_=!1;else return}else c&&e.add(a);if(Da(a)&&!hm(a)){if(!o.immer_.autoFreeze_&&o.unfinalizedDrafts_<1)return;kg(o,a),(!t||!t.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(e,i)&&Pg(o,a)}}function Pg(o,t,e=!1){!o.parent_&&o.immer_.autoFreeze_&&o.canAutoFreeze_&&W0(t,e)}function o2(o,t){const e=Array.isArray(o),i={type_:e?1:0,scope_:t?t.scope_:I1(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:o,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=i,l=Q0;e&&(a=[i],l=sd);const{revoke:c,proxy:h}=Proxy.revocable(a,l);return i.draft_=h,i.revoke_=c,h}var Q0={get(o,t){if(t===ci)return o;const e=ho(o);if(!pv(e,t))return l2(o,e,t);const i=e[t];return o.finalized_||!Da(i)?i:i===Qb(o.base_,t)?(Zb(o),o.copy_[t]=vv(i,o)):i},has(o,t){return t in ho(o)},ownKeys(o){return Reflect.ownKeys(ho(o))},set(o,t,e){const i=B1(ho(o),t);if(i!=null&&i.set)return i.set.call(o.draft_,e),!0;if(!o.modified_){const a=Qb(ho(o),t),l=a==null?void 0:a[ci];if(l&&l.base_===e)return o.copy_[t]=e,o.assigned_[t]=!1,!0;if(n2(e,a)&&(e!==void 0||pv(o.base_,t)))return!0;Zb(o),bv(o)}return o.copy_[t]===e&&(e!==void 0||t in o.copy_)||Number.isNaN(e)&&Number.isNaN(o.copy_[t])||(o.copy_[t]=e,o.assigned_[t]=!0),!0},deleteProperty(o,t){return Qb(o.base_,t)!==void 0||t in o.base_?(o.assigned_[t]=!1,Zb(o),bv(o)):delete o.assigned_[t],o.copy_&&delete o.copy_[t],!0},getOwnPropertyDescriptor(o,t){const e=ho(o),i=Reflect.getOwnPropertyDescriptor(e,t);return i&&{writable:!0,configurable:o.type_!==1||t!=="length",enumerable:i.enumerable,value:e[t]}},defineProperty(){ts(11)},getPrototypeOf(o){return Tu(o.base_)},setPrototypeOf(){ts(12)}},sd={};Ng(Q0,(o,t)=>{sd[o]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});sd.deleteProperty=function(o,t){return sd.set.call(this,o,t,void 0)};sd.set=function(o,t,e){return Q0.set.call(this,o[0],t,e,o[0])};function Qb(o,t){const e=o[ci];return(e?ho(e):o)[t]}function l2(o,t,e){var a;const i=B1(t,e);return i?"value"in i?i.value:(a=i.get)==null?void 0:a.call(o.draft_):void 0}function B1(o,t){if(!(t in o))return;let e=Tu(o);for(;e;){const i=Object.getOwnPropertyDescriptor(e,t);if(i)return i;e=Tu(e)}}function bv(o){o.modified_||(o.modified_=!0,o.parent_&&bv(o.parent_))}function Zb(o){o.copy_||(o.copy_=gv(o.base_,o.scope_.immer_.useStrictShallowCopy_))}var c2=class{constructor(o){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,e,i)=>{if(typeof t=="function"&&typeof e!="function"){const l=e;e=t;const c=this;return function(f=l,...g){return c.produce(f,m=>e.call(this,m,...g))}}typeof e!="function"&&ts(6),i!==void 0&&typeof i!="function"&&ts(7);let a;if(Da(t)){const l=yw(this),c=vv(t,void 0);let h=!0;try{a=e(c),h=!1}finally{h?mv(l):yv(l)}return mw(l,i),bw(a,l)}else if(!t||typeof t!="object"){if(a=e(t),a===void 0&&(a=t),a===H1&&(a=void 0),this.autoFreeze_&&W0(a,!0),i){const l=[],c=[];bl("Patches").generateReplacementPatches_(t,a,l,c),i(l,c)}return a}else ts(1,t)},this.produceWithPatches=(t,e)=>{if(typeof t=="function")return(c,...h)=>this.produceWithPatches(c,f=>t(f,...h));let i,a;return[this.produce(t,e,(c,h)=>{i=c,a=h}),i,a]},typeof(o==null?void 0:o.autoFreeze)=="boolean"&&this.setAutoFreeze(o.autoFreeze),typeof(o==null?void 0:o.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(o.useStrictShallowCopy)}createDraft(o){Da(o)||ts(8),yl(o)&&(o=u2(o));const t=yw(this),e=vv(o,void 0);return e[ci].isManual_=!0,yv(t),e}finishDraft(o,t){const e=o&&o[ci];(!e||!e.isManual_)&&ts(9);const{scope_:i}=e;return mw(i,t),bw(void 0,i)}setAutoFreeze(o){this.autoFreeze_=o}setUseStrictShallowCopy(o){this.useStrictShallowCopy_=o}applyPatches(o,t){let e;for(e=t.length-1;e>=0;e--){const a=t[e];if(a.path.length===0&&a.op==="replace"){o=a.value;break}}e>-1&&(t=t.slice(e+1));const i=bl("Patches").applyPatches_;return yl(o)?i(o,t):this.produce(o,a=>i(a,t))}};function vv(o,t){const e=cm(o)?bl("MapSet").proxyMap_(o,t):um(o)?bl("MapSet").proxySet_(o,t):o2(o,t);return(t?t.scope_:I1()).drafts_.push(e),e}function u2(o){return yl(o)||ts(10,o),q1(o)}function q1(o){if(!Da(o)||hm(o))return o;const t=o[ci];let e;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,e=gv(o,t.scope_.immer_.useStrictShallowCopy_)}else e=gv(o,!0);return Ng(e,(i,a)=>{U1(e,i,q1(a))}),t&&(t.finalized_=!1),e}var ui=new c2,G1=ui.produce;ui.produceWithPatches.bind(ui);ui.setAutoFreeze.bind(ui);ui.setUseStrictShallowCopy.bind(ui);ui.applyPatches.bind(ui);ui.createDraft.bind(ui);ui.finishDraft.bind(ui);function V1(o){return({dispatch:e,getState:i})=>a=>l=>typeof l=="function"?l(e,i,o):a(l)}var h2=V1(),d2=V1,f2=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Lg:Lg.apply(null,arguments)};function Aw(o,t){function e(...i){if(t){let a=t(...i);if(!a)throw new Error(Ta(0));return{type:o,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:o,payload:i[0]}}return e.toString=()=>`${o}`,e.type=o,e.match=i=>t2(i)&&i.type===o,e}var X1=class Fh extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Fh.prototype)}static get[Symbol.species](){return Fh}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Fh(...t[0].concat(this)):new Fh(...t.concat(this))}};function Sw(o){return Da(o)?G1(o,()=>{}):o}function qp(o,t,e){return o.has(t)?o.get(t):o.set(t,e(t)).get(t)}function p2(o){return typeof o=="boolean"}var g2=()=>function(t){const{thunk:e=!0,immutableCheck:i=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=t??{};let c=new X1;return e&&(p2(e)?c.push(h2):c.push(d2(e.extraArgument))),c},m2="RTK_autoBatch",_w=o=>t=>{setTimeout(t,o)},y2=(o={type:"raf"})=>t=>(...e)=>{const i=t(...e);let a=!0,l=!1,c=!1;const h=new Set,f=o.type==="tick"?queueMicrotask:o.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:_w(10):o.type==="callback"?o.queueNotification:_w(o.timeout),g=()=>{c=!1,l&&(l=!1,h.forEach(m=>m()))};return Object.assign({},i,{subscribe(m){const b=()=>a&&m(),v=i.subscribe(b);return h.add(m),()=>{v(),h.delete(m)}},dispatch(m){var b;try{return a=!((b=m==null?void 0:m.meta)!=null&&b[m2]),l=!a,l&&(c||(c=!0,f(g))),i.dispatch(m)}finally{a=!0}}})},b2=o=>function(e){const{autoBatch:i=!0}=e??{};let a=new X1(o);return i&&a.push(y2(typeof i=="object"?i:void 0)),a};function v2(o){const t=g2(),{reducer:e=void 0,middleware:i,devTools:a=!0,preloadedState:l=void 0,enhancers:c=void 0}=o||{};let h;if(typeof e=="function")h=e;else if(K0(e))h=ZD(e);else throw new Error(Ta(1));let f;typeof i=="function"?f=i(t):f=t();let g=Lg;a&&(g=f2({trace:!1,...typeof a=="object"&&a}));const m=JD(...f),b=b2(m);let v=typeof c=="function"?c(b):b();const A=g(...v);return F1(h,l,A)}function Y1(o){const t={},e=[];let i;const a={addCase(l,c){const h=typeof l=="string"?l:l.type;if(!h)throw new Error(Ta(28));if(h in t)throw new Error(Ta(29));return t[h]=c,a},addMatcher(l,c){return e.push({matcher:l,reducer:c}),a},addDefaultCase(l){return i=l,a}};return o(a),[t,e,i]}function A2(o){return typeof o=="function"}function S2(o,t){let[e,i,a]=Y1(t),l;if(A2(o))l=()=>Sw(o());else{const h=Sw(o);l=()=>h}function c(h=l(),f){let g=[e[f.type],...i.filter(({matcher:m})=>m(f)).map(({reducer:m})=>m)];return g.filter(m=>!!m).length===0&&(g=[a]),g.reduce((m,b)=>{if(b)if(yl(m)){const A=b(m,f);return A===void 0?m:A}else{if(Da(m))return G1(m,v=>b(v,f));{const v=b(m,f);if(v===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return m},h)}return c.getInitialState=l,c}var _2=Symbol.for("rtk-slice-createasyncthunk");function E2(o,t){return`${o}/${t}`}function w2({creators:o}={}){var e;const t=(e=o==null?void 0:o.asyncThunk)==null?void 0:e[_2];return function(a){const{name:l,reducerPath:c=l}=a;if(!l)throw new Error(Ta(11));const h=(typeof a.reducers=="function"?a.reducers(T2()):a.reducers)||{},f=Object.keys(h),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(D,k){const H=typeof D=="string"?D:D.type;if(!H)throw new Error(Ta(12));if(H in g.sliceCaseReducersByType)throw new Error(Ta(13));return g.sliceCaseReducersByType[H]=k,m},addMatcher(D,k){return g.sliceMatchers.push({matcher:D,reducer:k}),m},exposeAction(D,k){return g.actionCreators[D]=k,m},exposeCaseReducer(D,k){return g.sliceCaseReducersByName[D]=k,m}};f.forEach(D=>{const k=h[D],H={reducerName:D,type:E2(l,D),createNotation:typeof a.reducers=="function"};R2(k)?D2(H,k,m,t):C2(H,k,m)});function b(){const[D={},k=[],H=void 0]=typeof a.extraReducers=="function"?Y1(a.extraReducers):[a.extraReducers],B={...D,...g.sliceCaseReducersByType};return S2(a.initialState,V=>{for(let U in B)V.addCase(U,B[U]);for(let U of g.sliceMatchers)V.addMatcher(U.matcher,U.reducer);for(let U of k)V.addMatcher(U.matcher,U.reducer);H&&V.addDefaultCase(H)})}const v=D=>D,A=new Map,S=new WeakMap;let w;function M(D,k){return w||(w=b()),w(D,k)}function T(){return w||(w=b()),w.getInitialState()}function P(D,k=!1){function H(V){let U=V[D];return typeof U>"u"&&k&&(U=qp(S,H,T)),U}function B(V=v){const U=qp(A,k,()=>new WeakMap);return qp(U,V,()=>{const W={};for(const[tt,ct]of Object.entries(a.selectors??{}))W[tt]=x2(ct,V,()=>qp(S,V,T),k);return W})}return{reducerPath:D,getSelectors:B,get selectors(){return B(H)},selectSlice:H}}const O={name:l,reducer:M,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:T,...P(c),injectInto(D,{reducerPath:k,...H}={}){const B=k??c;return D.inject({reducerPath:B,reducer:M},H),{...O,...P(B,!0)}}};return O}}function x2(o,t,e,i){function a(l,...c){let h=t(l);return typeof h>"u"&&i&&(h=e()),o(h,...c)}return a.unwrapped=o,a}var wf=w2();function T2(){function o(t,e){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...e}}return o.withTypes=()=>o,{reducer(t){return Object.assign({[t.name](...e){return t(...e)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,e){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:e}},asyncThunk:o}}function C2({type:o,reducerName:t,createNotation:e},i,a){let l,c;if("reducer"in i){if(e&&!M2(i))throw new Error(Ta(17));l=i.reducer,c=i.prepare}else l=i;a.addCase(o,l).exposeCaseReducer(t,l).exposeAction(t,c?Aw(o,c):Aw(o))}function R2(o){return o._reducerDefinitionType==="asyncThunk"}function M2(o){return o._reducerDefinitionType==="reducerWithPrepare"}function D2({type:o,reducerName:t},e,i,a){if(!a)throw new Error(Ta(18));const{payloadCreator:l,fulfilled:c,pending:h,rejected:f,settled:g,options:m}=e,b=a(o,l,m);i.exposeAction(t,b),c&&i.addCase(b.fulfilled,c),h&&i.addCase(b.pending,h),f&&i.addCase(b.rejected,f),g&&i.addMatcher(b.settled,g),i.exposeCaseReducer(t,{fulfilled:c||Gp,pending:h||Gp,rejected:f||Gp,settled:g||Gp})}function Gp(){}function Ta(o){return`Minified Redux Toolkit error #${o}; visit https://redux-toolkit.js.org/Errors?code=${o} for the full message or use the non-minified dev environment for full errors. `}const Ew={deployment:"https://radar-backend-o1yd.onrender.com",serverStatus:"🟡 Initialising...",logoClientId:null,loadingSummary:!1,loadingResumeImprovements:!1,processingJobDescription:!1,fetchingCompanyValues:!1,companyValuesVisibility:!1,generatingCoverLetter:!1,loadingApplyData:!1},$1=wf({name:"session",initialState:Ew,reducers:{setRadarOnline:o=>{o.serverStatus="🟢 Online",console.log("RaDAR Online!")},setRadarOffline:(o,t)=>{o.serverStatus="🔴 Offline",console.log("RaDAR Offline! Error received:"),console.log(t.payload)},setLogoClientId:(o,t)=>{o.logoClientId=t.payload},setLoadingSummary:(o,t)=>{o.loadingSummary=t.payload},setLoadingResumeImprovements:(o,t)=>{o.loadingResumeImprovements=t.payload},setProcessingJobDescription:(o,t)=>{o.processingJobDescription=t.payload},setFetchingCompanyValues:(o,t)=>{o.fetchingCompanyValues=t.payload},showCompanyValues:o=>{o.companyValuesVisibility=!0},hideCompanyValues:o=>{o.companyValuesVisibility=!1},setGeneratingCoverLetter:(o,t)=>{o.generatingCoverLetter=t.payload},setLoadingApplyData:(o,t)=>{o.loadingApplyData=t.payload},invalidateCaches:()=>{localStorage.clear(),alert("Caches cleared!")},resetSession:()=>Ew}}),{setRadarOnline:O2,setRadarOffline:ww,setLogoClientId:K1,setLoadingSummary:xw,setLoadingResumeImprovements:Tw,setProcessingJobDescription:Cw,setFetchingCompanyValues:Rw,showCompanyValues:L2,hideCompanyValues:N2,setGeneratingCoverLetter:fF,setLoadingApplyData:Jb,invalidateCaches:k2,resetSession:pF}=$1.actions,P2=$1.reducer,Mw={resumeName:null,resumeText:null,resumeUrl:null,resumeSummary:null,resumeImprovements:null,resumeAlignmentScore:0},W1=wf({name:"resume",initialState:Mw,reducers:{setResumeName:(o,t)=>{o.resumeName=t.payload},setResumeText:(o,t)=>{o.resumeText=t.payload},setResumeUrl:(o,t)=>{o.resumeUrl=t.payload},setResumeSummary:(o,t)=>{o.resumeSummary=t.payload},setResumeImprovements:(o,t)=>{o.resumeImprovements=t.payload},setResumeAlignmentScore:(o,t)=>{o.resumeAlignmentScore=t.payload},resetResumeData:()=>Mw}}),{setResumeName:j2,setResumeText:F2,setResumeUrl:H2,setResumeSummary:z2,setResumeImprovements:U2,setResumeAlignmentScore:Q1,resetResumeData:I2}=W1.actions,B2=W1.reducer,Dw={jobDescription:null,jobTitle:null,jdKeywords:null,experienceLevel:null,salaryBracket:null,teamName:null,sponsorship:null,location:null,benefits:null,jdKeyNotes:null},Z1=wf({name:"job",initialState:Dw,reducers:{setJobDescription:(o,t)=>{o.jobDescription=t.payload},setJobTitle:(o,t)=>{o.jobTitle=t.payload},setJobKeywords:(o,t)=>{o.jdKeywords=t.payload},setJobExperienceLevel:(o,t)=>{o.experienceLevel=t.payload},setJobSalaryBracket:(o,t)=>{o.salaryBracket=t.payload},setJobTeamName:(o,t)=>{o.teamName=t.payload},setJobSponsorship:(o,t)=>{o.sponsorship=t.payload},setJobLocation:(o,t)=>{o.location=t.payload},setJobBenefits:(o,t)=>{o.benefits=t.payload},setJobKeyNotes:(o,t)=>{o.jdKeyNotes=t.payload},setJobDetails:(o,t)=>{const e=t.payload;o.jobTitle=e.title,o.jdKeywords=e.keywords,o.jdKeyNotes=e.notes,"salary_bracket"in e&&(o.salaryBracket=e.salary_bracket),"experience_level"in e&&(o.experienceLevel=e.experience_level),"team_name"in e&&(o.teamName=e.team_name),"visa_sponsorship"in e&&(o.sponsorship=e.visa_sponsorship),"location"in e&&(o.location=e.location),"benefits"in e&&(o.benefits=e.benefits)},resetJobData:()=>Dw}}),{setJobDescription:q2,setJobTitle:gF,setJobKeywords:mF,setJobExperienceLevel:yF,setJobSalaryBracket:bF,setJobTeamName:vF,setJobSponsorship:AF,setJobLocation:SF,setJobBenefits:_F,setJobKeyNotes:EF,setJobDetails:G2,resetJobData:V2}=Z1.actions,X2=Z1.reducer,Ow={companyName:null,companyValues:null,companyValuesLink:null,companyDomain:null,companyGlassdoorLink:null},J1=wf({name:"company",initialState:Ow,reducers:{setCompanyName:(o,t)=>{o.companyName=t.payload},setValues:(o,t)=>{o.companyValues=t.payload},setCompanyValuesLink:(o,t)=>{o.companyValuesLink=t.payload},setDomain:(o,t)=>{o.companyDomain=t.payload},setGlassdoorLink:(o,t)=>{o.companyGlassdoorLink=t.payload},resetCompanyData:()=>Ow}}),{setCompanyName:Y2,setValues:$2,setCompanyValuesLink:K2,setDomain:W2,setGlassdoorLink:Q2,resetCompanyData:Z2}=J1.actions,J2=J1.reducer,Lw={coverLetter:null,coverLetterImprovements:null,coverLetterContext:null,loadingCoverLetter:null,additionalMessage:null,additionalMessageImprovements:null,additionalMessageContext:null,loadingAdditionalMessage:null},tx=wf({name:"additionalDocs",initialState:Lw,reducers:{setCoverLetter:(o,t)=>{o.coverLetter=t.payload},setCoverLetterImprovements:(o,t)=>{o.coverLetterImprovements=t.payload},setCoverLetterContext:(o,t)=>{o.coverLetterContext=t.payload},setLoadingCoverLetter:(o,t)=>{o.loadingCoverLetter=t.payload},setCoverLetterDetails:(o,t)=>{o.coverLetter=t.payload.cover_letter,o.coverLetterImprovements=t.payload.improvements},resetCoverLetter:o=>{o.coverLetter=null,o.coverLetterImprovements=null,o.coverLetterContext=null,o.loadingCoverLetter=null},setAdditionalMessage:(o,t)=>{o.additionalMessage=t.payload},setAdditionalMessageImprovements:(o,t)=>{o.additionalMessageImprovements=t.payload},setAdditionalMessageContext:(o,t)=>{o.additionalMessageContext=t.payload},setLoadingAdditionalMessage:(o,t)=>{o.loadingAdditionalMessage=t.payload},setAdditionalMessageDetails:(o,t)=>{o.additionalMessage=t.payload.additional_msg,o.additionalMessageImprovements=t.payload.improvements},resetAdditionalMessage:o=>{o.additionalMessage=null,o.additionalMessageImprovements=null,o.additionalMessageContext=null,o.loadingAdditionalMessage=null},resetAllAdditionalDocs:()=>Lw}}),{setCoverLetter:wF,setCoverLetterImprovements:xF,setCoverLetterContext:tO,setCoverLetterDetails:eO,setLoadingCoverLetter:Nw,resetCoverLetter:nO,setAdditionalMessage:TF,setAdditionalMessageImprovements:CF,setAdditionalMessageDetails:iO,setAdditionalMessageContext:sO,setLoadingAdditionalMessage:kw,resetAdditionalMessage:aO,resetAllAdditionalDocs:RF}=tx.actions,rO=tx.reducer,ex=v2({reducer:{session:P2,resume:B2,job:X2,company:J2,additionalDocs:rO}});function nx(o,t){return function(){return o.apply(t,arguments)}}const{toString:oO}=Object.prototype,{getPrototypeOf:Z0}=Object,dm=(o=>t=>{const e=oO.call(t);return o[e]||(o[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),is=o=>(o=o.toLowerCase(),t=>dm(t)===o),fm=o=>t=>typeof t===o,{isArray:Ru}=Array,ad=fm("undefined");function lO(o){return o!==null&&!ad(o)&&o.constructor!==null&&!ad(o.constructor)&&oi(o.constructor.isBuffer)&&o.constructor.isBuffer(o)}const ix=is("ArrayBuffer");function cO(o){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(o):t=o&&o.buffer&&ix(o.buffer),t}const uO=fm("string"),oi=fm("function"),sx=fm("number"),pm=o=>o!==null&&typeof o=="object",hO=o=>o===!0||o===!1,Qp=o=>{if(dm(o)!=="object")return!1;const t=Z0(o);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)},dO=is("Date"),fO=is("File"),pO=is("Blob"),gO=is("FileList"),mO=o=>pm(o)&&oi(o.pipe),yO=o=>{let t;return o&&(typeof FormData=="function"&&o instanceof FormData||oi(o.append)&&((t=dm(o))==="formdata"||t==="object"&&oi(o.toString)&&o.toString()==="[object FormData]"))},bO=is("URLSearchParams"),[vO,AO,SO,_O]=["ReadableStream","Request","Response","Headers"].map(is),EO=o=>o.trim?o.trim():o.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xf(o,t,{allOwnKeys:e=!1}={}){if(o===null||typeof o>"u")return;let i,a;if(typeof o!="object"&&(o=[o]),Ru(o))for(i=0,a=o.length;i<a;i++)t.call(null,o[i],i,o);else{const l=e?Object.getOwnPropertyNames(o):Object.keys(o),c=l.length;let h;for(i=0;i<c;i++)h=l[i],t.call(null,o[h],h,o)}}function ax(o,t){t=t.toLowerCase();const e=Object.keys(o);let i=e.length,a;for(;i-- >0;)if(a=e[i],t===a.toLowerCase())return a;return null}const vo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rx=o=>!ad(o)&&o!==vo;function Av(){const{caseless:o}=rx(this)&&this||{},t={},e=(i,a)=>{const l=o&&ax(t,a)||a;Qp(t[l])&&Qp(i)?t[l]=Av(t[l],i):Qp(i)?t[l]=Av({},i):Ru(i)?t[l]=i.slice():t[l]=i};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&xf(arguments[i],e);return t}const wO=(o,t,e,{allOwnKeys:i}={})=>(xf(t,(a,l)=>{e&&oi(a)?o[l]=nx(a,e):o[l]=a},{allOwnKeys:i}),o),xO=o=>(o.charCodeAt(0)===65279&&(o=o.slice(1)),o),TO=(o,t,e,i)=>{o.prototype=Object.create(t.prototype,i),o.prototype.constructor=o,Object.defineProperty(o,"super",{value:t.prototype}),e&&Object.assign(o.prototype,e)},CO=(o,t,e,i)=>{let a,l,c;const h={};if(t=t||{},o==null)return t;do{for(a=Object.getOwnPropertyNames(o),l=a.length;l-- >0;)c=a[l],(!i||i(c,o,t))&&!h[c]&&(t[c]=o[c],h[c]=!0);o=e!==!1&&Z0(o)}while(o&&(!e||e(o,t))&&o!==Object.prototype);return t},RO=(o,t,e)=>{o=String(o),(e===void 0||e>o.length)&&(e=o.length),e-=t.length;const i=o.indexOf(t,e);return i!==-1&&i===e},MO=o=>{if(!o)return null;if(Ru(o))return o;let t=o.length;if(!sx(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=o[t];return e},DO=(o=>t=>o&&t instanceof o)(typeof Uint8Array<"u"&&Z0(Uint8Array)),OO=(o,t)=>{const i=(o&&o[Symbol.iterator]).call(o);let a;for(;(a=i.next())&&!a.done;){const l=a.value;t.call(o,l[0],l[1])}},LO=(o,t)=>{let e;const i=[];for(;(e=o.exec(t))!==null;)i.push(e);return i},NO=is("HTMLFormElement"),kO=o=>o.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,i,a){return i.toUpperCase()+a}),Pw=(({hasOwnProperty:o})=>(t,e)=>o.call(t,e))(Object.prototype),PO=is("RegExp"),ox=(o,t)=>{const e=Object.getOwnPropertyDescriptors(o),i={};xf(e,(a,l)=>{let c;(c=t(a,l,o))!==!1&&(i[l]=c||a)}),Object.defineProperties(o,i)},jO=o=>{ox(o,(t,e)=>{if(oi(o)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const i=o[e];if(oi(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},FO=(o,t)=>{const e={},i=a=>{a.forEach(l=>{e[l]=!0})};return Ru(o)?i(o):i(String(o).split(t)),e},HO=()=>{},zO=(o,t)=>o!=null&&Number.isFinite(o=+o)?o:t;function UO(o){return!!(o&&oi(o.append)&&o[Symbol.toStringTag]==="FormData"&&o[Symbol.iterator])}const IO=o=>{const t=new Array(10),e=(i,a)=>{if(pm(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[a]=i;const l=Ru(i)?[]:{};return xf(i,(c,h)=>{const f=e(c,a+1);!ad(f)&&(l[h]=f)}),t[a]=void 0,l}}return i};return e(o,0)},BO=is("AsyncFunction"),qO=o=>o&&(pm(o)||oi(o))&&oi(o.then)&&oi(o.catch),lx=((o,t)=>o?setImmediate:t?((e,i)=>(vo.addEventListener("message",({source:a,data:l})=>{a===vo&&l===e&&i.length&&i.shift()()},!1),a=>{i.push(a),vo.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",oi(vo.postMessage)),GO=typeof queueMicrotask<"u"?queueMicrotask.bind(vo):typeof process<"u"&&process.nextTick||lx,X={isArray:Ru,isArrayBuffer:ix,isBuffer:lO,isFormData:yO,isArrayBufferView:cO,isString:uO,isNumber:sx,isBoolean:hO,isObject:pm,isPlainObject:Qp,isReadableStream:vO,isRequest:AO,isResponse:SO,isHeaders:_O,isUndefined:ad,isDate:dO,isFile:fO,isBlob:pO,isRegExp:PO,isFunction:oi,isStream:mO,isURLSearchParams:bO,isTypedArray:DO,isFileList:gO,forEach:xf,merge:Av,extend:wO,trim:EO,stripBOM:xO,inherits:TO,toFlatObject:CO,kindOf:dm,kindOfTest:is,endsWith:RO,toArray:MO,forEachEntry:OO,matchAll:LO,isHTMLForm:NO,hasOwnProperty:Pw,hasOwnProp:Pw,reduceDescriptors:ox,freezeMethods:jO,toObjectSet:FO,toCamelCase:kO,noop:HO,toFiniteNumber:zO,findKey:ax,global:vo,isContextDefined:rx,isSpecCompliantForm:UO,toJSONObject:IO,isAsyncFn:BO,isThenable:qO,setImmediate:lx,asap:GO};function Mt(o,t,e,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=o,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}X.inherits(Mt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const cx=Mt.prototype,ux={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(o=>{ux[o]={value:o}});Object.defineProperties(Mt,ux);Object.defineProperty(cx,"isAxiosError",{value:!0});Mt.from=(o,t,e,i,a,l)=>{const c=Object.create(cx);return X.toFlatObject(o,c,function(f){return f!==Error.prototype},h=>h!=="isAxiosError"),Mt.call(c,o.message,t,e,i,a),c.cause=o,c.name=o.name,l&&Object.assign(c,l),c};const VO=null;function Sv(o){return X.isPlainObject(o)||X.isArray(o)}function hx(o){return X.endsWith(o,"[]")?o.slice(0,-2):o}function jw(o,t,e){return o?o.concat(t).map(function(a,l){return a=hx(a),!e&&l?"["+a+"]":a}).join(e?".":""):t}function XO(o){return X.isArray(o)&&!o.some(Sv)}const YO=X.toFlatObject(X,{},null,function(t){return/^is[A-Z]/.test(t)});function gm(o,t,e){if(!X.isObject(o))throw new TypeError("target must be an object");t=t||new FormData,e=X.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,M){return!X.isUndefined(M[w])});const i=e.metaTokens,a=e.visitor||m,l=e.dots,c=e.indexes,f=(e.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(t);if(!X.isFunction(a))throw new TypeError("visitor must be a function");function g(S){if(S===null)return"";if(X.isDate(S))return S.toISOString();if(!f&&X.isBlob(S))throw new Mt("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(S)||X.isTypedArray(S)?f&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function m(S,w,M){let T=S;if(S&&!M&&typeof S=="object"){if(X.endsWith(w,"{}"))w=i?w:w.slice(0,-2),S=JSON.stringify(S);else if(X.isArray(S)&&XO(S)||(X.isFileList(S)||X.endsWith(w,"[]"))&&(T=X.toArray(S)))return w=hx(w),T.forEach(function(O,D){!(X.isUndefined(O)||O===null)&&t.append(c===!0?jw([w],D,l):c===null?w:w+"[]",g(O))}),!1}return Sv(S)?!0:(t.append(jw(M,w,l),g(S)),!1)}const b=[],v=Object.assign(YO,{defaultVisitor:m,convertValue:g,isVisitable:Sv});function A(S,w){if(!X.isUndefined(S)){if(b.indexOf(S)!==-1)throw Error("Circular reference detected in "+w.join("."));b.push(S),X.forEach(S,function(T,P){(!(X.isUndefined(T)||T===null)&&a.call(t,T,X.isString(P)?P.trim():P,w,v))===!0&&A(T,w?w.concat(P):[P])}),b.pop()}}if(!X.isObject(o))throw new TypeError("data must be an object");return A(o),t}function Fw(o){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(o).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function J0(o,t){this._pairs=[],o&&gm(o,this,t)}const dx=J0.prototype;dx.append=function(t,e){this._pairs.push([t,e])};dx.toString=function(t){const e=t?function(i){return t.call(this,i,Fw)}:Fw;return this._pairs.map(function(a){return e(a[0])+"="+e(a[1])},"").join("&")};function $O(o){return encodeURIComponent(o).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fx(o,t,e){if(!t)return o;const i=e&&e.encode||$O;X.isFunction(e)&&(e={serialize:e});const a=e&&e.serialize;let l;if(a?l=a(t,e):l=X.isURLSearchParams(t)?t.toString():new J0(t,e).toString(i),l){const c=o.indexOf("#");c!==-1&&(o=o.slice(0,c)),o+=(o.indexOf("?")===-1?"?":"&")+l}return o}class Hw{constructor(){this.handlers=[]}use(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){X.forEach(this.handlers,function(i){i!==null&&t(i)})}}const px={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},KO=typeof URLSearchParams<"u"?URLSearchParams:J0,WO=typeof FormData<"u"?FormData:null,QO=typeof Blob<"u"?Blob:null,ZO={isBrowser:!0,classes:{URLSearchParams:KO,FormData:WO,Blob:QO},protocols:["http","https","file","blob","url","data"]},tA=typeof window<"u"&&typeof document<"u",_v=typeof navigator=="object"&&navigator||void 0,JO=tA&&(!_v||["ReactNative","NativeScript","NS"].indexOf(_v.product)<0),tL=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",eL=tA&&window.location.href||"http://localhost",nL=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:tA,hasStandardBrowserEnv:JO,hasStandardBrowserWebWorkerEnv:tL,navigator:_v,origin:eL},Symbol.toStringTag,{value:"Module"})),vn={...nL,...ZO};function iL(o,t){return gm(o,new vn.classes.URLSearchParams,Object.assign({visitor:function(e,i,a,l){return vn.isNode&&X.isBuffer(e)?(this.append(i,e.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},t))}function sL(o){return X.matchAll(/\w+|\[(\w*)]/g,o).map(t=>t[0]==="[]"?"":t[1]||t[0])}function aL(o){const t={},e=Object.keys(o);let i;const a=e.length;let l;for(i=0;i<a;i++)l=e[i],t[l]=o[l];return t}function gx(o){function t(e,i,a,l){let c=e[l++];if(c==="__proto__")return!0;const h=Number.isFinite(+c),f=l>=e.length;return c=!c&&X.isArray(a)?a.length:c,f?(X.hasOwnProp(a,c)?a[c]=[a[c],i]:a[c]=i,!h):((!a[c]||!X.isObject(a[c]))&&(a[c]=[]),t(e,i,a[c],l)&&X.isArray(a[c])&&(a[c]=aL(a[c])),!h)}if(X.isFormData(o)&&X.isFunction(o.entries)){const e={};return X.forEachEntry(o,(i,a)=>{t(sL(i),a,e,0)}),e}return null}function rL(o,t,e){if(X.isString(o))try{return(t||JSON.parse)(o),X.trim(o)}catch(i){if(i.name!=="SyntaxError")throw i}return(e||JSON.stringify)(o)}const Tf={transitional:px,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const i=e.getContentType()||"",a=i.indexOf("application/json")>-1,l=X.isObject(t);if(l&&X.isHTMLForm(t)&&(t=new FormData(t)),X.isFormData(t))return a?JSON.stringify(gx(t)):t;if(X.isArrayBuffer(t)||X.isBuffer(t)||X.isStream(t)||X.isFile(t)||X.isBlob(t)||X.isReadableStream(t))return t;if(X.isArrayBufferView(t))return t.buffer;if(X.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let h;if(l){if(i.indexOf("application/x-www-form-urlencoded")>-1)return iL(t,this.formSerializer).toString();if((h=X.isFileList(t))||i.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return gm(h?{"files[]":t}:t,f&&new f,this.formSerializer)}}return l||a?(e.setContentType("application/json",!1),rL(t)):t}],transformResponse:[function(t){const e=this.transitional||Tf.transitional,i=e&&e.forcedJSONParsing,a=this.responseType==="json";if(X.isResponse(t)||X.isReadableStream(t))return t;if(t&&X.isString(t)&&(i&&!this.responseType||a)){const c=!(e&&e.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(h){if(c)throw h.name==="SyntaxError"?Mt.from(h,Mt.ERR_BAD_RESPONSE,this,null,this.response):h}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:vn.classes.FormData,Blob:vn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],o=>{Tf.headers[o]={}});const oL=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lL=o=>{const t={};let e,i,a;return o&&o.split(`
`).forEach(function(c){a=c.indexOf(":"),e=c.substring(0,a).trim().toLowerCase(),i=c.substring(a+1).trim(),!(!e||t[e]&&oL[e])&&(e==="set-cookie"?t[e]?t[e].push(i):t[e]=[i]:t[e]=t[e]?t[e]+", "+i:i)}),t},zw=Symbol("internals");function Dh(o){return o&&String(o).trim().toLowerCase()}function Zp(o){return o===!1||o==null?o:X.isArray(o)?o.map(Zp):String(o)}function cL(o){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=e.exec(o);)t[i[1]]=i[2];return t}const uL=o=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(o.trim());function tv(o,t,e,i,a){if(X.isFunction(i))return i.call(this,t,e);if(a&&(t=e),!!X.isString(t)){if(X.isString(i))return t.indexOf(i)!==-1;if(X.isRegExp(i))return i.test(t)}}function hL(o){return o.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,i)=>e.toUpperCase()+i)}function dL(o,t){const e=X.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(o,i+e,{value:function(a,l,c){return this[i].call(this,t,a,l,c)},configurable:!0})})}let Bn=class{constructor(t){t&&this.set(t)}set(t,e,i){const a=this;function l(h,f,g){const m=Dh(f);if(!m)throw new Error("header name must be a non-empty string");const b=X.findKey(a,m);(!b||a[b]===void 0||g===!0||g===void 0&&a[b]!==!1)&&(a[b||f]=Zp(h))}const c=(h,f)=>X.forEach(h,(g,m)=>l(g,m,f));if(X.isPlainObject(t)||t instanceof this.constructor)c(t,e);else if(X.isString(t)&&(t=t.trim())&&!uL(t))c(lL(t),e);else if(X.isHeaders(t))for(const[h,f]of t.entries())l(f,h,i);else t!=null&&l(e,t,i);return this}get(t,e){if(t=Dh(t),t){const i=X.findKey(this,t);if(i){const a=this[i];if(!e)return a;if(e===!0)return cL(a);if(X.isFunction(e))return e.call(this,a,i);if(X.isRegExp(e))return e.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Dh(t),t){const i=X.findKey(this,t);return!!(i&&this[i]!==void 0&&(!e||tv(this,this[i],i,e)))}return!1}delete(t,e){const i=this;let a=!1;function l(c){if(c=Dh(c),c){const h=X.findKey(i,c);h&&(!e||tv(i,i[h],h,e))&&(delete i[h],a=!0)}}return X.isArray(t)?t.forEach(l):l(t),a}clear(t){const e=Object.keys(this);let i=e.length,a=!1;for(;i--;){const l=e[i];(!t||tv(this,this[l],l,t,!0))&&(delete this[l],a=!0)}return a}normalize(t){const e=this,i={};return X.forEach(this,(a,l)=>{const c=X.findKey(i,l);if(c){e[c]=Zp(a),delete e[l];return}const h=t?hL(l):String(l).trim();h!==l&&delete e[l],e[h]=Zp(a),i[h]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return X.forEach(this,(i,a)=>{i!=null&&i!==!1&&(e[a]=t&&X.isArray(i)?i.join(", "):i)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const i=new this(t);return e.forEach(a=>i.set(a)),i}static accessor(t){const i=(this[zw]=this[zw]={accessors:{}}).accessors,a=this.prototype;function l(c){const h=Dh(c);i[h]||(dL(a,c),i[h]=!0)}return X.isArray(t)?t.forEach(l):l(t),this}};Bn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(Bn.prototype,({value:o},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>o,set(i){this[e]=i}}});X.freezeMethods(Bn);function ev(o,t){const e=this||Tf,i=t||e,a=Bn.from(i.headers);let l=i.data;return X.forEach(o,function(h){l=h.call(e,l,a.normalize(),t?t.status:void 0)}),a.normalize(),l}function mx(o){return!!(o&&o.__CANCEL__)}function Mu(o,t,e){Mt.call(this,o??"canceled",Mt.ERR_CANCELED,t,e),this.name="CanceledError"}X.inherits(Mu,Mt,{__CANCEL__:!0});function yx(o,t,e){const i=e.config.validateStatus;!e.status||!i||i(e.status)?o(e):t(new Mt("Request failed with status code "+e.status,[Mt.ERR_BAD_REQUEST,Mt.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function fL(o){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(o);return t&&t[1]||""}function pL(o,t){o=o||10;const e=new Array(o),i=new Array(o);let a=0,l=0,c;return t=t!==void 0?t:1e3,function(f){const g=Date.now(),m=i[l];c||(c=g),e[a]=f,i[a]=g;let b=l,v=0;for(;b!==a;)v+=e[b++],b=b%o;if(a=(a+1)%o,a===l&&(l=(l+1)%o),g-c<t)return;const A=m&&g-m;return A?Math.round(v*1e3/A):void 0}}function gL(o,t){let e=0,i=1e3/t,a,l;const c=(g,m=Date.now())=>{e=m,a=null,l&&(clearTimeout(l),l=null),o.apply(null,g)};return[(...g)=>{const m=Date.now(),b=m-e;b>=i?c(g,m):(a=g,l||(l=setTimeout(()=>{l=null,c(a)},i-b)))},()=>a&&c(a)]}const jg=(o,t,e=3)=>{let i=0;const a=pL(50,250);return gL(l=>{const c=l.loaded,h=l.lengthComputable?l.total:void 0,f=c-i,g=a(f),m=c<=h;i=c;const b={loaded:c,total:h,progress:h?c/h:void 0,bytes:f,rate:g||void 0,estimated:g&&h&&m?(h-c)/g:void 0,event:l,lengthComputable:h!=null,[t?"download":"upload"]:!0};o(b)},e)},Uw=(o,t)=>{const e=o!=null;return[i=>t[0]({lengthComputable:e,total:o,loaded:i}),t[1]]},Iw=o=>(...t)=>X.asap(()=>o(...t)),mL=vn.hasStandardBrowserEnv?((o,t)=>e=>(e=new URL(e,vn.origin),o.protocol===e.protocol&&o.host===e.host&&(t||o.port===e.port)))(new URL(vn.origin),vn.navigator&&/(msie|trident)/i.test(vn.navigator.userAgent)):()=>!0,yL=vn.hasStandardBrowserEnv?{write(o,t,e,i,a,l){const c=[o+"="+encodeURIComponent(t)];X.isNumber(e)&&c.push("expires="+new Date(e).toGMTString()),X.isString(i)&&c.push("path="+i),X.isString(a)&&c.push("domain="+a),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(o){const t=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(o){this.write(o,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function bL(o){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(o)}function vL(o,t){return t?o.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):o}function bx(o,t,e){let i=!bL(t);return o&&(i||e==!1)?vL(o,t):t}const Bw=o=>o instanceof Bn?{...o}:o;function vl(o,t){t=t||{};const e={};function i(g,m,b,v){return X.isPlainObject(g)&&X.isPlainObject(m)?X.merge.call({caseless:v},g,m):X.isPlainObject(m)?X.merge({},m):X.isArray(m)?m.slice():m}function a(g,m,b,v){if(X.isUndefined(m)){if(!X.isUndefined(g))return i(void 0,g,b,v)}else return i(g,m,b,v)}function l(g,m){if(!X.isUndefined(m))return i(void 0,m)}function c(g,m){if(X.isUndefined(m)){if(!X.isUndefined(g))return i(void 0,g)}else return i(void 0,m)}function h(g,m,b){if(b in t)return i(g,m);if(b in o)return i(void 0,g)}const f={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:h,headers:(g,m,b)=>a(Bw(g),Bw(m),b,!0)};return X.forEach(Object.keys(Object.assign({},o,t)),function(m){const b=f[m]||a,v=b(o[m],t[m],m);X.isUndefined(v)&&b!==h||(e[m]=v)}),e}const vx=o=>{const t=vl({},o);let{data:e,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:l,headers:c,auth:h}=t;t.headers=c=Bn.from(c),t.url=fx(bx(t.baseURL,t.url,t.allowAbsoluteUrls),o.params,o.paramsSerializer),h&&c.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let f;if(X.isFormData(e)){if(vn.hasStandardBrowserEnv||vn.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((f=c.getContentType())!==!1){const[g,...m]=f?f.split(";").map(b=>b.trim()).filter(Boolean):[];c.setContentType([g||"multipart/form-data",...m].join("; "))}}if(vn.hasStandardBrowserEnv&&(i&&X.isFunction(i)&&(i=i(t)),i||i!==!1&&mL(t.url))){const g=a&&l&&yL.read(l);g&&c.set(a,g)}return t},AL=typeof XMLHttpRequest<"u",SL=AL&&function(o){return new Promise(function(e,i){const a=vx(o);let l=a.data;const c=Bn.from(a.headers).normalize();let{responseType:h,onUploadProgress:f,onDownloadProgress:g}=a,m,b,v,A,S;function w(){A&&A(),S&&S(),a.cancelToken&&a.cancelToken.unsubscribe(m),a.signal&&a.signal.removeEventListener("abort",m)}let M=new XMLHttpRequest;M.open(a.method.toUpperCase(),a.url,!0),M.timeout=a.timeout;function T(){if(!M)return;const O=Bn.from("getAllResponseHeaders"in M&&M.getAllResponseHeaders()),k={data:!h||h==="text"||h==="json"?M.responseText:M.response,status:M.status,statusText:M.statusText,headers:O,config:o,request:M};yx(function(B){e(B),w()},function(B){i(B),w()},k),M=null}"onloadend"in M?M.onloadend=T:M.onreadystatechange=function(){!M||M.readyState!==4||M.status===0&&!(M.responseURL&&M.responseURL.indexOf("file:")===0)||setTimeout(T)},M.onabort=function(){M&&(i(new Mt("Request aborted",Mt.ECONNABORTED,o,M)),M=null)},M.onerror=function(){i(new Mt("Network Error",Mt.ERR_NETWORK,o,M)),M=null},M.ontimeout=function(){let D=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const k=a.transitional||px;a.timeoutErrorMessage&&(D=a.timeoutErrorMessage),i(new Mt(D,k.clarifyTimeoutError?Mt.ETIMEDOUT:Mt.ECONNABORTED,o,M)),M=null},l===void 0&&c.setContentType(null),"setRequestHeader"in M&&X.forEach(c.toJSON(),function(D,k){M.setRequestHeader(k,D)}),X.isUndefined(a.withCredentials)||(M.withCredentials=!!a.withCredentials),h&&h!=="json"&&(M.responseType=a.responseType),g&&([v,S]=jg(g,!0),M.addEventListener("progress",v)),f&&M.upload&&([b,A]=jg(f),M.upload.addEventListener("progress",b),M.upload.addEventListener("loadend",A)),(a.cancelToken||a.signal)&&(m=O=>{M&&(i(!O||O.type?new Mu(null,o,M):O),M.abort(),M=null)},a.cancelToken&&a.cancelToken.subscribe(m),a.signal&&(a.signal.aborted?m():a.signal.addEventListener("abort",m)));const P=fL(a.url);if(P&&vn.protocols.indexOf(P)===-1){i(new Mt("Unsupported protocol "+P+":",Mt.ERR_BAD_REQUEST,o));return}M.send(l||null)})},_L=(o,t)=>{const{length:e}=o=o?o.filter(Boolean):[];if(t||e){let i=new AbortController,a;const l=function(g){if(!a){a=!0,h();const m=g instanceof Error?g:this.reason;i.abort(m instanceof Mt?m:new Mu(m instanceof Error?m.message:m))}};let c=t&&setTimeout(()=>{c=null,l(new Mt(`timeout ${t} of ms exceeded`,Mt.ETIMEDOUT))},t);const h=()=>{o&&(c&&clearTimeout(c),c=null,o.forEach(g=>{g.unsubscribe?g.unsubscribe(l):g.removeEventListener("abort",l)}),o=null)};o.forEach(g=>g.addEventListener("abort",l));const{signal:f}=i;return f.unsubscribe=()=>X.asap(h),f}},EL=function*(o,t){let e=o.byteLength;if(e<t){yield o;return}let i=0,a;for(;i<e;)a=i+t,yield o.slice(i,a),i=a},wL=async function*(o,t){for await(const e of xL(o))yield*EL(e,t)},xL=async function*(o){if(o[Symbol.asyncIterator]){yield*o;return}const t=o.getReader();try{for(;;){const{done:e,value:i}=await t.read();if(e)break;yield i}}finally{await t.cancel()}},qw=(o,t,e,i)=>{const a=wL(o,t);let l=0,c,h=f=>{c||(c=!0,i&&i(f))};return new ReadableStream({async pull(f){try{const{done:g,value:m}=await a.next();if(g){h(),f.close();return}let b=m.byteLength;if(e){let v=l+=b;e(v)}f.enqueue(new Uint8Array(m))}catch(g){throw h(g),g}},cancel(f){return h(f),a.return()}},{highWaterMark:2})},mm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Ax=mm&&typeof ReadableStream=="function",TL=mm&&(typeof TextEncoder=="function"?(o=>t=>o.encode(t))(new TextEncoder):async o=>new Uint8Array(await new Response(o).arrayBuffer())),Sx=(o,...t)=>{try{return!!o(...t)}catch{return!1}},CL=Ax&&Sx(()=>{let o=!1;const t=new Request(vn.origin,{body:new ReadableStream,method:"POST",get duplex(){return o=!0,"half"}}).headers.has("Content-Type");return o&&!t}),Gw=64*1024,Ev=Ax&&Sx(()=>X.isReadableStream(new Response("").body)),Fg={stream:Ev&&(o=>o.body)};mm&&(o=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Fg[t]&&(Fg[t]=X.isFunction(o[t])?e=>e[t]():(e,i)=>{throw new Mt(`Response type '${t}' is not supported`,Mt.ERR_NOT_SUPPORT,i)})})})(new Response);const RL=async o=>{if(o==null)return 0;if(X.isBlob(o))return o.size;if(X.isSpecCompliantForm(o))return(await new Request(vn.origin,{method:"POST",body:o}).arrayBuffer()).byteLength;if(X.isArrayBufferView(o)||X.isArrayBuffer(o))return o.byteLength;if(X.isURLSearchParams(o)&&(o=o+""),X.isString(o))return(await TL(o)).byteLength},ML=async(o,t)=>{const e=X.toFiniteNumber(o.getContentLength());return e??RL(t)},DL=mm&&(async o=>{let{url:t,method:e,data:i,signal:a,cancelToken:l,timeout:c,onDownloadProgress:h,onUploadProgress:f,responseType:g,headers:m,withCredentials:b="same-origin",fetchOptions:v}=vx(o);g=g?(g+"").toLowerCase():"text";let A=_L([a,l&&l.toAbortSignal()],c),S;const w=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let M;try{if(f&&CL&&e!=="get"&&e!=="head"&&(M=await ML(m,i))!==0){let k=new Request(t,{method:"POST",body:i,duplex:"half"}),H;if(X.isFormData(i)&&(H=k.headers.get("content-type"))&&m.setContentType(H),k.body){const[B,V]=Uw(M,jg(Iw(f)));i=qw(k.body,Gw,B,V)}}X.isString(b)||(b=b?"include":"omit");const T="credentials"in Request.prototype;S=new Request(t,{...v,signal:A,method:e.toUpperCase(),headers:m.normalize().toJSON(),body:i,duplex:"half",credentials:T?b:void 0});let P=await fetch(S);const O=Ev&&(g==="stream"||g==="response");if(Ev&&(h||O&&w)){const k={};["status","statusText","headers"].forEach(U=>{k[U]=P[U]});const H=X.toFiniteNumber(P.headers.get("content-length")),[B,V]=h&&Uw(H,jg(Iw(h),!0))||[];P=new Response(qw(P.body,Gw,B,()=>{V&&V(),w&&w()}),k)}g=g||"text";let D=await Fg[X.findKey(Fg,g)||"text"](P,o);return!O&&w&&w(),await new Promise((k,H)=>{yx(k,H,{data:D,headers:Bn.from(P.headers),status:P.status,statusText:P.statusText,config:o,request:S})})}catch(T){throw w&&w(),T&&T.name==="TypeError"&&/fetch/i.test(T.message)?Object.assign(new Mt("Network Error",Mt.ERR_NETWORK,o,S),{cause:T.cause||T}):Mt.from(T,T&&T.code,o,S)}}),wv={http:VO,xhr:SL,fetch:DL};X.forEach(wv,(o,t)=>{if(o){try{Object.defineProperty(o,"name",{value:t})}catch{}Object.defineProperty(o,"adapterName",{value:t})}});const Vw=o=>`- ${o}`,OL=o=>X.isFunction(o)||o===null||o===!1,_x={getAdapter:o=>{o=X.isArray(o)?o:[o];const{length:t}=o;let e,i;const a={};for(let l=0;l<t;l++){e=o[l];let c;if(i=e,!OL(e)&&(i=wv[(c=String(e)).toLowerCase()],i===void 0))throw new Mt(`Unknown adapter '${c}'`);if(i)break;a[c||"#"+l]=i}if(!i){const l=Object.entries(a).map(([h,f])=>`adapter ${h} `+(f===!1?"is not supported by the environment":"is not available in the build"));let c=t?l.length>1?`since :
`+l.map(Vw).join(`
`):" "+Vw(l[0]):"as no adapter specified";throw new Mt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:wv};function nv(o){if(o.cancelToken&&o.cancelToken.throwIfRequested(),o.signal&&o.signal.aborted)throw new Mu(null,o)}function Xw(o){return nv(o),o.headers=Bn.from(o.headers),o.data=ev.call(o,o.transformRequest),["post","put","patch"].indexOf(o.method)!==-1&&o.headers.setContentType("application/x-www-form-urlencoded",!1),_x.getAdapter(o.adapter||Tf.adapter)(o).then(function(i){return nv(o),i.data=ev.call(o,o.transformResponse,i),i.headers=Bn.from(i.headers),i},function(i){return mx(i)||(nv(o),i&&i.response&&(i.response.data=ev.call(o,o.transformResponse,i.response),i.response.headers=Bn.from(i.response.headers))),Promise.reject(i)})}const Ex="1.8.4",ym={};["object","boolean","number","function","string","symbol"].forEach((o,t)=>{ym[o]=function(i){return typeof i===o||"a"+(t<1?"n ":" ")+o}});const Yw={};ym.transitional=function(t,e,i){function a(l,c){return"[Axios v"+Ex+"] Transitional option '"+l+"'"+c+(i?". "+i:"")}return(l,c,h)=>{if(t===!1)throw new Mt(a(c," has been removed"+(e?" in "+e:"")),Mt.ERR_DEPRECATED);return e&&!Yw[c]&&(Yw[c]=!0,console.warn(a(c," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(l,c,h):!0}};ym.spelling=function(t){return(e,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function LL(o,t,e){if(typeof o!="object")throw new Mt("options must be an object",Mt.ERR_BAD_OPTION_VALUE);const i=Object.keys(o);let a=i.length;for(;a-- >0;){const l=i[a],c=t[l];if(c){const h=o[l],f=h===void 0||c(h,l,o);if(f!==!0)throw new Mt("option "+l+" must be "+f,Mt.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new Mt("Unknown option "+l,Mt.ERR_BAD_OPTION)}}const Jp={assertOptions:LL,validators:ym},hs=Jp.validators;let ml=class{constructor(t){this.defaults=t,this.interceptors={request:new Hw,response:new Hw}}async request(t,e){try{return await this._request(t,e)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?l&&!String(i.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+l):i.stack=l}catch{}}throw i}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=vl(this.defaults,e);const{transitional:i,paramsSerializer:a,headers:l}=e;i!==void 0&&Jp.assertOptions(i,{silentJSONParsing:hs.transitional(hs.boolean),forcedJSONParsing:hs.transitional(hs.boolean),clarifyTimeoutError:hs.transitional(hs.boolean)},!1),a!=null&&(X.isFunction(a)?e.paramsSerializer={serialize:a}:Jp.assertOptions(a,{encode:hs.function,serialize:hs.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),Jp.assertOptions(e,{baseUrl:hs.spelling("baseURL"),withXsrfToken:hs.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let c=l&&X.merge(l.common,l[e.method]);l&&X.forEach(["delete","get","head","post","put","patch","common"],S=>{delete l[S]}),e.headers=Bn.concat(c,l);const h=[];let f=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(e)===!1||(f=f&&w.synchronous,h.unshift(w.fulfilled,w.rejected))});const g=[];this.interceptors.response.forEach(function(w){g.push(w.fulfilled,w.rejected)});let m,b=0,v;if(!f){const S=[Xw.bind(this),void 0];for(S.unshift.apply(S,h),S.push.apply(S,g),v=S.length,m=Promise.resolve(e);b<v;)m=m.then(S[b++],S[b++]);return m}v=h.length;let A=e;for(b=0;b<v;){const S=h[b++],w=h[b++];try{A=S(A)}catch(M){w.call(this,M);break}}try{m=Xw.call(this,A)}catch(S){return Promise.reject(S)}for(b=0,v=g.length;b<v;)m=m.then(g[b++],g[b++]);return m}getUri(t){t=vl(this.defaults,t);const e=bx(t.baseURL,t.url,t.allowAbsoluteUrls);return fx(e,t.params,t.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(t){ml.prototype[t]=function(e,i){return this.request(vl(i||{},{method:t,url:e,data:(i||{}).data}))}});X.forEach(["post","put","patch"],function(t){function e(i){return function(l,c,h){return this.request(vl(h||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}ml.prototype[t]=e(),ml.prototype[t+"Form"]=e(!0)});let NL=class wx{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(l){e=l});const i=this;this.promise.then(a=>{if(!i._listeners)return;let l=i._listeners.length;for(;l-- >0;)i._listeners[l](a);i._listeners=null}),this.promise.then=a=>{let l;const c=new Promise(h=>{i.subscribe(h),l=h}).then(a);return c.cancel=function(){i.unsubscribe(l)},c},t(function(l,c,h){i.reason||(i.reason=new Mu(l,c,h),e(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=i=>{t.abort(i)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new wx(function(a){t=a}),cancel:t}}};function kL(o){return function(e){return o.apply(null,e)}}function PL(o){return X.isObject(o)&&o.isAxiosError===!0}const xv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xv).forEach(([o,t])=>{xv[t]=o});function xx(o){const t=new ml(o),e=nx(ml.prototype.request,t);return X.extend(e,ml.prototype,t,{allOwnKeys:!0}),X.extend(e,t,null,{allOwnKeys:!0}),e.create=function(a){return xx(vl(o,a))},e}const Ce=xx(Tf);Ce.Axios=ml;Ce.CanceledError=Mu;Ce.CancelToken=NL;Ce.isCancel=mx;Ce.VERSION=Ex;Ce.toFormData=gm;Ce.AxiosError=Mt;Ce.Cancel=Ce.CanceledError;Ce.all=function(t){return Promise.all(t)};Ce.spread=kL;Ce.isAxiosError=PL;Ce.mergeConfig=vl;Ce.AxiosHeaders=Bn;Ce.formToJSON=o=>gx(X.isHTMLForm(o)?new FormData(o):o);Ce.getAdapter=_x.getAdapter;Ce.HttpStatusCode=xv;Ce.default=Ce;const{Axios:OF,AxiosError:LF,CanceledError:NF,isCancel:kF,CancelToken:PF,VERSION:jF,all:FF,Cancel:HF,isAxiosError:zF,spread:UF,toFormData:IF,AxiosHeaders:BF,HttpStatusCode:qF,formToJSON:GF,getAdapter:VF,mergeConfig:XF}=Ce;var kn={},Oh={},$w;function jL(){if($w)return Oh;$w=1,Object.defineProperty(Oh,"__esModule",{value:!0}),Oh.calculateRgba=void 0;var o;(function(i){i.maroon="#800000",i.red="#FF0000",i.orange="#FFA500",i.yellow="#FFFF00",i.olive="#808000",i.green="#008000",i.purple="#800080",i.fuchsia="#FF00FF",i.lime="#00FF00",i.teal="#008080",i.aqua="#00FFFF",i.blue="#0000FF",i.navy="#000080",i.black="#000000",i.gray="#808080",i.silver="#C0C0C0",i.white="#FFFFFF"})(o||(o={}));var t=function(i,a){if(i.includes("/"))return i.replace("rgb(","rgba(");var l=i.substring(i.startsWith("rgba(")?5:4,i.length-1).trim(),c=l.split(",");return c.length===4?i.replace("rgb(","rgba("):c.length===3?"rgba(".concat(l,", ").concat(a,")"):"rgba(".concat(l," / ").concat(a,")")},e=function(i,a){if(i.startsWith("rgb"))return t(i,a);if(Object.keys(o).includes(i)&&(i=o[i]),i[0]==="#"&&(i=i.slice(1)),i.length===3){var l="";i.split("").forEach(function(h){l+=h,l+=h}),i=l}var c=(i.match(/.{2}/g)||[]).map(function(h){return parseInt(h,16)}).join(", ");return"rgba(".concat(c,", ").concat(a,")")};return Oh.calculateRgba=e,Oh}var Lh={},Kw;function FL(){if(Kw)return Lh;Kw=1,Object.defineProperty(Lh,"__esModule",{value:!0}),Lh.parseLengthAndUnit=t,Lh.cssValue=e;var o={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function t(i){if(typeof i=="number")return{value:i,unit:"px"};var a,l=(i.match(/^[0-9.]*/)||"").toString();l.includes(".")?a=parseFloat(l):a=parseInt(l,10);var c=(i.match(/[^0-9]*$/)||"").toString();return o[c]?{value:a,unit:c}:(console.warn("React Spinners: ".concat(i," is not a valid css value. Defaulting to ").concat(a,"px.")),{value:a,unit:"px"})}function e(i){var a=t(i);return"".concat(a.value).concat(a.unit)}return Lh}var Nh={},Ww;function HL(){if(Ww)return Nh;Ww=1,Object.defineProperty(Nh,"__esModule",{value:!0}),Nh.createAnimation=void 0;var o=function(t,e,i){var a="react-spinners-".concat(t,"-").concat(i);if(typeof window>"u"||!window.document)return a;var l=document.createElement("style");document.head.appendChild(l);var c=l.sheet,h=`
    @keyframes `.concat(a,` {
      `).concat(e,`
    }
  `);return c&&c.insertRule(h,0),a};return Nh.createAnimation=o,Nh}var Qw;function zL(){if(Qw)return kn;Qw=1;var o=kn&&kn.__assign||function(){return o=Object.assign||function(m){for(var b,v=1,A=arguments.length;v<A;v++){b=arguments[v];for(var S in b)Object.prototype.hasOwnProperty.call(b,S)&&(m[S]=b[S])}return m},o.apply(this,arguments)},t=kn&&kn.__createBinding||(Object.create?function(m,b,v,A){A===void 0&&(A=v);var S=Object.getOwnPropertyDescriptor(b,v);(!S||("get"in S?!b.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return b[v]}}),Object.defineProperty(m,A,S)}:function(m,b,v,A){A===void 0&&(A=v),m[A]=b[v]}),e=kn&&kn.__setModuleDefault||(Object.create?function(m,b){Object.defineProperty(m,"default",{enumerable:!0,value:b})}:function(m,b){m.default=b}),i=kn&&kn.__importStar||function(m){if(m&&m.__esModule)return m;var b={};if(m!=null)for(var v in m)v!=="default"&&Object.prototype.hasOwnProperty.call(m,v)&&t(b,m,v);return e(b,m),b},a=kn&&kn.__rest||function(m,b){var v={};for(var A in m)Object.prototype.hasOwnProperty.call(m,A)&&b.indexOf(A)<0&&(v[A]=m[A]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var S=0,A=Object.getOwnPropertySymbols(m);S<A.length;S++)b.indexOf(A[S])<0&&Object.prototype.propertyIsEnumerable.call(m,A[S])&&(v[A[S]]=m[A[S]]);return v};Object.defineProperty(kn,"__esModule",{value:!0});var l=i(Ef()),c=jL(),h=FL(),f=HL();function g(m){var b=m.loading,v=b===void 0?!0:b,A=m.color,S=A===void 0?"#000000":A,w=m.speedMultiplier,M=w===void 0?1:w,T=m.cssOverride,P=T===void 0?{}:T,O=m.size,D=O===void 0?50:O,k=a(m,["loading","color","speedMultiplier","cssOverride","size"]),H=(0,h.parseLengthAndUnit)(D),B=H.value,V=H.unit,U=o({display:"inherit",position:"relative",width:(0,h.cssValue)(D),height:(0,h.cssValue)(D),transform:"rotate(165deg)"},P),W=B/5,tt=(B-W)/2,ct=tt-W,ut=(0,c.calculateRgba)(S,.75),ht=(0,f.createAnimation)("HashLoader","0% {width: ".concat(W,"px; box-shadow: ").concat(tt,"px ").concat(-ct,"px ").concat(ut,", ").concat(-tt,"px ").concat(ct,"px ").concat(ut,`}
    35% {width: `).concat((0,h.cssValue)(D),"; box-shadow: 0 ").concat(-ct,"px ").concat(ut,", 0 ").concat(ct,"px ").concat(ut,`}
    70% {width: `).concat(W,"px; box-shadow: ").concat(-tt,"px ").concat(-ct,"px ").concat(ut,", ").concat(tt,"px ").concat(ct,"px ").concat(ut,`}
    100% {box-shadow: `).concat(tt,"px ").concat(-ct,"px ").concat(ut,", ").concat(-tt,"px ").concat(ct,"px ").concat(ut,"}"),"before"),pt=(0,f.createAnimation)("HashLoader","0% {height: ".concat(W,"px; box-shadow: ").concat(ct,"px ").concat(tt,"px ").concat(S,", ").concat(-ct,"px ").concat(-tt,"px ").concat(S,`}
    35% {height: `).concat((0,h.cssValue)(D),"; box-shadow: ").concat(ct,"px 0 ").concat(S,", ").concat(-ct,"px 0 ").concat(S,`}
    70% {height: `).concat(W,"px; box-shadow: ").concat(ct,"px ").concat(-tt,"px ").concat(S,", ").concat(-ct,"px ").concat(tt,"px ").concat(S,`}
    100% {box-shadow: `).concat(ct,"px ").concat(tt,"px ").concat(S,", ").concat(-ct,"px ").concat(-tt,"px ").concat(S,"}"),"after"),Y=function(J){return{position:"absolute",top:"50%",left:"50%",display:"block",width:"".concat(B/5).concat(V),height:"".concat(B/5).concat(V),borderRadius:"".concat(B/10).concat(V),transform:"translate(-50%, -50%)",animationFillMode:"none",animation:"".concat(J===1?ht:pt," ").concat(2/M,"s infinite")}};return v?l.createElement("span",o({style:U},k),l.createElement("span",{style:Y(1)}),l.createElement("span",{style:Y(2)})):null}return kn.default=g,kn}var UL=zL();const IL=Y0(UL);function kr({loading:o,message:t}){return L.jsxs("div",{className:"loading",children:[L.jsx(IL,{color:"grey",loading:o,size:150}),o?L.jsx("p",{children:t}):null]})}const BL="/radar_frontend/assets/redirect-CI7QbqeP.gif",qL="modulepreload",GL=function(o){return"/radar_frontend/"+o},Zw={},Vp=function(t,e,i){let a=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=Promise.allSettled(e.map(f=>{if(f=GL(f),f in Zw)return;Zw[f]=!0;const g=f.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":qL,g||(b.as="script"),b.crossOrigin="",b.href=f,h&&b.setAttribute("nonce",h),document.head.appendChild(b),g)return new Promise((v,A)=>{b.addEventListener("load",v),b.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${f}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return t().catch(l)})};var td={};td.d=(o,t)=>{for(var e in t)td.o(t,e)&&!td.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:t[e]})};td.o=(o,t)=>Object.prototype.hasOwnProperty.call(o,t);var Rt=globalThis.pdfjsLib={};td.d(Rt,{AbortException:()=>Cl,AnnotationEditorLayer:()=>F0,AnnotationEditorParamsType:()=>Tt,AnnotationEditorType:()=>Nt,AnnotationEditorUIManager:()=>Sl,AnnotationLayer:()=>Bk,AnnotationMode:()=>ar,ColorPicker:()=>Ig,DOMSVGFactory:()=>dA,DrawLayer:()=>I0,FeatureTest:()=>Rn,GlobalWorkerOptions:()=>xa,ImageKind:()=>tg,InvalidPDFException:()=>Cx,MissingPDFException:()=>Tl,OPS:()=>Ui,OutputScale:()=>Dv,PDFDataRangeTransport:()=>ET,PDFDateString:()=>aA,PDFWorker:()=>_c,PasswordResponses:()=>$L,PermissionFlag:()=>YL,PixelsPerInch:()=>Pr,RenderingCancelledException:()=>iA,TextLayer:()=>s0,UnexpectedResponseException:()=>Sm,Util:()=>yt,VerbosityLevel:()=>bm,XfaLayer:()=>xT,build:()=>_k,createValidAbsoluteUrl:()=>ZL,fetchData:()=>Em,getDocument:()=>fk,getFilenameFromUrl:()=>oN,getPdfFilenameFromUrl:()=>lN,getXfaPageViewport:()=>cN,isDataScheme:()=>wm,isPdfFile:()=>sA,noContextMenu:()=>Ni,normalizeUnicode:()=>sN,setLayerDimensions:()=>Al,shadow:()=>qt,version:()=>Sk});const Sn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Tx=[1,0,0,1,0,0],Tv=[.001,0,0,.001,0,0],VL=1e7,iv=1.35,ai={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},ar={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},XL="pdfjs_internal_editor_",Nt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Tt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},YL={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},fn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},tg={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Fe={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},kh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},bm={ERRORS:0,WARNINGS:1,INFOS:5},Ui={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},$L={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let vm=bm.WARNINGS;function KL(o){Number.isInteger(o)&&(vm=o)}function WL(){return vm}function Am(o){vm>=bm.INFOS&&console.log(`Info: ${o}`)}function jt(o){vm>=bm.WARNINGS&&console.log(`Warning: ${o}`)}function he(o){throw new Error(o)}function Ie(o,t){o||he(t)}function QL(o){switch(o==null?void 0:o.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ZL(o,t=null,e=null){if(!o)return null;try{if(e&&typeof o=="string"){if(e.addDefaultProtocol&&o.startsWith("www.")){const a=o.match(/\./g);(a==null?void 0:a.length)>=2&&(o=`http://${o}`)}if(e.tryConvertEncoding)try{o=iN(o)}catch{}}const i=t?new URL(o,t):new URL(o);if(QL(i))return i}catch{}return null}function qt(o,t,e,i=!1){return Object.defineProperty(o,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const zr=function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t}();class Cv extends zr{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Rv extends zr{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Cx extends zr{constructor(t){super(t,"InvalidPDFException")}}class Tl extends zr{constructor(t){super(t,"MissingPDFException")}}class Sm extends zr{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class JL extends zr{constructor(t){super(t,"FormatError")}}class Cl extends zr{constructor(t){super(t,"AbortException")}}function Rx(o){(typeof o!="object"||(o==null?void 0:o.length)===void 0)&&he("Invalid argument for bytesToString");const t=o.length,e=8192;if(t<e)return String.fromCharCode.apply(null,o);const i=[];for(let a=0;a<t;a+=e){const l=Math.min(a+e,t),c=o.subarray(a,l);i.push(String.fromCharCode.apply(null,c))}return i.join("")}function _m(o){typeof o!="string"&&he("Invalid argument for stringToBytes");const t=o.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=o.charCodeAt(i)&255;return e}function tN(o){return String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,o&255)}function eA(o){const t=Object.create(null);for(const[e,i]of o)t[e]=i;return t}function eN(){const o=new Uint8Array(4);return o[0]=1,new Uint32Array(o.buffer,0,1)[0]===1}function nN(){try{return new Function(""),!0}catch{return!1}}class Rn{static get isLittleEndian(){return qt(this,"isLittleEndian",eN())}static get isEvalSupported(){return qt(this,"isEvalSupported",nN())}static get isOffscreenCanvasSupported(){return qt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?qt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):qt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return qt(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const sv=Array.from(Array(256).keys(),o=>o.toString(16).padStart(2,"0"));var Ra,eg,Mv;class yt{static makeHexColor(t,e,i){return`#${sv[t]}${sv[e]}${sv[i]}`}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const i=t[0]*e[0]+t[1]*e[2]+e[4],a=t[0]*e[1]+t[1]*e[3]+e[5];return[i,a]}static applyInverseTransform(t,e){const i=e[0]*e[3]-e[1]*e[2],a=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/i,l=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/i;return[a,l]}static getAxialAlignedBoundingBox(t,e){const i=this.applyTransform(t,e),a=this.applyTransform(t.slice(2,4),e),l=this.applyTransform([t[0],t[3]],e),c=this.applyTransform([t[2],t[1]],e);return[Math.min(i[0],a[0],l[0],c[0]),Math.min(i[1],a[1],l[1],c[1]),Math.max(i[0],a[0],l[0],c[0]),Math.max(i[1],a[1],l[1],c[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],i=t[0]*e[0]+t[1]*e[2],a=t[0]*e[1]+t[1]*e[3],l=t[2]*e[0]+t[3]*e[2],c=t[2]*e[1]+t[3]*e[3],h=(i+c)/2,f=Math.sqrt((i+c)**2-4*(i*c-l*a))/2,g=h+f||1,m=h-f||1;return[Math.sqrt(g),Math.sqrt(m)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),a=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>a)return null;const l=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),c=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return l>c?null:[i,l,a,c]}static bezierBoundingBox(t,e,i,a,l,c,h,f,g){return g?(g[0]=Math.min(g[0],t,h),g[1]=Math.min(g[1],e,f),g[2]=Math.max(g[2],t,h),g[3]=Math.max(g[3],e,f)):g=[Math.min(t,h),Math.min(e,f),Math.max(t,h),Math.max(e,f)],x(this,Ra,Mv).call(this,t,i,l,h,e,a,c,f,3*(-t+3*(i-l)+h),6*(t-2*i+l),3*(i-t),g),x(this,Ra,Mv).call(this,t,i,l,h,e,a,c,f,3*(-e+3*(a-c)+f),6*(e-2*a+c),3*(a-e),g),g}}Ra=new WeakSet,eg=function(t,e,i,a,l,c,h,f,g,m){if(g<=0||g>=1)return;const b=1-g,v=g*g,A=v*g,S=b*(b*(b*t+3*g*e)+3*v*i)+A*a,w=b*(b*(b*l+3*g*c)+3*v*h)+A*f;m[0]=Math.min(m[0],S),m[1]=Math.min(m[1],w),m[2]=Math.max(m[2],S),m[3]=Math.max(m[3],w)},Mv=function(t,e,i,a,l,c,h,f,g,m,b,v){if(Math.abs(g)<1e-12){Math.abs(m)>=1e-12&&x(this,Ra,eg).call(this,t,e,i,a,l,c,h,f,-b/m,v);return}const A=m**2-4*b*g;if(A<0)return;const S=Math.sqrt(A),w=2*g;x(this,Ra,eg).call(this,t,e,i,a,l,c,h,f,(-m+S)/w,v),x(this,Ra,eg).call(this,t,e,i,a,l,c,h,f,(-m-S)/w,v)},C(yt,Ra);function iN(o){return decodeURIComponent(escape(o))}let av=null,Jw=null;function sN(o){return av||(av=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Jw=new Map([["ﬅ","ſt"]])),o.replaceAll(av,(t,e,i)=>e?e.normalize("NFKC"):Jw.get(i))}function aN(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const o=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(o);else for(let t=0;t<32;t++)o[t]=Math.floor(Math.random()*255);return Rx(o)}const nA="pdfjs_internal_id_",Ws={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function rN(o){return Uint8Array.prototype.toBase64?o.toBase64():btoa(Rx(o))}const Zs="http://www.w3.org/2000/svg",yo=class yo{};xt(yo,"CSS",96),xt(yo,"PDF",72),xt(yo,"PDF_TO_CSS_UNITS",yo.CSS/yo.PDF);let Pr=yo;async function Em(o,t="text"){if(Hh(o,document.baseURI)){const e=await fetch(o);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const a=new XMLHttpRequest;a.open("GET",o,!0),a.responseType=t,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(a.response);return}e(a.responseText);return}i(new Error(a.statusText))}},a.send(null)})}class Cf{constructor({viewBox:t,scale:e,rotation:i,offsetX:a=0,offsetY:l=0,dontFlip:c=!1}){this.viewBox=t,this.scale=e,this.rotation=i,this.offsetX=a,this.offsetY=l;const h=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let g,m,b,v;switch(i%=360,i<0&&(i+=360),i){case 180:g=-1,m=0,b=0,v=1;break;case 90:g=0,m=1,b=1,v=0;break;case 270:g=0,m=-1,b=-1,v=0;break;case 0:g=1,m=0,b=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(b=-b,v=-v);let A,S,w,M;g===0?(A=Math.abs(f-t[1])*e+a,S=Math.abs(h-t[0])*e+l,w=(t[3]-t[1])*e,M=(t[2]-t[0])*e):(A=Math.abs(h-t[0])*e+a,S=Math.abs(f-t[1])*e+l,w=(t[2]-t[0])*e,M=(t[3]-t[1])*e),this.transform=[g*e,m*e,b*e,v*e,A-g*e*h-b*e*f,S-m*e*h-v*e*f],this.width=w,this.height=M}get rawDims(){const{viewBox:t}=this;return qt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:a=this.offsetY,dontFlip:l=!1}={}){return new Cf({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:i,offsetY:a,dontFlip:l})}convertToViewportPoint(t,e){return yt.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=yt.applyTransform([t[0],t[1]],this.transform),i=yt.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){return yt.applyInverseTransform([t,e],this.transform)}}class iA extends zr{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function wm(o){const t=o.length;let e=0;for(;e<t&&o[e].trim()==="";)e++;return o.substring(e,e+5).toLowerCase()==="data:"}function sA(o){return typeof o=="string"&&/\.pdf$/i.test(o)}function oN(o){return[o]=o.split(/[#?]/,1),o.substring(o.lastIndexOf("/")+1)}function lN(o,t="document.pdf"){if(typeof o!="string")return t;if(wm(o))return jt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,a=e.exec(o);let l=i.exec(a[1])||i.exec(a[2])||i.exec(a[3]);if(l&&(l=l[0],l.includes("%")))try{l=i.exec(decodeURIComponent(l))[0]}catch{}return l||t}class t1{constructor(){xt(this,"started",Object.create(null));xt(this,"times",[])}time(t){t in this.started&&jt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||jt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:a,end:l}of this.times)t.push(`${i.padEnd(e)} ${l-a}ms
`);return t.join("")}}function Hh(o,t){try{const{protocol:e}=t?new URL(o,t):new URL(o);return e==="http:"||e==="https:"}catch{return!1}}function Ni(o){o.preventDefault()}function e1(o){console.log("Deprecated API usage: "+o)}var od;class aA{static toDateObject(t){if(!t||typeof t!="string")return null;d(this,od)||E(this,od,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=d(this,od).exec(t);if(!e)return null;const i=parseInt(e[1],10);let a=parseInt(e[2],10);a=a>=1&&a<=12?a-1:0;let l=parseInt(e[3],10);l=l>=1&&l<=31?l:1;let c=parseInt(e[4],10);c=c>=0&&c<=23?c:0;let h=parseInt(e[5],10);h=h>=0&&h<=59?h:0;let f=parseInt(e[6],10);f=f>=0&&f<=59?f:0;const g=e[7]||"Z";let m=parseInt(e[8],10);m=m>=0&&m<=23?m:0;let b=parseInt(e[9],10)||0;return b=b>=0&&b<=59?b:0,g==="-"?(c+=m,h+=b):g==="+"&&(c-=m,h-=b),new Date(Date.UTC(i,a,l,c,h,f))}}od=new WeakMap,C(aA,od);function cN(o,{scale:t=1,rotation:e=0}){const{width:i,height:a}=o.attributes.style,l=[0,0,parseInt(i),parseInt(a)];return new Cf({viewBox:l,scale:t,rotation:e})}function rA(o){if(o.startsWith("#")){const t=parseInt(o.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return o.startsWith("rgb(")?o.slice(4,-1).split(",").map(t=>parseInt(t)):o.startsWith("rgba(")?o.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(jt(`Not a valid color format: "${o}"`),[0,0,0])}function uN(o){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of o.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;o.set(e,rA(i))}t.remove()}function be(o){const{a:t,b:e,c:i,d:a,e:l,f:c}=o.getTransform();return[t,e,i,a,l,c]}function Qs(o){const{a:t,b:e,c:i,d:a,e:l,f:c}=o.getTransform().invertSelf();return[t,e,i,a,l,c]}function Al(o,t,e=!1,i=!0){if(t instanceof Cf){const{pageWidth:a,pageHeight:l}=t.rawDims,{style:c}=o,h=Rn.isCSSRoundSupported,f=`var(--scale-factor) * ${a}px`,g=`var(--scale-factor) * ${l}px`,m=h?`round(down, ${f}, var(--scale-round-x, 1px))`:`calc(${f})`,b=h?`round(down, ${g}, var(--scale-round-y, 1px))`:`calc(${g})`;!e||t.rotation%180===0?(c.width=m,c.height=b):(c.width=b,c.height=m)}i&&o.setAttribute("data-main-rotation",t.rotation)}class Dv{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var rr,Ao,Ii,So,ld,cd,Vg,Mx,Mn,Dx,Ox,ng,Lx,Lv;const Js=class Js{constructor(t){C(this,Mn);C(this,rr,null);C(this,Ao,null);C(this,Ii);C(this,So,null);C(this,ld,null);E(this,Ii,t),d(Js,cd)||E(Js,cd,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=E(this,rr,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=d(this,Ii)._uiManager._signal;t.addEventListener("contextmenu",Ni,{signal:e}),t.addEventListener("pointerdown",x(Js,Vg,Mx),{signal:e});const i=E(this,So,document.createElement("div"));i.className="buttons",t.append(i);const a=d(this,Ii).toolbarPosition;if(a){const{style:l}=t,c=d(this,Ii)._uiManager.direction==="ltr"?1-a[0]:a[0];l.insetInlineEnd=`${100*c}%`,l.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return x(this,Mn,Lx).call(this),t}get div(){return d(this,rr)}hide(){var t;d(this,rr).classList.add("hidden"),(t=d(this,Ao))==null||t.hideDropdown()}show(){var t;d(this,rr).classList.remove("hidden"),(t=d(this,ld))==null||t.shown()}async addAltText(t){const e=await t.render();x(this,Mn,ng).call(this,e),d(this,So).prepend(e,d(this,Mn,Lv)),E(this,ld,t)}addColorPicker(t){E(this,Ao,t);const e=t.renderButton();x(this,Mn,ng).call(this,e),d(this,So).prepend(e,d(this,Mn,Lv))}remove(){var t;d(this,rr).remove(),(t=d(this,Ao))==null||t.destroy(),E(this,Ao,null)}};rr=new WeakMap,Ao=new WeakMap,Ii=new WeakMap,So=new WeakMap,ld=new WeakMap,cd=new WeakMap,Vg=new WeakSet,Mx=function(t){t.stopPropagation()},Mn=new WeakSet,Dx=function(t){d(this,Ii)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},Ox=function(t){d(this,Ii)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},ng=function(t){const e=d(this,Ii)._uiManager._signal;t.addEventListener("focusin",x(this,Mn,Dx).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",x(this,Mn,Ox).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Ni,{signal:e})},Lx=function(){const{editorType:t,_uiManager:e}=d(this,Ii),i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",d(Js,cd)[t]),x(this,Mn,ng).call(this,i),i.addEventListener("click",a=>{e.delete()},{signal:e._signal}),d(this,So).append(i)},Lv=function(){const t=document.createElement("div");return t.className="divider",t},C(Js,Vg),C(Js,cd,null);let Ov=Js;var ud,_o,Eo,Fr,Nx,kx,Px;class hN{constructor(t){C(this,Fr);C(this,ud,null);C(this,_o,null);C(this,Eo);E(this,Eo,t)}show(t,e,i){const[a,l]=x(this,Fr,kx).call(this,e,i),{style:c}=d(this,_o)||E(this,_o,x(this,Fr,Nx).call(this));t.append(d(this,_o)),c.insetInlineEnd=`${100*a}%`,c.top=`calc(${100*l}% + var(--editor-toolbar-vert-offset))`}hide(){d(this,_o).remove()}}ud=new WeakMap,_o=new WeakMap,Eo=new WeakMap,Fr=new WeakSet,Nx=function(){const t=E(this,_o,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Ni,{signal:d(this,Eo)._signal});const e=E(this,ud,document.createElement("div"));return e.className="buttons",t.append(e),x(this,Fr,Px).call(this),t},kx=function(t,e){let i=0,a=0;for(const l of t){const c=l.y+l.height;if(c<i)continue;const h=l.x+(e?l.width:0);if(c>i){a=h,i=c;continue}e?h>a&&(a=h):h<a&&(a=h)}return[e?1-a:a,i]},Px=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=d(this,Eo)._signal;t.addEventListener("contextmenu",Ni,{signal:i}),t.addEventListener("click",()=>{d(this,Eo).highlightSelection("floating_button")},{signal:i}),d(this,ud).append(t)};function Hg(o,t,e){for(const i of e)t.addEventListener(i,o[i].bind(o))}function dN(o){return Math.round(Math.min(255,Math.max(1,255*o))).toString(16).padStart(2,"0")}var Xg;class fN{constructor(){C(this,Xg,0)}get id(){return`${XL}${wn(this,Xg)._++}`}}Xg=new WeakMap;var Cc,hd,gn,Rc,ig;const bA=class bA{constructor(){C(this,Rc);C(this,Cc,aN());C(this,hd,0);C(this,gn,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=t;const l=a.decode().then(()=>(i.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return qt(this,"_isSVGFittingCanvas",l)}async getFromFile(t){const{lastModified:e,name:i,size:a,type:l}=t;return x(this,Rc,ig).call(this,`${e}_${i}_${a}_${l}`,t)}async getFromUrl(t){return x(this,Rc,ig).call(this,t,t)}async getFromBlob(t,e){const i=await e;return x(this,Rc,ig).call(this,t,i)}async getFromId(t){d(this,gn)||E(this,gn,new Map);const e=d(this,gn).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){d(this,gn)||E(this,gn,new Map);let i=d(this,gn).get(t);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const a=new OffscreenCanvas(e.width,e.height);return a.getContext("2d").drawImage(e,0,0),i={bitmap:a.transferToImageBitmap(),id:`image_${d(this,Cc)}_${wn(this,hd)._++}`,refCounter:1,isSvg:!1},d(this,gn).set(t,i),d(this,gn).set(i.id,i),i}getSvgUrl(t){const e=d(this,gn).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var a;d(this,gn)||E(this,gn,new Map);const e=d(this,gn).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const l=new OffscreenCanvas(i.width,i.height);l.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=l.convertToBlob()}(a=i.close)==null||a.call(i),e.bitmap=null}isValidId(t){return t.startsWith(`image_${d(this,Cc)}_`)}};Cc=new WeakMap,hd=new WeakMap,gn=new WeakMap,Rc=new WeakSet,ig=async function(t,e){d(this,gn)||E(this,gn,new Map);let i=d(this,gn).get(t);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${d(this,Cc)}_${wn(this,hd)._++}`,refCounter:0,isSvg:!1});let a;if(typeof e=="string"?(i.url=e,a=await Em(e,"blob")):e instanceof File?a=i.file=e:e instanceof Blob&&(a=e),a.type==="image/svg+xml"){const l=bA._isSVGFittingCanvas,c=new FileReader,h=new Image,f=new Promise((g,m)=>{h.onload=()=>{i.bitmap=h,i.isSvg=!0,g()},c.onload=async()=>{const b=i.svgUrl=c.result;h.src=await l?`${b}#svgView(preserveAspectRatio(none))`:b},h.onerror=c.onerror=m});c.readAsDataURL(a),await f}else i.bitmap=await createImageBitmap(a);i.refCounter=1}catch(a){console.error(a),i=null}return d(this,gn).set(t,i),i&&d(this,gn).set(i.id,i),i};let Nv=bA;var $e,or,dd,Ke;class pN{constructor(t=128){C(this,$e,[]);C(this,or,!1);C(this,dd);C(this,Ke,-1);E(this,dd,t)}add({cmd:t,undo:e,post:i,mustExec:a,type:l=NaN,overwriteIfSameType:c=!1,keepUndo:h=!1}){if(a&&t(),d(this,or))return;const f={cmd:t,undo:e,post:i,type:l};if(d(this,Ke)===-1){d(this,$e).length>0&&(d(this,$e).length=0),E(this,Ke,0),d(this,$e).push(f);return}if(c&&d(this,$e)[d(this,Ke)].type===l){h&&(f.undo=d(this,$e)[d(this,Ke)].undo),d(this,$e)[d(this,Ke)]=f;return}const g=d(this,Ke)+1;g===d(this,dd)?d(this,$e).splice(0,1):(E(this,Ke,g),g<d(this,$e).length&&d(this,$e).splice(g)),d(this,$e).push(f)}undo(){if(d(this,Ke)===-1)return;E(this,or,!0);const{undo:t,post:e}=d(this,$e)[d(this,Ke)];t(),e==null||e(),E(this,or,!1),E(this,Ke,d(this,Ke)-1)}redo(){if(d(this,Ke)<d(this,$e).length-1){E(this,Ke,d(this,Ke)+1),E(this,or,!0);const{cmd:t,post:e}=d(this,$e)[d(this,Ke)];t(),e==null||e(),E(this,or,!1)}}hasSomethingToUndo(){return d(this,Ke)!==-1}hasSomethingToRedo(){return d(this,Ke)<d(this,$e).length-1}destroy(){E(this,$e,null)}}$e=new WeakMap,or=new WeakMap,dd=new WeakMap,Ke=new WeakMap;var Yg,jx;class Rf{constructor(t){C(this,Yg);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Rn.platform;for(const[i,a,l={}]of t)for(const c of i){const h=c.startsWith("mac+");e&&h?(this.callbacks.set(c.slice(4),{callback:a,options:l}),this.allKeys.add(c.split("+").at(-1))):!e&&!h&&(this.callbacks.set(c,{callback:a,options:l}),this.allKeys.add(c.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(x(this,Yg,jx).call(this,e));if(!i)return;const{callback:a,options:{bubbles:l=!1,args:c=[],checker:h=null}}=i;h&&!h(t,e)||(a.bind(t,...c,e)(),l||(e.stopPropagation(),e.preventDefault()))}}Yg=new WeakSet,jx=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const $g=class $g{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return uN(t),qt(this,"_colors",t)}convert(t){const e=rA(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,a]of this._colors)if(a.every((l,c)=>l===e[c]))return $g._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?yt.makeHexColor(...e):t}};xt($g,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let kv=$g;var Mc,Qn,He,sn,Dc,ea,Oc,Bi,lr,Lc,wo,fs,qi,xo,fd,pd,Nc,gd,ps,cr,kc,ur,gs,Kg,hr,md,dr,To,yd,bd,We,Qt,na,Co,vd,Ad,fr,ms,ia,Sd,xi,lt,sg,Pv,Fx,Hx,ag,zx,Ux,Ix,jv,Bx,Fv,Hv,qx,xn,ir,Gx,Vx,zv,Xx,zh,Uv;const Ac=class Ac{constructor(t,e,i,a,l,c,h,f,g,m,b){C(this,lt);C(this,Mc,new AbortController);C(this,Qn,null);C(this,He,new Map);C(this,sn,new Map);C(this,Dc,null);C(this,ea,null);C(this,Oc,null);C(this,Bi,new pN);C(this,lr,null);C(this,Lc,0);C(this,wo,new Set);C(this,fs,null);C(this,qi,null);C(this,xo,new Set);C(this,fd,!1);C(this,pd,!1);C(this,Nc,!1);C(this,gd,null);C(this,ps,null);C(this,cr,null);C(this,kc,null);C(this,ur,!1);C(this,gs,null);C(this,Kg,new fN);C(this,hr,!1);C(this,md,!1);C(this,dr,null);C(this,To,null);C(this,yd,null);C(this,bd,null);C(this,We,Nt.NONE);C(this,Qt,new Set);C(this,na,null);C(this,Co,null);C(this,vd,null);C(this,Ad,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});C(this,fr,[0,0]);C(this,ms,null);C(this,ia,null);C(this,Sd,null);C(this,xi,null);const v=this._signal=d(this,Mc).signal;E(this,ia,t),E(this,Sd,e),E(this,Dc,i),this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:v}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),a._on("setpreference",this.onSetPreference.bind(this),{signal:v}),a._on("switchannotationeditorparams",A=>this.updateParams(A.type,A.value),{signal:v}),x(this,lt,zx).call(this),x(this,lt,qx).call(this),x(this,lt,jv).call(this),E(this,ea,l.annotationStorage),E(this,gd,l.filterFactory),E(this,Co,c),E(this,kc,h||null),E(this,fd,f),E(this,pd,g),E(this,Nc,m),E(this,bd,b||null),this.viewParameters={realScale:Pr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=Ac.prototype,e=c=>d(c,ia).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),i=(c,{target:h})=>{if(h instanceof HTMLInputElement){const{type:f}=h;return f!=="text"&&f!=="number"}return!0},a=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return qt(this,"_keyboardManager",new Rf([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&d(c,ia).contains(h)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&d(c,ia).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-l,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[l,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-l],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,l],checker:e}]]))}destroy(){var t,e,i,a;(t=d(this,xi))==null||t.resolve(),E(this,xi,null),(e=d(this,Mc))==null||e.abort(),E(this,Mc,null),this._signal=null;for(const l of d(this,sn).values())l.destroy();d(this,sn).clear(),d(this,He).clear(),d(this,xo).clear(),E(this,Qn,null),d(this,Qt).clear(),d(this,Bi).destroy(),(i=d(this,Dc))==null||i.destroy(),(a=d(this,gs))==null||a.hide(),E(this,gs,null),d(this,ps)&&(clearTimeout(d(this,ps)),E(this,ps,null)),d(this,ms)&&(clearTimeout(d(this,ms)),E(this,ms,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return d(this,bd)}get useNewAltTextFlow(){return d(this,pd)}get useNewAltTextWhenAddingImage(){return d(this,Nc)}get hcmFilter(){return qt(this,"hcmFilter",d(this,Co)?d(this,gd).addHCMFilter(d(this,Co).foreground,d(this,Co).background):"none")}get direction(){return qt(this,"direction",getComputedStyle(d(this,ia)).direction)}get highlightColors(){return qt(this,"highlightColors",d(this,kc)?new Map(d(this,kc).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return qt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){E(this,yd,t)}editAltText(t,e=!1){var i;(i=d(this,Dc))==null||i.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":E(this,Nc,e);break}}onPageChanging({pageNumber:t}){E(this,Lc,t-1)}focusMainContainer(){d(this,ia).focus()}findParent(t,e){for(const i of d(this,sn).values()){const{x:a,y:l,width:c,height:h}=i.div.getBoundingClientRect();if(t>=a&&t<=a+c&&e>=l&&e<=l+h)return i}return null}disableUserSelect(t=!1){d(this,Sd).classList.toggle("noUserSelect",t)}addShouldRescale(t){d(this,xo).add(t)}removeShouldRescale(t){d(this,xo).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Pr.PDF_TO_CSS_UNITS;for(const e of d(this,xo))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:i,anchorOffset:a,focusNode:l,focusOffset:c}=e,h=e.toString(),g=x(this,lt,sg).call(this,e).closest(".textLayer"),m=this.getSelectionBoxes(g);if(!m)return;e.empty();const b=x(this,lt,Pv).call(this,g),v=d(this,We)===Nt.NONE,A=()=>{b==null||b.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:i,anchorOffset:a,focusNode:l,focusOffset:c,text:h}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(Nt.HIGHLIGHT,A);return}A()}addToAnnotationStorage(t){!t.isEmpty()&&d(this,ea)&&!d(this,ea).has(t.id)&&d(this,ea).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,d(this,ur)&&(E(this,ur,!1),x(this,lt,ag).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of d(this,Qt))if(e.div.contains(t)){E(this,To,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!d(this,To))return;const[t,e]=d(this,To);E(this,To,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){x(this,lt,jv).call(this),x(this,lt,Fv).call(this)}removeEditListeners(){x(this,lt,Bx).call(this),x(this,lt,Hv).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of d(this,qi))if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of d(this,qi))if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var i;if(t.preventDefault(),(i=d(this,Qn))==null||i.commitOrRemove(),!this.hasSelection)return;const e=[];for(const a of d(this,Qt)){const l=a.serialize(!0);l&&e.push(l)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const l of e.items)for(const c of d(this,qi))if(c.isHandlingMimeForPasting(l.type)){c.paste(l,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(l){jt(`paste: "${l.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const a=this.currentLayer;try{const l=[];for(const f of i){const g=await a.deserialize(f);if(!g)return;l.push(g)}const c=()=>{for(const f of l)x(this,lt,zv).call(this,f);x(this,lt,Uv).call(this,l)},h=()=>{for(const f of l)f.remove()};this.addCommands({cmd:c,undo:h,mustExec:!0})}catch(l){jt(`paste: "${l.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),d(this,We)!==Nt.NONE&&!this.isEditorHandlingKeyboard&&Ac._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,d(this,ur)&&(E(this,ur,!1),x(this,lt,ag).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(x(this,lt,Ux).call(this),x(this,lt,Fv).call(this),x(this,lt,xn).call(this,{isEditing:d(this,We)!==Nt.NONE,isEmpty:x(this,lt,zh).call(this),hasSomethingToUndo:d(this,Bi).hasSomethingToUndo(),hasSomethingToRedo:d(this,Bi).hasSomethingToRedo(),hasSelectedEditor:!1})):(x(this,lt,Ix).call(this),x(this,lt,Hv).call(this),x(this,lt,xn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!d(this,qi)){E(this,qi,t);for(const e of d(this,qi))x(this,lt,ir).call(this,e.defaultPropertiesToUpdate)}}getId(){return d(this,Kg).id}get currentLayer(){return d(this,sn).get(d(this,Lc))}getLayer(t){return d(this,sn).get(t)}get currentPageIndex(){return d(this,Lc)}addLayer(t){d(this,sn).set(t.pageIndex,t),d(this,hr)?t.enable():t.disable()}removeLayer(t){d(this,sn).delete(t.pageIndex)}async updateMode(t,e=null,i=!1){if(d(this,We)!==t&&!(d(this,xi)&&(await d(this,xi).promise,!d(this,xi)))){if(E(this,xi,Promise.withResolvers()),E(this,We,t),t===Nt.NONE){this.setEditingState(!1),x(this,lt,Vx).call(this),d(this,xi).resolve();return}this.setEditingState(!0),await x(this,lt,Gx).call(this),this.unselectAll();for(const a of d(this,sn).values())a.updateMode(t);if(!e){i&&this.addNewEditorFromKeyboard(),d(this,xi).resolve();return}for(const a of d(this,He).values())a.annotationElementId===e?(this.setSelected(a),a.enterInEditMode()):a.unselect();d(this,xi).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==d(this,We)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var i;if(d(this,qi)){switch(t){case Tt.CREATE:this.currentLayer.addNewEditor();return;case Tt.HIGHLIGHT_DEFAULT_COLOR:(i=d(this,yd))==null||i.updateColor(e);break;case Tt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(d(this,vd)||E(this,vd,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const a of d(this,Qt))a.updateParams(t,e);for(const a of d(this,qi))a.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){var l;for(const c of d(this,He).values())c.editorType===t&&c.show(e);(((l=d(this,vd))==null?void 0:l.get(Tt.HIGHLIGHT_SHOW_ALL))??!0)!==e&&x(this,lt,ir).call(this,[[Tt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(d(this,md)!==t){E(this,md,t);for(const e of d(this,sn).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const i of d(this,He).values())i.pageIndex===t&&e.push(i);return e}getEditor(t){return d(this,He).get(t)}addEditor(t){d(this,He).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(d(this,ps)&&clearTimeout(d(this,ps)),E(this,ps,setTimeout(()=>{this.focusMainContainer(),E(this,ps,null)},0))),d(this,He).delete(t.id),this.unselect(t),(!t.annotationElementId||!d(this,wo).has(t.annotationElementId))&&((e=d(this,ea))==null||e.remove(t.id))}addDeletedAnnotationElement(t){d(this,wo).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return d(this,wo).has(t)}removeDeletedAnnotationElement(t){d(this,wo).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){d(this,Qn)!==t&&(E(this,Qn,t),t&&x(this,lt,ir).call(this,t.propertiesToUpdate))}updateUI(t){d(this,lt,Xx)===t&&x(this,lt,ir).call(this,t.propertiesToUpdate)}toggleSelected(t){if(d(this,Qt).has(t)){d(this,Qt).delete(t),t.unselect(),x(this,lt,xn).call(this,{hasSelectedEditor:this.hasSelection});return}d(this,Qt).add(t),t.select(),x(this,lt,ir).call(this,t.propertiesToUpdate),x(this,lt,xn).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of d(this,Qt))e!==t&&e.unselect();d(this,Qt).clear(),d(this,Qt).add(t),t.select(),x(this,lt,ir).call(this,t.propertiesToUpdate),x(this,lt,xn).call(this,{hasSelectedEditor:!0})}isSelected(t){return d(this,Qt).has(t)}get firstSelectedEditor(){return d(this,Qt).values().next().value}unselect(t){t.unselect(),d(this,Qt).delete(t),x(this,lt,xn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return d(this,Qt).size!==0}get isEnterHandled(){return d(this,Qt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){d(this,Bi).undo(),x(this,lt,xn).call(this,{hasSomethingToUndo:d(this,Bi).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:x(this,lt,zh).call(this)})}redo(){d(this,Bi).redo(),x(this,lt,xn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:d(this,Bi).hasSomethingToRedo(),isEmpty:x(this,lt,zh).call(this)})}addCommands(t){d(this,Bi).add(t),x(this,lt,xn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:x(this,lt,zh).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...d(this,Qt)],e=()=>{for(const a of t)a.remove()},i=()=>{for(const a of t)x(this,lt,zv).call(this,a)};this.addCommands({cmd:e,undo:i,mustExec:!0})}commitOrRemove(){var t;(t=d(this,Qn))==null||t.commitOrRemove()}hasSomethingToControl(){return d(this,Qn)||this.hasSelection}selectAll(){for(const t of d(this,Qt))t.commit();x(this,lt,Uv).call(this,d(this,He).values())}unselectAll(){if(!(d(this,Qn)&&(d(this,Qn).commitOrRemove(),d(this,We)!==Nt.NONE))&&this.hasSelection){for(const t of d(this,Qt))t.unselect();d(this,Qt).clear(),x(this,lt,xn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;d(this,fr)[0]+=t,d(this,fr)[1]+=e;const[a,l]=d(this,fr),c=[...d(this,Qt)],h=1e3;d(this,ms)&&clearTimeout(d(this,ms)),E(this,ms,setTimeout(()=>{E(this,ms,null),d(this,fr)[0]=d(this,fr)[1]=0,this.addCommands({cmd:()=>{for(const f of c)d(this,He).has(f.id)&&f.translateInPage(a,l)},undo:()=>{for(const f of c)d(this,He).has(f.id)&&f.translateInPage(-a,-l)},mustExec:!1})},h));for(const f of c)f.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),E(this,fs,new Map);for(const t of d(this,Qt))d(this,fs).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!d(this,fs))return!1;this.disableUserSelect(!1);const t=d(this,fs);E(this,fs,null);let e=!1;for(const[{x:a,y:l,pageIndex:c},h]of t)h.newX=a,h.newY=l,h.newPageIndex=c,e||(e=a!==h.savedX||l!==h.savedY||c!==h.savedPageIndex);if(!e)return!1;const i=(a,l,c,h)=>{if(d(this,He).has(a.id)){const f=d(this,sn).get(h);f?a._setParentAndPosition(f,l,c):(a.pageIndex=h,a.x=l,a.y=c)}};return this.addCommands({cmd:()=>{for(const[a,{newX:l,newY:c,newPageIndex:h}]of t)i(a,l,c,h)},undo:()=>{for(const[a,{savedX:l,savedY:c,savedPageIndex:h}]of t)i(a,l,c,h)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(d(this,fs))for(const i of d(this,fs).keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||d(this,Qt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return d(this,Qn)===t}getActive(){return d(this,Qn)}getMode(){return d(this,We)}get imageManager(){return qt(this,"imageManager",new Nv)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let g=0,m=e.rangeCount;g<m;g++)if(!t.contains(e.getRangeAt(g).commonAncestorContainer))return null;const{x:i,y:a,width:l,height:c}=t.getBoundingClientRect();let h;switch(t.getAttribute("data-main-rotation")){case"90":h=(g,m,b,v)=>({x:(m-a)/c,y:1-(g+b-i)/l,width:v/c,height:b/l});break;case"180":h=(g,m,b,v)=>({x:1-(g+b-i)/l,y:1-(m+v-a)/c,width:b/l,height:v/c});break;case"270":h=(g,m,b,v)=>({x:1-(m+v-a)/c,y:(g-i)/l,width:v/c,height:b/l});break;default:h=(g,m,b,v)=>({x:(g-i)/l,y:(m-a)/c,width:b/l,height:v/c});break}const f=[];for(let g=0,m=e.rangeCount;g<m;g++){const b=e.getRangeAt(g);if(!b.collapsed)for(const{x:v,y:A,width:S,height:w}of b.getClientRects())S===0||w===0||f.push(h(v,A,S,w))}return f.length===0?null:f}addChangedExistingAnnotation({annotationElementId:t,id:e}){(d(this,Oc)||E(this,Oc,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=d(this,Oc))==null||e.delete(t)}renderAnnotationElement(t){var a;const e=(a=d(this,Oc))==null?void 0:a.get(t.data.id);if(!e)return;const i=d(this,ea).getRawValue(e);i&&(d(this,We)===Nt.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}};Mc=new WeakMap,Qn=new WeakMap,He=new WeakMap,sn=new WeakMap,Dc=new WeakMap,ea=new WeakMap,Oc=new WeakMap,Bi=new WeakMap,lr=new WeakMap,Lc=new WeakMap,wo=new WeakMap,fs=new WeakMap,qi=new WeakMap,xo=new WeakMap,fd=new WeakMap,pd=new WeakMap,Nc=new WeakMap,gd=new WeakMap,ps=new WeakMap,cr=new WeakMap,kc=new WeakMap,ur=new WeakMap,gs=new WeakMap,Kg=new WeakMap,hr=new WeakMap,md=new WeakMap,dr=new WeakMap,To=new WeakMap,yd=new WeakMap,bd=new WeakMap,We=new WeakMap,Qt=new WeakMap,na=new WeakMap,Co=new WeakMap,vd=new WeakMap,Ad=new WeakMap,fr=new WeakMap,ms=new WeakMap,ia=new WeakMap,Sd=new WeakMap,xi=new WeakMap,lt=new WeakSet,sg=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},Pv=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of d(this,sn).values())if(i.hasTextLayer(t))return i;return null},Fx=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=x(this,lt,sg).call(this,t).closest(".textLayer"),a=this.getSelectionBoxes(i);a&&(d(this,gs)||E(this,gs,new hN(this)),d(this,gs).show(i,a,this.direction==="ltr"))},Hx=function(){var l,c,h;const t=document.getSelection();if(!t||t.isCollapsed){d(this,na)&&((l=d(this,gs))==null||l.hide(),E(this,na,null),x(this,lt,xn).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===d(this,na))return;const a=x(this,lt,sg).call(this,t).closest(".textLayer");if(!a){d(this,na)&&((c=d(this,gs))==null||c.hide(),E(this,na,null),x(this,lt,xn).call(this,{hasSelectedText:!1}));return}if((h=d(this,gs))==null||h.hide(),E(this,na,e),x(this,lt,xn).call(this,{hasSelectedText:!0}),!(d(this,We)!==Nt.HIGHLIGHT&&d(this,We)!==Nt.NONE)&&(d(this,We)===Nt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),E(this,ur,this.isShiftKeyDown),!this.isShiftKeyDown)){const f=d(this,We)===Nt.HIGHLIGHT?x(this,lt,Pv).call(this,a):null;f==null||f.toggleDrawing();const g=new AbortController,m=this.combinedSignal(g),b=v=>{v.type==="pointerup"&&v.button!==0||(g.abort(),f==null||f.toggleDrawing(!0),v.type==="pointerup"&&x(this,lt,ag).call(this,"main_toolbar"))};window.addEventListener("pointerup",b,{signal:m}),window.addEventListener("blur",b,{signal:m})}},ag=function(t=""){d(this,We)===Nt.HIGHLIGHT?this.highlightSelection(t):d(this,fd)&&x(this,lt,Fx).call(this)},zx=function(){document.addEventListener("selectionchange",x(this,lt,Hx).bind(this),{signal:this._signal})},Ux=function(){if(d(this,cr))return;E(this,cr,new AbortController);const t=this.combinedSignal(d(this,cr));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},Ix=function(){var t;(t=d(this,cr))==null||t.abort(),E(this,cr,null)},jv=function(){if(d(this,dr))return;E(this,dr,new AbortController);const t=this.combinedSignal(d(this,dr));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},Bx=function(){var t;(t=d(this,dr))==null||t.abort(),E(this,dr,null)},Fv=function(){if(d(this,lr))return;E(this,lr,new AbortController);const t=this.combinedSignal(d(this,lr));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},Hv=function(){var t;(t=d(this,lr))==null||t.abort(),E(this,lr,null)},qx=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},xn=function(t){Object.entries(t).some(([i,a])=>d(this,Ad)[i]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(d(this,Ad),t)}),d(this,We)===Nt.HIGHLIGHT&&t.hasSelectedEditor===!1&&x(this,lt,ir).call(this,[[Tt.HIGHLIGHT_FREE,!0]]))},ir=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},Gx=async function(){if(!d(this,hr)){E(this,hr,!0);const t=[];for(const e of d(this,sn).values())t.push(e.enable());await Promise.all(t);for(const e of d(this,He).values())e.enable()}},Vx=function(){if(this.unselectAll(),d(this,hr)){E(this,hr,!1);for(const t of d(this,sn).values())t.disable();for(const t of d(this,He).values())t.disable()}},zv=function(t){const e=d(this,sn).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},Xx=function(){let t=null;for(t of d(this,Qt));return t},zh=function(){if(d(this,He).size===0)return!0;if(d(this,He).size===1)for(const t of d(this,He).values())return t.isEmpty();return!1},Uv=function(t){for(const e of d(this,Qt))e.unselect();d(this,Qt).clear();for(const e of t)e.isEmpty()||(d(this,Qt).add(e),e.select());x(this,lt,xn).call(this,{hasSelectedEditor:this.hasSelection})},xt(Ac,"TRANSLATE_SMALL",1),xt(Ac,"TRANSLATE_BIG",10);let Sl=Ac;var Qe,ys,Gi,Pc,bs,Zn,jc,vs,Fn,sa,Ro,As,pr,es,Uh,rg;const Tn=class Tn{constructor(t){C(this,es);C(this,Qe,null);C(this,ys,!1);C(this,Gi,null);C(this,Pc,null);C(this,bs,null);C(this,Zn,null);C(this,jc,!1);C(this,vs,null);C(this,Fn,null);C(this,sa,null);C(this,Ro,null);C(this,As,!1);E(this,Fn,t),E(this,As,t._uiManager.useNewAltTextFlow),d(Tn,pr)||E(Tn,pr,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){Tn._l10n??(Tn._l10n=t)}async render(){const t=E(this,Gi,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=E(this,Pc,document.createElement("span"));t.append(e),d(this,As)?(t.classList.add("new"),t.setAttribute("data-l10n-id",d(Tn,pr).missing),e.setAttribute("data-l10n-id",d(Tn,pr)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=d(this,Fn)._uiManager._signal;t.addEventListener("contextmenu",Ni,{signal:i}),t.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:i});const a=l=>{l.preventDefault(),d(this,Fn)._uiManager.editAltText(d(this,Fn)),d(this,As)&&d(this,Fn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:d(this,es,Uh)}})};return t.addEventListener("click",a,{capture:!0,signal:i}),t.addEventListener("keydown",l=>{l.target===t&&l.key==="Enter"&&(E(this,jc,!0),a(l))},{signal:i}),await x(this,es,rg).call(this),t}finish(){d(this,Gi)&&(d(this,Gi).focus({focusVisible:d(this,jc)}),E(this,jc,!1))}isEmpty(){return d(this,As)?d(this,Qe)===null:!d(this,Qe)&&!d(this,ys)}hasData(){return d(this,As)?d(this,Qe)!==null||!!d(this,sa):this.isEmpty()}get guessedText(){return d(this,sa)}async setGuessedText(t){d(this,Qe)===null&&(E(this,sa,t),E(this,Ro,await Tn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),x(this,es,rg).call(this))}toggleAltTextBadge(t=!1){var e;if(!d(this,As)||d(this,Qe)){(e=d(this,vs))==null||e.remove(),E(this,vs,null);return}if(!d(this,vs)){const i=E(this,vs,document.createElement("div"));i.className="noAltTextBadge",d(this,Fn).div.append(i)}d(this,vs).classList.toggle("hidden",!t)}serialize(t){let e=d(this,Qe);return!t&&d(this,sa)===e&&(e=d(this,Ro)),{altText:e,decorative:d(this,ys),guessedText:d(this,sa),textWithDisclaimer:d(this,Ro)}}get data(){return{altText:d(this,Qe),decorative:d(this,ys)}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:a,cancel:l=!1}){i&&(E(this,sa,i),E(this,Ro,a)),!(d(this,Qe)===t&&d(this,ys)===e)&&(l||(E(this,Qe,t),E(this,ys,e)),x(this,es,rg).call(this))}toggle(t=!1){d(this,Gi)&&(!t&&d(this,Zn)&&(clearTimeout(d(this,Zn)),E(this,Zn,null)),d(this,Gi).disabled=!t)}shown(){d(this,Fn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:d(this,es,Uh)}})}destroy(){var t,e;(t=d(this,Gi))==null||t.remove(),E(this,Gi,null),E(this,Pc,null),E(this,bs,null),(e=d(this,vs))==null||e.remove(),E(this,vs,null)}};Qe=new WeakMap,ys=new WeakMap,Gi=new WeakMap,Pc=new WeakMap,bs=new WeakMap,Zn=new WeakMap,jc=new WeakMap,vs=new WeakMap,Fn=new WeakMap,sa=new WeakMap,Ro=new WeakMap,As=new WeakMap,pr=new WeakMap,es=new WeakSet,Uh=function(){return d(this,Qe)&&"added"||d(this,Qe)===null&&this.guessedText&&"review"||"missing"},rg=async function(){var a,l,c;const t=d(this,Gi);if(!t)return;if(d(this,As)){if(t.classList.toggle("done",!!d(this,Qe)),t.setAttribute("data-l10n-id",d(Tn,pr)[d(this,es,Uh)]),(a=d(this,Pc))==null||a.setAttribute("data-l10n-id",d(Tn,pr)[`${d(this,es,Uh)}-label`]),!d(this,Qe)){(l=d(this,bs))==null||l.remove();return}}else{if(!d(this,Qe)&&!d(this,ys)){t.classList.remove("done"),(c=d(this,bs))==null||c.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=d(this,bs);if(!e){E(this,bs,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${d(this,Fn).id}`;const h=100,f=d(this,Fn)._uiManager._signal;f.addEventListener("abort",()=>{clearTimeout(d(this,Zn)),E(this,Zn,null)},{once:!0}),t.addEventListener("mouseenter",()=>{E(this,Zn,setTimeout(()=>{E(this,Zn,null),d(this,bs).classList.add("show"),d(this,Fn)._reportTelemetry({action:"alt_text_tooltip"})},h))},{signal:f}),t.addEventListener("mouseleave",()=>{var g;d(this,Zn)&&(clearTimeout(d(this,Zn)),E(this,Zn,null)),(g=d(this,bs))==null||g.classList.remove("show")},{signal:f})}d(this,ys)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=d(this,Qe)),e.parentNode||t.append(e);const i=d(this,Fn).getImageForAltText();i==null||i.setAttribute("aria-describedby",e.id)},C(Tn,pr,null),xt(Tn,"_l10n",null);let zg=Tn;var Mo,Vi,me,Fc,Do,an,Oo,gr,_d,Lo,mr,Ed,No,aa,Ss,Hc,zc,Ti,wd,Wg,kt,Iv,xd,Bv,qv,Yx,$x,Gv,Vv,Xv,Kx,Yv,Wx,Qx,Zx,$v,Ih;const Wt=class Wt{constructor(t){C(this,kt);C(this,Mo,null);C(this,Vi,null);C(this,me,null);C(this,Fc,!1);C(this,Do,!1);C(this,an,null);C(this,Oo,null);C(this,gr,null);C(this,_d,"");C(this,Lo,!1);C(this,mr,null);C(this,Ed,!1);C(this,No,!1);C(this,aa,!1);C(this,Ss,null);C(this,Hc,0);C(this,zc,0);C(this,Ti,null);xt(this,"_editToolbar",null);xt(this,"_initialOptions",Object.create(null));xt(this,"_initialData",null);xt(this,"_isVisible",!0);xt(this,"_uiManager",null);xt(this,"_focusEventsAllowed",!0);C(this,wd,!1);C(this,Wg,Wt._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:a,pageX:l,pageY:c}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,a],this.pageTranslation=[l,c];const[h,f]=this.parentDimensions;this.x=t.x/h,this.y=t.y/f,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=Wt.prototype._resizeWithKeyboard,e=Sl.TRANSLATE_SMALL,i=Sl.TRANSLATE_BIG;return qt(this,"_resizerKeyboardManager",new Rf([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],Wt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return qt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new gN({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Wt._l10n??(Wt._l10n=t),Wt._l10nResizer||(Wt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Wt._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);Wt._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){he("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return d(this,wd)}set _isDraggable(t){var e;E(this,wd,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=d(this,Wg)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):x(this,kt,Ih).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(d(this,Lo)?E(this,Lo,!1):this.parent.setSelected(this))}focusout(t){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,a){const[l,c]=this.parentDimensions;[i,a]=this.screenToPageTranslation(i,a),this.x=(t+i)/l,this.y=(e+a)/c,this.fixAndSetPosition()}translate(t,e){x(this,kt,Iv).call(this,this.parentDimensions,t,e)}translateInPage(t,e){d(this,mr)||E(this,mr,[this.x,this.y]),x(this,kt,Iv).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){d(this,mr)||E(this,mr,[this.x,this.y]);const[i,a]=this.parentDimensions;if(this.x+=t/i,this.y+=e/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:c}=this;const[h,f]=this.getBaseTranslation();l+=h,c+=f,this.div.style.left=`${(100*l).toFixed(2)}%`,this.div.style.top=`${(100*c).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!d(this,mr)&&(d(this,mr)[0]!==this.x||d(this,mr)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=Wt,a=i/t,l=i/e;switch(this.rotation){case 90:return[-a,l];case 180:return[a,l];case 270:return[a,-l];default:return[-a,-l]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,i]=this.pageDimensions;let{x:a,y:l,width:c,height:h}=this;if(c*=e,h*=i,a*=e,l*=i,this._mustFixPosition)switch(t){case 0:a=Math.max(0,Math.min(e-c,a)),l=Math.max(0,Math.min(i-h,l));break;case 90:a=Math.max(0,Math.min(e-h,a)),l=Math.min(i,Math.max(c,l));break;case 180:a=Math.min(e,Math.max(c,a)),l=Math.min(i,Math.max(h,l));break;case 270:a=Math.min(e,Math.max(h,a)),l=Math.max(0,Math.min(i-c,l));break}this.x=a/=e,this.y=l/=i;const[f,g]=this.getBaseTranslation();a+=f,l+=g;const{style:m}=this.div;m.left=`${(100*a).toFixed(2)}%`,m.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var i;return x(i=Wt,xd,Bv).call(i,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var i;return x(i=Wt,xd,Bv).call(i,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(t,e){const[i,a]=this.parentDimensions;this.div.style.width=`${(100*t/i).toFixed(2)}%`,d(this,Do)||(this.div.style.height=`${(100*e/a).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:i}=t,a=i.endsWith("%"),l=!d(this,Do)&&e.endsWith("%");if(a&&l)return;const[c,h]=this.parentDimensions;a||(t.width=`${(100*parseFloat(i)/c).toFixed(2)}%`),!d(this,Do)&&!l&&(t.height=`${(100*parseFloat(e)/h).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=d(this,me))==null||t.finish()}async addEditToolbar(){return this._editToolbar||d(this,No)?this._editToolbar:(this._editToolbar=new Ov(this),this.div.append(this._editToolbar.render()),d(this,me)&&await this._editToolbar.addAltText(d(this,me)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=d(this,me))==null||t.destroy())}addContainer(t){var i;const e=(i=this._editToolbar)==null?void 0:i.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){d(this,me)||(zg.initialize(Wt._l10n),E(this,me,new zg(this)),d(this,Mo)&&(d(this,me).data=d(this,Mo),E(this,Mo,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=d(this,me))==null?void 0:t.data}set altTextData(t){d(this,me)&&(d(this,me).data=t)}get guessedAltText(){var t;return(t=d(this,me))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=d(this,me))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=d(this,me))==null?void 0:e.serialize(t)}hasAltText(){return!!d(this,me)&&!d(this,me).isEmpty()}hasAltTextData(){var t;return((t=d(this,me))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=d(this,Fc)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),x(this,kt,Yv).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[i,a]=this.getInitialTranslation();return this.translate(i,a),Hg(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=Rn.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(E(this,Lo,!0),this._isDraggable){x(this,kt,Kx).call(this,t);return}x(this,kt,Xv).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){d(this,Ss)&&clearTimeout(d(this,Ss)),E(this,Ss,setTimeout(()=>{var t;E(this,Ss,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition()}getRect(t,e,i=this.rotation){const a=this.parentScale,[l,c]=this.pageDimensions,[h,f]=this.pageTranslation,g=t/a,m=e/a,b=this.x*l,v=this.y*c,A=this.width*l,S=this.height*c;switch(i){case 0:return[b+g+h,c-v-m-S+f,b+g+A+h,c-v-m+f];case 90:return[b+m+h,c-v+g+f,b+m+S+h,c-v+g+A+f];case 180:return[b-g-A+h,c-v+m+f,b-g+h,c-v+m+S+f];case 270:return[b-m-S+h,c-v-g-A+f,b-m+h,c-v-g+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,a,l,c]=t,h=l-i,f=c-a;switch(this.rotation){case 0:return[i,e-c,h,f];case 90:return[i,e-a,f,h];case 180:return[l,e-a,h,f];case 270:return[l,e-c,f,h];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){E(this,No,!0)}disableEditMode(){E(this,No,!1)}isInEditMode(){return d(this,No)}shouldGetKeyboardEvents(){return d(this,aa)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){x(this,kt,Yv).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){he("An editor must be serializable")}static async deserialize(t,e,i){const a=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i});a.rotation=t.rotation,E(a,Mo,t.accessibilityData);const[l,c]=a.pageDimensions,[h,f,g,m]=a.getRectInCurrentCoords(t.rect,c);return a.x=h/l,a.y=f/c,a.width=g/l,a.height=m/c,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=d(this,gr))==null||t.abort(),E(this,gr,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),d(this,Ss)&&(clearTimeout(d(this,Ss)),E(this,Ss,null)),x(this,kt,Ih).call(this),this.removeEditToolbar(),d(this,Ti)){for(const e of d(this,Ti).values())clearTimeout(e);E(this,Ti,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(x(this,kt,Yx).call(this),d(this,an).classList.remove("hidden"),Hg(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),E(this,Oo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=d(this,an).children;if(!d(this,Vi)){E(this,Vi,Array.from(e));const c=x(this,kt,Wx).bind(this),h=x(this,kt,Qx).bind(this),f=this._uiManager._signal;for(const g of d(this,Vi)){const m=g.getAttribute("data-resizer-name");g.setAttribute("role","spinbutton"),g.addEventListener("keydown",c,{signal:f}),g.addEventListener("blur",h,{signal:f}),g.addEventListener("focus",x(this,kt,Zx).bind(this,m),{signal:f}),g.setAttribute("data-l10n-id",Wt._l10nResizer[m])}}const i=d(this,Vi)[0];let a=0;for(const c of e){if(c===i)break;a++}const l=(360-this.rotation+this.parentRotation)%360/90*(d(this,Vi).length/4);if(l!==a){if(l<a)for(let h=0;h<a-l;h++)d(this,an).append(d(this,an).firstChild);else if(l>a)for(let h=0;h<l-a;h++)d(this,an).firstChild.before(d(this,an).lastChild);let c=0;for(const h of e){const g=d(this,Vi)[c++].getAttribute("data-resizer-name");h.setAttribute("data-l10n-id",Wt._l10nResizer[g])}}x(this,kt,$v).call(this,0),E(this,aa,!0),d(this,an).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){d(this,aa)&&x(this,kt,Vv).call(this,d(this,_d),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){x(this,kt,Ih).call(this),this.div.focus()}select(){var t,e,i;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var a,l;(a=this.div)!=null&&a.classList.contains("selectedEditor")&&((l=this._editToolbar)==null||l.show())});return}(e=this._editToolbar)==null||e.show(),(i=d(this,me))==null||i.toggleAltTextBadge(!1)}unselect(){var t,e,i,a,l;(t=d(this,an))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(a=this._editToolbar)==null||a.hide(),(l=d(this,me))==null||l.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return d(this,Ed)}set isEditing(t){E(this,Ed,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){E(this,Do,!0);const i=t/e,{style:a}=this.div;a.aspectRatio=i,a.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){d(this,Ti)||E(this,Ti,new Map);const{action:i}=t;let a=d(this,Ti).get(i);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(t),d(this,Ti).delete(i),d(this,Ti).size===0&&E(this,Ti,null)},Wt._telemetryTimeout),d(this,Ti).set(i,a);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),E(this,Fc,!1)}disable(){this.div&&(this.div.tabIndex=-1),E(this,Fc,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};Mo=new WeakMap,Vi=new WeakMap,me=new WeakMap,Fc=new WeakMap,Do=new WeakMap,an=new WeakMap,Oo=new WeakMap,gr=new WeakMap,_d=new WeakMap,Lo=new WeakMap,mr=new WeakMap,Ed=new WeakMap,No=new WeakMap,aa=new WeakMap,Ss=new WeakMap,Hc=new WeakMap,zc=new WeakMap,Ti=new WeakMap,wd=new WeakMap,Wg=new WeakMap,kt=new WeakSet,Iv=function([t,e],i,a){[i,a]=this.screenToPageTranslation(i,a),this.x+=i/t,this.y+=a/e,this.fixAndSetPosition()},xd=new WeakSet,Bv=function(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},qv=function(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}},Yx=function(){if(d(this,an))return;E(this,an,document.createElement("div")),d(this,an).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const a=document.createElement("div");d(this,an).append(a),a.classList.add("resizer",i),a.setAttribute("data-resizer-name",i),a.addEventListener("pointerdown",x(this,kt,$x).bind(this,i),{signal:e}),a.addEventListener("contextmenu",Ni,{signal:e}),a.tabIndex=-1}this.div.prepend(d(this,an))},$x=function(t,e){var S;e.preventDefault();const{isMac:i}=Rn.platform;if(e.button!==0||e.ctrlKey&&i)return;(S=d(this,me))==null||S.toggle(!1);const a=this._isDraggable;this._isDraggable=!1;const l=new AbortController,c=this._uiManager.combinedSignal(l);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",x(this,kt,Vv).bind(this,t),{passive:!0,capture:!0,signal:c}),window.addEventListener("contextmenu",Ni,{signal:c});const h=this.x,f=this.y,g=this.width,m=this.height,b=this.parent.div.style.cursor,v=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const A=()=>{var w;l.abort(),this.parent.togglePointerEvents(!0),(w=d(this,me))==null||w.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=b,this.div.style.cursor=v,x(this,kt,Gv).call(this,h,f,g,m)};window.addEventListener("pointerup",A,{signal:c}),window.addEventListener("blur",A,{signal:c})},Gv=function(t,e,i,a){const l=this.x,c=this.y,h=this.width,f=this.height;l===t&&c===e&&h===i&&f===a||this.addCommands({cmd:()=>{this.width=h,this.height=f,this.x=l,this.y=c;const[g,m]=this.parentDimensions;this.setDims(g*h,m*f),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=a,this.x=t,this.y=e;const[g,m]=this.parentDimensions;this.setDims(g*i,m*a),this.fixAndSetPosition()},mustExec:!0})},Vv=function(t,e){const[i,a]=this.parentDimensions,l=this.x,c=this.y,h=this.width,f=this.height,g=Wt.MIN_SIZE/i,m=Wt.MIN_SIZE/a,b=J=>Math.round(J*1e4)/1e4,v=x(this,kt,qv).call(this,this.rotation),A=(J,et)=>[v[0]*J+v[2]*et,v[1]*J+v[3]*et],S=x(this,kt,qv).call(this,360-this.rotation),w=(J,et)=>[S[0]*J+S[2]*et,S[1]*J+S[3]*et];let M,T,P=!1,O=!1;switch(t){case"topLeft":P=!0,M=(J,et)=>[0,0],T=(J,et)=>[J,et];break;case"topMiddle":M=(J,et)=>[J/2,0],T=(J,et)=>[J/2,et];break;case"topRight":P=!0,M=(J,et)=>[J,0],T=(J,et)=>[0,et];break;case"middleRight":O=!0,M=(J,et)=>[J,et/2],T=(J,et)=>[0,et/2];break;case"bottomRight":P=!0,M=(J,et)=>[J,et],T=(J,et)=>[0,0];break;case"bottomMiddle":M=(J,et)=>[J/2,et],T=(J,et)=>[J/2,0];break;case"bottomLeft":P=!0,M=(J,et)=>[0,et],T=(J,et)=>[J,0];break;case"middleLeft":O=!0,M=(J,et)=>[0,et/2],T=(J,et)=>[J,et/2];break}const D=M(h,f),k=T(h,f);let H=A(...k);const B=b(l+H[0]),V=b(c+H[1]);let U=1,W=1,[tt,ct]=this.screenToPageTranslation(e.movementX,e.movementY);if([tt,ct]=w(tt/i,ct/a),P){const J=Math.hypot(h,f);U=W=Math.max(Math.min(Math.hypot(k[0]-D[0]-tt,k[1]-D[1]-ct)/J,1/h,1/f),g/h,m/f)}else O?U=Math.max(g,Math.min(1,Math.abs(k[0]-D[0]-tt)))/h:W=Math.max(m,Math.min(1,Math.abs(k[1]-D[1]-ct)))/f;const ut=b(h*U),ht=b(f*W);H=A(...T(ut,ht));const pt=B-H[0],Y=V-H[1];this.width=ut,this.height=ht,this.x=pt,this.y=Y,this.setDims(i*ut,a*ht),this.fixAndSetPosition()},Xv=function(t){const{isMac:e}=Rn.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},Kx=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const i=new AbortController,a=this._uiManager.combinedSignal(i);if(e){this.div.classList.add("moving"),E(this,Hc,t.clientX),E(this,zc,t.clientY);const c=h=>{const{clientX:f,clientY:g}=h,[m,b]=this.screenToPageTranslation(f-d(this,Hc),g-d(this,zc));E(this,Hc,f),E(this,zc,g),this._uiManager.dragSelectedEditors(m,b)};window.addEventListener("pointermove",c,{passive:!0,capture:!0,signal:a})}const l=()=>{i.abort(),e&&this.div.classList.remove("moving"),E(this,Lo,!1),this._uiManager.endDragSession()||x(this,kt,Xv).call(this,t)};window.addEventListener("pointerup",l,{signal:a}),window.addEventListener("blur",l,{signal:a})},Yv=function(){if(d(this,gr)||!this.div)return;E(this,gr,new AbortController);const t=this._uiManager.combinedSignal(d(this,gr));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},Wx=function(t){Wt._resizerKeyboardManager.exec(this,t)},Qx=function(t){var e;d(this,aa)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==d(this,an)&&x(this,kt,Ih).call(this)},Zx=function(t){E(this,_d,d(this,aa)?t:"")},$v=function(t){if(d(this,Vi))for(const e of d(this,Vi))e.tabIndex=t},Ih=function(){if(E(this,aa,!1),x(this,kt,$v).call(this,-1),d(this,Oo)){const{savedX:t,savedY:e,savedWidth:i,savedHeight:a}=d(this,Oo);x(this,kt,Gv).call(this,t,e,i,a),E(this,Oo,null)}},C(Wt,xd),xt(Wt,"_l10n",null),xt(Wt,"_l10nResizer",null),xt(Wt,"_borderLineWidth",-1),xt(Wt,"_colorManager",new kv),xt(Wt,"_zIndex",1),xt(Wt,"_telemetryTimeout",1e3);let Jt=Wt;class gN extends Jt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const n1=3285377520,wi=4294901760,ds=65535;class Jx{constructor(t){this.h1=t?t&4294967295:n1,this.h2=t?t&4294967295:n1}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let w=0,M=t.length;w<M;w++){const T=t.charCodeAt(w);T<=255?e[i++]=T:(e[i++]=T>>>8,e[i++]=T&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=i>>2,l=i-a*4,c=new Uint32Array(e.buffer,0,a);let h=0,f=0,g=this.h1,m=this.h2;const b=3432918353,v=461845907,A=b&ds,S=v&ds;for(let w=0;w<a;w++)w&1?(h=c[w],h=h*b&wi|h*A&ds,h=h<<15|h>>>17,h=h*v&wi|h*S&ds,g^=h,g=g<<13|g>>>19,g=g*5+3864292196):(f=c[w],f=f*b&wi|f*A&ds,f=f<<15|f>>>17,f=f*v&wi|f*S&ds,m^=f,m=m<<13|m>>>19,m=m*5+3864292196);switch(h=0,l){case 3:h^=e[a*4+2]<<16;case 2:h^=e[a*4+1]<<8;case 1:h^=e[a*4],h=h*b&wi|h*A&ds,h=h<<15|h>>>17,h=h*v&wi|h*S&ds,a&1?g^=h:m^=h}this.h1=g,this.h2=m}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&wi|t*36045&ds,e=e*4283543511&wi|((e<<16|t>>>16)*2950163797&wi)>>>16,t^=e>>>1,t=t*444984403&wi|t*60499&ds,e=e*3301882366&wi|((e<<16|t>>>16)*3120437893&wi)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Kv=Object.freeze({map:null,hash:"",transfer:void 0});var ko,Po,Ze,Qg,tT;class oA{constructor(){C(this,Qg);C(this,ko,!1);C(this,Po,null);C(this,Ze,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=d(this,Ze).get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return d(this,Ze).get(t)}remove(t){if(d(this,Ze).delete(t),d(this,Ze).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of d(this,Ze).values())if(e instanceof Jt)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=d(this,Ze).get(t);let a=!1;if(i!==void 0)for(const[l,c]of Object.entries(e))i[l]!==c&&(a=!0,i[l]=c);else a=!0,d(this,Ze).set(t,e);a&&x(this,Qg,tT).call(this),e instanceof Jt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return d(this,Ze).has(t)}getAll(){return d(this,Ze).size>0?eA(d(this,Ze)):null}setAll(t){for(const[e,i]of Object.entries(t))this.setValue(e,i)}get size(){return d(this,Ze).size}resetModified(){d(this,ko)&&(E(this,ko,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new eT(this)}get serializable(){if(d(this,Ze).size===0)return Kv;const t=new Map,e=new Jx,i=[],a=Object.create(null);let l=!1;for(const[c,h]of d(this,Ze)){const f=h instanceof Jt?h.serialize(!1,a):h;f&&(t.set(c,f),e.update(`${c}:${JSON.stringify(f)}`),l||(l=!!f.bitmap))}if(l)for(const c of t.values())c.bitmap&&i.push(c.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:Kv}get editorStats(){let t=null;const e=new Map;for(const i of d(this,Ze).values()){if(!(i instanceof Jt))continue;const a=i.telemetryFinalData;if(!a)continue;const{type:l}=a;e.has(l)||e.set(l,Object.getPrototypeOf(i).constructor),t||(t=Object.create(null));const c=t[l]||(t[l]=new Map);for(const[h,f]of Object.entries(a)){if(h==="type")continue;let g=c.get(h);g||(g=new Map,c.set(h,g));const m=g.get(f)??0;g.set(f,m+1)}}for(const[i,a]of e)t[i]=a.computeTelemetryFinalData(t[i]);return t}resetModifiedIds(){E(this,Po,null)}get modifiedIds(){if(d(this,Po))return d(this,Po);const t=[];for(const e of d(this,Ze).values())!(e instanceof Jt)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return E(this,Po,{ids:new Set(t),hash:t.join(",")})}}ko=new WeakMap,Po=new WeakMap,Ze=new WeakMap,Qg=new WeakSet,tT=function(){d(this,ko)||(E(this,ko,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Td;class eT extends oA{constructor(e){super();C(this,Td);const{map:i,hash:a,transfer:l}=e.serializable,c=structuredClone(i,l?{transfer:l}:null);E(this,Td,{map:c,hash:a,transfer:l})}get print(){he("Should not call PrintAnnotationStorage.print")}get serializable(){return d(this,Td)}get modifiedIds(){return qt(this,"modifiedIds",{ids:new Set,hash:""})}}Td=new WeakMap;var Uc;class mN{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){C(this,Uc,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),d(this,Uc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||d(this,Uc).has(t.loadedName))){if(Ie(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:a,style:l}=t,c=new FontFace(i,a,l);this.addNativeFontFace(c);try{await c.load(),d(this,Uc).add(i),e==null||e(t)}catch{jt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}he("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(a){throw jt(`Failed to load font '${i.family}': '${a}'.`),t.disableFontFace=!0,a}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const a=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,a)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return qt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(Sn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),qt(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(Ie(!a.done,"completeRequest() cannot be called twice."),a.done=!0;i.length>0&&i[0].done;){const l=i.shift();setTimeout(l.callback,0)}}const{loadingRequests:i}=this,a={done:!1,complete:e,callback:t};return i.push(a),a}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return qt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(D,k){return D.charCodeAt(k)<<24|D.charCodeAt(k+1)<<16|D.charCodeAt(k+2)<<8|D.charCodeAt(k+3)&255}function a(D,k,H,B){const V=D.substring(0,k),U=D.substring(k+H);return V+B+U}let l,c;const h=this._document.createElement("canvas");h.width=1,h.height=1;const f=h.getContext("2d");let g=0;function m(D,k){if(++g>30){jt("Load test font never loaded."),k();return}if(f.font="30px "+D,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){k();return}setTimeout(m.bind(null,D,k))}const b=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=a(v,976,b.length,b);const S=16,w=1482184792;let M=i(v,S);for(l=0,c=b.length-3;l<c;l+=4)M=M-w+i(b,l)|0;l<b.length&&(M=M-w+i(b+"XXX",l)|0),v=a(v,S,4,tN(M));const T=`url(data:font/opentype;base64,${btoa(v)});`,P=`@font-face {font-family:"${b}";src:${T}}`;this.insertRule(P);const O=this._document.createElement("div");O.style.visibility="hidden",O.style.width=O.style.height="10px",O.style.position="absolute",O.style.top=O.style.left="0px";for(const D of[t.loadedName,b]){const k=this._document.createElement("span");k.textContent="Hi",k.style.fontFamily=D,O.append(k)}this._document.body.append(O),m(b,()=>{O.remove(),e.complete()})}}Uc=new WeakMap;class yN{constructor(t,{disableFontFace:e=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const a in t)this[a]=t[a];this.disableFontFace=e===!0,this._inspectFont=i}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${rN(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let a=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(a+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${a}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let i;try{i=t.get(this.loadedName+"_path_"+e)}catch(l){jt(`getPathGenerator - ignoring character: "${l}".`)}if(!Array.isArray(i)||i.length===0)return this.compiledGlyphs[e]=function(l,c){};const a=[];for(let l=0,c=i.length;l<c;)switch(i[l++]){case Ws.BEZIER_CURVE_TO:{const[h,f,g,m,b,v]=i.slice(l,l+6);a.push(A=>A.bezierCurveTo(h,f,g,m,b,v)),l+=6}break;case Ws.MOVE_TO:{const[h,f]=i.slice(l,l+2);a.push(g=>g.moveTo(h,f)),l+=2}break;case Ws.LINE_TO:{const[h,f]=i.slice(l,l+2);a.push(g=>g.lineTo(h,f)),l+=2}break;case Ws.QUADRATIC_CURVE_TO:{const[h,f,g,m]=i.slice(l,l+4);a.push(b=>b.quadraticCurveTo(h,f,g,m)),l+=4}break;case Ws.RESTORE:a.push(h=>h.restore());break;case Ws.SAVE:a.push(h=>h.save());break;case Ws.SCALE:Ie(a.length===2,"Scale command is only valid at the third position.");break;case Ws.TRANSFORM:{const[h,f,g,m,b,v]=i.slice(l,l+6);a.push(A=>A.transform(h,f,g,m,b,v)),l+=6}break;case Ws.TRANSLATE:{const[h,f]=i.slice(l,l+2);a.push(g=>g.translate(h,f)),l+=2}break}return this.compiledGlyphs[e]=function(c,h){a[0](c),a[1](c),c.scale(h,-h);for(let f=2,g=a.length;f<g;f++)a[f](c)}}}var Cd;class nT{constructor({enableHWA:t=!1}){C(this,Cd,!1);E(this,Cd,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!d(this,Cd)})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){he("Abstract method `_createCanvas` called.")}}Cd=new WeakMap;class bN extends nT{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class iT{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){he("Abstract method `_fetch` called.")}}class sT extends iT{async _fetch(t){const e=await Em(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):_m(e)}}class aT{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,a,l){return"none"}destroy(t=!1){}}var jo,Fo,_s,ra,mn,Zg,Ho,dt,pn,dc,fc,og,pc,rT,Wv,gc,Bh,qh,Qv,Gh;class vN extends aT{constructor({docId:e,ownerDocument:i=globalThis.document}){super();C(this,dt);C(this,jo);C(this,Fo);C(this,_s);C(this,ra);C(this,mn);C(this,Zg);C(this,Ho,0);E(this,ra,e),E(this,mn,i)}addFilter(e){if(!e)return"none";let i=d(this,dt,pn).get(e);if(i)return i;const[a,l,c]=x(this,dt,og).call(this,e),h=e.length===1?a:`${a}${l}${c}`;if(i=d(this,dt,pn).get(h),i)return d(this,dt,pn).set(e,i),i;const f=`g_${d(this,ra)}_transfer_map_${wn(this,Ho)._++}`,g=x(this,dt,pc).call(this,f);d(this,dt,pn).set(e,g),d(this,dt,pn).set(h,g);const m=x(this,dt,gc).call(this,f);return x(this,dt,qh).call(this,a,l,c,m),g}addHCMFilter(e,i){var S;const a=`${e}-${i}`,l="base";let c=d(this,dt,dc).get(l);if((c==null?void 0:c.key)===a||(c?((S=c.filter)==null||S.remove(),c.key=a,c.url="none",c.filter=null):(c={key:a,url:"none",filter:null},d(this,dt,dc).set(l,c)),!e||!i))return c.url;const h=x(this,dt,Gh).call(this,e);e=yt.makeHexColor(...h);const f=x(this,dt,Gh).call(this,i);if(i=yt.makeHexColor(...f),d(this,dt,fc).style.color="",e==="#000000"&&i==="#ffffff"||e===i)return c.url;const g=new Array(256);for(let w=0;w<=255;w++){const M=w/255;g[w]=M<=.03928?M/12.92:((M+.055)/1.055)**2.4}const m=g.join(","),b=`g_${d(this,ra)}_hcm_filter`,v=c.filter=x(this,dt,gc).call(this,b);x(this,dt,qh).call(this,m,m,m,v),x(this,dt,Wv).call(this,v);const A=(w,M)=>{const T=h[w]/255,P=f[w]/255,O=new Array(M+1);for(let D=0;D<=M;D++)O[D]=T+D/M*(P-T);return O.join(",")};return x(this,dt,qh).call(this,A(0,5),A(1,5),A(2,5),v),c.url=x(this,dt,pc).call(this,b),c.url}addAlphaFilter(e){let i=d(this,dt,pn).get(e);if(i)return i;const[a]=x(this,dt,og).call(this,[e]),l=`alpha_${a}`;if(i=d(this,dt,pn).get(l),i)return d(this,dt,pn).set(e,i),i;const c=`g_${d(this,ra)}_alpha_map_${wn(this,Ho)._++}`,h=x(this,dt,pc).call(this,c);d(this,dt,pn).set(e,h),d(this,dt,pn).set(l,h);const f=x(this,dt,gc).call(this,c);return x(this,dt,Qv).call(this,a,f),h}addLuminosityFilter(e){let i=d(this,dt,pn).get(e||"luminosity");if(i)return i;let a,l;if(e?([a]=x(this,dt,og).call(this,[e]),l=`luminosity_${a}`):l="luminosity",i=d(this,dt,pn).get(l),i)return d(this,dt,pn).set(e,i),i;const c=`g_${d(this,ra)}_luminosity_map_${wn(this,Ho)._++}`,h=x(this,dt,pc).call(this,c);d(this,dt,pn).set(e,h),d(this,dt,pn).set(l,h);const f=x(this,dt,gc).call(this,c);return x(this,dt,rT).call(this,f),e&&x(this,dt,Qv).call(this,a,f),h}addHighlightHCMFilter(e,i,a,l,c){var P;const h=`${i}-${a}-${l}-${c}`;let f=d(this,dt,dc).get(e);if((f==null?void 0:f.key)===h||(f?((P=f.filter)==null||P.remove(),f.key=h,f.url="none",f.filter=null):(f={key:h,url:"none",filter:null},d(this,dt,dc).set(e,f)),!i||!a))return f.url;const[g,m]=[i,a].map(x(this,dt,Gh).bind(this));let b=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),v=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),[A,S]=[l,c].map(x(this,dt,Gh).bind(this));v<b&&([b,v,A,S]=[v,b,S,A]),d(this,dt,fc).style.color="";const w=(O,D,k)=>{const H=new Array(256),B=(v-b)/k,V=O/255,U=(D-O)/(255*k);let W=0;for(let tt=0;tt<=k;tt++){const ct=Math.round(b+tt*B),ut=V+tt*U;for(let ht=W;ht<=ct;ht++)H[ht]=ut;W=ct+1}for(let tt=W;tt<256;tt++)H[tt]=H[W-1];return H.join(",")},M=`g_${d(this,ra)}_hcm_${e}_filter`,T=f.filter=x(this,dt,gc).call(this,M);return x(this,dt,Wv).call(this,T),x(this,dt,qh).call(this,w(A[0],S[0],5),w(A[1],S[1],5),w(A[2],S[2],5),T),f.url=x(this,dt,pc).call(this,M),f.url}destroy(e=!1){e&&d(this,dt,dc).size!==0||(d(this,_s)&&(d(this,_s).parentNode.parentNode.remove(),E(this,_s,null)),d(this,Fo)&&(d(this,Fo).clear(),E(this,Fo,null)),E(this,Ho,0))}}jo=new WeakMap,Fo=new WeakMap,_s=new WeakMap,ra=new WeakMap,mn=new WeakMap,Zg=new WeakMap,Ho=new WeakMap,dt=new WeakSet,pn=function(){return d(this,Fo)||E(this,Fo,new Map)},dc=function(){return d(this,Zg)||E(this,Zg,new Map)},fc=function(){if(!d(this,_s)){const e=d(this,mn).createElement("div"),{style:i}=e;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const a=d(this,mn).createElementNS(Zs,"svg");a.setAttribute("width",0),a.setAttribute("height",0),E(this,_s,d(this,mn).createElementNS(Zs,"defs")),e.append(a),a.append(d(this,_s)),d(this,mn).body.append(e)}return d(this,_s)},og=function(e){if(e.length===1){const g=e[0],m=new Array(256);for(let v=0;v<256;v++)m[v]=g[v]/255;const b=m.join(",");return[b,b,b]}const[i,a,l]=e,c=new Array(256),h=new Array(256),f=new Array(256);for(let g=0;g<256;g++)c[g]=i[g]/255,h[g]=a[g]/255,f[g]=l[g]/255;return[c.join(","),h.join(","),f.join(",")]},pc=function(e){if(d(this,jo)===void 0){E(this,jo,"");const i=d(this,mn).URL;i!==d(this,mn).baseURI&&(wm(i)?jt('#createUrl: ignore "data:"-URL for performance reasons.'):E(this,jo,i.split("#",1)[0]))}return`url(${d(this,jo)}#${e})`},rT=function(e){const i=d(this,mn).createElementNS(Zs,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(i)},Wv=function(e){const i=d(this,mn).createElementNS(Zs,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(i)},gc=function(e){const i=d(this,mn).createElementNS(Zs,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",e),d(this,dt,fc).append(i),i},Bh=function(e,i,a){const l=d(this,mn).createElementNS(Zs,i);l.setAttribute("type","discrete"),l.setAttribute("tableValues",a),e.append(l)},qh=function(e,i,a,l){const c=d(this,mn).createElementNS(Zs,"feComponentTransfer");l.append(c),x(this,dt,Bh).call(this,c,"feFuncR",e),x(this,dt,Bh).call(this,c,"feFuncG",i),x(this,dt,Bh).call(this,c,"feFuncB",a)},Qv=function(e,i){const a=d(this,mn).createElementNS(Zs,"feComponentTransfer");i.append(a),x(this,dt,Bh).call(this,a,"feFuncA",e)},Gh=function(e){return d(this,dt,fc).style.color=e,rA(getComputedStyle(d(this,dt,fc)).getPropertyValue("color"))};class oT{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){he("Abstract method `_fetch` called.")}}class lT extends oT{async _fetch(t){const e=await Em(t,"arraybuffer");return new Uint8Array(e)}}if(Sn){var Zv=Promise.withResolvers(),ed=null;(async()=>{const t=await Vp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await Vp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await Vp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),a=await Vp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let l,c;return new Map(Object.entries({fs:t,http:e,https:i,url:a,canvas:l,path2d:c}))})().then(t=>{ed=t,Zv.resolve()},t=>{jt(`loadPackages: ${t}`),ed=new Map,Zv.resolve()})}class jr{static get promise(){return Zv.promise}static get(t){return ed==null?void 0:ed.get(t)}}async function cT(o){const e=await jr.get("fs").promises.readFile(o);return new Uint8Array(e)}class AN extends aT{}class SN extends nT{_createCanvas(t,e){return jr.get("canvas").createCanvas(t,e)}}class _N extends iT{async _fetch(t){return cT(t)}}class EN extends oT{async _fetch(t){return cT(t)}}const Cn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Jv(o,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],a=new Path2D;a.rect(t[0],t[1],e,i),o.clip(a)}class lA{getPattern(){he("Abstract method `getPattern` called.")}}class wN extends lA{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,a){let l;if(a===Cn.STROKE||a===Cn.FILL){const c=e.current.getClippedPathBoundingBox(a,be(t))||[0,0,0,0],h=Math.ceil(c[2]-c[0])||1,f=Math.ceil(c[3]-c[1])||1,g=e.cachedCanvases.getCanvas("pattern",h,f),m=g.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-c[0],-c[1]),i=yt.transform(i,[1,0,0,1,c[0],c[1]]),m.transform(...e.baseTransform),this.matrix&&m.transform(...this.matrix),Jv(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),l=t.createPattern(g.canvas,"no-repeat");const b=new DOMMatrix(i);l.setTransform(b)}else Jv(t,this._bbox),l=this._createGradient(t);return l}}function rv(o,t,e,i,a,l,c,h){const f=t.coords,g=t.colors,m=o.data,b=o.width*4;let v;f[e+1]>f[i+1]&&(v=e,e=i,i=v,v=l,l=c,c=v),f[i+1]>f[a+1]&&(v=i,i=a,a=v,v=c,c=h,h=v),f[e+1]>f[i+1]&&(v=e,e=i,i=v,v=l,l=c,c=v);const A=(f[e]+t.offsetX)*t.scaleX,S=(f[e+1]+t.offsetY)*t.scaleY,w=(f[i]+t.offsetX)*t.scaleX,M=(f[i+1]+t.offsetY)*t.scaleY,T=(f[a]+t.offsetX)*t.scaleX,P=(f[a+1]+t.offsetY)*t.scaleY;if(S>=P)return;const O=g[l],D=g[l+1],k=g[l+2],H=g[c],B=g[c+1],V=g[c+2],U=g[h],W=g[h+1],tt=g[h+2],ct=Math.round(S),ut=Math.round(P);let ht,pt,Y,J,et,_t,j,Q;for(let ot=ct;ot<=ut;ot++){if(ot<M){const wt=ot<S?0:(S-ot)/(S-M);ht=A-(A-w)*wt,pt=O-(O-H)*wt,Y=D-(D-B)*wt,J=k-(k-V)*wt}else{let wt;ot>P?wt=1:M===P?wt=0:wt=(M-ot)/(M-P),ht=w-(w-T)*wt,pt=H-(H-U)*wt,Y=B-(B-W)*wt,J=V-(V-tt)*wt}let at;ot<S?at=0:ot>P?at=1:at=(S-ot)/(S-P),et=A-(A-T)*at,_t=O-(O-U)*at,j=D-(D-W)*at,Q=k-(k-tt)*at;const st=Math.round(Math.min(ht,et)),Et=Math.round(Math.max(ht,et));let gt=b*ot+st*4;for(let wt=st;wt<=Et;wt++)at=(ht-wt)/(ht-et),at<0?at=0:at>1&&(at=1),m[gt++]=pt-(pt-_t)*at|0,m[gt++]=Y-(Y-j)*at|0,m[gt++]=J-(J-Q)*at|0,m[gt++]=255}}function xN(o,t,e){const i=t.coords,a=t.colors;let l,c;switch(t.type){case"lattice":const h=t.verticesPerRow,f=Math.floor(i.length/h)-1,g=h-1;for(l=0;l<f;l++){let m=l*h;for(let b=0;b<g;b++,m++)rv(o,e,i[m],i[m+1],i[m+h],a[m],a[m+1],a[m+h]),rv(o,e,i[m+h+1],i[m+1],i[m+h],a[m+h+1],a[m+1],a[m+h])}break;case"triangles":for(l=0,c=i.length;l<c;l+=3)rv(o,e,i[l],i[l+1],i[l+2],a[l],a[l+1],a[l+2]);break;default:throw new Error("illegal figure")}}class TN extends lA{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,i){const h=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),g=Math.ceil(this._bounds[2])-h,m=Math.ceil(this._bounds[3])-f,b=Math.min(Math.ceil(Math.abs(g*t[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(m*t[1]*1.1)),3e3),A=g/b,S=m/v,w={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-f,scaleX:1/A,scaleY:1/S},M=b+2*2,T=v+2*2,P=i.getCanvas("mesh",M,T),O=P.context,D=O.createImageData(b,v);if(e){const H=D.data;for(let B=0,V=H.length;B<V;B+=4)H[B]=e[0],H[B+1]=e[1],H[B+2]=e[2],H[B+3]=255}for(const H of this._figures)xN(D,H,w);return O.putImageData(D,2,2),{canvas:P.canvas,offsetX:h-2*A,offsetY:f-2*S,scaleX:A,scaleY:S}}getPattern(t,e,i,a){Jv(t,this._bbox);let l;if(a===Cn.SHADING)l=yt.singularValueDecompose2dScale(be(t));else if(l=yt.singularValueDecompose2dScale(e.baseTransform),this.matrix){const h=yt.singularValueDecompose2dScale(this.matrix);l=[l[0]*h[0],l[1]*h[1]]}const c=this._createMeshCanvas(l,a===Cn.SHADING?null:this._background,e.cachedCanvases);return a!==Cn.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class CN extends lA{getPattern(){return"hotpink"}}function RN(o){switch(o[0]){case"RadialAxial":return new wN(o);case"Mesh":return new TN(o);case"Dummy":return new CN}throw new Error(`Unknown IR type: ${o[0]}`)}const i1={COLORED:1,UNCOLORED:2},Jg=class Jg{constructor(t,e,i,a,l){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=i,this.canvasGraphicsFactory=a,this.baseTransform=l}createPatternCanvas(t){const{bbox:e,operatorList:i,paintType:a,tilingType:l,color:c,canvasGraphicsFactory:h}=this;let{xstep:f,ystep:g}=this;f=Math.abs(f),g=Math.abs(g),Am("TilingType: "+l);const m=e[0],b=e[1],v=e[2],A=e[3],S=v-m,w=A-b,M=yt.singularValueDecompose2dScale(this.matrix),T=yt.singularValueDecompose2dScale(this.baseTransform),P=M[0]*T[0],O=M[1]*T[1];let D=S,k=w,H=!1,B=!1;const V=Math.ceil(f*P),U=Math.ceil(g*O),W=Math.ceil(S*P),tt=Math.ceil(w*O);V>=W?D=f:H=!0,U>=tt?k=g:B=!0;const ct=this.getSizeAndScale(D,this.ctx.canvas.width,P),ut=this.getSizeAndScale(k,this.ctx.canvas.height,O),ht=t.cachedCanvases.getCanvas("pattern",ct.size,ut.size),pt=ht.context,Y=h.createCanvasGraphics(pt);if(Y.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(Y,a,c),pt.translate(-ct.scale*m,-ut.scale*b),Y.transform(ct.scale,0,0,ut.scale,0,0),pt.save(),this.clipBbox(Y,m,b,v,A),Y.baseTransform=be(Y.ctx),Y.executeOperatorList(i),Y.endDrawing(),pt.restore(),H||B){const J=ht.canvas;H&&(D=f),B&&(k=g);const et=this.getSizeAndScale(D,this.ctx.canvas.width,P),_t=this.getSizeAndScale(k,this.ctx.canvas.height,O),j=et.size,Q=_t.size,ot=t.cachedCanvases.getCanvas("pattern-workaround",j,Q),at=ot.context,st=H?Math.floor(S/f):0,Et=B?Math.floor(w/g):0;for(let gt=0;gt<=st;gt++)for(let wt=0;wt<=Et;wt++)at.drawImage(J,j*gt,Q*wt,j,Q,0,0,j,Q);return{canvas:ot.canvas,scaleX:et.scale,scaleY:_t.scale,offsetX:m,offsetY:b}}return{canvas:ht.canvas,scaleX:ct.scale,scaleY:ut.scale,offsetX:m,offsetY:b}}getSizeAndScale(t,e,i){const a=Math.max(Jg.MAX_PATTERN_SIZE,e);let l=Math.ceil(t*i);return l>=a?l=a:i=l/t,{scale:i,size:l}}clipBbox(t,e,i,a,l){const c=a-e,h=l-i;t.ctx.rect(e,i,c,h),t.current.updateRectMinMax(be(t.ctx),[e,i,a,l]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const a=t.ctx,l=t.current;switch(e){case i1.COLORED:const c=this.ctx;a.fillStyle=c.fillStyle,a.strokeStyle=c.strokeStyle,l.fillColor=c.fillStyle,l.strokeColor=c.strokeStyle;break;case i1.UNCOLORED:const h=yt.makeHexColor(i[0],i[1],i[2]);a.fillStyle=h,a.strokeStyle=h,l.fillColor=h,l.strokeColor=h;break;default:throw new JL(`Unsupported paint type: ${e}`)}}getPattern(t,e,i,a){let l=i;a!==Cn.SHADING&&(l=yt.transform(l,e.baseTransform),this.matrix&&(l=yt.transform(l,this.matrix)));const c=this.createPatternCanvas(e);let h=new DOMMatrix(l);h=h.translate(c.offsetX,c.offsetY),h=h.scale(1/c.scaleX,1/c.scaleY);const f=t.createPattern(c.canvas,"repeat");return f.setTransform(h),f}};xt(Jg,"MAX_PATTERN_SIZE",3e3);let t0=Jg;function MN({src:o,srcPos:t=0,dest:e,width:i,height:a,nonBlackColor:l=4294967295,inverseDecode:c=!1}){const h=Rn.isLittleEndian?4278190080:255,[f,g]=c?[l,h]:[h,l],m=i>>3,b=i&7,v=o.length;e=new Uint32Array(e.buffer);let A=0;for(let S=0;S<a;S++){for(const M=t+m;t<M;t++){const T=t<v?o[t]:255;e[A++]=T&128?g:f,e[A++]=T&64?g:f,e[A++]=T&32?g:f,e[A++]=T&16?g:f,e[A++]=T&8?g:f,e[A++]=T&4?g:f,e[A++]=T&2?g:f,e[A++]=T&1?g:f}if(b===0)continue;const w=t<v?o[t++]:255;for(let M=0;M<b;M++)e[A++]=w&1<<7-M?g:f}return{srcPos:t,destPos:A}}const s1=16,a1=100,DN=15,r1=10,o1=1e3,Un=16;function ON(o,t){if(o._removeMirroring)throw new Error("Context is already forwarding operations.");o.__originalSave=o.save,o.__originalRestore=o.restore,o.__originalRotate=o.rotate,o.__originalScale=o.scale,o.__originalTranslate=o.translate,o.__originalTransform=o.transform,o.__originalSetTransform=o.setTransform,o.__originalResetTransform=o.resetTransform,o.__originalClip=o.clip,o.__originalMoveTo=o.moveTo,o.__originalLineTo=o.lineTo,o.__originalBezierCurveTo=o.bezierCurveTo,o.__originalRect=o.rect,o.__originalClosePath=o.closePath,o.__originalBeginPath=o.beginPath,o._removeMirroring=()=>{o.save=o.__originalSave,o.restore=o.__originalRestore,o.rotate=o.__originalRotate,o.scale=o.__originalScale,o.translate=o.__originalTranslate,o.transform=o.__originalTransform,o.setTransform=o.__originalSetTransform,o.resetTransform=o.__originalResetTransform,o.clip=o.__originalClip,o.moveTo=o.__originalMoveTo,o.lineTo=o.__originalLineTo,o.bezierCurveTo=o.__originalBezierCurveTo,o.rect=o.__originalRect,o.closePath=o.__originalClosePath,o.beginPath=o.__originalBeginPath,delete o._removeMirroring},o.save=function(){t.save(),this.__originalSave()},o.restore=function(){t.restore(),this.__originalRestore()},o.translate=function(i,a){t.translate(i,a),this.__originalTranslate(i,a)},o.scale=function(i,a){t.scale(i,a),this.__originalScale(i,a)},o.transform=function(i,a,l,c,h,f){t.transform(i,a,l,c,h,f),this.__originalTransform(i,a,l,c,h,f)},o.setTransform=function(i,a,l,c,h,f){t.setTransform(i,a,l,c,h,f),this.__originalSetTransform(i,a,l,c,h,f)},o.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},o.rotate=function(i){t.rotate(i),this.__originalRotate(i)},o.clip=function(i){t.clip(i),this.__originalClip(i)},o.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},o.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},o.bezierCurveTo=function(e,i,a,l,c,h){t.bezierCurveTo(e,i,a,l,c,h),this.__originalBezierCurveTo(e,i,a,l,c,h)},o.rect=function(e,i,a,l){t.rect(e,i,a,l),this.__originalRect(e,i,a,l)},o.closePath=function(){t.closePath(),this.__originalClosePath()},o.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class LN{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let a;return this.cache[t]!==void 0?(a=this.cache[t],this.canvasFactory.reset(a,e,i)):(a=this.canvasFactory.create(e,i),this.cache[t]=a),a}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Xp(o,t,e,i,a,l,c,h,f,g){const[m,b,v,A,S,w]=be(o);if(b===0&&v===0){const P=c*m+S,O=Math.round(P),D=h*A+w,k=Math.round(D),H=(c+f)*m+S,B=Math.abs(Math.round(H)-O)||1,V=(h+g)*A+w,U=Math.abs(Math.round(V)-k)||1;return o.setTransform(Math.sign(m),0,0,Math.sign(A),O,k),o.drawImage(t,e,i,a,l,0,0,B,U),o.setTransform(m,b,v,A,S,w),[B,U]}if(m===0&&A===0){const P=h*v+S,O=Math.round(P),D=c*b+w,k=Math.round(D),H=(h+g)*v+S,B=Math.abs(Math.round(H)-O)||1,V=(c+f)*b+w,U=Math.abs(Math.round(V)-k)||1;return o.setTransform(0,Math.sign(b),Math.sign(v),0,O,k),o.drawImage(t,e,i,a,l,0,0,U,B),o.setTransform(m,b,v,A,S,w),[U,B]}o.drawImage(t,e,i,a,l,c,h,f,g);const M=Math.hypot(m,b),T=Math.hypot(v,A);return[M*f,T*g]}function NN(o){const{width:t,height:e}=o;if(t>o1||e>o1)return null;const i=1e3,a=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),l=t+1;let c=new Uint8Array(l*(e+1)),h,f,g;const m=t+7&-8;let b=new Uint8Array(m*e),v=0;for(const T of o.data){let P=128;for(;P>0;)b[v++]=T&P?0:255,P>>=1}let A=0;for(v=0,b[v]!==0&&(c[0]=1,++A),f=1;f<t;f++)b[v]!==b[v+1]&&(c[f]=b[v]?2:1,++A),v++;for(b[v]!==0&&(c[f]=2,++A),h=1;h<e;h++){v=h*m,g=h*l,b[v-m]!==b[v]&&(c[g]=b[v]?1:8,++A);let T=(b[v]?4:0)+(b[v-m]?8:0);for(f=1;f<t;f++)T=(T>>2)+(b[v+1]?4:0)+(b[v-m+1]?8:0),a[T]&&(c[g+f]=a[T],++A),v++;if(b[v-m]!==b[v]&&(c[g+f]=b[v]?2:4,++A),A>i)return null}for(v=m*(e-1),g=h*l,b[v]!==0&&(c[g]=8,++A),f=1;f<t;f++)b[v]!==b[v+1]&&(c[g+f]=b[v]?4:8,++A),v++;if(b[v]!==0&&(c[g+f]=4,++A),A>i)return null;const S=new Int32Array([0,l,-1,0,-l,0,0,0,1]),w=new Path2D;for(h=0;A&&h<=e;h++){let T=h*l;const P=T+t;for(;T<P&&!c[T];)T++;if(T===P)continue;w.moveTo(T%l,h);const O=T;let D=c[T];do{const k=S[D];do T+=k;while(!c[T]);const H=c[T];H!==5&&H!==10?(D=H,c[T]=0):(D=H&51*D>>4,c[T]&=D>>2|D<<2),w.lineTo(T%l,T/l|0),c[T]||--A}while(O!==T);--h}return b=null,c=null,function(T){T.save(),T.scale(1/t,-1/e),T.translate(0,-e),T.fill(w),T.beginPath(),T.restore()}}class l1{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Tx,this.textMatrixScale=1,this.fontMatrix=Tv,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=fn.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,i){[e,i]=yt.applyTransform([e,i],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(t,e){const i=yt.applyTransform(e,t),a=yt.applyTransform(e.slice(2),t),l=yt.applyTransform([e[0],e[3]],t),c=yt.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,i[0],a[0],l[0],c[0]),this.minY=Math.min(this.minY,i[1],a[1],l[1],c[1]),this.maxX=Math.max(this.maxX,i[0],a[0],l[0],c[0]),this.maxY=Math.max(this.maxY,i[1],a[1],l[1],c[1])}updateScalingPathMinMax(t,e){yt.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,i,a,l,c,h,f,g,m){const b=yt.bezierBoundingBox(e,i,a,l,c,h,f,g,m);m||this.updateRectMinMax(t,b)}getPathBoundingBox(t=Cn.FILL,e=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if(t===Cn.STROKE){e||he("Stroke bounding box must include transform.");const a=yt.singularValueDecompose2dScale(e),l=a[0]*this.lineWidth/2,c=a[1]*this.lineWidth/2;i[0]-=l,i[1]-=c,i[2]+=l,i[3]+=c}return i}updateClipFromPath(){const t=yt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=Cn.FILL,e=null){return yt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function c1(o,t){if(typeof ImageData<"u"&&t instanceof ImageData){o.putImageData(t,0,0);return}const e=t.height,i=t.width,a=e%Un,l=(e-a)/Un,c=a===0?l:l+1,h=o.createImageData(i,Un);let f=0,g;const m=t.data,b=h.data;let v,A,S,w;if(t.kind===tg.GRAYSCALE_1BPP){const M=m.byteLength,T=new Uint32Array(b.buffer,0,b.byteLength>>2),P=T.length,O=i+7>>3,D=4294967295,k=Rn.isLittleEndian?4278190080:255;for(v=0;v<c;v++){for(S=v<l?Un:a,g=0,A=0;A<S;A++){const H=M-f;let B=0;const V=H>O?i:H*8-7,U=V&-8;let W=0,tt=0;for(;B<U;B+=8)tt=m[f++],T[g++]=tt&128?D:k,T[g++]=tt&64?D:k,T[g++]=tt&32?D:k,T[g++]=tt&16?D:k,T[g++]=tt&8?D:k,T[g++]=tt&4?D:k,T[g++]=tt&2?D:k,T[g++]=tt&1?D:k;for(;B<V;B++)W===0&&(tt=m[f++],W=128),T[g++]=tt&W?D:k,W>>=1}for(;g<P;)T[g++]=0;o.putImageData(h,0,v*Un)}}else if(t.kind===tg.RGBA_32BPP){for(A=0,w=i*Un*4,v=0;v<l;v++)b.set(m.subarray(f,f+w)),f+=w,o.putImageData(h,0,A),A+=Un;v<c&&(w=i*a*4,b.set(m.subarray(f,f+w)),o.putImageData(h,0,A))}else if(t.kind===tg.RGB_24BPP)for(S=Un,w=i*S,v=0;v<c;v++){for(v>=l&&(S=a,w=i*S),g=0,A=w;A--;)b[g++]=m[f++],b[g++]=m[f++],b[g++]=m[f++],b[g++]=255;o.putImageData(h,0,v*Un)}else throw new Error(`bad image kind: ${t.kind}`)}function u1(o,t){if(t.bitmap){o.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,a=e%Un,l=(e-a)/Un,c=a===0?l:l+1,h=o.createImageData(i,Un);let f=0;const g=t.data,m=h.data;for(let b=0;b<c;b++){const v=b<l?Un:a;({srcPos:f}=MN({src:g,srcPos:f,dest:m,width:i,height:v,nonBlackColor:0})),o.putImageData(h,0,b*Un)}}function Ph(o,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)o[i]!==void 0&&(t[i]=o[i]);o.setLineDash!==void 0&&(t.setLineDash(o.getLineDash()),t.lineDashOffset=o.lineDashOffset)}function Yp(o){if(o.strokeStyle=o.fillStyle="#000000",o.fillRule="nonzero",o.globalAlpha=1,o.lineWidth=1,o.lineCap="butt",o.lineJoin="miter",o.miterLimit=10,o.globalCompositeOperation="source-over",o.font="10px sans-serif",o.setLineDash!==void 0&&(o.setLineDash([]),o.lineDashOffset=0),!Sn){const{filter:t}=o;t!=="none"&&t!==""&&(o.filter="none")}}function h1(o,t){if(t)return!0;const e=yt.singularValueDecompose2dScale(o);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*Pr.PDF_TO_CSS_UNITS);return e[0]<=i&&e[1]<=i}const kN=["butt","round","square"],PN=["miter","round","bevel"],jN={},d1={};var Hr,e0,n0;const vA=class vA{constructor(t,e,i,a,l,{optionalContentConfig:c,markedContentStack:h=null},f,g){C(this,Hr);this.ctx=t,this.current=new l1(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=a,this.filterFactory=l,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=c,this.cachedCanvases=new LN(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=g,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:a=null}){const l=this.ctx.canvas.width,c=this.ctx.canvas.height,h=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,l,c),this.ctx.fillStyle=h,i){const f=this.cachedCanvases.getCanvas("transparent",l,c);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform(...be(this.compositeCtx))}this.ctx.save(),Yp(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=be(this.ctx)}executeOperatorList(t,e,i,a){const l=t.argsArray,c=t.fnArray;let h=e||0;const f=l.length;if(f===h)return h;const g=f-h>r1&&typeof i=="function",m=g?Date.now()+DN:0;let b=0;const v=this.commonObjs,A=this.objs;let S;for(;;){if(a!==void 0&&h===a.nextBreakPoint)return a.breakIt(h,i),h;if(S=c[h],S!==Ui.dependency)this[S].apply(this,l[h]);else for(const w of l[h]){const M=w.startsWith("g_")?v:A;if(!M.has(w))return M.get(w,i),h}if(h++,h===f)return h;if(g&&++b>r1){if(Date.now()>m)return i(),h;b=0}}}endDrawing(){x(this,Hr,e0).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),x(this,Hr,n0).call(this)}_scaleImage(t,e){const i=t.width??t.displayWidth,a=t.height??t.displayHeight;let l=Math.max(Math.hypot(e[0],e[1]),1),c=Math.max(Math.hypot(e[2],e[3]),1),h=i,f=a,g="prescale1",m,b;for(;l>2&&h>1||c>2&&f>1;){let v=h,A=f;l>2&&h>1&&(v=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h/2),l/=h/v),c>2&&f>1&&(A=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f)/2,c/=f/A),m=this.cachedCanvases.getCanvas(g,v,A),b=m.context,b.clearRect(0,0,v,A),b.drawImage(t,0,0,h,f,0,0,v,A),t=m.canvas,h=v,f=A,g=g==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:h,paintHeight:f}}_createMaskCanvas(t){const e=this.ctx,{width:i,height:a}=t,l=this.current.fillColor,c=this.current.patternFill,h=be(e);let f,g,m,b;if((t.bitmap||t.data)&&t.count>1){const V=t.bitmap||t.data.buffer;g=JSON.stringify(c?h:[h.slice(0,4),l]),f=this._cachedBitmapsMap.get(V),f||(f=new Map,this._cachedBitmapsMap.set(V,f));const U=f.get(g);if(U&&!c){const W=Math.round(Math.min(h[0],h[2])+h[4]),tt=Math.round(Math.min(h[1],h[3])+h[5]);return{canvas:U,offsetX:W,offsetY:tt}}m=U}m||(b=this.cachedCanvases.getCanvas("maskCanvas",i,a),u1(b.context,t));let v=yt.transform(h,[1/i,0,0,-1/a,0,0]);v=yt.transform(v,[1,0,0,1,0,-a]);const[A,S,w,M]=yt.getAxialAlignedBoundingBox([0,0,i,a],v),T=Math.round(w-A)||1,P=Math.round(M-S)||1,O=this.cachedCanvases.getCanvas("fillCanvas",T,P),D=O.context,k=A,H=S;D.translate(-k,-H),D.transform(...v),m||(m=this._scaleImage(b.canvas,Qs(D)),m=m.img,f&&c&&f.set(g,m)),D.imageSmoothingEnabled=h1(be(D),t.interpolate),Xp(D,m,0,0,m.width,m.height,0,0,i,a),D.globalCompositeOperation="source-in";const B=yt.transform(Qs(D),[1,0,0,1,-k,-H]);return D.fillStyle=c?l.getPattern(e,this,B,Cn.FILL):l,D.fillRect(0,0,i,a),f&&!c&&(this.cachedCanvases.delete("fillCanvas"),f.set(g,O.canvas)),{canvas:O.canvas,offsetX:Math.round(k),offsetY:Math.round(H)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=kN[t]}setLineJoin(t){this.ctx.lineJoin=PN[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,i]of t)switch(e){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(i,t,e);this.suspendedCtx=this.ctx,this.ctx=a.context;const l=this.ctx;l.setTransform(...be(this.suspendedCtx)),Ph(this.suspendedCtx,l),ON(l,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ph(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,a){const l=a[0],c=a[1],h=a[2]-l,f=a[3]-c;h===0||f===0||(this.genericComposeSMask(e.context,i,h,f,e.subtype,e.backdrop,e.transferMap,l,c,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,a,l,c,h,f,g,m,b){let v=t.canvas,A=f-m,S=g-b;if(c){const M=yt.makeHexColor(...c);if(A<0||S<0||A+i>v.width||S+a>v.height){const T=this.cachedCanvases.getCanvas("maskExtension",i,a),P=T.context;P.drawImage(v,-A,-S),P.globalCompositeOperation="destination-atop",P.fillStyle=M,P.fillRect(0,0,i,a),P.globalCompositeOperation="source-over",v=T.canvas,A=S=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const T=new Path2D;T.rect(A,S,i,a),t.clip(T),t.globalCompositeOperation="destination-atop",t.fillStyle=M,t.fillRect(A,S,i,a),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),l==="Alpha"&&h?e.filter=this.filterFactory.addAlphaFilter(h):l==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(h));const w=new Path2D;w.rect(f,g,i,a),e.clip(w),e.globalCompositeOperation="destination-in",e.drawImage(v,A,S,i,a,f,g,i,a),e.restore()}save(){this.inSMaskMode?(Ph(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Ph(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,i,a,l,c){this.ctx.transform(t,e,i,a,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i){const a=this.ctx,l=this.current;let c=l.x,h=l.y,f,g;const m=be(a),b=m[0]===0&&m[3]===0||m[1]===0&&m[2]===0,v=b?i.slice(0):null;for(let A=0,S=0,w=t.length;A<w;A++)switch(t[A]|0){case Ui.rectangle:c=e[S++],h=e[S++];const M=e[S++],T=e[S++],P=c+M,O=h+T;a.moveTo(c,h),M===0||T===0?a.lineTo(P,O):(a.lineTo(P,h),a.lineTo(P,O),a.lineTo(c,O)),b||l.updateRectMinMax(m,[c,h,P,O]),a.closePath();break;case Ui.moveTo:c=e[S++],h=e[S++],a.moveTo(c,h),b||l.updatePathMinMax(m,c,h);break;case Ui.lineTo:c=e[S++],h=e[S++],a.lineTo(c,h),b||l.updatePathMinMax(m,c,h);break;case Ui.curveTo:f=c,g=h,c=e[S+4],h=e[S+5],a.bezierCurveTo(e[S],e[S+1],e[S+2],e[S+3],c,h),l.updateCurvePathMinMax(m,f,g,e[S],e[S+1],e[S+2],e[S+3],c,h,v),S+=6;break;case Ui.curveTo2:f=c,g=h,a.bezierCurveTo(c,h,e[S],e[S+1],e[S+2],e[S+3]),l.updateCurvePathMinMax(m,f,g,c,h,e[S],e[S+1],e[S+2],e[S+3],v),c=e[S+2],h=e[S+3],S+=4;break;case Ui.curveTo3:f=c,g=h,c=e[S+2],h=e[S+3],a.bezierCurveTo(e[S],e[S+1],c,h,c,h),l.updateCurvePathMinMax(m,f,g,e[S],e[S+1],c,h,c,h,v),S+=4;break;case Ui.closePath:a.closePath();break}b&&l.updateScalingPathMinMax(m,v),l.setCurrentPoint(c,h)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,i=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&(i!=null&&i.getPattern)?(e.save(),e.strokeStyle=i.getPattern(e,this,Qs(e),Cn.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,i=this.current.fillColor,a=this.current.patternFill;let l=!1;a&&(e.save(),e.fillStyle=i.getPattern(e,this,Qs(e),Cn.FILL),l=!0);const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),l&&e.restore(),t&&this.consumePath(c)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=jN}eoClip(){this.pendingClip=d1}beginText(){this.current.textMatrix=Tx,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const i of t)e.setTransform(...i.transform),e.translate(i.x,i.y),i.addToPath(e,i.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var m;const i=this.commonObjs.get(t),a=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(a.fontMatrix=i.fontMatrix||Tv,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&jt("Invalid font matrix for font "+t),e<0?(e=-e,a.fontDirection=-1):a.fontDirection=1,this.current.font=i,this.current.fontSize=e,i.isType3Font)return;const l=i.loadedName||"sans-serif",c=((m=i.systemFontInfo)==null?void 0:m.css)||`"${l}", ${i.fallbackName}`;let h="normal";i.black?h="900":i.bold&&(h="bold");const f=i.italic?"italic":"normal";let g=e;e<s1?g=s1:e>a1&&(g=a1),this.current.fontSizeScale=e/g,this.ctx.font=`${f} ${h} ${g}px ${c}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,i,a,l,c){this.current.textMatrix=[t,e,i,a,l,c],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,i,a){const l=this.ctx,c=this.current,h=c.font,f=c.textRenderingMode,g=c.fontSize/c.fontSizeScale,m=f&fn.FILL_STROKE_MASK,b=!!(f&fn.ADD_TO_PATH_FLAG),v=c.patternFill&&!h.missingFile;let A;(h.disableFontFace||b||v)&&(A=h.getPathGenerator(this.commonObjs,t)),h.disableFontFace||v?(l.save(),l.translate(e,i),l.beginPath(),A(l,g),a&&l.setTransform(...a),(m===fn.FILL||m===fn.FILL_STROKE)&&l.fill(),(m===fn.STROKE||m===fn.FILL_STROKE)&&l.stroke(),l.restore()):((m===fn.FILL||m===fn.FILL_STROKE)&&l.fillText(t,e,i),(m===fn.STROKE||m===fn.FILL_STROKE)&&l.strokeText(t,e,i)),b&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:be(l),x:e,y:i,fontSize:g,addToPath:A})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let a=3;a<e.length;a+=4)if(e[a]>0&&e[a]<255){i=!0;break}return qt(this,"isFontSubpixelAAEnabled",i)}showText(t){const e=this.current,i=e.font;if(i.isType3Font)return this.showType3Text(t);const a=e.fontSize;if(a===0)return;const l=this.ctx,c=e.fontSizeScale,h=e.charSpacing,f=e.wordSpacing,g=e.fontDirection,m=e.textHScale*g,b=t.length,v=i.vertical,A=v?1:-1,S=i.defaultVMetrics,w=a*e.fontMatrix[0],M=e.textRenderingMode===fn.FILL&&!i.disableFontFace&&!e.patternFill;l.save(),l.transform(...e.textMatrix),l.translate(e.x,e.y+e.textRise),g>0?l.scale(m,-1):l.scale(m,1);let T;if(e.patternFill){l.save();const H=e.fillColor.getPattern(l,this,Qs(l),Cn.FILL);T=be(l),l.restore(),l.fillStyle=H}let P=e.lineWidth;const O=e.textMatrixScale;if(O===0||P===0){const H=e.textRenderingMode&fn.FILL_STROKE_MASK;(H===fn.STROKE||H===fn.FILL_STROKE)&&(P=this.getSinglePixelWidth())}else P/=O;if(c!==1&&(l.scale(c,c),P/=c),l.lineWidth=P,i.isInvalidPDFjsFont){const H=[];let B=0;for(const V of t)H.push(V.unicode),B+=V.width;l.fillText(H.join(""),0,0),e.x+=B*w*m,l.restore(),this.compose();return}let D=0,k;for(k=0;k<b;++k){const H=t[k];if(typeof H=="number"){D+=A*H*a/1e3;continue}let B=!1;const V=(H.isSpace?f:0)+h,U=H.fontChar,W=H.accent;let tt,ct,ut=H.width;if(v){const pt=H.vmetric||S,Y=-(H.vmetric?pt[1]:ut*.5)*w,J=pt[2]*w;ut=pt?-pt[0]:ut,tt=Y/c,ct=(D+J)/c}else tt=D/c,ct=0;if(i.remeasure&&ut>0){const pt=l.measureText(U).width*1e3/a*c;if(ut<pt&&this.isFontSubpixelAAEnabled){const Y=ut/pt;B=!0,l.save(),l.scale(Y,1),tt/=Y}else ut!==pt&&(tt+=(ut-pt)/2e3*a/c)}if(this.contentVisible&&(H.isInFont||i.missingFile)){if(M&&!W)l.fillText(U,tt,ct);else if(this.paintChar(U,tt,ct,T),W){const pt=tt+a*W.offset.x/c,Y=ct-a*W.offset.y/c;this.paintChar(W.fontChar,pt,Y,T)}}const ht=v?ut*w-V*g:ut*w+V*g;D+=ht,B&&l.restore()}v?e.y-=D:e.x+=D*m,l.restore(),this.compose()}showType3Text(t){const e=this.ctx,i=this.current,a=i.font,l=i.fontSize,c=i.fontDirection,h=a.vertical?1:-1,f=i.charSpacing,g=i.wordSpacing,m=i.textHScale*c,b=i.fontMatrix||Tv,v=t.length,A=i.textRenderingMode===fn.INVISIBLE;let S,w,M,T;if(!(A||l===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...i.textMatrix),e.translate(i.x,i.y),e.scale(m,c),S=0;S<v;++S){if(w=t[S],typeof w=="number"){T=h*w*l/1e3,this.ctx.translate(T,0),i.x+=T*m;continue}const P=(w.isSpace?g:0)+f,O=a.charProcOperatorList[w.operatorListId];if(!O){jt(`Type3 character "${w.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=w,this.save(),e.scale(l,l),e.transform(...b),this.executeOperatorList(O),this.restore()),M=yt.applyTransform([w.width,0],b)[0]*l+P,e.translate(M,0),i.x+=M*m}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,i,a,l,c){this.ctx.rect(i,a,l-i,c-a),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const i=t[1],a=this.baseTransform||be(this.ctx),l={createCanvasGraphics:c=>new vA(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new t0(t,i,this.ctx,l,a)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,i){this.ctx.strokeStyle=this.current.strokeColor=yt.makeHexColor(t,e,i)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,i){this.ctx.fillStyle=this.current.fillColor=yt.makeHexColor(t,e,i),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=RN(this.getObject(t)),this.cachedPatterns.set(t,i)),e&&(i.matrix=e),i}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const i=this._getPattern(t);e.fillStyle=i.getPattern(e,this,Qs(e),Cn.SHADING);const a=Qs(e);if(a){const{width:l,height:c}=e.canvas,[h,f,g,m]=yt.getAxialAlignedBoundingBox([0,0,l,c],a);this.ctx.fillRect(h,f,g-h,m-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){he("Should not call beginInlineImage")}beginImageData(){he("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=be(this.ctx),e)){const i=e[2]-e[0],a=e[3]-e[1];this.ctx.rect(e[0],e[1],i,a),this.current.updateRectMinMax(be(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Am("TODO: Support non-isolated groups."),t.knockout&&jt("Knockout groups not supported.");const i=be(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let a=yt.getAxialAlignedBoundingBox(t.bbox,be(e));const l=[0,0,e.canvas.width,e.canvas.height];a=yt.intersect(a,l)||[0,0,0,0];const c=Math.floor(a[0]),h=Math.floor(a[1]),f=Math.max(Math.ceil(a[2])-c,1),g=Math.max(Math.ceil(a[3])-h,1);this.current.startNewPathAndClipBox([0,0,f,g]);let m="groupAt"+this.groupLevel;t.smask&&(m+="_smask_"+this.smaskCounter++%2);const b=this.cachedCanvases.getCanvas(m,f,g),v=b.context;v.translate(-c,-h),v.transform(...i),t.smask?this.smaskStack.push({canvas:b.canvas,context:v,offsetX:c,offsetY:h,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(c,h),e.save()),Ph(e,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const a=be(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...a);const l=yt.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],a);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,i,a,l){if(x(this,Hr,e0).call(this),Yp(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const c=e[2]-e[0],h=e[3]-e[1];if(l&&this.annotationCanvasMap){i=i.slice(),i[4]-=e[0],i[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=c,e[3]=h;const[f,g]=yt.singularValueDecompose2dScale(be(this.ctx)),{viewportScale:m}=this,b=Math.ceil(c*this.outputScaleX*m),v=Math.ceil(h*this.outputScaleY*m);this.annotationCanvas=this.canvasFactory.create(b,v);const{canvas:A,context:S}=this.annotationCanvas;this.annotationCanvasMap.set(t,A),this.annotationCanvas.savedCtx=this.ctx,this.ctx=S,this.ctx.save(),this.ctx.setTransform(f,0,0,-g,0,h*g),Yp(this.ctx)}else Yp(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],c,h),this.ctx.clip(),this.ctx.beginPath()}this.current=new l1(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...a)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),x(this,Hr,n0).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const i=this.ctx,a=this.processingType3;if(a&&(a.compiled===void 0&&(a.compiled=NN(t)),a.compiled)){a.compiled(i);return}const l=this._createMaskCanvas(t),c=l.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(c,l.offsetX,l.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i=0,a=0,l,c){if(!this.contentVisible)return;t=this.getObject(t.data,t);const h=this.ctx;h.save();const f=be(h);h.transform(e,i,a,l,0,0);const g=this._createMaskCanvas(t);h.setTransform(1,0,0,1,g.offsetX-f[4],g.offsetY-f[5]);for(let m=0,b=c.length;m<b;m+=2){const v=yt.transform(f,[e,i,a,l,c[m],c[m+1]]),[A,S]=yt.applyTransform([0,0],v);h.drawImage(g.canvas,A,S)}h.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,i=this.current.fillColor,a=this.current.patternFill;for(const l of t){const{data:c,width:h,height:f,transform:g}=l,m=this.cachedCanvases.getCanvas("maskCanvas",h,f),b=m.context;b.save();const v=this.getObject(c,l);u1(b,v),b.globalCompositeOperation="source-in",b.fillStyle=a?i.getPattern(b,this,Qs(e),Cn.FILL):i,b.fillRect(0,0,h,f),b.restore(),e.save(),e.transform(...g),e.scale(1,-1),Xp(e,m.canvas,0,0,h,f,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){jt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,i,a){if(!this.contentVisible)return;const l=this.getObject(t);if(!l){jt("Dependent image isn't ready yet");return}const c=l.width,h=l.height,f=[];for(let g=0,m=a.length;g<m;g+=2)f.push({transform:[e,0,0,i,a[g],a[g+1]],x:0,y:0,w:c,h});this.paintInlineImageXObjectGroup(l,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:a}=t,l=this.cachedCanvases.getCanvas("inlineImage",i,a),c=l.context;return c.filter=this.current.transferMaps,c.drawImage(e,0,0),c.filter="none",l.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,i=t.height,a=this.ctx;if(this.save(),!Sn){const{filter:h}=a;h!=="none"&&h!==""&&(a.filter="none")}a.scale(1/e,-1/i);let l;if(t.bitmap)l=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)l=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",e,i).context;c1(f,t),l=this.applyTransferMapsToCanvas(f)}const c=this._scaleImage(l,Qs(a));a.imageSmoothingEnabled=h1(be(a),t.interpolate),Xp(a,c.img,0,0,c.paintWidth,c.paintHeight,0,-i,e,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const i=this.ctx;let a;if(t.bitmap)a=t.bitmap;else{const l=t.width,c=t.height,f=this.cachedCanvases.getCanvas("inlineImage",l,c).context;c1(f,t),a=this.applyTransferMapsToCanvas(f)}for(const l of e)i.save(),i.transform(...l.transform),i.scale(1,-1),Xp(i,a,l.x,l.y,l.w,l.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const i=this.ctx;this.pendingClip&&(e||(this.pendingClip===d1?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=be(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),a=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,a)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:a,d:l}=this.ctx.getTransform();let c,h;if(i===0&&a===0){const f=Math.abs(e),g=Math.abs(l);if(f===g)if(t===0)c=h=1/f;else{const m=f*t;c=h=m<1?1/m:1}else if(t===0)c=1/f,h=1/g;else{const m=f*t,b=g*t;c=m<1?1/m:1,h=b<1?1/b:1}}else{const f=Math.abs(e*l-i*a),g=Math.hypot(e,i),m=Math.hypot(a,l);if(t===0)c=m/f,h=g/f;else{const b=t*f;c=m>b?m/b:1,h=g>b?g/b:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=h}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:i}=this.current,[a,l]=this.getScaleForStroking();if(e.lineWidth=i||1,a===1&&l===1){e.stroke();return}const c=e.getLineDash();if(t&&e.save(),e.scale(a,l),c.length>0){const h=Math.max(a,l);e.setLineDash(c.map(f=>f/h)),e.lineDashOffset/=h}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Hr=new WeakSet,e0=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},n0=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let Sc=vA;for(const o in Ui)Sc.prototype[o]!==void 0&&(Sc.prototype[Ui[o]]=Sc.prototype[o]);var Rd,Md;class xa{static get workerPort(){return d(this,Rd)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");E(this,Rd,t)}static get workerSrc(){return d(this,Md)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");E(this,Md,t)}}Rd=new WeakMap,Md=new WeakMap,C(xa,Rd,null),C(xa,Md,"");const $p={DATA:1,ERROR:2},Le={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Wn(o){switch(o instanceof Error||typeof o=="object"&&o!==null||he('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),o.name){case"AbortException":return new Cl(o.message);case"MissingPDFException":return new Tl(o.message);case"PasswordException":return new Cv(o.message,o.code);case"UnexpectedResponseException":return new Sm(o.message,o.status);case"UnknownErrorException":return new Rv(o.message,o.details);default:return new Rv(o.message,o.toString())}}var Ic,Li,uT,hT,dT,lg;class Vh{constructor(t,e,i){C(this,Li);C(this,Ic,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",x(this,Li,uT).bind(this),{signal:d(this,Ic).signal})}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const a=this.callbackId++,l=Promise.withResolvers();this.callbackCapabilities[a]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:a,data:e},i)}catch(c){l.reject(c)}return l.promise}sendWithStream(t,e,i,a){const l=this.streamId++,c=this.sourceName,h=this.targetName,f=this.comObj;return new ReadableStream({start:g=>{const m=Promise.withResolvers();return this.streamControllers[l]={controller:g,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},f.postMessage({sourceName:c,targetName:h,action:t,streamId:l,data:e,desiredSize:g.desiredSize},a),m.promise},pull:g=>{const m=Promise.withResolvers();return this.streamControllers[l].pullCall=m,f.postMessage({sourceName:c,targetName:h,stream:Le.PULL,streamId:l,desiredSize:g.desiredSize}),m.promise},cancel:g=>{Ie(g instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[l].cancelCall=m,this.streamControllers[l].isClosed=!0,f.postMessage({sourceName:c,targetName:h,stream:Le.CANCEL,streamId:l,reason:Wn(g)}),m.promise}},i)}destroy(){var t;(t=d(this,Ic))==null||t.abort(),E(this,Ic,null)}}Ic=new WeakMap,Li=new WeakSet,uT=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){x(this,Li,dT).call(this,t);return}if(t.callback){const i=t.callbackId,a=this.callbackCapabilities[i];if(!a)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===$p.DATA)a.resolve(t.data);else if(t.callback===$p.ERROR)a.reject(Wn(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,a=t.sourceName,l=this.comObj;new Promise(function(c){c(e(t.data))}).then(function(c){l.postMessage({sourceName:i,targetName:a,callback:$p.DATA,callbackId:t.callbackId,data:c})},function(c){l.postMessage({sourceName:i,targetName:a,callback:$p.ERROR,callbackId:t.callbackId,reason:Wn(c)})});return}if(t.streamId){x(this,Li,hT).call(this,t);return}e(t.data)},hT=function(t){const e=t.streamId,i=this.sourceName,a=t.sourceName,l=this.comObj,c=this,h=this.actionHandler[t.action],f={enqueue(g,m=1,b){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=m,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:i,targetName:a,stream:Le.ENQUEUE,streamId:e,chunk:g},b)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:i,targetName:a,stream:Le.CLOSE,streamId:e}),delete c.streamSinks[e])},error(g){Ie(g instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:i,targetName:a,stream:Le.ERROR,streamId:e,reason:Wn(g)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[e]=f,new Promise(function(g){g(h(t.data,f))}).then(function(){l.postMessage({sourceName:i,targetName:a,stream:Le.START_COMPLETE,streamId:e,success:!0})},function(g){l.postMessage({sourceName:i,targetName:a,stream:Le.START_COMPLETE,streamId:e,reason:Wn(g)})})},dT=function(t){const e=t.streamId,i=this.sourceName,a=t.sourceName,l=this.comObj,c=this.streamControllers[e],h=this.streamSinks[e];switch(t.stream){case Le.START_COMPLETE:t.success?c.startCall.resolve():c.startCall.reject(Wn(t.reason));break;case Le.PULL_COMPLETE:t.success?c.pullCall.resolve():c.pullCall.reject(Wn(t.reason));break;case Le.PULL:if(!h){l.postMessage({sourceName:i,targetName:a,stream:Le.PULL_COMPLETE,streamId:e,success:!0});break}h.desiredSize<=0&&t.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=t.desiredSize,new Promise(function(f){var g;f((g=h.onPull)==null?void 0:g.call(h))}).then(function(){l.postMessage({sourceName:i,targetName:a,stream:Le.PULL_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:i,targetName:a,stream:Le.PULL_COMPLETE,streamId:e,reason:Wn(f)})});break;case Le.ENQUEUE:if(Ie(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(t.chunk);break;case Le.CLOSE:if(Ie(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),x(this,Li,lg).call(this,c,e);break;case Le.ERROR:Ie(c,"error should have stream controller"),c.controller.error(Wn(t.reason)),x(this,Li,lg).call(this,c,e);break;case Le.CANCEL_COMPLETE:t.success?c.cancelCall.resolve():c.cancelCall.reject(Wn(t.reason)),x(this,Li,lg).call(this,c,e);break;case Le.CANCEL:if(!h)break;new Promise(function(f){var g;f((g=h.onCancel)==null?void 0:g.call(h,Wn(t.reason)))}).then(function(){l.postMessage({sourceName:i,targetName:a,stream:Le.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:i,targetName:a,stream:Le.CANCEL_COMPLETE,streamId:e,reason:Wn(f)})}),h.sinkCapability.reject(Wn(t.reason)),h.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},lg=async function(t,e){var i,a,l;await Promise.allSettled([(i=t.startCall)==null?void 0:i.promise,(a=t.pullCall)==null?void 0:a.promise,(l=t.cancelCall)==null?void 0:l.promise]),delete this.streamControllers[e]};var zo,Dd;class FN{constructor({parsedData:t,rawData:e}){C(this,zo);C(this,Dd);E(this,zo,t),E(this,Dd,e)}getRaw(){return d(this,Dd)}get(t){return d(this,zo).get(t)??null}getAll(){return eA(d(this,zo))}has(t){return d(this,zo).has(t)}}zo=new WeakMap,Dd=new WeakMap;const mc=Symbol("INTERNAL");var Od,Ld,Nd,Bc;class HN{constructor(t,{name:e,intent:i,usage:a,rbGroups:l}){C(this,Od,!1);C(this,Ld,!1);C(this,Nd,!1);C(this,Bc,!0);E(this,Od,!!(t&ai.DISPLAY)),E(this,Ld,!!(t&ai.PRINT)),this.name=e,this.intent=i,this.usage=a,this.rbGroups=l}get visible(){if(d(this,Nd))return d(this,Bc);if(!d(this,Bc))return!1;const{print:t,view:e}=this.usage;return d(this,Od)?(e==null?void 0:e.viewState)!=="OFF":d(this,Ld)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,i=!1){t!==mc&&he("Internal method `_setVisible` called."),E(this,Nd,i),E(this,Bc,e)}}Od=new WeakMap,Ld=new WeakMap,Nd=new WeakMap,Bc=new WeakMap;var yr,Zt,qc,Gc,kd,i0;class zN{constructor(t,e=ai.DISPLAY){C(this,kd);C(this,yr,null);C(this,Zt,new Map);C(this,qc,null);C(this,Gc,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,E(this,Gc,t.order);for(const i of t.groups)d(this,Zt).set(i.id,new HN(e,i));if(t.baseState==="OFF")for(const i of d(this,Zt).values())i._setVisible(mc,!1);for(const i of t.on)d(this,Zt).get(i)._setVisible(mc,!0);for(const i of t.off)d(this,Zt).get(i)._setVisible(mc,!1);E(this,qc,this.getHash())}}isVisible(t){if(d(this,Zt).size===0)return!0;if(!t)return Am("Optional content group not defined."),!0;if(t.type==="OCG")return d(this,Zt).has(t.id)?d(this,Zt).get(t.id).visible:(jt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return x(this,kd,i0).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!d(this,Zt).has(e))return jt(`Optional content group not found: ${e}`),!0;if(d(this,Zt).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!d(this,Zt).has(e))return jt(`Optional content group not found: ${e}`),!0;if(!d(this,Zt).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!d(this,Zt).has(e))return jt(`Optional content group not found: ${e}`),!0;if(!d(this,Zt).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!d(this,Zt).has(e))return jt(`Optional content group not found: ${e}`),!0;if(d(this,Zt).get(e).visible)return!1}return!0}return jt(`Unknown optional content policy ${t.policy}.`),!0}return jt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){var l;const a=d(this,Zt).get(t);if(!a){jt(`Optional content group not found: ${t}`);return}if(i&&e&&a.rbGroups.length)for(const c of a.rbGroups)for(const h of c)h!==t&&((l=d(this,Zt).get(h))==null||l._setVisible(mc,!1,!0));a._setVisible(mc,!!e,!0),E(this,yr,null)}setOCGState({state:t,preserveRB:e}){let i;for(const a of t){switch(a){case"ON":case"OFF":case"Toggle":i=a;continue}const l=d(this,Zt).get(a);if(l)switch(i){case"ON":this.setVisibility(a,!0,e);break;case"OFF":this.setVisibility(a,!1,e);break;case"Toggle":this.setVisibility(a,!l.visible,e);break}}E(this,yr,null)}get hasInitialVisibility(){return d(this,qc)===null||this.getHash()===d(this,qc)}getOrder(){return d(this,Zt).size?d(this,Gc)?d(this,Gc).slice():[...d(this,Zt).keys()]:null}getGroups(){return d(this,Zt).size>0?eA(d(this,Zt)):null}getGroup(t){return d(this,Zt).get(t)||null}getHash(){if(d(this,yr)!==null)return d(this,yr);const t=new Jx;for(const[e,i]of d(this,Zt))t.update(`${e}:${i.visible}`);return E(this,yr,t.hexdigest())}}yr=new WeakMap,Zt=new WeakMap,qc=new WeakMap,Gc=new WeakMap,kd=new WeakSet,i0=function(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let a=1;a<e;a++){const l=t[a];let c;if(Array.isArray(l))c=x(this,kd,i0).call(this,l);else if(d(this,Zt).has(l))c=d(this,Zt).get(l).visible;else return jt(`Optional content group not found: ${l}`),!0;switch(i){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return i==="And"};class UN{constructor(t,{disableRange:e=!1,disableStream:i=!1}){Ie(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:l,progressiveDone:c,contentDispositionFilename:h}=t;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=h,(l==null?void 0:l.length)>0){const f=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((f,g)=>{this._onReceiveData({begin:f,chunk:g})}),t.addProgressListener((f,g)=>{this._onProgress({loaded:f,total:g})}),t.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const a=this._rangeReaders.some(function(l){return l._begin!==t?!1:(l._enqueue(i),!0)});Ie(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,i,a,l;t.total===void 0?(i=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||i.call(e,{loaded:t.loaded}):(l=(a=this._fullRequestReader)==null?void 0:a.onProgress)==null||l.call(a,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Ie(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new IN(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new BN(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeReaders.slice(0))i.cancel(t);this._pdfDataRangeTransport.abort()}}class IN{constructor(t,e,i=!1,a=null){this._stream=t,this._done=i||!1,this._filename=sA(a)?a:null,this._queuedChunks=e||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class BN{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function qN(o){let t=!0,e=i("filename\\*","i").exec(o);if(e){e=e[1];let m=h(e);return m=unescape(m),m=f(m),m=g(m),l(m)}if(e=c(o),e){const m=g(e);return l(m)}if(e=i("filename","i").exec(o),e){e=e[1];let m=h(e);return m=g(m),l(m)}function i(m,b){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',b)}function a(m,b){if(m){if(!/^[\x00-\xFF]+$/.test(b))return b;try{const v=new TextDecoder(m,{fatal:!0}),A=_m(b);b=v.decode(A),t=!1}catch{}}return b}function l(m){return t&&/[\x80-\xff]/.test(m)&&(m=a("utf-8",m),t&&(m=a("iso-8859-1",m))),m}function c(m){const b=[];let v;const A=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=A.exec(m))!==null;){let[,w,M,T]=v;if(w=parseInt(w,10),w in b){if(w===0)break;continue}b[w]=[M,T]}const S=[];for(let w=0;w<b.length&&w in b;++w){let[M,T]=b[w];T=h(T),M&&(T=unescape(T),w===0&&(T=f(T))),S.push(T)}return S.join("")}function h(m){if(m.startsWith('"')){const b=m.slice(1).split('\\"');for(let v=0;v<b.length;++v){const A=b[v].indexOf('"');A!==-1&&(b[v]=b[v].slice(0,A),b.length=v+1),b[v]=b[v].replaceAll(/\\(.)/g,"$1")}m=b.join('"')}return m}function f(m){const b=m.indexOf("'");if(b===-1)return m;const v=m.slice(0,b),S=m.slice(b+1).replace(/^[^']*'/,"");return a(v,S)}function g(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(b,v,A,S){if(A==="q"||A==="Q")return S=S.replaceAll("_"," "),S=S.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,M){return String.fromCharCode(parseInt(M,16))}),a(v,S);try{S=atob(S)}catch{}return a(v,S)})}return""}function cA(o,t){const e=new Headers;if(!o||!t||typeof t!="object")return e;for(const i in t){const a=t[i];a!==void 0&&e.append(i,a)}return e}function uA({responseHeaders:o,isHttp:t,rangeChunkSize:e,disableRange:i}){const a={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(o.get("Content-Length"),10);return!Number.isInteger(l)||(a.suggestedLength=l,l<=2*e)||i||!t||o.get("Accept-Ranges")!=="bytes"||(o.get("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function hA(o){const t=o.get("Content-Disposition");if(t){let e=qN(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(sA(e))return e}return null}function xm(o,t){return o===404||o===0&&t.startsWith("file:")?new Tl('Missing PDF "'+t+'".'):new Sm(`Unexpected server response (${o}) while retrieving PDF "${t}".`,o)}function fT(o){return o===200||o===206}function pT(o,t,e){return{method:"GET",headers:o,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function gT(o){return o instanceof Uint8Array?o.buffer:o instanceof ArrayBuffer?o:(jt(`getArrayBuffer - unexpected data format: ${o}`),new Uint8Array(o).buffer)}class f1{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=cA(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Ie(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new GN(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new VN(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class GN{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),a=e.url;fetch(a,pT(i,this._withCredentials,this._abortController)).then(l=>{if(!fT(l.status))throw xm(l.status,a);this._reader=l.body.getReader(),this._headersCapability.resolve();const c=l.headers,{allowRangeRequests:h,suggestedLength:f}=uA({responseHeaders:c,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=f||this._contentLength,this._filename=hA(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Cl("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:gT(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class VN{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const a=t.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;const l=new Headers(t.headers);l.append("Range",`bytes=${e}-${i-1}`);const c=a.url;fetch(c,pT(l,this._withCredentials,this._abortController)).then(h=>{if(!fT(h.status))throw xm(h.status,c);this._readCapability.resolve(),this._reader=h.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:gT(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const ov=200,lv=206;function XN(o){const t=o.response;return typeof t!="string"?t:_m(t).buffer}class YN{constructor({url:t,httpHeaders:e,withCredentials:i}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=cA(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,i){const a={begin:t,end:e};for(const l in i)a[l]=i[l];return this.request(a)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,a=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[l,c]of this.headers)e.setRequestHeader(l,c);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),a.expectedStatus=lv):a.expectedStatus=ov,e.responseType="arraybuffer",t.onError&&(e.onerror=function(l){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),a.onHeadersReceived=t.onHeadersReceived,a.onDone=t.onDone,a.onError=t.onError,a.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){var a;const i=this.pendingRequests[t];i&&((a=i.onProgress)==null||a.call(i,e))}onStateChange(t,e){var f,g,m;const i=this.pendingRequests[t];if(!i)return;const a=i.xhr;if(a.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),a.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],a.status===0&&this.isHttp){(f=i.onError)==null||f.call(i,a.status);return}const l=a.status||ov;if(!(l===ov&&i.expectedStatus===lv)&&l!==i.expectedStatus){(g=i.onError)==null||g.call(i,a.status);return}const h=XN(a);if(l===lv){const b=a.getResponseHeader("Content-Range"),v=/bytes (\d+)-(\d+)\/(\d+)/.exec(b);i.onDone({begin:parseInt(v[1],10),chunk:h})}else h?i.onDone({begin:0,chunk:h}):(m=i.onError)==null||m.call(i,a.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class $N{constructor(t){this._source=t,this._manager=new YN(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Ie(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new KN(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new WN(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class KN{constructor(t,e){this._manager=t;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(i),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),i=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(c=>{const[h,...f]=c.split(": ");return[h,f.join(": ")]})),{allowRangeRequests:a,suggestedLength:l}=uA({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=hA(i),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=xm(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class WN{constructor(t,e,i){this._manager=t;const a={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,i,a),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=xm(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const QN=/^[a-z][a-z0-9\-+.]+:/i;function ZN(o){if(QN.test(o))return new URL(o);const t=jr.get("url");return new URL(t.pathToFileURL(o))}function mT(o,t,e){return o.protocol==="http:"?jr.get("http").request(o,{headers:t},e):jr.get("https").request(o,{headers:t},e)}class JN{constructor(t){this.source=t,this.url=ZN(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=cA(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Ie(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new nk(this):new tk(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=this.isFsUrl?new ik(this,t,e):new ek(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class yT{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Cl("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class bT{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class tk extends yT{constructor(t){super(t);const e=Object.fromEntries(t.headers),i=a=>{if(a.statusCode===404){const f=new Tl(`Missing PDF "${this._url}".`);this._storedError=f,this._headersCapability.reject(f);return}this._headersCapability.resolve(),this._setReadableStream(a);const l=new Headers(this._readableStream.headers),{allowRangeRequests:c,suggestedLength:h}=uA({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=h||this._contentLength,this._filename=hA(l)};this._request=mT(this._url,e,i),this._request.on("error",a=>{this._storedError=a,this._headersCapability.reject(a)}),this._request.end()}}class ek extends bT{constructor(t,e,i){super(t);const a=Object.fromEntries(t.headers);a.Range=`bytes=${e}-${i-1}`;const l=c=>{if(c.statusCode===404){const h=new Tl(`Missing PDF "${this._url}".`);this._storedError=h;return}this._setReadableStream(c)};this._request=mT(this._url,a,l),this._request.on("error",c=>{this._storedError=c}),this._request.end()}}class nk extends yT{constructor(t){super(t);const e=jr.get("fs");e.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new Tl(`Missing PDF "${this._url}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class ik extends bT{constructor(t,e,i){super(t);const a=jr.get("fs");this._setReadableStream(a.createReadStream(this._url,{start:e,end:i-1}))}}const sk=1e5,Pn=30,ak=.8;var N1,br,Hn,Pd,jd,Uo,oa,Fd,Hd,Io,Vc,Xc,vr,Yc,zd,$c,Bo,Ud,Id,Ee,qo,Go,Bd,Ar,Kc,Oa,vT,AT,a0,li,cg,r0,ST,_T;let s0=(Ee=class{constructor({textContentSource:t,container:e,viewport:i}){C(this,Oa);C(this,br,Promise.withResolvers());C(this,Hn,null);C(this,Pd,!1);C(this,jd,!!((N1=globalThis.FontInspector)!=null&&N1.enabled));C(this,Uo,null);C(this,oa,null);C(this,Fd,0);C(this,Hd,0);C(this,Io,null);C(this,Vc,null);C(this,Xc,0);C(this,vr,0);C(this,Yc,Object.create(null));C(this,zd,[]);C(this,$c,null);C(this,Bo,[]);C(this,Ud,new WeakMap);C(this,Id,null);var f;if(t instanceof ReadableStream)E(this,$c,t);else if(typeof t=="object")E(this,$c,new ReadableStream({start(g){g.enqueue(t),g.close()}}));else throw new Error('No "textContentSource" parameter specified.');E(this,Hn,E(this,Vc,e)),E(this,vr,i.scale*(globalThis.devicePixelRatio||1)),E(this,Xc,i.rotation),E(this,oa,{div:null,properties:null,ctx:null});const{pageWidth:a,pageHeight:l,pageX:c,pageY:h}=i.rawDims;E(this,Id,[1,0,0,-1,-c,h+l]),E(this,Hd,a),E(this,Fd,l),x(f=Ee,li,ST).call(f),Al(e,i),d(this,br).promise.finally(()=>{d(Ee,Kc).delete(this),E(this,oa,null),E(this,Yc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Rn.platform;return qt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{d(this,Io).read().then(({value:e,done:i})=>{if(i){d(this,br).resolve();return}d(this,Uo)??E(this,Uo,e.lang),Object.assign(d(this,Yc),e.styles),x(this,Oa,vT).call(this,e.items),t()},d(this,br).reject)};return E(this,Io,d(this,$c).getReader()),d(Ee,Kc).add(this),t(),d(this,br).promise}update({viewport:t,onBefore:e=null}){var l;const i=t.scale*(globalThis.devicePixelRatio||1),a=t.rotation;if(a!==d(this,Xc)&&(e==null||e(),E(this,Xc,a),Al(d(this,Vc),{rotation:a})),i!==d(this,vr)){e==null||e(),E(this,vr,i);const c={div:null,properties:null,ctx:x(l=Ee,li,cg).call(l,d(this,Uo))};for(const h of d(this,Bo))c.properties=d(this,Ud).get(h),c.div=h,x(this,Oa,a0).call(this,c)}}cancel(){var e;const t=new Cl("TextLayer task cancelled.");(e=d(this,Io))==null||e.cancel(t).catch(()=>{}),E(this,Io,null),d(this,br).reject(t)}get textDivs(){return d(this,Bo)}get textContentItemsStr(){return d(this,zd)}static cleanup(){if(!(d(this,Kc).size>0)){d(this,qo).clear();for(const{canvas:t}of d(this,Go).values())t.remove();d(this,Go).clear()}}},br=new WeakMap,Hn=new WeakMap,Pd=new WeakMap,jd=new WeakMap,Uo=new WeakMap,oa=new WeakMap,Fd=new WeakMap,Hd=new WeakMap,Io=new WeakMap,Vc=new WeakMap,Xc=new WeakMap,vr=new WeakMap,Yc=new WeakMap,zd=new WeakMap,$c=new WeakMap,Bo=new WeakMap,Ud=new WeakMap,Id=new WeakMap,qo=new WeakMap,Go=new WeakMap,Bd=new WeakMap,Ar=new WeakMap,Kc=new WeakMap,Oa=new WeakSet,vT=function(t){var a,l;if(d(this,Pd))return;(l=d(this,oa)).ctx??(l.ctx=x(a=Ee,li,cg).call(a,d(this,Uo)));const e=d(this,Bo),i=d(this,zd);for(const c of t){if(e.length>sk){jt("Ignoring additional textDivs for performance reasons."),E(this,Pd,!0);return}if(c.str===void 0){if(c.type==="beginMarkedContentProps"||c.type==="beginMarkedContent"){const h=d(this,Hn);E(this,Hn,document.createElement("span")),d(this,Hn).classList.add("markedContent"),c.id!==null&&d(this,Hn).setAttribute("id",`${c.id}`),h.append(d(this,Hn))}else c.type==="endMarkedContent"&&E(this,Hn,d(this,Hn).parentNode);continue}i.push(c.str),x(this,Oa,AT).call(this,c)}},AT=function(t){var w;const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};d(this,Bo).push(e);const a=yt.transform(d(this,Id),t.transform);let l=Math.atan2(a[1],a[0]);const c=d(this,Yc)[t.fontName];c.vertical&&(l+=Math.PI/2);let h=d(this,jd)&&c.fontSubstitution||c.fontFamily;h=Ee.fontFamilyMap.get(h)||h;const f=Math.hypot(a[2],a[3]),g=f*x(w=Ee,li,_T).call(w,h,d(this,Uo));let m,b;l===0?(m=a[4],b=a[5]-g):(m=a[4]+g*Math.sin(l),b=a[5]-g*Math.cos(l));const v="calc(var(--scale-factor)*",A=e.style;d(this,Hn)===d(this,Vc)?(A.left=`${(100*m/d(this,Hd)).toFixed(2)}%`,A.top=`${(100*b/d(this,Fd)).toFixed(2)}%`):(A.left=`${v}${m.toFixed(2)}px)`,A.top=`${v}${b.toFixed(2)}px)`),A.fontSize=`${v}${(d(Ee,Ar)*f).toFixed(2)}px)`,A.fontFamily=h,i.fontSize=f,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,d(this,jd)&&(e.dataset.fontName=c.fontSubstitutionLoadedName||t.fontName),l!==0&&(i.angle=l*(180/Math.PI));let S=!1;if(t.str.length>1)S=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const M=Math.abs(t.transform[0]),T=Math.abs(t.transform[3]);M!==T&&Math.max(M,T)/Math.min(M,T)>1.5&&(S=!0)}if(S&&(i.canvasWidth=c.vertical?t.height:t.width),d(this,Ud).set(e,i),d(this,oa).div=e,d(this,oa).properties=i,x(this,Oa,a0).call(this,d(this,oa)),i.hasText&&d(this,Hn).append(e),i.hasEOL){const M=document.createElement("br");M.setAttribute("role","presentation"),d(this,Hn).append(M)}},a0=function(t){var h;const{div:e,properties:i,ctx:a}=t,{style:l}=e;let c="";if(d(Ee,Ar)>1&&(c=`scale(${1/d(Ee,Ar)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:f}=l,{canvasWidth:g,fontSize:m}=i;x(h=Ee,li,r0).call(h,a,m*d(this,vr),f);const{width:b}=a.measureText(e.textContent);b>0&&(c=`scaleX(${g*d(this,vr)/b}) ${c}`)}i.angle!==0&&(c=`rotate(${i.angle}deg) ${c}`),c.length>0&&(l.transform=c)},li=new WeakSet,cg=function(t=null){let e=d(this,Go).get(t||(t=""));if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),d(this,Go).set(t,e),d(this,Bd).set(e,{size:0,family:""})}return e},r0=function(t,e,i){const a=d(this,Bd).get(t);e===a.size&&i===a.family||(t.font=`${e}px ${i}`,a.size=e,a.family=i)},ST=function(){if(d(this,Ar)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),E(this,Ar,t.getBoundingClientRect().height),t.remove()},_T=function(t,e){const i=d(this,qo).get(t);if(i)return i;const a=x(this,li,cg).call(this,e);a.canvas.width=a.canvas.height=Pn,x(this,li,r0).call(this,a,Pn,t);const l=a.measureText("");let c=l.fontBoundingBoxAscent,h=Math.abs(l.fontBoundingBoxDescent);if(c){const m=c/(c+h);return d(this,qo).set(t,m),a.canvas.width=a.canvas.height=0,m}a.strokeStyle="red",a.clearRect(0,0,Pn,Pn),a.strokeText("g",0,0);let f=a.getImageData(0,0,Pn,Pn).data;h=0;for(let m=f.length-1-3;m>=0;m-=4)if(f[m]>0){h=Math.ceil(m/4/Pn);break}a.clearRect(0,0,Pn,Pn),a.strokeText("A",0,Pn),f=a.getImageData(0,0,Pn,Pn).data,c=0;for(let m=0,b=f.length;m<b;m+=4)if(f[m]>0){c=Pn-Math.floor(m/4/Pn);break}a.canvas.width=a.canvas.height=0;const g=c?c/(c+h):ak;return d(this,qo).set(t,g),g},C(Ee,li),C(Ee,qo,new Map),C(Ee,Go,new Map),C(Ee,Bd,new WeakMap),C(Ee,Ar,null),C(Ee,Kc,new Set),Ee);class rd{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function a(l){var f;if(!l)return;let c=null;const h=l.name;if(h==="#text")c=l.value;else if(rd.shouldBuildText(h))(f=l==null?void 0:l.attributes)!=null&&f.textContent?c=l.attributes.textContent:l.value&&(c=l.value);else return;if(c!==null&&e.push({str:c}),!!l.children)for(const g of l.children)a(g)}return a(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const rk=65536,ok=100,lk=5e3,ck=Sn?SN:bN,uk=Sn?_N:sT,hk=Sn?AN:vN,dk=Sn?EN:lT;function fk(o={}){typeof o=="string"||o instanceof URL?o={url:o}:(o instanceof ArrayBuffer||ArrayBuffer.isView(o))&&(o={data:o});const t=new o0,{docId:e}=t,i=o.url?pk(o.url):null,a=o.data?gk(o.data):null,l=o.httpHeaders||null,c=o.withCredentials===!0,h=o.password??null,f=o.range instanceof ET?o.range:null,g=Number.isInteger(o.rangeChunkSize)&&o.rangeChunkSize>0?o.rangeChunkSize:rk;let m=o.worker instanceof _c?o.worker:null;const b=o.verbosity,v=typeof o.docBaseUrl=="string"&&!wm(o.docBaseUrl)?o.docBaseUrl:null,A=typeof o.cMapUrl=="string"?o.cMapUrl:null,S=o.cMapPacked!==!1,w=o.CMapReaderFactory||uk,M=typeof o.standardFontDataUrl=="string"?o.standardFontDataUrl:null,T=o.StandardFontDataFactory||dk,P=o.stopAtErrors!==!0,O=Number.isInteger(o.maxImageSize)&&o.maxImageSize>-1?o.maxImageSize:-1,D=o.isEvalSupported!==!1,k=typeof o.isOffscreenCanvasSupported=="boolean"?o.isOffscreenCanvasSupported:!Sn,H=typeof o.isChrome=="boolean"?o.isChrome:!Rn.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),B=Number.isInteger(o.canvasMaxAreaInBytes)?o.canvasMaxAreaInBytes:-1,V=typeof o.disableFontFace=="boolean"?o.disableFontFace:Sn,U=o.fontExtraProperties===!0,W=o.enableXfa===!0,tt=o.ownerDocument||globalThis.document,ct=o.disableRange===!0,ut=o.disableStream===!0,ht=o.disableAutoFetch===!0,pt=o.pdfBug===!0,Y=o.CanvasFactory||ck,J=o.FilterFactory||hk,et=o.enableHWA===!0,_t=f?f.length:o.length??NaN,j=typeof o.useSystemFonts=="boolean"?o.useSystemFonts:!Sn&&!V,Q=typeof o.useWorkerFetch=="boolean"?o.useWorkerFetch:w===sT&&T===lT&&A&&M&&Hh(A,document.baseURI)&&Hh(M,document.baseURI);o.canvasFactory&&e1("`canvasFactory`-instance option, please use `CanvasFactory` instead."),o.filterFactory&&e1("`filterFactory`-instance option, please use `FilterFactory` instead.");const ot=null;KL(b);const at={canvasFactory:new Y({ownerDocument:tt,enableHWA:et}),filterFactory:new J({docId:e,ownerDocument:tt}),cMapReaderFactory:Q?null:new w({baseUrl:A,isCompressed:S}),standardFontDataFactory:Q?null:new T({baseUrl:M})};if(!m){const gt={verbosity:b,port:xa.workerPort};m=gt.port?_c.fromPort(gt):new _c(gt),t._worker=m}const st={docId:e,apiVersion:"4.8.69",data:a,password:h,disableAutoFetch:ht,rangeChunkSize:g,length:_t,docBaseUrl:v,enableXfa:W,evaluatorOptions:{maxImageSize:O,disableFontFace:V,ignoreErrors:P,isEvalSupported:D,isOffscreenCanvasSupported:k,isChrome:H,canvasMaxAreaInBytes:B,fontExtraProperties:U,useSystemFonts:j,cMapUrl:Q?A:null,standardFontDataUrl:Q?M:null}},Et={disableFontFace:V,fontExtraProperties:U,ownerDocument:tt,pdfBug:pt,styleElement:ot,loadingParams:{disableAutoFetch:ht,enableXfa:W}};return m.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const gt=m.messageHandler.sendWithPromise("GetDocRequest",st,a?[a.buffer]:null);let wt;if(f)wt=new UN(f,{disableRange:ct,disableStream:ut});else if(!a){if(!i)throw new Error("getDocument - no `url` parameter provided.");let Ot;Sn?Ot=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Hh(i)?f1:JN:Ot=Hh(i)?f1:$N,wt=new Ot({url:i,length:_t,httpHeaders:l,withCredentials:c,rangeChunkSize:g,disableRange:ct,disableStream:ut})}return gt.then(Ot=>{if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const Vt=new Vh(e,Ot,m.port),St=new vk(Vt,t,wt,Et,at);t._transport=St,Vt.send("Ready",null)})}).catch(t._capability.reject),t}function pk(o){if(o instanceof URL)return o.href;try{return new URL(o,window.location).href}catch{if(Sn&&typeof o=="string")return o}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function gk(o){if(Sn&&typeof Buffer<"u"&&o instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength)return o;if(typeof o=="string")return _m(o);if(o instanceof ArrayBuffer||ArrayBuffer.isView(o)||typeof o=="object"&&!isNaN(o==null?void 0:o.length))return new Uint8Array(o);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function p1(o){return typeof o=="object"&&Number.isInteger(o==null?void 0:o.num)&&o.num>=0&&Number.isInteger(o==null?void 0:o.gen)&&o.gen>=0}var tm;const em=class em{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${wn(em,tm)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,i;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(a){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,a}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};tm=new WeakMap,C(em,tm,0);let o0=em,ET=class{constructor(t,e,i=!1,a=null){this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=a,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const i of this._rangeListeners)i(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){he("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class mk{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return qt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Sr,la,Di,yc,ug;class yk{constructor(t,e,i,a=!1){C(this,Di);C(this,Sr,null);C(this,la,!1);this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=a?new t1:null,this._pdfBug=a,this.commonObjs=i.commonObjs,this.objs=new wT,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:a=0,dontFlip:l=!1}={}){return new Cf({viewBox:this.view,scale:t,rotation:e,offsetX:i,offsetY:a,dontFlip:l})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return qt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:i="display",annotationMode:a=ar.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:h=null,annotationCanvasMap:f=null,pageColors:g=null,printAnnotationStorage:m=null,isEditing:b=!1}){var D,k;(D=this._stats)==null||D.time("Overall");const v=this._transport.getRenderingIntent(i,a,m,b),{renderingIntent:A,cacheKey:S}=v;E(this,la,!1),x(this,Di,ug).call(this),h||(h=this._transport.getOptionalContentConfig(A));let w=this._intentStates.get(S);w||(w=Object.create(null),this._intentStates.set(S,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const M=!!(A&ai.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(k=this._stats)==null||k.time("Page Request"),this._pumpOperatorList(v));const T=H=>{var B;w.renderTasks.delete(P),(this._maybeCleanupAfterRender||M)&&E(this,la,!0),x(this,Di,yc).call(this,!M),H?(P.capability.reject(H),this._abortOperatorList({intentState:w,reason:H instanceof Error?H:new Error(H)})):P.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(B=globalThis.Stats)!=null&&B.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},P=new c0({callback:T,params:{canvasContext:t,viewport:e,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!M,pdfBug:this._pdfBug,pageColors:g});(w.renderTasks||(w.renderTasks=new Set)).add(P);const O=P.task;return Promise.all([w.displayReadyCapability.promise,h]).then(([H,B])=>{var V;if(this.destroyed){T();return}if((V=this._stats)==null||V.time("Rendering"),!(B.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");P.initializeGraphics({transparency:H,optionalContentConfig:B}),P.operatorListChanged()}).catch(T),O}getOperatorList({intent:t="display",annotationMode:e=ar.ENABLE,printAnnotationStorage:i=null,isEditing:a=!1}={}){var g;function l(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(f))}const c=this._transport.getRenderingIntent(t,e,i,a,!0);let h=this._intentStates.get(c.cacheKey);h||(h=Object.create(null),this._intentStates.set(c.cacheKey,h));let f;return h.opListReadCapability||(f=Object.create(null),f.operatorListChanged=l,h.opListReadCapability=Promise.withResolvers(),(h.renderTasks||(h.renderTasks=new Set)).add(f),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(g=this._stats)==null||g.time("Page Request"),this._pumpOperatorList(c)),h.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>rd.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,a){function l(){c.read().then(function({value:f,done:g}){if(g){i(h);return}h.lang??(h.lang=f.lang),Object.assign(h.styles,f.styles),h.items.push(...f.items),l()},a)}const c=e.getReader(),h={items:[],styles:Object.create(null),lang:null};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),E(this,la,!1),x(this,Di,ug).call(this),Promise.all(t)}cleanup(t=!1){E(this,la,!0);const e=x(this,Di,yc).call(this,!1);return t&&e&&this._stats&&(this._stats=new t1),e}_startRenderPage(t,e){var a,l;const i=this._intentStates.get(e);i&&((a=this._stats)==null||a.timeEnd("Page Request"),(l=i.displayReadyCapability)==null||l.resolve(t))}_renderPageChunk(t,e){for(let i=0,a=t.length;i<a;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&x(this,Di,yc).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:a}){const{map:l,transfer:c}=i,f=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:l,modifiedIds:a},c).getReader(),g=this._intentStates.get(e);g.streamReader=f;const m=()=>{f.read().then(({value:b,done:v})=>{if(v){g.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(b,g),m())},b=>{if(g.streamReader=null,!this._transport.destroyed){if(g.operatorList){g.operatorList.lastChunk=!0;for(const v of g.renderTasks)v.operatorListChanged();x(this,Di,yc).call(this,!0)}if(g.displayReadyCapability)g.displayReadyCapability.reject(b);else if(g.opListReadCapability)g.opListReadCapability.reject(b);else throw b}})};m()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof iA){let a=ok;e.extraDelay>0&&e.extraDelay<1e3&&(a+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},a);return}}if(t.streamReader.cancel(new Cl(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[a,l]of this._intentStates)if(l===t){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}Sr=new WeakMap,la=new WeakMap,Di=new WeakSet,yc=function(t=!1){if(x(this,Di,ug).call(this),!d(this,la)||this.destroyed)return!1;if(t)return E(this,Sr,setTimeout(()=>{E(this,Sr,null),x(this,Di,yc).call(this,!1)},lk)),!1;for(const{renderTasks:e,operatorList:i}of this._intentStates.values())if(e.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),E(this,la,!1),!0},ug=function(){d(this,Sr)&&(clearTimeout(d(this,Sr)),E(this,Sr,null))};var ca,nm;class bk{constructor(){C(this,ca,new Map);C(this,nm,Promise.resolve())}postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};d(this,nm).then(()=>{for(const[a]of d(this,ca))a.call(this,i)})}addEventListener(t,e,i=null){let a=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:l}=i;if(l.aborted){jt("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(t,e);a=()=>l.removeEventListener("abort",c),l.addEventListener("abort",c)}d(this,ca).set(e,a)}removeEventListener(t,e){const i=d(this,ca).get(e);i==null||i(),d(this,ca).delete(e)}terminate(){for(const[,t]of d(this,ca))t==null||t();d(this,ca).clear()}}ca=new WeakMap,nm=new WeakMap;var im,Vo,Xo,Wc,hg,Qc,dg;const de=class de{constructor({name:t=null,port:e=null,verbosity:i=WL()}={}){C(this,Wc);var a;if(this.name=t,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((a=d(de,Xo))!=null&&a.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(d(de,Xo)||E(de,Xo,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return Sn?Promise.all([jr.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new Vh("main","worker",t),this._messageHandler.on("ready",function(){}),x(this,Wc,hg).call(this)}_initialize(){if(d(de,Vo)||d(de,Qc,dg)){this._setupFakeWorker();return}let{workerSrc:t}=de;try{de._isSameOrigin(window.location.href,t)||(t=de._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new Vh("main","worker",e),a=()=>{l.abort(),i.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},l=new AbortController;e.addEventListener("error",()=>{this._webWorker||a()},{signal:l.signal}),i.on("test",h=>{if(l.abort(),this.destroyed||!h){a();return}this._messageHandler=i,this._port=e,this._webWorker=e,x(this,Wc,hg).call(this)}),i.on("ready",h=>{if(l.abort(),this.destroyed){a();return}try{c()}catch{this._setupFakeWorker()}});const c=()=>{const h=new Uint8Array;i.send("test",h,[h.buffer])};c();return}catch{Am("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){d(de,Vo)||(jt("Setting up fake worker."),E(de,Vo,!0)),de._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new bk;this._port=e;const i=`fake${wn(de,im)._++}`,a=new Vh(i+"_worker",i,e);t.setup(a,e),this._messageHandler=new Vh(i,i+"_worker",e),x(this,Wc,hg).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=d(de,Xo))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var i;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(i=d(this,Xo))==null?void 0:i.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new de(t)}static get workerSrc(){if(xa.workerSrc)return xa.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return qt(this,"_setupFakeWorkerGlobal",(async()=>d(this,Qc,dg)?d(this,Qc,dg):(await import(this.workerSrc)).WorkerMessageHandler)())}};im=new WeakMap,Vo=new WeakMap,Xo=new WeakMap,Wc=new WeakSet,hg=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Qc=new WeakSet,dg=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},C(de,Qc),C(de,im,0),C(de,Vo,!1),C(de,Xo),Sn&&(E(de,Vo,!0),xa.workerSrc||(xa.workerSrc="./pdf.worker.mjs")),de._isSameOrigin=(t,e)=>{let i;try{if(i=new URL(t),!i.origin||i.origin==="null")return!1}catch{return!1}const a=new URL(e,i);return i.origin===a.origin},de._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let _c=de;var ua,Es,Zc,Jc,ws,Yo,Xh;class vk{constructor(t,e,i,a,l){C(this,Yo);C(this,ua,new Map);C(this,Es,new Map);C(this,Zc,new Map);C(this,Jc,new Map);C(this,ws,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new wT,this.fontLoader=new mN({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return qt(this,"annotationStorage",new oA)}getRenderingIntent(t,e=ar.ENABLE,i=null,a=!1,l=!1){let c=ai.DISPLAY,h=Kv;switch(t){case"any":c=ai.ANY;break;case"display":break;case"print":c=ai.PRINT;break;default:jt(`getRenderingIntent - invalid intent: ${t}`)}const f=c&ai.PRINT&&i instanceof eT?i:this.annotationStorage;switch(e){case ar.DISABLE:c+=ai.ANNOTATIONS_DISABLE;break;case ar.ENABLE:break;case ar.ENABLE_FORMS:c+=ai.ANNOTATIONS_FORMS;break;case ar.ENABLE_STORAGE:c+=ai.ANNOTATIONS_STORAGE,h=f.serializable;break;default:jt(`getRenderingIntent - invalid annotationMode: ${e}`)}a&&(c+=ai.IS_EDITING),l&&(c+=ai.OPLIST);const{ids:g,hash:m}=f.modifiedIds,b=[c,h.hash,m];return{renderingIntent:c,cacheKey:b.join("_"),annotationStorageSerializable:h,modifiedIds:g}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=d(this,ws))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const a of d(this,Es).values())t.push(a._destroy());d(this,Es).clear(),d(this,Zc).clear(),d(this,Jc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var a;this.commonObjs.clear(),this.fontLoader.clear(),d(this,ua).clear(),this.filterFactory.destroy(),s0.cleanup(),(a=this._networkStream)==null||a.cancelAllRequests(new Cl("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,a)=>{Ie(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},a.onPull=()=>{this._fullReader.read().then(function({value:l,done:c}){if(c){a.close();return}Ie(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{a.error(l)})},a.onCancel=l=>{this._fullReader.cancel(l),a.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("ReaderHeadersReady",async i=>{var h;await this._fullReader.headersReady;const{isStreamingSupported:a,isRangeSupported:l,contentLength:c}=this._fullReader;return(!a||!l)&&(this._lastProgress&&((h=e.onProgress)==null||h.call(e,this._lastProgress)),this._fullReader.onProgress=f=>{var g;(g=e.onProgress)==null||g.call(e,{loaded:f.loaded,total:f.total})}),{isStreamingSupported:a,isRangeSupported:l,contentLength:c}}),t.on("GetRangeReader",(i,a)=>{Ie(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(i.begin,i.end);if(!l){a.close();return}a.onPull=()=>{l.read().then(function({value:c,done:h}){if(h){a.close();return}Ie(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{a.error(c)})},a.onCancel=c=>{l.cancel(c),a.ready.catch(h=>{if(!this.destroyed)throw h})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new mk(i,this))}),t.on("DocException",function(i){let a;switch(i.name){case"PasswordException":a=new Cv(i.message,i.code);break;case"InvalidPDFException":a=new Cx(i.message);break;case"MissingPDFException":a=new Tl(i.message);break;case"UnexpectedResponseException":a=new Sm(i.message,i.status);break;case"UnknownErrorException":a=new Rv(i.message,i.details);break;default:he("DocException - expected a valid Error.")}e._capability.reject(a)}),t.on("PasswordRequest",i=>{if(E(this,ws,Promise.withResolvers()),e.onPassword){const a=l=>{l instanceof Error?d(this,ws).reject(l):d(this,ws).resolve({password:l})};try{e.onPassword(a,i.code)}catch(l){d(this,ws).reject(l)}}else d(this,ws).reject(new Cv(i.message,i.code));return d(this,ws).promise}),t.on("DataLoaded",i=>{var a;(a=e.onProgress)==null||a.call(e,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;d(this,Es).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,a,l])=>{var c;if(this.destroyed||this.commonObjs.has(i))return null;switch(a){case"Font":const{disableFontFace:h,fontExtraProperties:f,pdfBug:g}=this._params;if("error"in l){const A=l.error;jt(`Error during font loading: ${A}`),this.commonObjs.resolve(i,A);break}const m=g&&((c=globalThis.FontInspector)!=null&&c.enabled)?(A,S)=>globalThis.FontInspector.fontAdded(A,S):null,b=new yN(l,{disableFontFace:h,inspectFont:m});this.fontLoader.bind(b).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!f&&b.data&&(b.data=null),this.commonObjs.resolve(i,b)});break;case"CopyLocalImage":const{imageRef:v}=l;Ie(v,"The imageRef must be defined.");for(const A of d(this,Es).values())for(const[,S]of A.objs)if((S==null?void 0:S.ref)===v)return S.dataLen?(this.commonObjs.resolve(i,structuredClone(S)),S.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,l);break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),t.on("obj",([i,a,l,c])=>{var f;if(this.destroyed)return;const h=d(this,Es).get(a);if(!h.objs.has(i)){if(h._intentStates.size===0){(f=c==null?void 0:c.bitmap)==null||f.close();return}switch(l){case"Image":h.objs.resolve(i,c),(c==null?void 0:c.dataLen)>VL&&(h._maybeCleanupAfterRender=!0);break;case"Pattern":h.objs.resolve(i,c);break;default:throw new Error(`Got unknown object type ${l}`)}}}),t.on("DocProgress",i=>{var a;this.destroyed||(a=e.onProgress)==null||a.call(e,{loaded:i.loaded,total:i.total})}),t.on("FetchBuiltInCMap",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(i)}),t.on("FetchStandardFontData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&jt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((i=this._fullReader)==null?void 0:i.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=d(this,Zc).get(e);if(i)return i;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&d(this,Jc).set(l.refStr,t);const c=new yk(e,l,this,this._params.pdfBug);return d(this,Es).set(e,c),c});return d(this,Zc).set(e,a),a}getPageIndex(t){return p1(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return x(this,Yo,Xh).call(this,"GetFieldObjects")}hasJSActions(){return x(this,Yo,Xh).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return x(this,Yo,Xh).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return x(this,Yo,Xh).call(this,"GetOptionalContentConfig").then(e=>new zN(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=d(this,ua).get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(a=>{var l,c;return{info:a[0],metadata:a[1]?new FN(a[1]):null,contentDispositionFilename:((l=this._fullReader)==null?void 0:l.filename)??null,contentLength:((c=this._fullReader)==null?void 0:c.contentLength)??null}});return d(this,ua).set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of d(this,Es).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),d(this,ua).clear(),this.filterFactory.destroy(!0),s0.cleanup()}}cachedPageNumber(t){if(!p1(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return d(this,Jc).get(e)??null}}ua=new WeakMap,Es=new WeakMap,Zc=new WeakMap,Jc=new WeakMap,ws=new WeakMap,Yo=new WeakSet,Xh=function(t,e=null){const i=d(this,ua).get(t);if(i)return i;const a=this.messageHandler.sendWithPromise(t,e);return d(this,ua).set(t,a),a};const Kp=Symbol("INITIAL_DATA");var Xi,qd,l0;class wT{constructor(){C(this,qd);C(this,Xi,Object.create(null))}get(t,e=null){if(e){const a=x(this,qd,l0).call(this,t);return a.promise.then(()=>e(a.data)),null}const i=d(this,Xi)[t];if(!i||i.data===Kp)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=d(this,Xi)[t];return!!e&&e.data!==Kp}resolve(t,e=null){const i=x(this,qd,l0).call(this,t);i.data=e,i.resolve()}clear(){var t;for(const e in d(this,Xi)){const{data:i}=d(this,Xi)[e];(t=i==null?void 0:i.bitmap)==null||t.close()}E(this,Xi,Object.create(null))}*[Symbol.iterator](){for(const t in d(this,Xi)){const{data:e}=d(this,Xi)[t];e!==Kp&&(yield[t,e])}}}Xi=new WeakMap,qd=new WeakSet,l0=function(t){var e;return(e=d(this,Xi))[t]||(e[t]={...Promise.withResolvers(),data:Kp})};var _r;class Ak{constructor(t){C(this,_r,null);E(this,_r,t),this.onContinue=null}get promise(){return d(this,_r).capability.promise}cancel(t=0){d(this,_r).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=d(this,_r).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=d(this,_r);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}_r=new WeakMap;var Er,$o;const bo=class bo{constructor({callback:t,params:e,objs:i,commonObjs:a,annotationCanvasMap:l,operatorList:c,pageIndex:h,canvasFactory:f,filterFactory:g,useRequestAnimationFrame:m=!1,pdfBug:b=!1,pageColors:v=null}){C(this,Er,null);this.callback=t,this.params=e,this.objs=i,this.commonObjs=a,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=h,this.canvasFactory=f,this.filterFactory=g,this._pdfBug=b,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Ak(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var h,f;if(this.cancelled)return;if(this._canvas){if(d(bo,$o).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");d(bo,$o).add(this._canvas)}this._pdfBug&&((h=globalThis.StepperManager)!=null&&h.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:a,transform:l,background:c}=this.params;this.gfx=new Sc(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:a,transparency:t,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,(f=this.graphicsReadyCallback)==null||f.call(this)}cancel(t=null,e=0){var i;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),d(this,Er)&&(window.cancelAnimationFrame(d(this,Er)),E(this,Er,null)),d(bo,$o).delete(this._canvas),this.callback(t||new iA(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?E(this,Er,window.requestAnimationFrame(()=>{E(this,Er,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),d(bo,$o).delete(this._canvas),this.callback())))}};Er=new WeakMap,$o=new WeakMap,C(bo,$o,new WeakSet);let c0=bo;const Sk="4.8.69",_k="3634dab10";function g1(o){return Math.floor(Math.max(0,Math.min(1,o))*255).toString(16).padStart(2,"0")}function jh(o){return Math.max(0,Math.min(255,255*o))}class m1{static CMYK_G([t,e,i,a]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+a)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=jh(t),[t,t,t]}static G_HTML([t]){const e=g1(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(jh)}static RGB_HTML(t){return`#${t.map(g1).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,a]){return["RGB",1-Math.min(1,t+a),1-Math.min(1,i+a),1-Math.min(1,e+a)]}static CMYK_rgb([t,e,i,a]){return[jh(1-Math.min(1,t+a)),jh(1-Math.min(1,i+a)),jh(1-Math.min(1,e+a))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const a=1-t,l=1-e,c=1-i,h=Math.min(a,l,c);return["CMYK",a,l,c,h]}}class Ek{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),i||(a.setAttribute("width",`${t}px`),a.setAttribute("height",`${e}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${t} ${e}`),a}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){he("Abstract method `_createSVG` called.")}}class dA extends Ek{_createSVG(t){return document.createElementNS(Zs,t)}}class xT{static setupStorage(t,e,i,a,l){const c=a.getValue(e,{value:null});switch(i.name){case"textarea":if(c.value!==null&&(t.textContent=c.value),l==="print")break;t.addEventListener("input",h=>{a.setValue(e,{value:h.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(c.value===i.attributes.xfaOn?t.setAttribute("checked",!0):c.value===i.attributes.xfaOff&&t.removeAttribute("checked"),l==="print")break;t.addEventListener("change",h=>{a.setValue(e,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&t.setAttribute("value",c.value),l==="print")break;t.addEventListener("input",h=>{a.setValue(e,{value:h.target.value})})}break;case"select":if(c.value!==null){t.setAttribute("value",c.value);for(const h of i.children)h.attributes.value===c.value?h.attributes.selected=!0:h.attributes.hasOwnProperty("selected")&&delete h.attributes.selected}t.addEventListener("input",h=>{const f=h.target.options,g=f.selectedIndex===-1?"":f[f.selectedIndex].value;a.setValue(e,{value:g})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:a,linkService:l}){const{attributes:c}=e,h=t instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${a}`);for(const[f,g]of Object.entries(c))if(g!=null)switch(f){case"class":g.length&&t.setAttribute(f,g.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",g);break;case"style":Object.assign(t.style,g);break;case"textContent":t.textContent=g;break;default:(!h||f!=="href"&&f!=="newWindow")&&t.setAttribute(f,g)}h&&l.addLinkAttributes(t,c.href,c.newWindow),i&&c.dataId&&this.setupStorage(t,c.dataId,e,i)}static render(t){var b,v;const e=t.annotationStorage,i=t.linkService,a=t.xfaHtml,l=t.intent||"display",c=document.createElement(a.name);a.attributes&&this.setAttributes({html:c,element:a,intent:l,linkService:i});const h=l!=="richText",f=t.div;if(f.append(c),t.viewport){const A=`matrix(${t.viewport.transform.join(",")})`;f.style.transform=A}h&&f.setAttribute("class","xfaLayer xfaFont");const g=[];if(a.children.length===0){if(a.value){const A=document.createTextNode(a.value);c.append(A),h&&rd.shouldBuildText(a.name)&&g.push(A)}return{textDivs:g}}const m=[[a,-1,c]];for(;m.length>0;){const[A,S,w]=m.at(-1);if(S+1===A.children.length){m.pop();continue}const M=A.children[++m.at(-1)[1]];if(M===null)continue;const{name:T}=M;if(T==="#text"){const O=document.createTextNode(M.value);g.push(O),w.append(O);continue}const P=(b=M==null?void 0:M.attributes)!=null&&b.xmlns?document.createElementNS(M.attributes.xmlns,T):document.createElement(T);if(w.append(P),M.attributes&&this.setAttributes({html:P,element:M,storage:e,intent:l,linkService:i}),((v=M.children)==null?void 0:v.length)>0)m.push([M,-1,P]);else if(M.value){const O=document.createTextNode(M.value);h&&rd.shouldBuildText(T)&&g.push(O),P.append(O)}}for(const A of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))A.setAttribute("readOnly",!0);return{textDivs:g}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Mf=1e3,wk=9,_l=new WeakSet;function Ca(o){return{width:o[2]-o[0],height:o[3]-o[1]}}class xk{static create(t){switch(t.data.annotationType){case Fe.LINK:return new TT(t);case Fe.TEXT:return new Tk(t);case Fe.WIDGET:switch(t.data.fieldType){case"Tx":return new Ck(t);case"Btn":return t.data.radioButton?new MT(t):t.data.checkBox?new Mk(t):new Dk(t);case"Ch":return new Ok(t);case"Sig":return new Rk(t)}return new Rl(t);case Fe.POPUP:return new h0(t);case Fe.FREETEXT:return new kT(t);case Fe.LINE:return new Nk(t);case Fe.SQUARE:return new kk(t);case Fe.CIRCLE:return new Pk(t);case Fe.POLYLINE:return new PT(t);case Fe.CARET:return new Fk(t);case Fe.INK:return new fA(t);case Fe.POLYGON:return new jk(t);case Fe.HIGHLIGHT:return new jT(t);case Fe.UNDERLINE:return new Hk(t);case Fe.SQUIGGLY:return new zk(t);case Fe.STRIKEOUT:return new Uk(t);case Fe.STAMP:return new FT(t);case Fe.FILEATTACHMENT:return new Ik(t);default:return new Re(t)}}}var Ko,tu,eu,Gd,u0;const AA=class AA{constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:a=!1}={}){C(this,Gd);C(this,Ko,null);C(this,tu,!1);C(this,eu,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),a&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:i}){return!!(t!=null&&t.str||e!=null&&e.str||i!=null&&i.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return AA._hasPopupData(this.data)}updateEdited(t){var i;if(!this.container)return;d(this,Ko)||E(this,Ko,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&x(this,Gd,u0).call(this,e),(i=d(this,eu))==null||i.popup.updateEdited(t)}resetEdited(){var t;d(this,Ko)&&(x(this,Gd,u0).call(this,d(this,Ko).rect),(t=d(this,eu))==null||t.popup.resetEdited(),E(this,Ko,null))}_createContainer(t){const{data:e,parent:{page:i,viewport:a}}=this,l=document.createElement("section");l.setAttribute("data-annotation-id",e.id),this instanceof Rl||(l.tabIndex=Mf);const{style:c}=l;if(c.zIndex=this.parent.zIndex++,e.alternativeText&&(l.title=e.alternativeText),e.noRotate&&l.classList.add("norotate"),!e.rect||this instanceof h0){const{rotation:w}=e;return!e.hasOwnCanvas&&w!==0&&this.setRotation(w,l),l}const{width:h,height:f}=Ca(e.rect);if(!t&&e.borderStyle.width>0){c.borderWidth=`${e.borderStyle.width}px`;const w=e.borderStyle.horizontalCornerRadius,M=e.borderStyle.verticalCornerRadius;if(w>0||M>0){const P=`calc(${w}px * var(--scale-factor)) / calc(${M}px * var(--scale-factor))`;c.borderRadius=P}else if(this instanceof MT){const P=`calc(${h}px * var(--scale-factor)) / calc(${f}px * var(--scale-factor))`;c.borderRadius=P}switch(e.borderStyle.style){case kh.SOLID:c.borderStyle="solid";break;case kh.DASHED:c.borderStyle="dashed";break;case kh.BEVELED:jt("Unimplemented border style: beveled");break;case kh.INSET:jt("Unimplemented border style: inset");break;case kh.UNDERLINE:c.borderBottomStyle="solid";break}const T=e.borderColor||null;T?(E(this,tu,!0),c.borderColor=yt.makeHexColor(T[0]|0,T[1]|0,T[2]|0)):c.borderWidth=0}const g=yt.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:m,pageHeight:b,pageX:v,pageY:A}=a.rawDims;c.left=`${100*(g[0]-v)/m}%`,c.top=`${100*(g[1]-A)/b}%`;const{rotation:S}=e;return e.hasOwnCanvas||S===0?(c.width=`${100*h/m}%`,c.height=`${100*f/b}%`):this.setRotation(S,l),l}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:a}=this.parent.viewport.rawDims,{width:l,height:c}=Ca(this.data.rect);let h,f;t%180===0?(h=100*l/i,f=100*c/a):(h=100*c/i,f=100*l/a),e.style.width=`${h}%`,e.style.height=`${f}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,a)=>{const l=a.detail[e],c=l[0],h=l.slice(1);a.target.style[i]=m1[`${c}_HTML`](h),this.annotationStorage.setValue(this.data.id,{[i]:m1[`${c}_rgb`](h)})};return qt(this,"_commonActions",{display:e=>{const{display:i}=e.detail,a=i%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const a of Object.keys(e.detail)){const l=t[a]||i[a];l==null||l(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[a,l]of Object.entries(e)){const c=i[a];if(c){const h={detail:{[a]:l},target:t};c(h),delete e[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,a,l]=this.data.rect.map(w=>Math.fround(w));if(t.length===8){const[w,M,T,P]=t.subarray(2,6);if(a===w&&l===M&&e===T&&i===P)return}const{style:c}=this.container;let h;if(d(this,tu)){const{borderColor:w,borderWidth:M}=c;c.borderWidth=0,h=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${M}">`],this.container.classList.add("hasBorder")}const f=a-e,g=l-i,{svgFactory:m}=this,b=m.createElement("svg");b.classList.add("quadrilateralsContainer"),b.setAttribute("width",0),b.setAttribute("height",0);const v=m.createElement("defs");b.append(v);const A=m.createElement("clipPath"),S=`clippath_${this.data.id}`;A.setAttribute("id",S),A.setAttribute("clipPathUnits","objectBoundingBox"),v.append(A);for(let w=2,M=t.length;w<M;w+=8){const T=t[w],P=t[w+1],O=t[w+2],D=t[w+3],k=m.createElement("rect"),H=(O-e)/f,B=(l-P)/g,V=(T-O)/f,U=(P-D)/g;k.setAttribute("x",H),k.setAttribute("y",B),k.setAttribute("width",V),k.setAttribute("height",U),A.append(k),h==null||h.push(`<rect vector-effect="non-scaling-stroke" x="${H}" y="${B}" width="${V}" height="${U}"/>`)}d(this,tu)&&(h.push("</g></svg>')"),c.backgroundImage=h.join("")),this.container.append(b),this.container.style.clipPath=`url(#${S})`}_createPopup(){const{data:t}=this,e=E(this,eu,new h0({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){he("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const a=this._fieldObjects[t];if(a)for(const{page:l,id:c,exportValues:h}of a){if(l===-1||c===e)continue;const f=typeof h=="string"?h:null,g=document.querySelector(`[data-element-id="${c}"]`);if(g&&!_l.has(g)){jt(`_getElementsByName - element not allowed: ${c}`);continue}i.push({id:c,exportValue:f,domElement:g})}return i}for(const a of document.getElementsByName(t)){const{exportValue:l}=a,c=a.getAttribute("data-element-id");c!==e&&_l.has(a)&&i.push({id:c,exportValue:l,domElement:a})}return i}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};Ko=new WeakMap,tu=new WeakMap,eu=new WeakMap,Gd=new WeakSet,u0=function(t){const{container:{style:e},data:{rect:i,rotation:a},parent:{viewport:{rawDims:{pageWidth:l,pageHeight:c,pageX:h,pageY:f}}}}=this;i==null||i.splice(0,4,...t);const{width:g,height:m}=Ca(t);e.left=`${100*(t[0]-h)/l}%`,e.top=`${100*(c-t[3]+f)/c}%`,a===0?(e.width=`${100*g/l}%`,e.height=`${100*m/c}%`):this.setRotation(a)};let Re=AA;var ri,fo,CT,RT;class TT extends Re{constructor(e,i=null){super(e,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});C(this,ri);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:i}=this,a=document.createElement("a");a.setAttribute("data-element-id",e.id);let l=!1;return e.url?(i.addLinkAttributes(a,e.url,e.newWindow),l=!0):e.action?(this._bindNamedAction(a,e.action),l=!0):e.attachment?(x(this,ri,CT).call(this,a,e.attachment,e.attachmentDest),l=!0):e.setOCGState?(x(this,ri,RT).call(this,a,e.setOCGState),l=!0):e.dest?(this._bindLink(a,e.dest),l=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(a,e),l=!0),e.resetForm?(this._bindResetFormAction(a,e.resetForm),l=!0):this.isTooltipOnly&&!l&&(this._bindLink(a,""),l=!0)),this.container.classList.add("linkAnnotation"),l&&this.container.append(a),this.container}_bindLink(e,i){e.href=this.linkService.getDestinationHash(i),e.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&x(this,ri,fo).call(this)}_bindNamedAction(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(i),!1),x(this,ri,fo).call(this)}_bindJSAction(e,i){e.href=this.linkService.getAnchorUrl("");const a=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const l of Object.keys(i.actions)){const c=a.get(l);c&&(e[c]=()=>{var h;return(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:l}}),!1})}e.onclick||(e.onclick=()=>!1),x(this,ri,fo).call(this)}_bindResetFormAction(e,i){const a=e.onclick;if(a||(e.href=this.linkService.getAnchorUrl("")),x(this,ri,fo).call(this),!this._fieldObjects){jt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),a||(e.onclick=()=>!1);return}e.onclick=()=>{var b;a==null||a();const{fields:l,refs:c,include:h}=i,f=[];if(l.length!==0||c.length!==0){const v=new Set(c);for(const A of l){const S=this._fieldObjects[A]||[];for(const{id:w}of S)v.add(w)}for(const A of Object.values(this._fieldObjects))for(const S of A)v.has(S.id)===h&&f.push(S)}else for(const v of Object.values(this._fieldObjects))f.push(...v);const g=this.annotationStorage,m=[];for(const v of f){const{id:A}=v;switch(m.push(A),v.type){case"text":{const w=v.defaultValue||"";g.setValue(A,{value:w});break}case"checkbox":case"radiobutton":{const w=v.defaultValue===v.exportValues;g.setValue(A,{value:w});break}case"combobox":case"listbox":{const w=v.defaultValue||"";g.setValue(A,{value:w});break}default:continue}const S=document.querySelector(`[data-element-id="${A}"]`);if(S){if(!_l.has(S)){jt(`_bindResetFormAction - element not allowed: ${A}`);continue}}else continue;S.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:m,name:"ResetForm"}})),!1}}}ri=new WeakSet,fo=function(){this.container.setAttribute("data-internal-link","")},CT=function(e,i,a=null){e.href=this.linkService.getAnchorUrl(""),i.description&&(e.title=i.description),e.onclick=()=>{var l;return(l=this.downloadManager)==null||l.openOrDownloadData(i.content,i.filename,a),!1},x(this,ri,fo).call(this)},RT=function(e,i){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(i),!1),x(this,ri,fo).call(this)};class Tk extends Re{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Rl extends Re{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Rn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,a,l){i.includes("mouse")?t.addEventListener(i,c=>{var h;(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:l(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(i,c=>{var h;if(i==="blur"){if(!e.focused||!c.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}l&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:l(c)}}))})}_setEventListeners(t,e,i,a){var l,c,h;for(const[f,g]of i)(g==="Action"||(l=this.data.actions)!=null&&l[g])&&((g==="Focus"||g==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,f,g,a),g==="Focus"&&!((c=this.data.actions)!=null&&c.Blur)?this._setEventListener(t,e,"blur","Blur",null):g==="Blur"&&!((h=this.data.actions)!=null&&h.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":yt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||wk,l=t.style;let c;const h=2,f=g=>Math.round(10*g)/10;if(this.data.multiLine){const g=Math.abs(this.data.rect[3]-this.data.rect[1]-h),m=Math.round(g/(iv*a))||1,b=g/m;c=Math.min(a,f(b/iv))}else{const g=Math.abs(this.data.rect[3]-this.data.rect[1]-h);c=Math.min(a,f(g/iv))}l.fontSize=`calc(${c}px * var(--scale-factor))`,l.color=yt.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(l.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class Ck extends Rl{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,a){const l=this.annotationStorage;for(const c of this._getElementsByName(t.name,t.id))c.domElement&&(c.domElement[e]=i),l.setValue(c.id,{[a]:i})}render(){var a,l;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const c=t.getValue(e,{value:this.data.fieldValue});let h=c.value||"";const f=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;f&&h.length>f&&(h=h.slice(0,f));let g=c.formattedValue||((a=this.data.textContent)==null?void 0:a.join(`
`))||null;g&&this.data.comb&&(g=g.replaceAll(/\s+/g,""));const m={userValue:h,formattedValue:g,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=g??h,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",g??h),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),_l.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=Mf,this._setRequired(i,this.data.required),f&&(i.maxLength=f),i.addEventListener("input",v=>{t.setValue(e,{value:v.target.value}),this.setPropertyOnSiblings(i,"value",v.target.value,"value"),m.formattedValue=null}),i.addEventListener("resetform",v=>{const A=this.data.defaultFieldValue??"";i.value=m.userValue=A,m.formattedValue=null});let b=v=>{const{formattedValue:A}=m;A!=null&&(v.target.value=A),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",A=>{var w;if(m.focused)return;const{target:S}=A;m.userValue&&(S.value=m.userValue),m.lastCommittedValue=S.value,m.commitKey=1,(w=this.data.actions)!=null&&w.Focus||(m.focused=!0)}),i.addEventListener("updatefromsandbox",A=>{this.showElementAndHideCanvas(A.target);const S={value(w){m.userValue=w.detail.value??"",t.setValue(e,{value:m.userValue.toString()}),w.target.value=m.userValue},formattedValue(w){const{formattedValue:M}=w.detail;m.formattedValue=M,M!=null&&w.target!==document.activeElement&&(w.target.value=M),t.setValue(e,{formattedValue:M})},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{var O;const{charLimit:M}=w.detail,{target:T}=w;if(M===0){T.removeAttribute("maxLength");return}T.setAttribute("maxLength",M);let P=m.userValue;!P||P.length<=M||(P=P.slice(0,M),T.value=m.userValue=P,t.setValue(e,{value:P}),(O=this.linkService.eventBus)==null||O.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:P,willCommit:!0,commitKey:1,selStart:T.selectionStart,selEnd:T.selectionEnd}}))}};this._dispatchEventFromSandbox(S,A)}),i.addEventListener("keydown",A=>{var M;m.commitKey=1;let S=-1;if(A.key==="Escape"?S=0:A.key==="Enter"&&!this.data.multiLine?S=2:A.key==="Tab"&&(m.commitKey=3),S===-1)return;const{value:w}=A.target;m.lastCommittedValue!==w&&(m.lastCommittedValue=w,m.userValue=w,(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:w,willCommit:!0,commitKey:S,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}))});const v=b;b=null,i.addEventListener("blur",A=>{var w,M;if(!m.focused||!A.relatedTarget)return;(w=this.data.actions)!=null&&w.Blur||(m.focused=!1);const{value:S}=A.target;m.userValue=S,m.lastCommittedValue!==S&&((M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:S,willCommit:!0,commitKey:m.commitKey,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}})),v(A)}),(l=this.data.actions)!=null&&l.Keystroke&&i.addEventListener("beforeinput",A=>{var k;m.lastCommittedValue=null;const{data:S,target:w}=A,{value:M,selectionStart:T,selectionEnd:P}=w;let O=T,D=P;switch(A.inputType){case"deleteWordBackward":{const H=M.substring(0,T).match(/\w*[^\w]*$/);H&&(O-=H[0].length);break}case"deleteWordForward":{const H=M.substring(T).match(/^[^\w]*\w*/);H&&(D+=H[0].length);break}case"deleteContentBackward":T===P&&(O-=1);break;case"deleteContentForward":T===P&&(D+=1);break}A.preventDefault(),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:M,change:S||"",willCommit:!1,selStart:O,selEnd:D}})}),this._setEventListeners(i,m,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.value)}if(b&&i.addEventListener("blur",b),this.data.comb){const A=(this.data.rect[2]-this.data.rect[0])/f;i.classList.add("comb"),i.style.letterSpacing=`calc(${A}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Rk extends Rl{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class Mk extends Rl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let a=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",t.setValue(i,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const l=document.createElement("input");return _l.add(l),l.setAttribute("data-element-id",i),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="checkbox",l.name=e.fieldName,a&&l.setAttribute("checked",!0),l.setAttribute("exportValue",e.exportValue),l.tabIndex=Mf,l.addEventListener("change",c=>{const{name:h,checked:f}=c.target;for(const g of this._getElementsByName(h,i)){const m=f&&g.exportValue===e.exportValue;g.domElement&&(g.domElement.checked=m),t.setValue(g.id,{value:m})}t.setValue(i,{value:f})}),l.addEventListener("resetform",c=>{const h=e.defaultFieldValue||"Off";c.target.checked=h===e.exportValue}),this.enableScripting&&this.hasJSActions&&(l.addEventListener("updatefromsandbox",c=>{const h={value(f){f.target.checked=f.detail.value!=="Off",t.setValue(i,{value:f.target.checked})}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class MT extends Rl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let a=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof a=="string"&&(a=a!==e.buttonValue,t.setValue(i,{value:a})),a)for(const c of this._getElementsByName(e.fieldName,i))t.setValue(c.id,{value:!1});const l=document.createElement("input");if(_l.add(l),l.setAttribute("data-element-id",i),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=e.fieldName,a&&l.setAttribute("checked",!0),l.tabIndex=Mf,l.addEventListener("change",c=>{const{name:h,checked:f}=c.target;for(const g of this._getElementsByName(h,i))t.setValue(g.id,{value:!1});t.setValue(i,{value:f})}),l.addEventListener("resetform",c=>{const h=e.defaultFieldValue;c.target.checked=h!=null&&h===e.buttonValue}),this.enableScripting&&this.hasJSActions){const c=e.buttonValue;l.addEventListener("updatefromsandbox",h=>{const f={value:g=>{const m=c===g.detail.value;for(const b of this._getElementsByName(g.target.name)){const v=m&&b.id===i;b.domElement&&(b.domElement.checked=v),t.setValue(b.id,{value:v})}}};this._dispatchEventFromSandbox(f,h)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class Dk extends TT{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class Ok extends Rl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),a=document.createElement("select");_l.add(a),a.setAttribute("data-element-id",e),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=Mf;let l=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",m=>{const b=this.data.defaultFieldValue;for(const v of a.options)v.selected=v.value===b});for(const m of this.data.options){const b=document.createElement("option");b.textContent=m.displayValue,b.value=m.exportValue,i.value.includes(m.exportValue)&&(b.setAttribute("selected",!0),l=!1),a.append(b)}let c=null;if(l){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),a.prepend(m),c=()=>{m.remove(),a.removeEventListener("input",c),c=null},a.addEventListener("input",c)}const h=m=>{const b=m?"value":"textContent",{options:v,multiple:A}=a;return A?Array.prototype.filter.call(v,S=>S.selected).map(S=>S[b]):v.selectedIndex===-1?null:v[v.selectedIndex][b]};let f=h(!1);const g=m=>{const b=m.target.options;return Array.prototype.map.call(b,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",m=>{const b={value(v){c==null||c();const A=v.detail.value,S=new Set(Array.isArray(A)?A:[A]);for(const w of a.options)w.selected=S.has(w.value);t.setValue(e,{value:h(!0)}),f=h(!1)},multipleSelection(v){a.multiple=!0},remove(v){const A=a.options,S=v.detail.remove;A[S].selected=!1,a.remove(S),A.length>0&&Array.prototype.findIndex.call(A,M=>M.selected)===-1&&(A[0].selected=!0),t.setValue(e,{value:h(!0),items:g(v)}),f=h(!1)},clear(v){for(;a.length!==0;)a.remove(0);t.setValue(e,{value:null,items:[]}),f=h(!1)},insert(v){const{index:A,displayValue:S,exportValue:w}=v.detail.insert,M=a.children[A],T=document.createElement("option");T.textContent=S,T.value=w,M?M.before(T):a.append(T),t.setValue(e,{value:h(!0),items:g(v)}),f=h(!1)},items(v){const{items:A}=v.detail;for(;a.length!==0;)a.remove(0);for(const S of A){const{displayValue:w,exportValue:M}=S,T=document.createElement("option");T.textContent=w,T.value=M,a.append(T)}a.options.length>0&&(a.options[0].selected=!0),t.setValue(e,{value:h(!0),items:g(v)}),f=h(!1)},indices(v){const A=new Set(v.detail.indices);for(const S of v.target.options)S.selected=A.has(S.index);t.setValue(e,{value:h(!0)}),f=h(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(b,m)}),a.addEventListener("input",m=>{var A;const b=h(!0),v=h(!1);t.setValue(e,{value:b}),m.preventDefault(),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:f,change:v,changeEx:b,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):a.addEventListener("input",function(m){t.setValue(e,{value:h(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class h0 extends Re{constructor(t){const{data:e,elements:i}=t;super(t,{isRenderable:Re._hasPopupData(e)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new Lk({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",e.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(i=>`${nA}${i}`).join(",")),this.container}}var nu,sm,am,iu,Wo,_e,ha,su,Vd,Xd,au,da,Yi,fa,Yd,pa,$d,Qo,Zo,ie,fg,d0,DT,OT,LT,NT,pg,gg,f0;class Lk{constructor({container:t,color:e,elements:i,titleObj:a,modificationDate:l,contentsObj:c,richText:h,parent:f,rect:g,parentRect:m,open:b}){C(this,ie);C(this,nu,x(this,ie,LT).bind(this));C(this,sm,x(this,ie,f0).bind(this));C(this,am,x(this,ie,gg).bind(this));C(this,iu,x(this,ie,pg).bind(this));C(this,Wo,null);C(this,_e,null);C(this,ha,null);C(this,su,null);C(this,Vd,null);C(this,Xd,null);C(this,au,null);C(this,da,!1);C(this,Yi,null);C(this,fa,null);C(this,Yd,null);C(this,pa,null);C(this,$d,null);C(this,Qo,null);C(this,Zo,!1);var v;E(this,_e,t),E(this,$d,a),E(this,ha,c),E(this,pa,h),E(this,Xd,f),E(this,Wo,e),E(this,Yd,g),E(this,au,m),E(this,Vd,i),E(this,su,aA.toDateObject(l)),this.trigger=i.flatMap(A=>A.getElementsToTriggerPopup());for(const A of this.trigger)A.addEventListener("click",d(this,iu)),A.addEventListener("mouseenter",d(this,am)),A.addEventListener("mouseleave",d(this,sm)),A.classList.add("popupTriggerArea");for(const A of i)(v=A.container)==null||v.addEventListener("keydown",d(this,nu));d(this,_e).hidden=!0,b&&x(this,ie,pg).call(this)}render(){if(d(this,Yi))return;const t=E(this,Yi,document.createElement("div"));if(t.className="popup",d(this,Wo)){const l=t.style.outlineColor=yt.makeHexColor(...d(this,Wo));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${l} 30%, white)`:t.style.backgroundColor=yt.makeHexColor(...d(this,Wo).map(h=>Math.floor(.7*(255-h)+h)))}const e=document.createElement("span");e.className="header";const i=document.createElement("h1");if(e.append(i),{dir:i.dir,str:i.textContent}=d(this,$d),t.append(e),d(this,su)){const l=document.createElement("span");l.classList.add("popupDate"),l.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),l.setAttribute("data-l10n-args",JSON.stringify({dateObj:d(this,su).valueOf()})),e.append(l)}const a=d(this,ie,fg);if(a)xT.render({xfaHtml:a,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const l=this._formatContents(d(this,ha));t.append(l)}d(this,_e).append(t)}_formatContents({str:t,dir:e}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=e;const a=t.split(/(?:\r\n?|\n)/);for(let l=0,c=a.length;l<c;++l){const h=a[l];i.append(document.createTextNode(h)),l<c-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:t,popupContent:e}){var i;d(this,Qo)||E(this,Qo,{contentsObj:d(this,ha),richText:d(this,pa)}),t&&E(this,fa,null),e&&(E(this,pa,x(this,ie,OT).call(this,e)),E(this,ha,null)),(i=d(this,Yi))==null||i.remove(),E(this,Yi,null)}resetEdited(){var t;d(this,Qo)&&({contentsObj:wn(this,ha)._,richText:wn(this,pa)._}=d(this,Qo),E(this,Qo,null),(t=d(this,Yi))==null||t.remove(),E(this,Yi,null),E(this,fa,null))}forceHide(){E(this,Zo,this.isVisible),d(this,Zo)&&(d(this,_e).hidden=!0)}maybeShow(){d(this,Zo)&&(d(this,Yi)||x(this,ie,gg).call(this),E(this,Zo,!1),d(this,_e).hidden=!1)}get isVisible(){return d(this,_e).hidden===!1}}nu=new WeakMap,sm=new WeakMap,am=new WeakMap,iu=new WeakMap,Wo=new WeakMap,_e=new WeakMap,ha=new WeakMap,su=new WeakMap,Vd=new WeakMap,Xd=new WeakMap,au=new WeakMap,da=new WeakMap,Yi=new WeakMap,fa=new WeakMap,Yd=new WeakMap,pa=new WeakMap,$d=new WeakMap,Qo=new WeakMap,Zo=new WeakMap,ie=new WeakSet,fg=function(){const t=d(this,pa),e=d(this,ha);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&d(this,pa).html||null},d0=function(){var t,e,i;return((i=(e=(t=d(this,ie,fg))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.fontSize)||0},DT=function(){var t,e,i;return((i=(e=(t=d(this,ie,fg))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.color)||null},OT=function(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},a={style:{color:d(this,ie,DT),fontSize:d(this,ie,d0)?`calc(${d(this,ie,d0)}px * var(--scale-factor))`:""}};for(const l of t.split(`
`))e.push({name:"span",value:l,attributes:a});return i},LT=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&d(this,da))&&x(this,ie,pg).call(this)},NT=function(){if(d(this,fa)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:a,pageY:l}}}=d(this,Xd);let c=!!d(this,au),h=c?d(this,au):d(this,Yd);for(const S of d(this,Vd))if(!h||yt.intersect(S.data.rect,h)!==null){h=S.data.rect,c=!0;break}const f=yt.normalizeRect([h[0],t[3]-h[1]+t[1],h[2],t[3]-h[3]+t[1]]),m=c?h[2]-h[0]+5:0,b=f[0]+m,v=f[1];E(this,fa,[100*(b-a)/e,100*(v-l)/i]);const{style:A}=d(this,_e);A.left=`${d(this,fa)[0]}%`,A.top=`${d(this,fa)[1]}%`},pg=function(){E(this,da,!d(this,da)),d(this,da)?(x(this,ie,gg).call(this),d(this,_e).addEventListener("click",d(this,iu)),d(this,_e).addEventListener("keydown",d(this,nu))):(x(this,ie,f0).call(this),d(this,_e).removeEventListener("click",d(this,iu)),d(this,_e).removeEventListener("keydown",d(this,nu)))},gg=function(){d(this,Yi)||this.render(),this.isVisible?d(this,da)&&d(this,_e).classList.add("focused"):(x(this,ie,NT).call(this),d(this,_e).hidden=!1,d(this,_e).style.zIndex=parseInt(d(this,_e).style.zIndex)+1e3)},f0=function(){d(this,_e).classList.remove("focused"),!(d(this,da)||!this.isVisible)&&(d(this,_e).hidden=!0,d(this,_e).style.zIndex=parseInt(d(this,_e).style.zIndex)-1e3)};class kT extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Nt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Kd;class Nk extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});C(this,Kd,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:i,height:a}=Ca(e.rect),l=this.svgFactory.create(i,a,!0),c=E(this,Kd,this.svgFactory.createElement("svg:line"));return c.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),c.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),c.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),c.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),c.setAttribute("stroke-width",e.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Kd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Kd=new WeakMap;var Wd;class kk extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});C(this,Wd,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:i,height:a}=Ca(e.rect),l=this.svgFactory.create(i,a,!0),c=e.borderStyle.width,h=E(this,Wd,this.svgFactory.createElement("svg:rect"));return h.setAttribute("x",c/2),h.setAttribute("y",c/2),h.setAttribute("width",i-c),h.setAttribute("height",a-c),h.setAttribute("stroke-width",c||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Wd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Wd=new WeakMap;var Qd;class Pk extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});C(this,Qd,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:i,height:a}=Ca(e.rect),l=this.svgFactory.create(i,a,!0),c=e.borderStyle.width,h=E(this,Qd,this.svgFactory.createElement("svg:ellipse"));return h.setAttribute("cx",i/2),h.setAttribute("cy",a/2),h.setAttribute("rx",i/2-c/2),h.setAttribute("ry",a/2-c/2),h.setAttribute("stroke-width",c||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Qd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qd=new WeakMap;var Zd;class PT extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});C(this,Zd,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:i,borderStyle:a,popupRef:l}}=this;if(!i)return this.container;const{width:c,height:h}=Ca(e),f=this.svgFactory.create(c,h,!0);let g=[];for(let b=0,v=i.length;b<v;b+=2){const A=i[b]-e[0],S=e[3]-i[b+1];g.push(`${A},${S}`)}g=g.join(" ");const m=E(this,Zd,this.svgFactory.createElement(this.svgElementName));return m.setAttribute("points",g),m.setAttribute("stroke-width",a.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),f.append(m),this.container.append(f),!l&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,Zd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Zd=new WeakMap;class jk extends PT{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Fk extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Jd;class fA extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});C(this,Jd,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Nt.HIGHLIGHT:Nt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:i,borderStyle:a,popupRef:l}}=this,{width:c,height:h}=Ca(e),f=this.svgFactory.create(c,h,!0);for(const g of i){let m=[];for(let v=0,A=g.length;v<A;v+=2){const S=g[v]-e[0],w=e[3]-g[v+1];m.push(`${S},${w}`)}m=m.join(" ");const b=this.svgFactory.createElement(this.svgElementName);d(this,Jd).push(b),b.setAttribute("points",m),b.setAttribute("stroke-width",a.width||1),b.setAttribute("stroke","transparent"),b.setAttribute("fill","transparent"),f.append(b)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return d(this,Jd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Jd=new WeakMap;class jT extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Nt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class Hk extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class zk extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Uk extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class FT extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Nt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var tf,ef,p0;class Ik extends Re{constructor(e){var a;super(e,{isRenderable:!0});C(this,ef);C(this,tf,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(a=this.linkService.eventBus)==null||a.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:i}=this;let a;i.hasAppearance||i.fillAlpha===0?a=document.createElement("div"):(a=document.createElement("img"),a.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(a.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),a.addEventListener("dblclick",x(this,ef,p0).bind(this)),E(this,tf,a);const{isMac:l}=Rn.platform;return e.addEventListener("keydown",c=>{c.key==="Enter"&&(l?c.metaKey:c.ctrlKey)&&x(this,ef,p0).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():a.classList.add("popupTriggerArea"),e.append(a),e}getElementsToTriggerPopup(){return d(this,tf)}addHighlightArea(){this.container.classList.add("highlightArea")}}tf=new WeakMap,ef=new WeakSet,p0=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var nf,Jo,tl,sf,wl,HT,g0,k1;let Bk=(k1=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:a,page:l,viewport:c,structTreeLayer:h}){C(this,wl);C(this,nf,null);C(this,Jo,null);C(this,tl,new Map);C(this,sf,null);this.div=t,E(this,nf,e),E(this,Jo,i),E(this,sf,h||null),this.page=l,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=a}hasEditableAnnotations(){return d(this,tl).size>0}async render(t){var c;const{annotations:e}=t,i=this.div;Al(i,this.viewport);const a=new Map,l={data:null,layer:i,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new dA,annotationStorage:t.annotationStorage||new oA,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const h of e){if(h.noHTML)continue;const f=h.annotationType===Fe.POPUP;if(f){const b=a.get(h.id);if(!b)continue;l.elements=b}else{const{width:b,height:v}=Ca(h.rect);if(b<=0||v<=0)continue}l.data=h;const g=xk.create(l);if(!g.isRenderable)continue;if(!f&&h.popupRef){const b=a.get(h.popupRef);b?b.push(g):a.set(h.popupRef,[g])}const m=g.render();h.hidden&&(m.style.visibility="hidden"),await x(this,wl,HT).call(this,m,h.id),g._isEditable&&(d(this,tl).set(g.data.id,g),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(g))}x(this,wl,g0).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,Al(e,{rotation:t.rotation}),x(this,wl,g0).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(d(this,tl).values())}getEditableAnnotation(t){return d(this,tl).get(t)}},nf=new WeakMap,Jo=new WeakMap,tl=new WeakMap,sf=new WeakMap,wl=new WeakSet,HT=async function(t,e){var c,h;const i=t.firstChild||t,a=i.id=`${nA}${e}`,l=await((c=d(this,sf))==null?void 0:c.getAriaAttributes(a));if(l)for(const[f,g]of l)i.setAttribute(f,g);this.div.append(t),(h=d(this,nf))==null||h.moveElementInDOM(this.div,t,i,!1)},g0=function(){if(!d(this,Jo))return;const t=this.div;for(const[e,i]of d(this,Jo)){const a=t.querySelector(`[data-annotation-id="${e}"]`);if(!a)continue;i.className="annotationContent";const{firstChild:l}=a;l?l.nodeName==="CANVAS"?l.replaceWith(i):l.classList.contains("annotationContent")?l.after(i):l.before(i):a.append(i)}d(this,Jo).clear()},k1);const Wp=/\r\n?|\n/g;var $i,Jn,af,el,ti,ke,zT,UT,IT,mg,Ma,yg,bg,BT,y0,qT;const le=class le extends Jt{constructor(e){super({...e,name:"freeTextEditor"});C(this,ke);C(this,$i);C(this,Jn,"");C(this,af,`${this.id}-editor`);C(this,el,null);C(this,ti);E(this,$i,e.color||le._defaultColor||Jt._defaultLineColor),E(this,ti,e.fontSize||le._defaultFontSize)}static get _keyboardManager(){const e=le.prototype,i=c=>c.isEmpty(),a=Sl.TRANSLATE_SMALL,l=Sl.TRANSLATE_BIG;return qt(this,"_keyboardManager",new Rf([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-a,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-l,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[a,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[l,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-a],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-l],checker:i}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,a],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,l],checker:i}]]))}static initialize(e,i){Jt.initialize(e,i);const a=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(a.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,i){switch(e){case Tt.FREETEXT_SIZE:le._defaultFontSize=i;break;case Tt.FREETEXT_COLOR:le._defaultColor=i;break}}updateParams(e,i){switch(e){case Tt.FREETEXT_SIZE:x(this,ke,zT).call(this,i);break;case Tt.FREETEXT_COLOR:x(this,ke,UT).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Tt.FREETEXT_SIZE,le._defaultFontSize],[Tt.FREETEXT_COLOR,le._defaultColor||Jt._defaultLineColor]]}get propertiesToUpdate(){return[[Tt.FREETEXT_SIZE,d(this,ti)],[Tt.FREETEXT_COLOR,d(this,$i)]]}_translateEmpty(e,i){this._uiManager.translateSelectedEditors(e,i,!0)}getInitialTranslation(){const e=this.parentScale;return[-le._internalPadding*e,-(le._internalPadding+d(this,ti))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Nt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),E(this,el,new AbortController);const e=this._uiManager.combinedSignal(d(this,el));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",d(this,af)),this._isDraggable=!0,(e=d(this,el))==null||e.abort(),E(this,el,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=d(this,Jn),i=E(this,Jn,x(this,ke,IT).call(this).trimEnd());if(e===i)return;const a=l=>{if(E(this,Jn,l),!l){this.remove();return}x(this,ke,bg).call(this),this._uiManager.rebuild(this),x(this,ke,mg).call(this)};this.addCommands({cmd:()=>{a(i)},undo:()=>{a(e)},mustExec:!1}),x(this,ke,mg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){le._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,i;this.width&&(e=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",d(this,af)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:a}=this.editorDiv;if(a.fontSize=`calc(${d(this,ti)}px * var(--scale-factor))`,a.color=d(this,$i),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Hg(this,this.div,["dblclick","keydown"]),this.width){const[l,c]=this.parentDimensions;if(this.annotationElementId){const{position:h}=this._initialData;let[f,g]=this.getInitialTranslation();[f,g]=this.pageTranslationToScreen(f,g);const[m,b]=this.pageDimensions,[v,A]=this.pageTranslation;let S,w;switch(this.rotation){case 0:S=e+(h[0]-v)/m,w=i+this.height-(h[1]-A)/b;break;case 90:S=e+(h[0]-v)/m,w=i-(h[1]-A)/b,[f,g]=[g,-f];break;case 180:S=e-this.width+(h[0]-v)/m,w=i-(h[1]-A)/b,[f,g]=[-f,-g];break;case 270:S=e+(h[0]-v-this.height*b)/m,w=i+(h[1]-A-this.width*m)/b,[f,g]=[-g,f];break}this.setAt(S*l,w*c,f,g)}else this.setAt(e*l,i*c,this.width*l,this.height*c);x(this,ke,bg).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var S,w,M;const i=e.clipboardData||window.clipboardData,{types:a}=i;if(a.length===1&&a[0]==="text/plain")return;e.preventDefault();const l=x(S=le,Ma,y0).call(S,i.getData("text")||"").replaceAll(Wp,`
`);if(!l)return;const c=window.getSelection();if(!c.rangeCount)return;this.editorDiv.normalize(),c.deleteFromDocument();const h=c.getRangeAt(0);if(!l.includes(`
`)){h.insertNode(document.createTextNode(l)),this.editorDiv.normalize(),c.collapseToStart();return}const{startContainer:f,startOffset:g}=h,m=[],b=[];if(f.nodeType===Node.TEXT_NODE){const T=f.parentElement;if(b.push(f.nodeValue.slice(g).replaceAll(Wp,"")),T!==this.editorDiv){let P=m;for(const O of this.editorDiv.childNodes){if(O===T){P=b;continue}P.push(x(w=le,Ma,yg).call(w,O))}}m.push(f.nodeValue.slice(0,g).replaceAll(Wp,""))}else if(f===this.editorDiv){let T=m,P=0;for(const O of this.editorDiv.childNodes)P++===g&&(T=b),T.push(x(M=le,Ma,yg).call(M,O))}E(this,Jn,`${m.join(`
`)}${l}${b.join(`
`)}`),x(this,ke,bg).call(this);const v=new Range;let A=m.reduce((T,P)=>T+P.length,0);for(const{firstChild:T}of this.editorDiv.childNodes)if(T.nodeType===Node.TEXT_NODE){const P=T.nodeValue.length;if(A<=P){v.setStart(T,A),v.setEnd(T,A);break}A-=P}c.removeAllRanges(),c.addRange(v)}get contentDiv(){return this.editorDiv}static async deserialize(e,i,a){var h;let l=null;if(e instanceof kT){const{data:{defaultAppearanceData:{fontSize:f,fontColor:g},rect:m,rotation:b,id:v,popupRef:A},textContent:S,textPosition:w,parent:{page:{pageNumber:M}}}=e;if(!S||S.length===0)return null;l=e={annotationType:Nt.FREETEXT,color:Array.from(g),fontSize:f,value:S.join(`
`),position:w,pageIndex:M-1,rect:m.slice(0),rotation:b,id:v,deleted:!1,popupRef:A}}const c=await super.deserialize(e,i,a);return E(c,ti,e.fontSize),E(c,$i,yt.makeHexColor(...e.color)),E(c,Jn,x(h=le,Ma,y0).call(h,e.value)),c.annotationElementId=e.id||null,c._initialData=l,c}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=le._internalPadding*this.parentScale,a=this.getRect(i,i),l=Jt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:d(this,$i)),c={annotationType:Nt.FREETEXT,color:l,fontSize:d(this,ti),value:x(this,ke,BT).call(this),pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?c:this.annotationElementId&&!x(this,ke,qT).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(e){const i=super.renderAnnotationElement(e);if(this.deleted)return i;const{style:a}=i;a.fontSize=`calc(${d(this,ti)}px * var(--scale-factor))`,a.color=d(this,$i),i.replaceChildren();for(const c of d(this,Jn).split(`
`)){const h=document.createElement("div");h.append(c?document.createTextNode(c):document.createElement("br")),i.append(h)}const l=le._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(l,l),popupContent:d(this,Jn)}),i}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};$i=new WeakMap,Jn=new WeakMap,af=new WeakMap,el=new WeakMap,ti=new WeakMap,ke=new WeakSet,zT=function(e){const i=l=>{this.editorDiv.style.fontSize=`calc(${l}px * var(--scale-factor))`,this.translate(0,-(l-d(this,ti))*this.parentScale),E(this,ti,l),x(this,ke,mg).call(this)},a=d(this,ti);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},UT=function(e){const i=l=>{E(this,$i,this.editorDiv.style.color=l)},a=d(this,$i);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},IT=function(){var a;const e=[];this.editorDiv.normalize();let i=null;for(const l of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&l.nodeName==="BR"||(e.push(x(a=le,Ma,yg).call(a,l)),i=l);return e.join(`
`)},mg=function(){const[e,i]=this.parentDimensions;let a;if(this.isAttachedToDOM)a=this.div.getBoundingClientRect();else{const{currentLayer:l,div:c}=this,h=c.style.display,f=c.classList.contains("hidden");c.classList.remove("hidden"),c.style.display="hidden",l.div.append(this.div),a=c.getBoundingClientRect(),c.remove(),c.style.display=h,c.classList.toggle("hidden",f)}this.rotation%180===this.parentRotation%180?(this.width=a.width/e,this.height=a.height/i):(this.width=a.height/e,this.height=a.width/i),this.fixAndSetPosition()},Ma=new WeakSet,yg=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Wp,"")},bg=function(){if(this.editorDiv.replaceChildren(),!!d(this,Jn))for(const e of d(this,Jn).split(`
`)){const i=document.createElement("div");i.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(i)}},BT=function(){return d(this,Jn).replaceAll(" "," ")},y0=function(e){return e.replaceAll(" "," ")},qT=function(e){const{value:i,fontSize:a,color:l,pageIndex:c}=this._initialData;return this._hasBeenMoved||e.value!==i||e.fontSize!==a||e.color.some((h,f)=>h!==l[f])||e.pageIndex!==c},C(le,Ma),xt(le,"_freeTextDefaultContent",""),xt(le,"_internalPadding",0),xt(le,"_defaultColor",null),xt(le,"_defaultFontSize",10),xt(le,"_type","freetext"),xt(le,"_editorType",Nt.FREETEXT);let m0=le;class GT{toSVGPath(){he("Abstract method `toSVGPath` must be implemented.")}get box(){he("Abstract getter `box` must be implemented.")}serialize(t,e){he("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){he("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){he("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var ei,Ki,ru,ou,xs,Ht,nl,il,rf,of,lu,cu,wr,lf,rm,om,Be,Yh,VT,XT,YT,$T,KT,WT;const ta=class ta{constructor({x:t,y:e},i,a,l,c,h=0){C(this,Be);C(this,ei);C(this,Ki,[]);C(this,ru);C(this,ou);C(this,xs,[]);C(this,Ht,new Float64Array(18));C(this,nl);C(this,il);C(this,rf);C(this,of);C(this,lu);C(this,cu);C(this,wr,[]);E(this,ei,i),E(this,cu,l*a),E(this,ou,c),d(this,Ht).set([NaN,NaN,NaN,NaN,t,e],6),E(this,ru,h),E(this,of,d(ta,lf)*a),E(this,rf,d(ta,om)*a),E(this,lu,a),d(this,wr).push(t,e)}isEmpty(){return isNaN(d(this,Ht)[8])}add({x:t,y:e}){var U;E(this,nl,t),E(this,il,e);const[i,a,l,c]=d(this,ei);let[h,f,g,m]=d(this,Ht).subarray(8,12);const b=t-g,v=e-m,A=Math.hypot(b,v);if(A<d(this,rf))return!1;const S=A-d(this,of),w=S/A,M=w*b,T=w*v;let P=h,O=f;h=g,f=m,g+=M,m+=T,(U=d(this,wr))==null||U.push(t,e);const D=-T/S,k=M/S,H=D*d(this,cu),B=k*d(this,cu);return d(this,Ht).set(d(this,Ht).subarray(2,8),0),d(this,Ht).set([g+H,m+B],4),d(this,Ht).set(d(this,Ht).subarray(14,18),12),d(this,Ht).set([g-H,m-B],16),isNaN(d(this,Ht)[6])?(d(this,xs).length===0&&(d(this,Ht).set([h+H,f+B],2),d(this,xs).push(NaN,NaN,NaN,NaN,(h+H-i)/l,(f+B-a)/c),d(this,Ht).set([h-H,f-B],14),d(this,Ki).push(NaN,NaN,NaN,NaN,(h-H-i)/l,(f-B-a)/c)),d(this,Ht).set([P,O,h,f,g,m],6),!this.isEmpty()):(d(this,Ht).set([P,O,h,f,g,m],6),Math.abs(Math.atan2(O-f,P-h)-Math.atan2(T,M))<Math.PI/2?([h,f,g,m]=d(this,Ht).subarray(2,6),d(this,xs).push(NaN,NaN,NaN,NaN,((h+g)/2-i)/l,((f+m)/2-a)/c),[h,f,P,O]=d(this,Ht).subarray(14,18),d(this,Ki).push(NaN,NaN,NaN,NaN,((P+h)/2-i)/l,((O+f)/2-a)/c),!0):([P,O,h,f,g,m]=d(this,Ht).subarray(0,6),d(this,xs).push(((P+5*h)/6-i)/l,((O+5*f)/6-a)/c,((5*h+g)/6-i)/l,((5*f+m)/6-a)/c,((h+g)/2-i)/l,((f+m)/2-a)/c),[g,m,h,f,P,O]=d(this,Ht).subarray(12,18),d(this,Ki).push(((P+5*h)/6-i)/l,((O+5*f)/6-a)/c,((5*h+g)/6-i)/l,((5*f+m)/6-a)/c,((h+g)/2-i)/l,((f+m)/2-a)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const t=d(this,xs),e=d(this,Ki);if(isNaN(d(this,Ht)[6])&&!this.isEmpty())return x(this,Be,VT).call(this);const i=[];i.push(`M${t[4]} ${t[5]}`);for(let a=6;a<t.length;a+=6)isNaN(t[a])?i.push(`L${t[a+4]} ${t[a+5]}`):i.push(`C${t[a]} ${t[a+1]} ${t[a+2]} ${t[a+3]} ${t[a+4]} ${t[a+5]}`);x(this,Be,YT).call(this,i);for(let a=e.length-6;a>=6;a-=6)isNaN(e[a])?i.push(`L${e[a+4]} ${e[a+5]}`):i.push(`C${e[a]} ${e[a+1]} ${e[a+2]} ${e[a+3]} ${e[a+4]} ${e[a+5]}`);return x(this,Be,XT).call(this,i),i.join(" ")}newFreeDrawOutline(t,e,i,a,l,c){return new QT(t,e,i,a,l,c)}getOutlines(){var b;const t=d(this,xs),e=d(this,Ki),i=d(this,Ht),[a,l,c,h]=d(this,ei),f=new Float64Array((((b=d(this,wr))==null?void 0:b.length)??0)+2);for(let v=0,A=f.length-2;v<A;v+=2)f[v]=(d(this,wr)[v]-a)/c,f[v+1]=(d(this,wr)[v+1]-l)/h;if(f[f.length-2]=(d(this,nl)-a)/c,f[f.length-1]=(d(this,il)-l)/h,isNaN(i[6])&&!this.isEmpty())return x(this,Be,$T).call(this,f);const g=new Float64Array(d(this,xs).length+24+d(this,Ki).length);let m=t.length;for(let v=0;v<m;v+=2){if(isNaN(t[v])){g[v]=g[v+1]=NaN;continue}g[v]=t[v],g[v+1]=t[v+1]}m=x(this,Be,WT).call(this,g,m);for(let v=e.length-6;v>=6;v-=6)for(let A=0;A<6;A+=2){if(isNaN(e[v+A])){g[m]=g[m+1]=NaN,m+=2;continue}g[m]=e[v+A],g[m+1]=e[v+A+1],m+=2}return x(this,Be,KT).call(this,g,m),this.newFreeDrawOutline(g,f,d(this,ei),d(this,lu),d(this,ru),d(this,ou))}};ei=new WeakMap,Ki=new WeakMap,ru=new WeakMap,ou=new WeakMap,xs=new WeakMap,Ht=new WeakMap,nl=new WeakMap,il=new WeakMap,rf=new WeakMap,of=new WeakMap,lu=new WeakMap,cu=new WeakMap,wr=new WeakMap,lf=new WeakMap,rm=new WeakMap,om=new WeakMap,Be=new WeakSet,Yh=function(){const t=d(this,Ht).subarray(4,6),e=d(this,Ht).subarray(16,18),[i,a,l,c]=d(this,ei);return[(d(this,nl)+(t[0]-e[0])/2-i)/l,(d(this,il)+(t[1]-e[1])/2-a)/c,(d(this,nl)+(e[0]-t[0])/2-i)/l,(d(this,il)+(e[1]-t[1])/2-a)/c]},VT=function(){const[t,e,i,a]=d(this,ei),[l,c,h,f]=x(this,Be,Yh).call(this);return`M${(d(this,Ht)[2]-t)/i} ${(d(this,Ht)[3]-e)/a} L${(d(this,Ht)[4]-t)/i} ${(d(this,Ht)[5]-e)/a} L${l} ${c} L${h} ${f} L${(d(this,Ht)[16]-t)/i} ${(d(this,Ht)[17]-e)/a} L${(d(this,Ht)[14]-t)/i} ${(d(this,Ht)[15]-e)/a} Z`},XT=function(t){const e=d(this,Ki);t.push(`L${e[4]} ${e[5]} Z`)},YT=function(t){const[e,i,a,l]=d(this,ei),c=d(this,Ht).subarray(4,6),h=d(this,Ht).subarray(16,18),[f,g,m,b]=x(this,Be,Yh).call(this);t.push(`L${(c[0]-e)/a} ${(c[1]-i)/l} L${f} ${g} L${m} ${b} L${(h[0]-e)/a} ${(h[1]-i)/l}`)},$T=function(t){const e=d(this,Ht),[i,a,l,c]=d(this,ei),[h,f,g,m]=x(this,Be,Yh).call(this),b=new Float64Array(36);return b.set([NaN,NaN,NaN,NaN,(e[2]-i)/l,(e[3]-a)/c,NaN,NaN,NaN,NaN,(e[4]-i)/l,(e[5]-a)/c,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,(e[16]-i)/l,(e[17]-a)/c,NaN,NaN,NaN,NaN,(e[14]-i)/l,(e[15]-a)/c],0),this.newFreeDrawOutline(b,t,d(this,ei),d(this,lu),d(this,ru),d(this,ou))},KT=function(t,e){const i=d(this,Ki);return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6},WT=function(t,e){const i=d(this,Ht).subarray(4,6),a=d(this,Ht).subarray(16,18),[l,c,h,f]=d(this,ei),[g,m,b,v]=x(this,Be,Yh).call(this);return t.set([NaN,NaN,NaN,NaN,(i[0]-l)/h,(i[1]-c)/f,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,b,v,NaN,NaN,NaN,NaN,(a[0]-l)/h,(a[1]-c)/f],e),e+=24},C(ta,lf,8),C(ta,rm,2),C(ta,om,d(ta,lf)+d(ta,rm));let Ug=ta;var uu,sl,ga,cf,ni,uf,Te,In,$h,Kh,ZT;class QT extends GT{constructor(e,i,a,l,c,h){super();C(this,In);C(this,uu);C(this,sl,null);C(this,ga);C(this,cf);C(this,ni);C(this,uf);C(this,Te);E(this,Te,e),E(this,ni,i),E(this,uu,a),E(this,uf,l),E(this,ga,c),E(this,cf,h),x(this,In,ZT).call(this,h);const{x:f,y:g,width:m,height:b}=d(this,sl);for(let v=0,A=e.length;v<A;v+=2)e[v]=(e[v]-f)/m,e[v+1]=(e[v+1]-g)/b;for(let v=0,A=i.length;v<A;v+=2)i[v]=(i[v]-f)/m,i[v+1]=(i[v+1]-g)/b}toSVGPath(){const e=[`M${d(this,Te)[4]} ${d(this,Te)[5]}`];for(let i=6,a=d(this,Te).length;i<a;i+=6){if(isNaN(d(this,Te)[i])){e.push(`L${d(this,Te)[i+4]} ${d(this,Te)[i+5]}`);continue}e.push(`C${d(this,Te)[i]} ${d(this,Te)[i+1]} ${d(this,Te)[i+2]} ${d(this,Te)[i+3]} ${d(this,Te)[i+4]} ${d(this,Te)[i+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,i,a,l],c){const h=a-e,f=l-i;let g,m;switch(c){case 0:g=x(this,In,$h).call(this,d(this,Te),e,l,h,-f),m=x(this,In,$h).call(this,d(this,ni),e,l,h,-f);break;case 90:g=x(this,In,Kh).call(this,d(this,Te),e,i,h,f),m=x(this,In,Kh).call(this,d(this,ni),e,i,h,f);break;case 180:g=x(this,In,$h).call(this,d(this,Te),a,i,-h,f),m=x(this,In,$h).call(this,d(this,ni),a,i,-h,f);break;case 270:g=x(this,In,Kh).call(this,d(this,Te),a,l,-h,-f),m=x(this,In,Kh).call(this,d(this,ni),a,l,-h,-f);break}return{outline:Array.from(g),points:[Array.from(m)]}}get box(){return d(this,sl)}newOutliner(e,i,a,l,c,h=0){return new Ug(e,i,a,l,c,h)}getNewOutline(e,i){const{x:a,y:l,width:c,height:h}=d(this,sl),[f,g,m,b]=d(this,uu),v=c*m,A=h*b,S=a*m+f,w=l*b+g,M=this.newOutliner({x:d(this,ni)[0]*v+S,y:d(this,ni)[1]*A+w},d(this,uu),d(this,uf),e,d(this,cf),i??d(this,ga));for(let T=2;T<d(this,ni).length;T+=2)M.add({x:d(this,ni)[T]*v+S,y:d(this,ni)[T+1]*A+w});return M.getOutlines()}get mustRemoveSelfIntersections(){return!0}}uu=new WeakMap,sl=new WeakMap,ga=new WeakMap,cf=new WeakMap,ni=new WeakMap,uf=new WeakMap,Te=new WeakMap,In=new WeakSet,$h=function(e,i,a,l,c){const h=new Float64Array(e.length);for(let f=0,g=e.length;f<g;f+=2)h[f]=i+e[f]*l,h[f+1]=a+e[f+1]*c;return h},Kh=function(e,i,a,l,c){const h=new Float64Array(e.length);for(let f=0,g=e.length;f<g;f+=2)h[f]=i+e[f+1]*l,h[f+1]=a+e[f]*c;return h},ZT=function(e){const i=d(this,Te);let a=i[4],l=i[5],c=a,h=l,f=a,g=l,m=a,b=l;const v=e?Math.max:Math.min;for(let T=6,P=i.length;T<P;T+=6){if(isNaN(i[T]))c=Math.min(c,i[T+4]),h=Math.min(h,i[T+5]),f=Math.max(f,i[T+4]),g=Math.max(g,i[T+5]),b<i[T+5]?(m=i[T+4],b=i[T+5]):b===i[T+5]&&(m=v(m,i[T+4]));else{const O=yt.bezierBoundingBox(a,l,...i.slice(T,T+6));c=Math.min(c,O[0]),h=Math.min(h,O[1]),f=Math.max(f,O[2]),g=Math.max(g,O[3]),b<O[3]?(m=O[2],b=O[3]):b===O[3]&&(m=v(m,O[2]))}a=i[T+4],l=i[T+5]}const A=c-d(this,ga),S=h-d(this,ga),w=f-c+2*d(this,ga),M=g-h+2*d(this,ga);E(this,sl,{x:A,y:S,width:w,height:M,lastPoint:[m,b]})};var hf,xr,Wi,Dn,JT,vg,tC,eC,b0;class y1{constructor(t,e=0,i=0,a=!0){C(this,Dn);C(this,hf);C(this,xr,[]);C(this,Wi,[]);let l=1/0,c=-1/0,h=1/0,f=-1/0;const g=10**-4;for(const{x:M,y:T,width:P,height:O}of t){const D=Math.floor((M-e)/g)*g,k=Math.ceil((M+P+e)/g)*g,H=Math.floor((T-e)/g)*g,B=Math.ceil((T+O+e)/g)*g,V=[D,H,B,!0],U=[k,H,B,!1];d(this,xr).push(V,U),l=Math.min(l,D),c=Math.max(c,k),h=Math.min(h,H),f=Math.max(f,B)}const m=c-l+2*i,b=f-h+2*i,v=l-i,A=h-i,S=d(this,xr).at(a?-1:-2),w=[S[0],S[2]];for(const M of d(this,xr)){const[T,P,O]=M;M[0]=(T-v)/m,M[1]=(P-A)/b,M[2]=(O-A)/b}E(this,hf,{x:v,y:A,width:m,height:b,lastPoint:w})}getOutlines(){d(this,xr).sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of d(this,xr))e[3]?(t.push(...x(this,Dn,b0).call(this,e)),x(this,Dn,tC).call(this,e)):(x(this,Dn,eC).call(this,e),t.push(...x(this,Dn,b0).call(this,e)));return x(this,Dn,JT).call(this,t)}}hf=new WeakMap,xr=new WeakMap,Wi=new WeakMap,Dn=new WeakSet,JT=function(t){const e=[],i=new Set;for(const c of t){const[h,f,g]=c;e.push([h,f,c],[h,g,c])}e.sort((c,h)=>c[1]-h[1]||c[0]-h[0]);for(let c=0,h=e.length;c<h;c+=2){const f=e[c][2],g=e[c+1][2];f.push(g),g.push(f),i.add(f),i.add(g)}const a=[];let l;for(;i.size>0;){const c=i.values().next().value;let[h,f,g,m,b]=c;i.delete(c);let v=h,A=f;for(l=[h,g],a.push(l);;){let S;if(i.has(m))S=m;else if(i.has(b))S=b;else break;i.delete(S),[h,f,g,m,b]=S,v!==h&&(l.push(v,A,h,A===f?f:g),v=h),A=A===f?g:f}l.push(v,A)}return new qk(a,d(this,hf))},vg=function(t){const e=d(this,Wi);let i=0,a=e.length-1;for(;i<=a;){const l=i+a>>1,c=e[l][0];if(c===t)return l;c<t?i=l+1:a=l-1}return a+1},tC=function([,t,e]){const i=x(this,Dn,vg).call(this,t);d(this,Wi).splice(i,0,[t,e])},eC=function([,t,e]){const i=x(this,Dn,vg).call(this,t);for(let a=i;a<d(this,Wi).length;a++){const[l,c]=d(this,Wi)[a];if(l!==t)break;if(l===t&&c===e){d(this,Wi).splice(a,1);return}}for(let a=i-1;a>=0;a--){const[l,c]=d(this,Wi)[a];if(l!==t)break;if(l===t&&c===e){d(this,Wi).splice(a,1);return}}},b0=function(t){const[e,i,a]=t,l=[[e,i,a]],c=x(this,Dn,vg).call(this,a);for(let h=0;h<c;h++){const[f,g]=d(this,Wi)[h];for(let m=0,b=l.length;m<b;m++){const[,v,A]=l[m];if(!(g<=v||A<=f)){if(v>=f){if(A>g)l[m][1]=g;else{if(b===1)return[];l.splice(m,1),m--,b--}continue}l[m][2]=f,A>g&&l.push([e,g,A])}}}return l};var df,hu;class qk extends GT{constructor(e,i){super();C(this,df);C(this,hu);E(this,hu,e),E(this,df,i)}toSVGPath(){const e=[];for(const i of d(this,hu)){let[a,l]=i;e.push(`M${a} ${l}`);for(let c=2;c<i.length;c+=2){const h=i[c],f=i[c+1];h===a?(e.push(`V${f}`),l=f):f===l&&(e.push(`H${h}`),a=h)}e.push("Z")}return e.join(" ")}serialize([e,i,a,l],c){const h=[],f=a-e,g=l-i;for(const m of d(this,hu)){const b=new Array(m.length);for(let v=0;v<m.length;v+=2)b[v]=e+m[v]*f,b[v+1]=l-m[v+1]*g;h.push(b)}return h}get box(){return d(this,df)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}df=new WeakMap,hu=new WeakMap;class v0 extends Ug{newFreeDrawOutline(t,e,i,a,l,c){return new Gk(t,e,i,a,l,c)}get classNamesForDrawing(){return["highlight","free"]}}class Gk extends QT{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,e,i,a,l,c=0){return new v0(t,e,i,a,l,c)}}var Qi,al,du,ze,ff,fu,pf,gf,Tr,Zi,pu,mf,ne,A0,S0,_0,po,nC,sr;const jn=class jn{constructor({editor:t=null,uiManager:e=null}){C(this,ne);C(this,Qi,null);C(this,al,null);C(this,du);C(this,ze,null);C(this,ff,!1);C(this,fu,!1);C(this,pf,null);C(this,gf);C(this,Tr,null);C(this,Zi,null);C(this,pu);var i;t?(E(this,fu,!1),E(this,pu,Tt.HIGHLIGHT_COLOR),E(this,pf,t)):(E(this,fu,!0),E(this,pu,Tt.HIGHLIGHT_DEFAULT_COLOR)),E(this,Zi,(t==null?void 0:t._uiManager)||e),E(this,gf,d(this,Zi)._eventBus),E(this,du,(t==null?void 0:t.color)||((i=d(this,Zi))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),d(jn,mf)||E(jn,mf,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return qt(this,"_keyboardManager",new Rf([[["Escape","mac+Escape"],jn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],jn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],jn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],jn.prototype._moveToPrevious],[["Home","mac+Home"],jn.prototype._moveToBeginning],[["End","mac+End"],jn.prototype._moveToEnd]]))}renderButton(){const t=E(this,Qi,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=d(this,Zi)._signal;t.addEventListener("click",x(this,ne,po).bind(this),{signal:e}),t.addEventListener("keydown",x(this,ne,_0).bind(this),{signal:e});const i=E(this,al,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=d(this,du),t.append(i),t}renderMainDropdown(){const t=E(this,ze,x(this,ne,A0).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===d(this,Qi)){x(this,ne,po).call(this,t);return}const e=t.target.getAttribute("data-color");e&&x(this,ne,S0).call(this,e,t)}_moveToNext(t){var e,i;if(!d(this,ne,sr)){x(this,ne,po).call(this,t);return}if(t.target===d(this,Qi)){(e=d(this,ze).firstChild)==null||e.focus();return}(i=t.target.nextSibling)==null||i.focus()}_moveToPrevious(t){var e,i;if(t.target===((e=d(this,ze))==null?void 0:e.firstChild)||t.target===d(this,Qi)){d(this,ne,sr)&&this._hideDropdownFromKeyboard();return}d(this,ne,sr)||x(this,ne,po).call(this,t),(i=t.target.previousSibling)==null||i.focus()}_moveToBeginning(t){var e;if(!d(this,ne,sr)){x(this,ne,po).call(this,t);return}(e=d(this,ze).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!d(this,ne,sr)){x(this,ne,po).call(this,t);return}(e=d(this,ze).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=d(this,ze))==null||t.classList.add("hidden"),(e=d(this,Tr))==null||e.abort(),E(this,Tr,null)}_hideDropdownFromKeyboard(){var t;if(!d(this,fu)){if(!d(this,ne,sr)){(t=d(this,pf))==null||t.unselect();return}this.hideDropdown(),d(this,Qi).focus({preventScroll:!0,focusVisible:d(this,ff)})}}updateColor(t){if(d(this,al)&&(d(this,al).style.backgroundColor=t),!d(this,ze))return;const e=d(this,Zi).highlightColors.values();for(const i of d(this,ze).children)i.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=d(this,Qi))==null||t.remove(),E(this,Qi,null),E(this,al,null),(e=d(this,ze))==null||e.remove(),E(this,ze,null)}};Qi=new WeakMap,al=new WeakMap,du=new WeakMap,ze=new WeakMap,ff=new WeakMap,fu=new WeakMap,pf=new WeakMap,gf=new WeakMap,Tr=new WeakMap,Zi=new WeakMap,pu=new WeakMap,mf=new WeakMap,ne=new WeakSet,A0=function(){const t=document.createElement("div"),e=d(this,Zi)._signal;t.addEventListener("contextmenu",Ni,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,a]of d(this,Zi).highlightColors){const l=document.createElement("button");l.tabIndex="0",l.role="option",l.setAttribute("data-color",a),l.title=i,l.setAttribute("data-l10n-id",d(jn,mf)[i]);const c=document.createElement("span");l.append(c),c.className="swatch",c.style.backgroundColor=a,l.setAttribute("aria-selected",a===d(this,du)),l.addEventListener("click",x(this,ne,S0).bind(this,a),{signal:e}),t.append(l)}return t.addEventListener("keydown",x(this,ne,_0).bind(this),{signal:e}),t},S0=function(t,e){e.stopPropagation(),d(this,gf).dispatch("switchannotationeditorparams",{source:this,type:d(this,pu),value:t})},_0=function(t){jn._keyboardManager.exec(this,t)},po=function(t){if(d(this,ne,sr)){this.hideDropdown();return}if(E(this,ff,t.detail===0),d(this,Tr)||(E(this,Tr,new AbortController),window.addEventListener("pointerdown",x(this,ne,nC).bind(this),{signal:d(this,Zi).combinedSignal(d(this,Tr))})),d(this,ze)){d(this,ze).classList.remove("hidden");return}const e=E(this,ze,x(this,ne,A0).call(this));d(this,Qi).append(e)},nC=function(t){var e;(e=d(this,ze))!=null&&e.contains(t.target)||this.hideDropdown()},sr=function(){return d(this,ze)&&!d(this,ze).classList.contains("hidden")},C(jn,mf,null);let Ig=jn;var gu,yf,ma,rl,mu,Ci,bf,vf,ol,Ji,yn,zn,yu,ya,Ue,bu,Ri,Af,Dt,E0,Ag,iC,sC,aC,w0,go,Oi,bc,rC,Sg,Wh,oC,lC,cC,uC,hC;const $t=class $t extends Jt{constructor(e){super({...e,name:"highlightEditor"});C(this,Dt);C(this,gu,null);C(this,yf,0);C(this,ma);C(this,rl,null);C(this,mu,null);C(this,Ci,null);C(this,bf,null);C(this,vf,0);C(this,ol,null);C(this,Ji,null);C(this,yn,null);C(this,zn,!1);C(this,yu,null);C(this,ya);C(this,Ue,null);C(this,bu,"");C(this,Ri);C(this,Af,"");this.color=e.color||$t._defaultColor,E(this,Ri,e.thickness||$t._defaultThickness),E(this,ya,e.opacity||$t._defaultOpacity),E(this,ma,e.boxes||null),E(this,Af,e.methodOfCreation||""),E(this,bu,e.text||""),this._isDraggable=!1,e.highlightId>-1?(E(this,zn,!0),x(this,Dt,Ag).call(this,e),x(this,Dt,go).call(this)):d(this,ma)&&(E(this,gu,e.anchorNode),E(this,yf,e.anchorOffset),E(this,bf,e.focusNode),E(this,vf,e.focusOffset),x(this,Dt,E0).call(this),x(this,Dt,go).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=$t.prototype;return qt(this,"_keyboardManager",new Rf([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:d(this,zn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:d(this,Ri),methodOfCreation:d(this,Af)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,i){var a;Jt.initialize(e,i),$t._defaultColor||($t._defaultColor=((a=i.highlightColors)==null?void 0:a.values().next().value)||"#fff066")}static updateDefaultParams(e,i){switch(e){case Tt.HIGHLIGHT_DEFAULT_COLOR:$t._defaultColor=i;break;case Tt.HIGHLIGHT_THICKNESS:$t._defaultThickness=i;break}}translateInPage(e,i){}get toolbarPosition(){return d(this,yu)}updateParams(e,i){switch(e){case Tt.HIGHLIGHT_COLOR:x(this,Dt,iC).call(this,i);break;case Tt.HIGHLIGHT_THICKNESS:x(this,Dt,sC).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Tt.HIGHLIGHT_DEFAULT_COLOR,$t._defaultColor],[Tt.HIGHLIGHT_THICKNESS,$t._defaultThickness]]}get propertiesToUpdate(){return[[Tt.HIGHLIGHT_COLOR,this.color||$t._defaultColor],[Tt.HIGHLIGHT_THICKNESS,d(this,Ri)||$t._defaultThickness],[Tt.HIGHLIGHT_FREE,d(this,zn)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(E(this,mu,new Ig({editor:this})),e.addColorPicker(d(this,mu))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(x(this,Dt,Wh).call(this))}getBaseTranslation(){return[0,0]}getRect(e,i){return super.getRect(e,i,x(this,Dt,Wh).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){x(this,Dt,w0).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(x(this,Dt,go).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var a;let i=!1;this.parent&&!e?x(this,Dt,w0).call(this):e&&(x(this,Dt,go).call(this,e),i=!this.parent&&((a=this.div)==null?void 0:a.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),i&&this.select()}rotate(e){var l,c,h;const{drawLayer:i}=this.parent;let a;d(this,zn)?(e=(e-this.rotation+360)%360,a=x(l=$t,Oi,bc).call(l,d(this,Ji).box,e)):a=x(c=$t,Oi,bc).call(c,this,e),i.rotate(d(this,yn),e),i.rotate(d(this,Ue),e),i.updateBox(d(this,yn),a),i.updateBox(d(this,Ue),x(h=$t,Oi,bc).call(h,d(this,Ci).box,e))}render(){if(this.div)return this.div;const e=super.render();d(this,bu)&&(e.setAttribute("aria-label",d(this,bu)),e.setAttribute("role","mark")),d(this,zn)?e.classList.add("free"):this.div.addEventListener("keydown",x(this,Dt,rC).bind(this),{signal:this._uiManager._signal});const i=E(this,ol,document.createElement("div"));e.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=d(this,rl);const[a,l]=this.parentDimensions;return this.setDims(this.width*a,this.height*l),Hg(this,d(this,ol),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(d(this,Ue),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(d(this,Ue),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:x(this,Dt,Sg).call(this,!0);break;case 1:case 3:x(this,Dt,Sg).call(this,!1);break}}select(){var e,i;super.select(),d(this,Ue)&&((e=this.parent)==null||e.drawLayer.removeClass(d(this,Ue),"hovered"),(i=this.parent)==null||i.drawLayer.addClass(d(this,Ue),"selected"))}unselect(){var e;super.unselect(),d(this,Ue)&&((e=this.parent)==null||e.drawLayer.removeClass(d(this,Ue),"selected"),d(this,zn)||x(this,Dt,Sg).call(this,!1))}get _mustFixPosition(){return!d(this,zn)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(d(this,yn),e),this.parent.drawLayer.show(d(this,Ue),e))}static startHighlighting(e,i,{target:a,x:l,y:c}){const{x:h,y:f,width:g,height:m}=a.getBoundingClientRect(),b=new AbortController,v=e.combinedSignal(b),A=w=>{w.preventDefault(),w.stopPropagation()},S=w=>{b.abort(),x(this,Oi,uC).call(this,e,w)};window.addEventListener("blur",S,{signal:v}),window.addEventListener("pointerup",S,{signal:v}),window.addEventListener("pointerdown",A,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",Ni,{signal:v}),a.addEventListener("pointermove",x(this,Oi,cC).bind(this,e),{signal:v}),this._freeHighlight=new v0({x:l,y:c},[h,f,g,m],e.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(e,i,a){var w,M,T,P;let l=null;if(e instanceof jT){const{data:{quadPoints:O,rect:D,rotation:k,id:H,color:B,opacity:V,popupRef:U},parent:{page:{pageNumber:W}}}=e;l=e={annotationType:Nt.HIGHLIGHT,color:Array.from(B),opacity:V,quadPoints:O,boxes:null,pageIndex:W-1,rect:D.slice(0),rotation:k,id:H,deleted:!1,popupRef:U}}else if(e instanceof fA){const{data:{inkLists:O,rect:D,rotation:k,id:H,color:B,borderStyle:{rawWidth:V},popupRef:U},parent:{page:{pageNumber:W}}}=e;l=e={annotationType:Nt.HIGHLIGHT,color:Array.from(B),thickness:V,inkLists:O,boxes:null,pageIndex:W-1,rect:D.slice(0),rotation:k,id:H,deleted:!1,popupRef:U}}const{color:c,quadPoints:h,inkLists:f,opacity:g}=e,m=await super.deserialize(e,i,a);m.color=yt.makeHexColor(...c),E(m,ya,g||1),f&&E(m,Ri,e.thickness),m.annotationElementId=e.id||null,m._initialData=l;const[b,v]=m.pageDimensions,[A,S]=m.pageTranslation;if(h){const O=E(m,ma,[]);for(let D=0;D<h.length;D+=8)O.push({x:(h[D]-A)/b,y:1-(h[D+1]-S)/v,width:(h[D+2]-h[D])/b,height:(h[D+1]-h[D+5])/v});x(w=m,Dt,E0).call(w),x(M=m,Dt,go).call(M),m.rotate(m.rotation)}else if(f){E(m,zn,!0);const O=f[0],D={x:O[0]-A,y:v-(O[1]-S)},k=new v0(D,[0,0,b,v],1,d(m,Ri)/2,!0,.001);for(let V=0,U=O.length;V<U;V+=2)D.x=O[V]-A,D.y=v-(O[V+1]-S),k.add(D);const{id:H,clipPathId:B}=i.drawLayer.draw(k,m.color,m._defaultOpacity,!0);x(T=m,Dt,Ag).call(T,{highlightOutlines:k.getOutlines(),highlightId:H,clipPathId:B}),x(P=m,Dt,go).call(P)}return m}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const i=this.getRect(0,0),a=Jt._colorManager.convert(this.color),l={annotationType:Nt.HIGHLIGHT,color:a,opacity:d(this,ya),thickness:d(this,Ri),quadPoints:x(this,Dt,oC).call(this),outlines:x(this,Dt,lC).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:x(this,Dt,Wh).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!x(this,Dt,hC).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};gu=new WeakMap,yf=new WeakMap,ma=new WeakMap,rl=new WeakMap,mu=new WeakMap,Ci=new WeakMap,bf=new WeakMap,vf=new WeakMap,ol=new WeakMap,Ji=new WeakMap,yn=new WeakMap,zn=new WeakMap,yu=new WeakMap,ya=new WeakMap,Ue=new WeakMap,bu=new WeakMap,Ri=new WeakMap,Af=new WeakMap,Dt=new WeakSet,E0=function(){const e=new y1(d(this,ma),.001);E(this,Ji,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=d(this,Ji).box;const i=new y1(d(this,ma),.0025,.001,this._uiManager.direction==="ltr");E(this,Ci,i.getOutlines());const{lastPoint:a}=d(this,Ci).box;E(this,yu,[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height])},Ag=function({highlightOutlines:e,highlightId:i,clipPathId:a}){var b,v;if(E(this,Ji,e),E(this,Ci,e.getNewOutline(d(this,Ri)/2+1.5,.0025)),i>=0)E(this,yn,i),E(this,rl,a),this.parent.drawLayer.finalizeLine(i,e),E(this,Ue,this.parent.drawLayer.drawOutline(d(this,Ci)));else if(this.parent){const A=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(d(this,yn),e),this.parent.drawLayer.updateBox(d(this,yn),x(b=$t,Oi,bc).call(b,d(this,Ji).box,(A-this.rotation+360)%360)),this.parent.drawLayer.updateLine(d(this,Ue),d(this,Ci)),this.parent.drawLayer.updateBox(d(this,Ue),x(v=$t,Oi,bc).call(v,d(this,Ci).box,A))}const{x:c,y:h,width:f,height:g}=e.box;switch(this.rotation){case 0:this.x=c,this.y=h,this.width=f,this.height=g;break;case 90:{const[A,S]=this.parentDimensions;this.x=h,this.y=1-c,this.width=f*S/A,this.height=g*A/S;break}case 180:this.x=1-c,this.y=1-h,this.width=f,this.height=g;break;case 270:{const[A,S]=this.parentDimensions;this.x=1-h,this.y=c,this.width=f*S/A,this.height=g*A/S;break}}const{lastPoint:m}=d(this,Ci).box;E(this,yu,[(m[0]-c)/f,(m[1]-h)/g])},iC=function(e){const i=(c,h)=>{var f,g,m;this.color=c,(f=this.parent)==null||f.drawLayer.changeColor(d(this,yn),c),(g=d(this,mu))==null||g.updateColor(c),E(this,ya,h),(m=this.parent)==null||m.drawLayer.changeOpacity(d(this,yn),h)},a=this.color,l=d(this,ya);this.addCommands({cmd:i.bind(this,e,$t._defaultOpacity),undo:i.bind(this,a,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},sC=function(e){const i=d(this,Ri),a=l=>{E(this,Ri,l),x(this,Dt,aC).call(this,l)};this.addCommands({cmd:a.bind(this,e),undo:a.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},aC=function(e){if(!d(this,zn))return;x(this,Dt,Ag).call(this,{highlightOutlines:d(this,Ji).getNewOutline(e/2)}),this.fixAndSetPosition();const[i,a]=this.parentDimensions;this.setDims(this.width*i,this.height*a)},w0=function(){d(this,yn)===null||!this.parent||(this.parent.drawLayer.remove(d(this,yn)),E(this,yn,null),this.parent.drawLayer.remove(d(this,Ue)),E(this,Ue,null))},go=function(e=this.parent){d(this,yn)===null&&({id:wn(this,yn)._,clipPathId:wn(this,rl)._}=e.drawLayer.draw(d(this,Ji),this.color,d(this,ya)),E(this,Ue,e.drawLayer.drawOutline(d(this,Ci))),d(this,ol)&&(d(this,ol).style.clipPath=d(this,rl)))},Oi=new WeakSet,bc=function({x:e,y:i,width:a,height:l},c){switch(c){case 90:return{x:1-i-l,y:e,width:l,height:a};case 180:return{x:1-e-a,y:1-i-l,width:a,height:l};case 270:return{x:i,y:1-e-a,width:l,height:a}}return{x:e,y:i,width:a,height:l}},rC=function(e){$t._keyboardManager.exec(this,e)},Sg=function(e){if(!d(this,gu))return;const i=window.getSelection();e?i.setPosition(d(this,gu),d(this,yf)):i.setPosition(d(this,bf),d(this,vf))},Wh=function(){return d(this,zn)?this.rotation:0},oC=function(){if(d(this,zn))return null;const[e,i]=this.pageDimensions,[a,l]=this.pageTranslation,c=d(this,ma),h=new Float32Array(c.length*8);let f=0;for(const{x:g,y:m,width:b,height:v}of c){const A=g*e+a,S=(1-m-v)*i+l;h[f]=h[f+4]=A,h[f+1]=h[f+3]=S,h[f+2]=h[f+6]=A+b*e,h[f+5]=h[f+7]=S+v*i,f+=8}return h},lC=function(e){return d(this,Ji).serialize(e,x(this,Dt,Wh).call(this))},cC=function(e,i){this._freeHighlight.add(i)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},uC=function(e,i){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},hC=function(e){const{color:i}=this._initialData;return e.color.some((a,l)=>a!==i[l])},C($t,Oi),xt($t,"_defaultColor",null),xt($t,"_defaultOpacity",1),xt($t,"_defaultThickness",12),xt($t,"_type","highlight"),xt($t,"_editorType",Nt.HIGHLIGHT),xt($t,"_freeHighlightId",-1),xt($t,"_freeHighlight",null),xt($t,"_freeHighlightClipId","");let Bg=$t;var ll,cl,Ts,ba,Mi,ul,hl,dl,va,vu,fl,pl,Cr,rt,dC,fC,pC,gC,T0,mC,C0,yC,bC,vC,AC,SC,mo,R0,M0,D0,_g,Eg,vc,O0,wg,La,_C,L0,EC,wC,N0,xg,Qh;const ge=class ge extends Jt{constructor(e){super({...e,name:"inkEditor"});C(this,rt);C(this,ll,0);C(this,cl,0);C(this,Ts,null);C(this,ba,new Path2D);C(this,Mi,!1);C(this,ul,null);C(this,hl,!1);C(this,dl,!1);C(this,va,null);C(this,vu,null);C(this,fl,0);C(this,pl,0);C(this,Cr,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,i){Jt.initialize(e,i)}static updateDefaultParams(e,i){switch(e){case Tt.INK_THICKNESS:ge._defaultThickness=i;break;case Tt.INK_COLOR:ge._defaultColor=i;break;case Tt.INK_OPACITY:ge._defaultOpacity=i/100;break}}updateParams(e,i){switch(e){case Tt.INK_THICKNESS:x(this,rt,dC).call(this,i);break;case Tt.INK_COLOR:x(this,rt,fC).call(this,i);break;case Tt.INK_OPACITY:x(this,rt,pC).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Tt.INK_THICKNESS,ge._defaultThickness],[Tt.INK_COLOR,ge._defaultColor||Jt._defaultLineColor],[Tt.INK_OPACITY,Math.round(ge._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Tt.INK_THICKNESS,this.thickness||ge._defaultThickness],[Tt.INK_COLOR,this.color||ge._defaultColor||Jt._defaultLineColor],[Tt.INK_OPACITY,Math.round(100*(this.opacity??ge._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(x(this,rt,_g).call(this),x(this,rt,Eg).call(this)),this.isAttachedToDOM||(this.parent.add(this),x(this,rt,vc).call(this)),x(this,rt,Qh).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,d(this,Ts)&&(clearTimeout(d(this,Ts)),E(this,Ts,null)),(e=d(this,va))==null||e.disconnect(),E(this,va,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,i]=this.parentDimensions,a=this.width*e,l=this.height*i;this.setDimensions(a,l)}enableEditMode(){d(this,Mi)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,x(this,rt,R0).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),x(this,rt,M0).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){d(this,Mi)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),E(this,Mi,!0),this.div.classList.add("disabled"),x(this,rt,Qh).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||d(this,Mi)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),x(this,rt,mC).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),x(this,rt,C0).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),x(this,rt,D0).call(this,e)}canvasPointerleave(e){x(this,rt,D0).call(this,e)}get isResizable(){return!this.isEmpty()&&d(this,Mi)}render(){if(this.div)return this.div;let e,i;this.width&&(e=this.x,i=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[a,l,c,h]=x(this,rt,gC).call(this);if(this.setAt(a,l,0,0),this.setDims(c,h),x(this,rt,_g).call(this),this.width){const[f,g]=this.parentDimensions;this.setAspectRatio(this.width*f,this.height*g),this.setAt(e*f,i*g,this.width*f,this.height*g),E(this,dl,!0),x(this,rt,vc).call(this),this.setDims(this.width*f,this.height*g),x(this,rt,mo).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return x(this,rt,Eg).call(this),this.div}setDimensions(e,i){const a=Math.round(e),l=Math.round(i);if(d(this,fl)===a&&d(this,pl)===l)return;E(this,fl,a),E(this,pl,l),this.canvas.style.visibility="hidden";const[c,h]=this.parentDimensions;this.width=e/c,this.height=i/h,this.fixAndSetPosition(),d(this,Mi)&&x(this,rt,O0).call(this,e,i),x(this,rt,vc).call(this),x(this,rt,mo).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,i,a){var M,T,P;if(e instanceof fA)return null;const l=await super.deserialize(e,i,a);l.thickness=e.thickness,l.color=yt.makeHexColor(...e.color),l.opacity=e.opacity;const[c,h]=l.pageDimensions,f=l.width*c,g=l.height*h,m=l.parentScale,b=e.thickness/2;E(l,Mi,!0),E(l,fl,Math.round(f)),E(l,pl,Math.round(g));const{paths:v,rect:A,rotation:S}=e;for(let{bezier:O}of v){O=x(M=ge,La,EC).call(M,O,A,S);const D=[];l.paths.push(D);let k=m*(O[0]-b),H=m*(O[1]-b);for(let V=2,U=O.length;V<U;V+=6){const W=m*(O[V]-b),tt=m*(O[V+1]-b),ct=m*(O[V+2]-b),ut=m*(O[V+3]-b),ht=m*(O[V+4]-b),pt=m*(O[V+5]-b);D.push([[k,H],[W,tt],[ct,ut],[ht,pt]]),k=ht,H=pt}const B=x(this,La,_C).call(this,D);l.bezierPath2D.push(B)}const w=x(T=l,rt,N0).call(T);return E(l,cl,Math.max(Jt.MIN_SIZE,w[2]-w[0])),E(l,ll,Math.max(Jt.MIN_SIZE,w[3]-w[1])),x(P=l,rt,O0).call(P,f,g),l}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),i=Jt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Nt.INK,color:i,thickness:this.thickness,opacity:this.opacity,paths:x(this,rt,wC).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};ll=new WeakMap,cl=new WeakMap,Ts=new WeakMap,ba=new WeakMap,Mi=new WeakMap,ul=new WeakMap,hl=new WeakMap,dl=new WeakMap,va=new WeakMap,vu=new WeakMap,fl=new WeakMap,pl=new WeakMap,Cr=new WeakMap,rt=new WeakSet,dC=function(e){const i=l=>{this.thickness=l,x(this,rt,Qh).call(this)},a=this.thickness;this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},fC=function(e){const i=l=>{this.color=l,x(this,rt,mo).call(this)},a=this.color;this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},pC=function(e){const i=l=>{this.opacity=l,x(this,rt,mo).call(this)};e/=100;const a=this.opacity;this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},gC=function(){const{parentRotation:e,parentDimensions:[i,a]}=this;switch(e){case 90:return[0,a,a,i];case 180:return[i,a,i,a];case 270:return[i,0,a,i];default:return[0,0,i,a]}},T0=function(){const{ctx:e,color:i,opacity:a,thickness:l,parentScale:c,scaleFactor:h}=this;e.lineWidth=l*c/h,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${i}${dN(a)}`},mC=function(e,i){this.canvas.addEventListener("contextmenu",Ni,{signal:this._uiManager._signal}),x(this,rt,M0).call(this),E(this,ul,new AbortController);const a=this._uiManager.combinedSignal(d(this,ul));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:a}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:a}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:a}),this.isEditing=!0,d(this,dl)||(E(this,dl,!0),x(this,rt,vc).call(this),this.thickness||(this.thickness=ge._defaultThickness),this.color||(this.color=ge._defaultColor||Jt._defaultLineColor),this.opacity??(this.opacity=ge._defaultOpacity)),this.currentPath.push([e,i]),E(this,hl,!1),x(this,rt,T0).call(this),E(this,Cr,()=>{x(this,rt,vC).call(this),d(this,Cr)&&window.requestAnimationFrame(d(this,Cr))}),window.requestAnimationFrame(d(this,Cr))},C0=function(e,i){const[a,l]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===a&&i===l)return;const c=this.currentPath;let h=d(this,ba);if(c.push([e,i]),E(this,hl,!0),c.length<=2){h.moveTo(...c[0]),h.lineTo(e,i);return}c.length===3&&(E(this,ba,h=new Path2D),h.moveTo(...c[0])),x(this,rt,AC).call(this,h,...c.at(-3),...c.at(-2),e,i)},yC=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);d(this,ba).lineTo(...e)},bC=function(e,i){E(this,Cr,null),e=Math.min(Math.max(e,0),this.canvas.width),i=Math.min(Math.max(i,0),this.canvas.height),x(this,rt,C0).call(this,e,i),x(this,rt,yC).call(this);let a;if(this.currentPath.length!==1)a=x(this,rt,SC).call(this);else{const g=[e,i];a=[[g,g.slice(),g.slice(),g]]}const l=d(this,ba),c=this.currentPath;this.currentPath=[],E(this,ba,new Path2D);const h=()=>{this.allRawPaths.push(c),this.paths.push(a),this.bezierPath2D.push(l),this._uiManager.rebuild(this)},f=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(x(this,rt,_g).call(this),x(this,rt,Eg).call(this)),x(this,rt,Qh).call(this))};this.addCommands({cmd:h,undo:f,mustExec:!0})},vC=function(){if(!d(this,hl))return;E(this,hl,!1);const e=Math.ceil(this.thickness*this.parentScale),i=this.currentPath.slice(-3),a=i.map(h=>h[0]),l=i.map(h=>h[1]);Math.min(...a)-e,Math.max(...a)+e,Math.min(...l)-e,Math.max(...l)+e;const{ctx:c}=this;c.save(),c.clearRect(0,0,this.canvas.width,this.canvas.height);for(const h of this.bezierPath2D)c.stroke(h);c.stroke(d(this,ba)),c.restore()},AC=function(e,i,a,l,c,h,f){const g=(i+l)/2,m=(a+c)/2,b=(l+h)/2,v=(c+f)/2;e.bezierCurveTo(g+2*(l-g)/3,m+2*(c-m)/3,b+2*(l-b)/3,v+2*(c-v)/3,b,v)},SC=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const i=[];let a,[l,c]=e[0];for(a=1;a<e.length-2;a++){const[A,S]=e[a],[w,M]=e[a+1],T=(A+w)/2,P=(S+M)/2,O=[l+2*(A-l)/3,c+2*(S-c)/3],D=[T+2*(A-T)/3,P+2*(S-P)/3];i.push([[l,c],O,D,[T,P]]),[l,c]=[T,P]}const[h,f]=e[a],[g,m]=e[a+1],b=[l+2*(h-l)/3,c+2*(f-c)/3],v=[g+2*(h-g)/3,m+2*(f-m)/3];return i.push([[l,c],b,v,[g,m]]),i},mo=function(){if(this.isEmpty()){x(this,rt,wg).call(this);return}x(this,rt,T0).call(this);const{canvas:e,ctx:i}=this;i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,e.width,e.height),x(this,rt,wg).call(this);for(const a of this.bezierPath2D)i.stroke(a)},R0=function(){if(d(this,vu))return;E(this,vu,new AbortController);const e=this._uiManager.combinedSignal(d(this,vu));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})},M0=function(){var e;(e=this.pointerdownAC)==null||e.abort(),this.pointerdownAC=null},D0=function(e){var i;(i=d(this,ul))==null||i.abort(),E(this,ul,null),x(this,rt,R0).call(this),d(this,Ts)&&clearTimeout(d(this,Ts)),E(this,Ts,setTimeout(()=>{E(this,Ts,null),this.canvas.removeEventListener("contextmenu",Ni)},10)),x(this,rt,bC).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},_g=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Eg=function(){E(this,va,new ResizeObserver(e=>{const i=e[0].contentRect;i.width&&i.height&&this.setDimensions(i.width,i.height)})),d(this,va).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=d(this,va))==null||e.disconnect(),E(this,va,null)},{once:!0})},vc=function(){if(!d(this,dl))return;const[e,i]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*i),x(this,rt,wg).call(this)},O0=function(e,i){const a=x(this,rt,xg).call(this),l=(e-a)/d(this,cl),c=(i-a)/d(this,ll);this.scaleFactor=Math.min(l,c)},wg=function(){const e=x(this,rt,xg).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},La=new WeakSet,_C=function(e){const i=new Path2D;for(let a=0,l=e.length;a<l;a++){const[c,h,f,g]=e[a];a===0&&i.moveTo(...c),i.bezierCurveTo(h[0],h[1],f[0],f[1],g[0],g[1])}return i},L0=function(e,i,a){const[l,c,h,f]=i;switch(a){case 0:for(let g=0,m=e.length;g<m;g+=2)e[g]+=l,e[g+1]=f-e[g+1];break;case 90:for(let g=0,m=e.length;g<m;g+=2){const b=e[g];e[g]=e[g+1]+l,e[g+1]=b+c}break;case 180:for(let g=0,m=e.length;g<m;g+=2)e[g]=h-e[g],e[g+1]+=c;break;case 270:for(let g=0,m=e.length;g<m;g+=2){const b=e[g];e[g]=h-e[g+1],e[g+1]=f-b}break;default:throw new Error("Invalid rotation")}return e},EC=function(e,i,a){const[l,c,h,f]=i;switch(a){case 0:for(let g=0,m=e.length;g<m;g+=2)e[g]-=l,e[g+1]=f-e[g+1];break;case 90:for(let g=0,m=e.length;g<m;g+=2){const b=e[g];e[g]=e[g+1]-c,e[g+1]=b-l}break;case 180:for(let g=0,m=e.length;g<m;g+=2)e[g]=h-e[g],e[g+1]-=c;break;case 270:for(let g=0,m=e.length;g<m;g+=2){const b=e[g];e[g]=f-e[g+1],e[g+1]=h-b}break;default:throw new Error("Invalid rotation")}return e},wC=function(e,i,a,l){var m,b;const c=[],h=this.thickness/2,f=e*i+h,g=e*a+h;for(const v of this.paths){const A=[],S=[];for(let w=0,M=v.length;w<M;w++){const[T,P,O,D]=v[w];if(T[0]===D[0]&&T[1]===D[1]&&M===1){const ut=e*T[0]+f,ht=e*T[1]+g;A.push(ut,ht),S.push(ut,ht);break}const k=e*T[0]+f,H=e*T[1]+g,B=e*P[0]+f,V=e*P[1]+g,U=e*O[0]+f,W=e*O[1]+g,tt=e*D[0]+f,ct=e*D[1]+g;w===0&&(A.push(k,H),S.push(k,H)),A.push(B,V,U,W,tt,ct),S.push(B,V),w===M-1&&S.push(tt,ct)}c.push({bezier:x(m=ge,La,L0).call(m,A,l,this.rotation),points:x(b=ge,La,L0).call(b,S,l,this.rotation)})}return c},N0=function(){let e=1/0,i=-1/0,a=1/0,l=-1/0;for(const c of this.paths)for(const[h,f,g,m]of c){const b=yt.bezierBoundingBox(...h,...f,...g,...m);e=Math.min(e,b[0]),a=Math.min(a,b[1]),i=Math.max(i,b[2]),l=Math.max(l,b[3])}return[e,a,i,l]},xg=function(){return d(this,Mi)?Math.ceil(this.thickness*this.parentScale):0},Qh=function(e=!1){if(this.isEmpty())return;if(!d(this,Mi)){x(this,rt,mo).call(this);return}const i=x(this,rt,N0).call(this),a=x(this,rt,xg).call(this);E(this,cl,Math.max(Jt.MIN_SIZE,i[2]-i[0])),E(this,ll,Math.max(Jt.MIN_SIZE,i[3]-i[1]));const l=Math.ceil(a+d(this,cl)*this.scaleFactor),c=Math.ceil(a+d(this,ll)*this.scaleFactor),[h,f]=this.parentDimensions;this.width=l/h,this.height=c/f,this.setAspectRatio(l,c);const g=this.translationX,m=this.translationY;this.translationX=-i[0],this.translationY=-i[1],x(this,rt,vc).call(this),x(this,rt,mo).call(this),E(this,fl,l),E(this,pl,c),this.setDims(l,c);const b=e?a/this.scaleFactor/2:0;this.translate(g-this.translationX-b,m-this.translationY-b)},C(ge,La),xt(ge,"_defaultColor",null),xt(ge,"_defaultOpacity",1),xt(ge,"_defaultThickness",1),xt(ge,"_type","ink"),xt(ge,"_editorType",Nt.INK);let x0=ge;var ye,rn,Rr,Aa,Mr,Au,Cs,Sa,Rs,ii,Su,Ut,Zh,Jh,Tg,P0,xC,Cg,j0,Rg,TC,CC;const nd=class nd extends Jt{constructor(e){super({...e,name:"stampEditor"});C(this,Ut);C(this,ye,null);C(this,rn,null);C(this,Rr,null);C(this,Aa,null);C(this,Mr,null);C(this,Au,"");C(this,Cs,null);C(this,Sa,null);C(this,Rs,null);C(this,ii,!1);C(this,Su,!1);E(this,Aa,e.bitmapUrl),E(this,Mr,e.bitmapFile)}static initialize(e,i){Jt.initialize(e,i)}static get supportedTypes(){return qt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(i=>`image/${i}`))}static get supportedTypesStr(){return qt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,i){i.pasteEditor(Nt.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const i=e.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(e=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:a}=this._uiManager;if(!a)throw new Error("No ML.");if(!await a.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:l,width:c,height:h}=e||this.copyCanvas(null,null,!0).imageData,f=await a.guess({name:"altText",request:{data:l,width:c,height:h,channels:l.length/(c*h)}});if(!f)throw new Error("No response from the AI service.");if(f.error)throw new Error("Error from the AI service.");if(f.cancel)return null;if(!f.output)throw new Error("No valid response from the AI service.");const g=f.output;return await this.setGuessedAltText(g),i&&!this.hasAltTextData()&&(this.altTextData={alt:g,decorative:!1}),g}remove(){var e,i;d(this,rn)&&(E(this,ye,null),this._uiManager.imageManager.deleteId(d(this,rn)),(e=d(this,Cs))==null||e.remove(),E(this,Cs,null),(i=d(this,Sa))==null||i.disconnect(),E(this,Sa,null),d(this,Rs)&&(clearTimeout(d(this,Rs)),E(this,Rs,null))),super.remove()}rebuild(){if(!this.parent){d(this,rn)&&x(this,Ut,Tg).call(this);return}super.rebuild(),this.div!==null&&(d(this,rn)&&d(this,Cs)===null&&x(this,Ut,Tg).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(d(this,Rr)||d(this,ye)||d(this,Aa)||d(this,Mr)||d(this,rn))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,i;if(this.width&&(e=this.x,i=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),d(this,ye)?x(this,Ut,P0).call(this):x(this,Ut,Tg).call(this),this.width&&!this.annotationElementId){const[a,l]=this.parentDimensions;this.setAt(e*a,i*l,this.width*a,this.height*l)}return this.div}copyCanvas(e,i,a=!1){var A;e||(e=224);const{width:l,height:c}=d(this,ye),h=new Dv;let f=d(this,ye),g=l,m=c,b=null;if(i){if(l>i||c>i){const V=Math.min(i/l,i/c);g=Math.floor(l*V),m=Math.floor(c*V)}b=document.createElement("canvas");const S=b.width=Math.ceil(g*h.sx),w=b.height=Math.ceil(m*h.sy);d(this,ii)||(f=x(this,Ut,Cg).call(this,S,w));const M=b.getContext("2d");M.filter=this._uiManager.hcmFilter;let T="white",P="#cfcfd8";this._uiManager.hcmFilter!=="none"?P="black":(A=window.matchMedia)!=null&&A.call(window,"(prefers-color-scheme: dark)").matches&&(T="#8f8f9d",P="#42414d");const O=15,D=O*h.sx,k=O*h.sy,H=new OffscreenCanvas(D*2,k*2),B=H.getContext("2d");B.fillStyle=T,B.fillRect(0,0,D*2,k*2),B.fillStyle=P,B.fillRect(0,0,D,k),B.fillRect(D,k,D,k),M.fillStyle=M.createPattern(H,"repeat"),M.fillRect(0,0,S,w),M.drawImage(f,0,0,f.width,f.height,0,0,S,w)}let v=null;if(a){let S,w;if(h.symmetric&&f.width<e&&f.height<e)S=f.width,w=f.height;else if(f=d(this,ye),l>e||c>e){const P=Math.min(e/l,e/c);S=Math.floor(l*P),w=Math.floor(c*P),d(this,ii)||(f=x(this,Ut,Cg).call(this,S,w))}const T=new OffscreenCanvas(S,w).getContext("2d",{willReadFrequently:!0});T.drawImage(f,0,0,f.width,f.height,0,0,S,w),v={width:S,height:w,data:T.getImageData(0,0,S,w).data}}return{canvas:b,width:g,height:m,imageData:v}}getImageForAltText(){return d(this,Cs)}static async deserialize(e,i,a){var w;let l=null;if(e instanceof FT){const{data:{rect:M,rotation:T,id:P,structParent:O,popupRef:D},container:k,parent:{page:{pageNumber:H}}}=e,B=k.querySelector("canvas"),V=a.imageManager.getFromCanvas(k.id,B);B.remove();const U=((w=await i._structTree.getAriaAttributes(`${nA}${P}`))==null?void 0:w.get("aria-label"))||"";l=e={annotationType:Nt.STAMP,bitmapId:V.id,bitmap:V.bitmap,pageIndex:H-1,rect:M.slice(0),rotation:T,id:P,deleted:!1,accessibilityData:{decorative:!1,altText:U},isSvg:!1,structParent:O,popupRef:D}}const c=await super.deserialize(e,i,a),{rect:h,bitmap:f,bitmapUrl:g,bitmapId:m,isSvg:b,accessibilityData:v}=e;m&&a.imageManager.isValidId(m)?(E(c,rn,m),f&&E(c,ye,f)):E(c,Aa,g),E(c,ii,b);const[A,S]=c.pageDimensions;return c.width=(h[2]-h[0])/A,c.height=(h[3]-h[1])/S,c.annotationElementId=e.id||null,v&&(c.altTextData=v),c._initialData=l,E(c,Su,!!l),c}serialize(e=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const a={annotationType:Nt.STAMP,bitmapId:d(this,rn),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:d(this,ii),structTreeParentId:this._structTreeParentId};if(e)return a.bitmapUrl=x(this,Ut,Rg).call(this,!0),a.accessibilityData=this.serializeAltText(!0),a;const{decorative:l,altText:c}=this.serializeAltText(!1);if(!l&&c&&(a.accessibilityData={type:"Figure",alt:c}),this.annotationElementId){const f=x(this,Ut,CC).call(this,a);if(f.isSame)return null;f.isSameAltText?delete a.accessibilityData:a.accessibilityData.structParent=this._initialData.structParent??-1}if(a.id=this.annotationElementId,i===null)return a;i.stamps||(i.stamps=new Map);const h=d(this,ii)?(a.rect[2]-a.rect[0])*(a.rect[3]-a.rect[1]):null;if(!i.stamps.has(d(this,rn)))i.stamps.set(d(this,rn),{area:h,serialized:a}),a.bitmap=x(this,Ut,Rg).call(this,!1);else if(d(this,ii)){const f=i.stamps.get(d(this,rn));h>f.area&&(f.area=h,f.serialized.bitmap.close(),f.serialized.bitmap=x(this,Ut,Rg).call(this,!1))}return a}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};ye=new WeakMap,rn=new WeakMap,Rr=new WeakMap,Aa=new WeakMap,Mr=new WeakMap,Au=new WeakMap,Cs=new WeakMap,Sa=new WeakMap,Rs=new WeakMap,ii=new WeakMap,Su=new WeakMap,Ut=new WeakSet,Zh=function(e,i=!1){if(!e){this.remove();return}E(this,ye,e.bitmap),i||(E(this,rn,e.id),E(this,ii,e.isSvg)),e.file&&E(this,Au,e.file.name),x(this,Ut,P0).call(this)},Jh=function(){if(E(this,Rr,null),this._uiManager.enableWaiting(!1),!!d(this,Cs)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,ye)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,ye)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Tg=function(){if(d(this,rn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(d(this,rn)).then(a=>x(this,Ut,Zh).call(this,a,!0)).finally(()=>x(this,Ut,Jh).call(this));return}if(d(this,Aa)){const a=d(this,Aa);E(this,Aa,null),this._uiManager.enableWaiting(!0),E(this,Rr,this._uiManager.imageManager.getFromUrl(a).then(l=>x(this,Ut,Zh).call(this,l)).finally(()=>x(this,Ut,Jh).call(this)));return}if(d(this,Mr)){const a=d(this,Mr);E(this,Mr,null),this._uiManager.enableWaiting(!0),E(this,Rr,this._uiManager.imageManager.getFromFile(a).then(l=>x(this,Ut,Zh).call(this,l)).finally(()=>x(this,Ut,Jh).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=nd.supportedTypesStr;const i=this._uiManager._signal;E(this,Rr,new Promise(a=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const l=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),x(this,Ut,Zh).call(this,l)}a()},{signal:i}),e.addEventListener("cancel",()=>{this.remove(),a()},{signal:i})}).finally(()=>x(this,Ut,Jh).call(this))),e.click()},P0=function(){const{div:e}=this;let{width:i,height:a}=d(this,ye);const[l,c]=this.pageDimensions,h=.75;if(this.width)i=this.width*l,a=this.height*c;else if(i>h*l||a>h*c){const b=Math.min(h*l/i,h*c/a);i*=b,a*=b}const[f,g]=this.parentDimensions;this.setDims(i*f/l,a*g/c),this._uiManager.enableWaiting(!1);const m=E(this,Cs,document.createElement("canvas"));m.setAttribute("role","img"),this.addContainer(m),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),x(this,Ut,j0).call(this,i,a),x(this,Ut,TC).call(this),d(this,Su)||(this.parent.addUndoableEditor(this),E(this,Su,!0)),this._reportTelemetry({action:"inserted_image"}),d(this,Au)&&m.setAttribute("aria-label",d(this,Au))},xC=function(e,i){var h;const[a,l]=this.parentDimensions;this.width=e/a,this.height=i/l,(h=this._initialOptions)!=null&&h.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,d(this,Rs)!==null&&clearTimeout(d(this,Rs)),E(this,Rs,setTimeout(()=>{E(this,Rs,null),x(this,Ut,j0).call(this,e,i)},200))},Cg=function(e,i){const{width:a,height:l}=d(this,ye);let c=a,h=l,f=d(this,ye);for(;c>2*e||h>2*i;){const g=c,m=h;c>2*e&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2)),h>2*i&&(h=h>=16384?Math.floor(h/2)-1:Math.ceil(h/2));const b=new OffscreenCanvas(c,h);b.getContext("2d").drawImage(f,0,0,g,m,0,0,c,h),f=b.transferToImageBitmap()}return f},j0=function(e,i){const a=new Dv,l=Math.ceil(e*a.sx),c=Math.ceil(i*a.sy),h=d(this,Cs);if(!h||h.width===l&&h.height===c)return;h.width=l,h.height=c;const f=d(this,ii)?d(this,ye):x(this,Ut,Cg).call(this,l,c),g=h.getContext("2d");g.filter=this._uiManager.hcmFilter,g.drawImage(f,0,0,f.width,f.height,0,0,l,c)},Rg=function(e){if(e){if(d(this,ii)){const l=this._uiManager.imageManager.getSvgUrl(d(this,rn));if(l)return l}const i=document.createElement("canvas");return{width:i.width,height:i.height}=d(this,ye),i.getContext("2d").drawImage(d(this,ye),0,0),i.toDataURL()}if(d(this,ii)){const[i,a]=this.pageDimensions,l=Math.round(this.width*i*Pr.PDF_TO_CSS_UNITS),c=Math.round(this.height*a*Pr.PDF_TO_CSS_UNITS),h=new OffscreenCanvas(l,c);return h.getContext("2d").drawImage(d(this,ye),0,0,d(this,ye).width,d(this,ye).height,0,0,l,c),h.transferToImageBitmap()}return structuredClone(d(this,ye))},TC=function(){this._uiManager._signal&&(E(this,Sa,new ResizeObserver(e=>{const i=e[0].contentRect;i.width&&i.height&&x(this,Ut,xC).call(this,i.width,i.height)})),d(this,Sa).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=d(this,Sa))==null||e.disconnect(),E(this,Sa,null)},{once:!0}))},CC=function(e){var g;const{rect:i,pageIndex:a,accessibilityData:{altText:l}}=this._initialData,c=e.rect.every((m,b)=>Math.abs(m-i[b])<1),h=e.pageIndex===a,f=(((g=e.accessibilityData)==null?void 0:g.alt)||"")===l;return{isSame:c&&h&&f,isSameAltText:f}},xt(nd,"_type","stamp"),xt(nd,"_editorType",Nt.STAMP);let k0=nd;var gl,_u,Ms,Dr,_a,si,Or,Eu,wu,bn,Ea,vt,Lr,ln,RC,H0,z0,U0,Mg;const zi=class zi{constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:a,accessibilityManager:l,annotationLayer:c,drawLayer:h,textLayer:f,viewport:g,l10n:m}){C(this,ln);C(this,gl);C(this,_u,!1);C(this,Ms,null);C(this,Dr,null);C(this,_a,null);C(this,si,new Map);C(this,Or,!1);C(this,Eu,!1);C(this,wu,!1);C(this,bn,null);C(this,Ea,null);C(this,vt);const b=[...d(zi,Lr).values()];if(!zi._initialized){zi._initialized=!0;for(const v of b)v.initialize(m,t)}t.registerEditorTypes(b),E(this,vt,t),this.pageIndex=e,this.div=i,E(this,gl,l),E(this,Ms,c),this.viewport=g,E(this,bn,f),this.drawLayer=h,this._structTree=a,d(this,vt).addLayer(this)}get isEmpty(){return d(this,si).size===0}get isInvisible(){return this.isEmpty&&d(this,vt).getMode()===Nt.NONE}updateToolbar(t){d(this,vt).updateToolbar(t)}updateMode(t=d(this,vt).getMode()){switch(x(this,ln,Mg).call(this),t){case Nt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Nt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Nt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const i of d(zi,Lr).values())e.toggle(`${i._type}Editing`,t===i._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=d(this,bn))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(d(this,vt).getMode()!==Nt.INK)return;if(!t){for(const i of d(this,si).values())if(i.isEmpty()){i.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){d(this,vt).setEditingState(t)}addCommands(t){d(this,vt).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=d(this,Ms))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const i of d(this,si).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(d(this,vt).removeChangedExistingAnnotation(i),t.add(i.annotationElementId));if(!d(this,Ms))return;const e=d(this,Ms).getEditableAnnotations();for(const i of e){if(i.hide(),d(this,vt).isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const a=await this.deserialize(i);a&&(this.addOrRebuild(a),a.enableEditing())}}disable(){var a;E(this,wu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const l of d(this,si).values())if(l.disableEditing(),!!l.annotationElementId){if(l.serialize()!==null){t.set(l.annotationElementId,l);continue}else e.set(l.annotationElementId,l);(a=this.getEditableAnnotation(l.annotationElementId))==null||a.show(),l.remove()}if(d(this,Ms)){const l=d(this,Ms).getEditableAnnotations();for(const c of l){const{id:h}=c.data;if(d(this,vt).isDeletedAnnotationElement(h))continue;let f=e.get(h);if(f){f.resetAnnotationElement(c),f.show(!1),c.show();continue}f=t.get(h),f&&(d(this,vt).addChangedExistingAnnotation(f),f.renderAnnotationElement(c)&&f.show(!1)),c.show()}}x(this,ln,Mg).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const l of d(zi,Lr).values())i.remove(`${l._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),E(this,wu,!1)}getEditableAnnotation(t){var e;return((e=d(this,Ms))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){d(this,vt).getActive()!==t&&d(this,vt).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=d(this,bn))!=null&&t.div&&!d(this,Ea)){E(this,Ea,new AbortController);const e=d(this,vt).combinedSignal(d(this,Ea));d(this,bn).div.addEventListener("pointerdown",x(this,ln,RC).bind(this),{signal:e}),d(this,bn).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=d(this,bn))!=null&&t.div&&d(this,Ea)&&(d(this,Ea).abort(),E(this,Ea,null),d(this,bn).div.classList.remove("highlighting"))}enableClick(){if(d(this,Dr))return;E(this,Dr,new AbortController);const t=d(this,vt).combinedSignal(d(this,Dr));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=d(this,Dr))==null||t.abort(),E(this,Dr,null)}attach(t){d(this,si).set(t.id,t);const{annotationElementId:e}=t;e&&d(this,vt).isDeletedAnnotationElement(e)&&d(this,vt).removeDeletedAnnotationElement(t)}detach(t){var e;d(this,si).delete(t.id),(e=d(this,gl))==null||e.removePointerInTextLayer(t.contentDiv),!d(this,wu)&&t.annotationElementId&&d(this,vt).addDeletedAnnotationElement(t)}remove(t){this.detach(t),d(this,vt).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,d(this,Eu)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(d(this,vt).addDeletedAnnotationElement(t.annotationElementId),Jt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),d(this,vt).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),d(this,vt).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var i;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!d(this,_a)&&(t._focusEventsAllowed=!1,E(this,_a,setTimeout(()=>{E(this,_a,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:d(this,vt)._signal}),e.focus())},0))),t._structTreeParentId=(i=d(this,gl))==null?void 0:i.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getNextId(){return d(this,vt).getId()}combinedSignal(t){return d(this,vt).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=d(this,ln,H0))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){d(this,vt).updateToolbar(t),d(this,vt).updateMode(t);const{offsetX:i,offsetY:a}=x(this,ln,U0).call(this),l=this.getNextId(),c=x(this,ln,z0).call(this,{parent:this,id:l,x:i,y:a,uiManager:d(this,vt),isCentered:!0,...e});c&&this.add(c)}async deserialize(t){var e;return await((e=d(zi,Lr).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,d(this,vt)))||null}createAndAddNewEditor(t,e,i={}){const a=this.getNextId(),l=x(this,ln,z0).call(this,{parent:this,id:a,x:t.offsetX,y:t.offsetY,uiManager:d(this,vt),isCentered:e,...i});return l&&this.add(l),l}addNewEditor(){this.createAndAddNewEditor(x(this,ln,U0).call(this),!0)}setSelected(t){d(this,vt).setSelected(t)}toggleSelected(t){d(this,vt).toggleSelected(t)}unselect(t){d(this,vt).unselect(t)}pointerup(t){const{isMac:e}=Rn.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&d(this,Or)){if(E(this,Or,!1),!d(this,_u)){E(this,_u,!0);return}if(d(this,vt).getMode()===Nt.STAMP){d(this,vt).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(d(this,vt).getMode()===Nt.HIGHLIGHT&&this.enableTextSelection(),d(this,Or)){E(this,Or,!1);return}const{isMac:e}=Rn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;E(this,Or,!0);const i=d(this,vt).getActive();E(this,_u,!i||i.isEmpty())}findNewParent(t,e,i){const a=d(this,vt).findParent(e,i);return a===null||a===this?!1:(a.changeParent(t),!0)}destroy(){var t,e;((t=d(this,vt).getActive())==null?void 0:t.parent)===this&&(d(this,vt).commitOrRemove(),d(this,vt).setActiveEditor(null)),d(this,_a)&&(clearTimeout(d(this,_a)),E(this,_a,null));for(const i of d(this,si).values())(e=d(this,gl))==null||e.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,d(this,si).clear(),d(this,vt).removeLayer(this)}render({viewport:t}){this.viewport=t,Al(this.div,t);for(const e of d(this,vt).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){d(this,vt).commitOrRemove(),x(this,ln,Mg).call(this);const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,Al(this.div,{rotation:i}),e!==i)for(const a of d(this,si).values())a.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return d(this,vt).viewParameters.realScale}};gl=new WeakMap,_u=new WeakMap,Ms=new WeakMap,Dr=new WeakMap,_a=new WeakMap,si=new WeakMap,Or=new WeakMap,Eu=new WeakMap,wu=new WeakMap,bn=new WeakMap,Ea=new WeakMap,vt=new WeakMap,Lr=new WeakMap,ln=new WeakSet,RC=function(t){d(this,vt).unselectAll();const{target:e}=t;if(e===d(this,bn).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&d(this,bn).div.contains(e)){const{isMac:i}=Rn.platform;if(t.button!==0||t.ctrlKey&&i)return;d(this,vt).showAllEditors("highlight",!0,!0),d(this,bn).div.classList.add("free"),this.toggleDrawing(),Bg.startHighlighting(this,d(this,vt).direction==="ltr",{target:d(this,bn).div,x:t.x,y:t.y}),d(this,bn).div.addEventListener("pointerup",()=>{d(this,bn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:d(this,vt)._signal}),t.preventDefault()}},H0=function(){return d(zi,Lr).get(d(this,vt).getMode())},z0=function(t){const e=d(this,ln,H0);return e?new e.prototype.constructor(t):null},U0=function(){const{x:t,y:e,width:i,height:a}=this.div.getBoundingClientRect(),l=Math.max(0,t),c=Math.max(0,e),h=Math.min(window.innerWidth,t+i),f=Math.min(window.innerHeight,e+a),g=(l+h)/2-t,m=(c+f)/2-e,[b,v]=this.viewport.rotation%180===0?[g,m]:[m,g];return{offsetX:b,offsetY:v}},Mg=function(){E(this,Eu,!0);for(const t of d(this,si).values())t.isEmpty()&&t.remove();E(this,Eu,!1)},xt(zi,"_initialized",!1),C(zi,Lr,new Map([m0,x0,k0,Bg].map(t=>[t._editorType,t])));let F0=zi;var Ds,Sf,Ne,wa,_f,B0,xl,q0,MC;const nn=class nn{constructor({pageIndex:t}){C(this,xl);C(this,Ds,null);C(this,Sf,0);C(this,Ne,new Map);C(this,wa,new Map);this.pageIndex=t}setParent(t){if(!d(this,Ds)){E(this,Ds,t);return}if(d(this,Ds)!==t){if(d(this,Ne).size>0)for(const e of d(this,Ne).values())e.remove(),t.append(e);E(this,Ds,t)}}static get _svgFactory(){return qt(this,"_svgFactory",new dA)}draw(t,e,i,a=!1){const l=wn(this,Sf)._++,c=x(this,xl,q0).call(this,t.box);c.classList.add(...t.classNamesForDrawing);const h=nn._svgFactory.createElement("defs");c.append(h);const f=nn._svgFactory.createElement("path");h.append(f);const g=`path_p${this.pageIndex}_${l}`;f.setAttribute("id",g),f.setAttribute("d",t.toSVGPath()),a&&d(this,wa).set(l,f);const m=x(this,xl,MC).call(this,h,g),b=nn._svgFactory.createElement("use");return c.append(b),c.setAttribute("fill",e),c.setAttribute("fill-opacity",i),b.setAttribute("href",`#${g}`),d(this,Ne).set(l,c),{id:l,clipPathId:`url(#${m})`}}drawOutline(t){const e=wn(this,Sf)._++,i=x(this,xl,q0).call(this,t.box);i.classList.add(...t.classNamesForOutlining);const a=nn._svgFactory.createElement("defs");i.append(a);const l=nn._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${e}`;l.setAttribute("id",c),l.setAttribute("d",t.toSVGPath()),l.setAttribute("vector-effect","non-scaling-stroke");let h;if(t.mustRemoveSelfIntersections){const m=nn._svgFactory.createElement("mask");a.append(m),h=`mask_p${this.pageIndex}_${e}`,m.setAttribute("id",h),m.setAttribute("maskUnits","objectBoundingBox");const b=nn._svgFactory.createElement("rect");m.append(b),b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("fill","white");const v=nn._svgFactory.createElement("use");m.append(v),v.setAttribute("href",`#${c}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const f=nn._svgFactory.createElement("use");i.append(f),f.setAttribute("href",`#${c}`),h&&f.setAttribute("mask",`url(#${h})`);const g=f.cloneNode();return i.append(g),f.classList.add("mainOutline"),g.classList.add("secondaryOutline"),d(this,Ne).set(e,i),e}finalizeLine(t,e){const i=d(this,wa).get(t);d(this,wa).delete(t),this.updateBox(t,e.box),i.setAttribute("d",e.toSVGPath())}updateLine(t,e){d(this,Ne).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(t,e){d(this,wa).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var i;x(i=nn,_f,B0).call(i,d(this,Ne).get(t),e)}show(t,e){d(this,Ne).get(t).classList.toggle("hidden",!e)}rotate(t,e){d(this,Ne).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){d(this,Ne).get(t).setAttribute("fill",e)}changeOpacity(t,e){d(this,Ne).get(t).setAttribute("fill-opacity",e)}addClass(t,e){d(this,Ne).get(t).classList.add(e)}removeClass(t,e){d(this,Ne).get(t).classList.remove(e)}getSVGRoot(t){return d(this,Ne).get(t)}remove(t){d(this,wa).delete(t),d(this,Ds)!==null&&(d(this,Ne).get(t).remove(),d(this,Ne).delete(t))}destroy(){E(this,Ds,null);for(const t of d(this,Ne).values())t.remove();d(this,Ne).clear(),d(this,wa).clear()}};Ds=new WeakMap,Sf=new WeakMap,Ne=new WeakMap,wa=new WeakMap,_f=new WeakSet,B0=function(t,{x:e=0,y:i=0,width:a=1,height:l=1}={}){const{style:c}=t;c.top=`${100*i}%`,c.left=`${100*e}%`,c.width=`${100*a}%`,c.height=`${100*l}%`},xl=new WeakSet,q0=function(t){var i;const e=nn._svgFactory.create(1,1,!0);return d(this,Ds).append(e),e.setAttribute("aria-hidden",!0),x(i=nn,_f,B0).call(i,e,t),e},MC=function(t,e){const i=nn._svgFactory.createElement("clipPath");t.append(i);const a=`clip_${e}`;i.setAttribute("id",a),i.setAttribute("clipPathUnits","objectBoundingBox");const l=nn._svgFactory.createElement("use");return i.append(l),l.setAttribute("href",`#${e}`),l.classList.add("clip"),a},C(nn,_f);let I0=nn;var Vk=Rt.AbortException,Xk=Rt.AnnotationEditorLayer,Yk=Rt.AnnotationEditorParamsType,$k=Rt.AnnotationEditorType,Kk=Rt.AnnotationEditorUIManager,DC=Rt.AnnotationLayer,OC=Rt.AnnotationMode,Wk=Rt.ColorPicker,Qk=Rt.DOMSVGFactory,Zk=Rt.DrawLayer,Jk=Rt.FeatureTest,pA=Rt.GlobalWorkerOptions,tP=Rt.ImageKind,eP=Rt.InvalidPDFException,nP=Rt.MissingPDFException,iP=Rt.OPS,sP=Rt.OutputScale,aP=Rt.PDFDataRangeTransport,rP=Rt.PDFDateString,oP=Rt.PDFWorker,lP=Rt.PasswordResponses,cP=Rt.PermissionFlag,uP=Rt.PixelsPerInch,hP=Rt.RenderingCancelledException,LC=Rt.TextLayer,dP=Rt.UnexpectedResponseException,fP=Rt.Util,pP=Rt.VerbosityLevel,gP=Rt.XfaLayer,mP=Rt.build,yP=Rt.createValidAbsoluteUrl,bP=Rt.fetchData,NC=Rt.getDocument,vP=Rt.getFilenameFromUrl,AP=Rt.getPdfFilenameFromUrl,SP=Rt.getXfaPageViewport,_P=Rt.isDataScheme,EP=Rt.isPdfFile,wP=Rt.noContextMenu,xP=Rt.normalizeUnicode,TP=Rt.setLayerDimensions,CP=Rt.shadow,kC=Rt.version;const RP=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Vk,AnnotationEditorLayer:Xk,AnnotationEditorParamsType:Yk,AnnotationEditorType:$k,AnnotationEditorUIManager:Kk,AnnotationLayer:DC,AnnotationMode:OC,ColorPicker:Wk,DOMSVGFactory:Qk,DrawLayer:Zk,FeatureTest:Jk,GlobalWorkerOptions:pA,ImageKind:tP,InvalidPDFException:eP,MissingPDFException:nP,OPS:iP,OutputScale:sP,PDFDataRangeTransport:aP,PDFDateString:rP,PDFWorker:oP,PasswordResponses:lP,PermissionFlag:cP,PixelsPerInch:uP,RenderingCancelledException:hP,TextLayer:LC,UnexpectedResponseException:dP,Util:fP,VerbosityLevel:pP,XfaLayer:gP,build:mP,createValidAbsoluteUrl:yP,fetchData:bP,getDocument:NC,getFilenameFromUrl:vP,getPdfFilenameFromUrl:AP,getXfaPageViewport:SP,isDataScheme:_P,isPdfFile:EP,noContextMenu:wP,normalizeUnicode:xP,setLayerDimensions:TP,shadow:CP,version:kC},Symbol.toStringTag,{value:"Module"}));var Ye=function(o,t,e){if(e||arguments.length===2)for(var i=0,a=t.length,l;i<a;i++)(l||!(i in t))&&(l||(l=Array.prototype.slice.call(t,0,i)),l[i]=t[i]);return o.concat(l||Array.prototype.slice.call(t))},MP=["onCopy","onCut","onPaste"],DP=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],OP=["onFocus","onBlur"],LP=["onInput","onInvalid","onReset","onSubmit"],NP=["onLoad","onError"],kP=["onKeyDown","onKeyPress","onKeyUp"],PP=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],jP=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],FP=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],HP=["onSelect"],zP=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],UP=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],IP=["onScroll"],BP=["onWheel"],qP=["onAnimationStart","onAnimationEnd","onAnimationIteration"],GP=["onTransitionEnd"],VP=["onToggle"],XP=["onChange"],YP=Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye(Ye([],MP,!0),DP,!0),OP,!0),LP,!0),NP,!0),kP,!0),PP,!0),jP,!0),FP,!0),HP,!0),zP,!0),UP,!0),IP,!0),BP,!0),qP,!0),GP,!0),XP,!0),VP,!0);function PC(o,t){var e={};return YP.forEach(function(i){var a=o[i];a&&(t?e[i]=function(l){return a(l,t(i))}:e[i]=a)}),e}function Df(o){var t=!1,e=new Promise(function(i,a){o.then(function(l){return!t&&i(l)}).catch(function(l){return!t&&a(l)})});return{promise:e,cancel:function(){t=!0}}}function jC(o){var t,e,i="";if(typeof o=="string"||typeof o=="number")i+=o;else if(typeof o=="object")if(Array.isArray(o)){var a=o.length;for(t=0;t<a;t++)o[t]&&(e=jC(o[t]))&&(i&&(i+=" "),i+=e)}else for(e in o)o[e]&&(i&&(i+=" "),i+=e);return i}function Ur(){for(var o,t,e=0,i="",a=arguments.length;e<a;e++)(o=arguments[e])&&(t=jC(o))&&(i&&(i+=" "),i+=t);return i}var $P="Invariant failed";function ae(o,t){if(!o)throw new Error($P)}var cv,b1;function KP(){if(b1)return cv;b1=1;var o=function(){};return cv=o,cv}var WP=KP();const An=Y0(WP);var v1=Object.prototype.hasOwnProperty;function A1(o,t,e){for(e of o.keys())if(Ec(e,t))return e}function Ec(o,t){var e,i,a;if(o===t)return!0;if(o&&t&&(e=o.constructor)===t.constructor){if(e===Date)return o.getTime()===t.getTime();if(e===RegExp)return o.toString()===t.toString();if(e===Array){if((i=o.length)===t.length)for(;i--&&Ec(o[i],t[i]););return i===-1}if(e===Set){if(o.size!==t.size)return!1;for(i of o)if(a=i,a&&typeof a=="object"&&(a=A1(t,a),!a)||!t.has(a))return!1;return!0}if(e===Map){if(o.size!==t.size)return!1;for(i of o)if(a=i[0],a&&typeof a=="object"&&(a=A1(t,a),!a)||!Ec(i[1],t.get(a)))return!1;return!0}if(e===ArrayBuffer)o=new Uint8Array(o),t=new Uint8Array(t);else if(e===DataView){if((i=o.byteLength)===t.byteLength)for(;i--&&o.getInt8(i)===t.getInt8(i););return i===-1}if(ArrayBuffer.isView(o)){if((i=o.byteLength)===t.byteLength)for(;i--&&o[i]===t[i];);return i===-1}if(!e||typeof o=="object"){i=0;for(e in o)if(v1.call(o,e)&&++i&&!v1.call(t,e)||!(e in t)||!Ec(o[e],t[e]))return!1;return Object.keys(t).length===i}}return o!==o&&t!==t}const FC=it.createContext(null);function wc({children:o,type:t}){return L.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:o})}const QP="noopener noreferrer nofollow";class ZP{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return ae(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){ae(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{ae(this.pdfDocument),ae(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{ae(Array.isArray(e));const i=e[0];new Promise(a=>{ae(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(l=>{a(l)}).catch(()=>{ae(!1)}):typeof i=="number"?a(i):ae(!1)}).then(a=>{const l=a+1;ae(this.pdfViewer),ae(l>=1&&l<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:a,pageNumber:l})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;ae(this.pdfViewer),ae(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,i){t.href=e,t.rel=this.externalLinkRel||QP,t.target=i?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const S1={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Tm=typeof window<"u",HC=Tm&&window.location.protocol==="file:";function JP(o){return typeof o<"u"}function co(o){return JP(o)&&o!==null}function tj(o){return typeof o=="string"}function ej(o){return o instanceof ArrayBuffer}function nj(o){return ae(Tm),o instanceof Blob}function G0(o){return tj(o)&&/^data:/.test(o)}function _1(o){ae(G0(o));const[t="",e=""]=o.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function ij(){return Tm&&window.devicePixelRatio||1}const zC="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function E1(){An(!HC,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${zC}`)}function sj(){An(!HC,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${zC}`)}function El(o){o!=null&&o.cancel&&o.cancel()}function V0(o,t){return Object.defineProperty(o,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(o,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(o,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(o,"originalHeight",{get(){return this.view[3]},configurable:!0}),o}function aj(o){return o.name==="RenderingCancelledException"}function rj(o){return new Promise((t,e)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return e(new Error("Error while reading a file."));t(i.result)},i.onerror=a=>{if(!a.target)return e(new Error("Error while reading a file."));const{error:l}=a.target;if(!l)return e(new Error("Error while reading a file."));switch(l.code){case l.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case l.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case l.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},i.readAsArrayBuffer(o)})}function oj(o,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return o}}function Cu(){return it.useReducer(oj,{value:void 0,error:void 0})}var lj=function(o,t,e,i){function a(l){return l instanceof e?l:new e(function(c){c(l)})}return new(e||(e=Promise))(function(l,c){function h(m){try{g(i.next(m))}catch(b){c(b)}}function f(m){try{g(i.throw(m))}catch(b){c(b)}}function g(m){m.done?l(m.value):a(m.value).then(h,f)}g((i=i.apply(o,t||[])).next())})},w1=function(o,t){var e={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&t.indexOf(i)<0&&(e[i]=o[i]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(o);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(o,i[a])&&(e[i[a]]=o[i[a]]);return e};const{PDFDataRangeTransport:cj}=RP,uj=(o,t)=>{switch(t){case S1.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");o(e);break}case S1.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");o(e);break}}};function x1(o){return typeof o=="object"&&o!==null&&("data"in o||"range"in o||"url"in o)}const hj=it.forwardRef(function(t,e){var{children:i,className:a,error:l="Failed to load PDF file.",externalLinkRel:c,externalLinkTarget:h,file:f,inputRef:g,imageResourcesPath:m,loading:b="Loading PDF…",noData:v="No PDF file specified.",onItemClick:A,onLoadError:S,onLoadProgress:w,onLoadSuccess:M,onPassword:T=uj,onSourceError:P,onSourceSuccess:O,options:D,renderMode:k,rotate:H}=t,B=w1(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[V,U]=Cu(),{value:W,error:tt}=V,[ct,ut]=Cu(),{value:ht,error:pt}=ct,Y=it.useRef(new ZP),J=it.useRef([]),et=it.useRef(void 0),_t=it.useRef(void 0);f&&f!==et.current&&x1(f)&&(An(!Ec(f,et.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),et.current=f),D&&D!==_t.current&&(An(!Ec(D,_t.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),_t.current=D);const j=it.useRef({scrollPageIntoView:It=>{const{dest:ce,pageNumber:we,pageIndex:ue=we-1}=It;if(A){A({dest:ce,pageIndex:ue,pageNumber:we});return}const ss=J.current[ue];if(ss){ss.scrollIntoView();return}An(!1,`An internal link leading to page ${we} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});it.useImperativeHandle(e,()=>({linkService:Y,pages:J,viewer:j}),[]);function Q(){O&&O()}function ot(){tt&&(An(!1,tt.toString()),P&&P(tt))}function at(){U({type:"RESET"})}it.useEffect(at,[f,U]);const st=it.useCallback(()=>lj(this,void 0,void 0,function*(){if(!f)return null;if(typeof f=="string")return G0(f)?{data:_1(f)}:(E1(),{url:f});if(f instanceof cj)return{range:f};if(ej(f))return{data:f};if(Tm&&nj(f))return{data:yield rj(f)};if(ae(typeof f=="object"),ae(x1(f)),"url"in f&&typeof f.url=="string"){if(G0(f.url)){const{url:It}=f,ce=w1(f,["url"]),we=_1(It);return Object.assign({data:we},ce)}E1()}return f}),[f]);it.useEffect(()=>{const It=Df(st());return It.promise.then(ce=>{U({type:"RESOLVE",value:ce})}).catch(ce=>{U({type:"REJECT",error:ce})}),()=>{El(It)}},[st,U]),it.useEffect(()=>{if(!(typeof W>"u")){if(W===!1){ot();return}Q()}},[W]);function Et(){ht&&(M&&M(ht),J.current=new Array(ht.numPages),Y.current.setDocument(ht))}function gt(){pt&&(An(!1,pt.toString()),S&&S(pt))}it.useEffect(function(){ut({type:"RESET"})},[ut,W]),it.useEffect(function(){if(!W)return;const ce=D?Object.assign(Object.assign({},W),D):W,we=NC(ce);w&&(we.onProgress=w),T&&(we.onPassword=T);const ue=we,ss=ue.promise.then(as=>{ut({type:"RESOLVE",value:as})}).catch(as=>{ue.destroyed||ut({type:"REJECT",error:as})});return()=>{ss.finally(()=>ue.destroy())}},[D,ut,W]),it.useEffect(()=>{if(!(typeof ht>"u")){if(ht===!1){gt();return}Et()}},[ht]),it.useEffect(function(){Y.current.setViewer(j.current),Y.current.setExternalLinkRel(c),Y.current.setExternalLinkTarget(h)},[c,h]);const wt=it.useCallback((It,ce)=>{J.current[It]=ce},[]),Ot=it.useCallback(It=>{delete J.current[It]},[]),Vt=it.useMemo(()=>({imageResourcesPath:m,linkService:Y.current,onItemClick:A,pdf:ht,registerPage:wt,renderMode:k,rotate:H,unregisterPage:Ot}),[m,A,ht,wt,k,H,Ot]),St=it.useMemo(()=>PC(B,()=>ht),[B,ht]);function cn(){return L.jsx(FC.Provider,{value:Vt,children:i})}function ki(){return f?ht==null?L.jsx(wc,{type:"loading",children:typeof b=="function"?b():b}):ht===!1?L.jsx(wc,{type:"error",children:typeof l=="function"?l():l}):cn():L.jsx(wc,{type:"no-data",children:typeof v=="function"?v():v})}return L.jsx("div",Object.assign({className:Ur("react-pdf__Document",a),ref:g,style:{"--scale-factor":"1"}},St,{children:ki()}))});function UC(){return it.useContext(FC)}function IC(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];var e=o.filter(Boolean);if(e.length<=1){var i=e[0];return i||null}return function(l){e.forEach(function(c){typeof c=="function"?c(l):c&&(c.current=l)})}}const BC=it.createContext(null),qC={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},dj=/^H(\d+)$/;function fj(o){return o in qC}function Cm(o){return"children"in o}function GC(o){return Cm(o)?o.children.length===1&&0 in o.children&&"id"in o.children[0]:!1}function pj(o){const t={};if(Cm(o)){const{role:e}=o,i=e.match(dj);if(i)t.role="heading",t["aria-level"]=Number(i[1]);else if(fj(e)){const a=qC[e];a&&(t.role=a)}}return t}function VC(o){const t={};if(Cm(o)){if(o.alt!==void 0&&(t["aria-label"]=o.alt),o.lang!==void 0&&(t.lang=o.lang),GC(o)){const[e]=o.children;if(e){const i=VC(e);return Object.assign(Object.assign({},t),i)}}}else"id"in o&&(t["aria-owns"]=o.id);return t}function gj(o){return o?Object.assign(Object.assign({},pj(o)),VC(o)):null}function XC({className:o,node:t}){const e=it.useMemo(()=>gj(t),[t]),i=it.useMemo(()=>!Cm(t)||GC(t)?null:t.children.map((a,l)=>L.jsx(XC,{node:a},l)),[t]);return L.jsx("span",Object.assign({className:o},e,{children:i}))}function Rm(){return it.useContext(BC)}function mj(){const o=Rm();ae(o);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=o,[i,a]=Cu(),{value:l,error:c}=i,{customTextRenderer:h,page:f}=o;function g(){l&&e&&e(l)}function m(){c&&(An(!1,c.toString()),t&&t(c))}return it.useEffect(function(){a({type:"RESET"})},[a,f]),it.useEffect(function(){if(h||!f)return;const v=Df(f.getStructTree()),A=v;return v.promise.then(S=>{a({type:"RESOLVE",value:S})}).catch(S=>{a({type:"REJECT",error:S})}),()=>El(A)},[h,f,a]),it.useEffect(()=>{if(l!==void 0){if(l===!1){m();return}g()}},[l]),l?L.jsx(XC,{className:"react-pdf__Page__structTree structTree",node:l}):null}const T1=OC;function yj(o){const t=Rm();ae(t);const e=Object.assign(Object.assign({},t),o),{_className:i,canvasBackground:a,devicePixelRatio:l=ij(),onRenderError:c,onRenderSuccess:h,page:f,renderForms:g,renderTextLayer:m,rotate:b,scale:v}=e,{canvasRef:A}=o;ae(f);const S=it.useRef(null);function w(){f&&h&&h(V0(f,v))}function M(D){aj(D)||(An(!1,D.toString()),c&&c(D))}const T=it.useMemo(()=>f.getViewport({scale:v*l,rotation:b}),[l,f,b,v]),P=it.useMemo(()=>f.getViewport({scale:v,rotation:b}),[f,b,v]);it.useEffect(function(){if(!f)return;f.cleanup();const{current:k}=S;if(!k)return;k.width=T.width,k.height=T.height,k.style.width=`${Math.floor(P.width)}px`,k.style.height=`${Math.floor(P.height)}px`,k.style.visibility="hidden";const H={annotationMode:g?T1.ENABLE_FORMS:T1.ENABLE,canvasContext:k.getContext("2d",{alpha:!1}),viewport:T};a&&(H.background=a);const B=f.render(H),V=B;return B.promise.then(()=>{k.style.visibility="",w()}).catch(M),()=>El(V)},[a,f,g,T,P]);const O=it.useCallback(()=>{const{current:D}=S;D&&(D.width=0,D.height=0)},[]);return it.useEffect(()=>O,[O]),L.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:IC(A,S),style:{display:"block",userSelect:"none"},children:m?L.jsx(mj,{}):null})}function bj(o){return"str"in o}function vj(){const o=Rm();ae(o);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:i,onRenderTextLayerError:a,onRenderTextLayerSuccess:l,page:c,pageIndex:h,pageNumber:f,rotate:g,scale:m}=o;ae(c);const[b,v]=Cu(),{value:A,error:S}=b,w=it.useRef(null);An(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function M(){A&&i&&i(A)}function T(){S&&(An(!1,S.toString()),e&&e(S))}it.useEffect(function(){v({type:"RESET"})},[c,v]),it.useEffect(function(){if(!c)return;const V=Df(c.getTextContent()),U=V;return V.promise.then(W=>{v({type:"RESOLVE",value:W})}).catch(W=>{v({type:"REJECT",error:W})}),()=>El(U)},[c,v]),it.useEffect(()=>{if(A!==void 0){if(A===!1){T();return}M()}},[A]);const P=it.useCallback(()=>{l&&l()},[l]),O=it.useCallback(B=>{An(!1,B.toString()),a&&a(B)},[a]);function D(){const B=w.current;B&&B.classList.add("selecting")}function k(){const B=w.current;B&&B.classList.remove("selecting")}const H=it.useMemo(()=>c.getViewport({scale:m,rotation:g}),[c,g,m]);return it.useLayoutEffect(function(){if(!c||!A)return;const{current:V}=w;if(!V)return;V.innerHTML="";const U=c.streamTextContent({includeMarkedContent:!0}),W={container:V,textContentSource:U,viewport:H},tt=new LC(W),ct=tt;return tt.render().then(()=>{const ut=document.createElement("div");ut.className="endOfContent",V.append(ut);const ht=V.querySelectorAll('[role="presentation"]');if(t){let pt=0;A.items.forEach((Y,J)=>{if(!bj(Y))return;const et=ht[pt];if(!et)return;const _t=t(Object.assign({pageIndex:h,pageNumber:f,itemIndex:J},Y));et.innerHTML=_t,pt+=Y.str&&Y.hasEOL?2:1})}P()}).catch(O),()=>El(ct)},[t,O,P,c,h,f,A,H]),L.jsx("div",{className:Ur("react-pdf__Page__textContent","textLayer"),onMouseUp:k,onMouseDown:D,ref:w})}function Aj(){const o=UC(),t=Rm();ae(t);const e=Object.assign(Object.assign({},o),t),{imageResourcesPath:i,linkService:a,onGetAnnotationsError:l,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:h,onRenderAnnotationLayerSuccess:f,page:g,pdf:m,renderForms:b,rotate:v,scale:A=1}=e;ae(m),ae(g),ae(a);const[S,w]=Cu(),{value:M,error:T}=S,P=it.useRef(null);An(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function O(){M&&c&&c(M)}function D(){T&&(An(!1,T.toString()),l&&l(T))}it.useEffect(function(){w({type:"RESET"})},[w,g]),it.useEffect(function(){if(!g)return;const U=Df(g.getAnnotations()),W=U;return U.promise.then(tt=>{w({type:"RESOLVE",value:tt})}).catch(tt=>{w({type:"REJECT",error:tt})}),()=>{El(W)}},[w,g]),it.useEffect(()=>{if(M!==void 0){if(M===!1){D();return}O()}},[M]);function k(){f&&f()}function H(V){An(!1,`${V}`),h&&h(V)}const B=it.useMemo(()=>g.getViewport({scale:A,rotation:v}),[g,v,A]);return it.useEffect(function(){if(!m||!g||!a||!M)return;const{current:U}=P;if(!U)return;const W=B.clone({dontFlip:!0}),tt={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:U,l10n:null,page:g,structTreeLayer:null,viewport:W},ct={annotations:M,annotationStorage:m.annotationStorage,div:U,imageResourcesPath:i,linkService:a,page:g,renderForms:b,viewport:W};U.innerHTML="";try{new DC(tt).render(ct),k()}catch(ut){H(ut)}return()=>{}},[M,i,a,g,m,b,B]),L.jsx("div",{className:Ur("react-pdf__Page__annotations","annotationLayer"),ref:P})}var Sj=function(o,t){var e={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&t.indexOf(i)<0&&(e[i]=o[i]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(o);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(o,i[a])&&(e[i[a]]=o[i[a]]);return e};const C1=1;function _j(o){const t=UC(),e=Object.assign(Object.assign({},t),o),{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:a=!0,canvasBackground:l,canvasRef:c,children:h,className:f,customRenderer:g,customTextRenderer:m,devicePixelRatio:b,error:v="Failed to load the page.",height:A,inputRef:S,loading:w="Loading page…",noData:M="No page specified.",onGetAnnotationsError:T,onGetAnnotationsSuccess:P,onGetStructTreeError:O,onGetStructTreeSuccess:D,onGetTextError:k,onGetTextSuccess:H,onLoadError:B,onLoadSuccess:V,onRenderAnnotationLayerError:U,onRenderAnnotationLayerSuccess:W,onRenderError:tt,onRenderSuccess:ct,onRenderTextLayerError:ut,onRenderTextLayerSuccess:ht,pageIndex:pt,pageNumber:Y,pdf:J,registerPage:et,renderAnnotationLayer:_t=!0,renderForms:j=!1,renderMode:Q="canvas",renderTextLayer:ot=!0,rotate:at,scale:st=C1,unregisterPage:Et,width:gt}=e,wt=Sj(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Ot,Vt]=Cu(),{value:St,error:cn}=Ot,ki=it.useRef(null);ae(J);const It=co(Y)?Y-1:pt??null,ce=Y??(co(pt)?pt+1:null),we=at??(St?St.rotate:null),ue=it.useMemo(()=>{if(!St)return null;let Os=1;const Ls=st??C1;if(gt||A){const Ml=St.getViewport({scale:1,rotation:we});gt?Os=gt/Ml.width:A&&(Os=A/Ml.height)}return Ls*Os},[A,St,we,st,gt]);it.useEffect(function(){return()=>{co(It)&&a&&Et&&Et(It)}},[a,J,It,Et]);function ss(){if(V){if(!St||!ue)return;V(V0(St,ue))}if(a&&et){if(!co(It)||!ki.current)return;et(It,ki.current)}}function as(){cn&&(An(!1,cn.toString()),B&&B(cn))}it.useEffect(function(){Vt({type:"RESET"})},[Vt,J,It]),it.useEffect(function(){if(!J||!ce)return;const Ls=Df(J.getPage(ce)),Ml=Ls;return Ls.promise.then(Dl=>{Vt({type:"RESOLVE",value:Dl})}).catch(Dl=>{Vt({type:"REJECT",error:Dl})}),()=>El(Ml)},[Vt,J,ce]),it.useEffect(()=>{if(St!==void 0){if(St===!1){as();return}ss()}},[St,ue]);const Du=it.useMemo(()=>St&&co(It)&&ce&&co(we)&&co(ue)?{_className:i,canvasBackground:l,customTextRenderer:m,devicePixelRatio:b,onGetAnnotationsError:T,onGetAnnotationsSuccess:P,onGetStructTreeError:O,onGetStructTreeSuccess:D,onGetTextError:k,onGetTextSuccess:H,onRenderAnnotationLayerError:U,onRenderAnnotationLayerSuccess:W,onRenderError:tt,onRenderSuccess:ct,onRenderTextLayerError:ut,onRenderTextLayerSuccess:ht,page:St,pageIndex:It,pageNumber:ce,renderForms:j,renderTextLayer:ot,rotate:we,scale:ue}:null,[i,l,m,b,T,P,O,D,k,H,U,W,tt,ct,ut,ht,St,It,ce,j,ot,we,ue]),Ou=it.useMemo(()=>PC(wt,()=>St&&(ue?V0(St,ue):void 0)),[wt,St,ue]),Na=`${It}@${ue}/${we}`;function Om(){switch(Q){case"custom":return ae(g),L.jsx(g,{},`${Na}_custom`);case"none":return null;case"canvas":default:return L.jsx(yj,{canvasRef:c},`${Na}_canvas`)}}function Lm(){return ot?L.jsx(vj,{},`${Na}_text`):null}function hi(){return _t?L.jsx(Aj,{},`${Na}_annotations`):null}function Nm(){return L.jsxs(BC.Provider,{value:Du,children:[Om(),Lm(),hi(),h]})}function Lf(){return ce?J===null||St===void 0||St===null?L.jsx(wc,{type:"loading",children:typeof w=="function"?w():w}):J===!1||St===!1?L.jsx(wc,{type:"error",children:typeof v=="function"?v():v}):Nm():L.jsx(wc,{type:"no-data",children:typeof M=="function"?M():M})}return L.jsx("div",Object.assign({className:Ur(i,f),"data-page-number":ce,ref:IC(S,ki),style:{"--scale-factor":`${ue}`,backgroundColor:l||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Ou,{children:Lf()}))}sj();pA.workerSrc="pdf.worker.mjs";pA.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${kC}/pdf.worker.min.mjs`;function Ej(){const o=ns(),{deployment:t}=Kt(D=>D.session),{resumeName:e,resumeText:i,resumeUrl:a,resumeSummary:l,resumeImprovements:c}=Kt(D=>D.resume),{loadingSummary:h,loadingResumeImprovements:f}=Kt(D=>D.session),g=async D=>{const k=URL.createObjectURL(D);o(H2(k)),o(j2(D.name));const H=new FormData;H.append("resume",D);const B=await fetch(t+"/get-resume-text",{method:"POST",body:H});if(B.ok){const V=await B.text();o(F2(V))}else alert("Failed to parse resume text.")},m=async()=>{o(xw(!0));const D=new FormData;D.append("resume",i);const k=await fetch(t+"/summarize-resume",{method:"POST",body:D});if(k.ok){const H=await k.json();o(z2(H.summary))}o(xw(!1))},b=async()=>{o(Tw(!0));const D=new FormData;D.append("resume",i);const k=await fetch(t+"/improve-resume",{method:"POST",body:D});if(k.ok){const H=await k.json();o(U2(H.improvements))}o(Tw(!1))},v=()=>{a?window.open(a,"_blank"):alert("No resume found.")},A=()=>{o(I2());const D=document.createElement("input");D.type="file",D.accept="application/pdf",D.onchange=k=>g(k.target.files[0]),D.click()},S=()=>{window.confirm("Are you sure you want to update the resume? This will clear the current resume.")&&A()},w=()=>a?L.jsxs("div",{id:"resume-header",children:[L.jsxs("div",{id:"resume-subheader",children:[L.jsx("button",{onClick:S,children:"Update Resume"}),"   ",L.jsx("div",{id:"resume-name",children:e})]}),L.jsx("button",{onClick:v,id:"resume-redirect",children:L.jsx("img",{src:BL,alt:"Redirect to your uploaded resume",width:"30px"})})]}):L.jsx("div",{id:"resume-header",children:L.jsx("button",{onClick:A,children:"Upload Resume"})}),M=()=>a?L.jsx("div",{id:"resume-preview",children:L.jsx(hj,{file:a,children:L.jsx(_j,{pageNumber:1,renderAnnotationLayer:!1,renderTextLayer:!1})})}):null,T=()=>!l&&!h?null:L.jsxs("div",{id:"resume-summary",children:[L.jsx("h3",{children:"Resume Summary"}),l?L.jsx("p",{children:l}):L.jsx(kr,{loading:h,message:"Summarizing resume..."})]}),P=()=>L.jsxs("div",{id:"resume-improvements",children:[(c||f)&&L.jsx("h3",{style:{textAlign:"center"},children:"Resume Improvements"}),c?L.jsx("ul",{children:c.map((D,k)=>L.jsx("li",{className:"resume-improvement",children:D},k))}):L.jsx(kr,{loading:f,message:"Suggesting improvements..."})]}),O=()=>a?L.jsxs("div",{id:"resume-action-buttons",children:[L.jsx("button",{onClick:m,children:"Summarize Resume"}),L.jsx("button",{onClick:b,children:"Suggest Improvements"})]}):null;return L.jsxs("div",{style:{minHeight:"30vh"},children:[L.jsx("h2",{className:"section-heading",children:"RESUME SECTION"})," ",L.jsxs("div",{id:"resume-section",children:[L.jsxs("div",{id:"resume-upload-section",children:[L.jsx(w,{}),L.jsx(T,{}),L.jsx(M,{})]})," ",a&&L.jsxs("div",{id:"resume-operations-section",children:[L.jsx(O,{}),L.jsx(P,{})]})]})]})}const wj="/radar_frontend/assets/error-D1e63qVc.gif";function xj({errorMessage:o}){return L.jsxs("div",{className:"error-container",children:[L.jsx("img",{src:wj,alt:"Error Sign",width:"100px",height:"100px"}),L.jsx("h3",{className:"error-message",children:o}),L.jsxs("div",{className:"error-footnote",children:["Please report back to me at ",L.jsx("u",{children:L.jsx("a",{href:"mailto:gargmu@tcd",style:{textDecoration:"none",color:"black"},children:"gargmu@tcd.ie"})})]})]})}function Tj(){const o=ns(),{serverStatus:t,deployment:e,loadingApplyData:i,logoClientId:a}=Kt(T=>T.session),[l,c]=it.useState(null),[h,f]=it.useState(""),[g,m]=it.useState(l),b="https://cdn.brandfetch.io/";it.useEffect(()=>{const T=async()=>{const O=await fetch(e+"/get-apply-data",{method:"GET"});if(O.ok){const D=await O.json();c(D),m(D),o(Jb(!1))}};a||(async()=>{const O=await fetch(e+"/get-logo-client-id",{method:"GET"});if(O.ok){const D=await O.text();o(K1(D))}})().then(()=>T())},[]),it.useEffect(()=>{o(Jb(!(t==="🔴 Offline"||t==="🟢 Online")))},[t]);function v(T){f(T.target.value)}const A=T=>{if(!l)return;T=T.toLowerCase();const P=l.map(O=>{const D=O.data.filter(k=>k.name.toLowerCase().includes(T)||k.portal_link.toLowerCase().includes(T)||k.domain.toLowerCase().includes(T));return D.length>0||O.category.toLowerCase().includes(T)?{...O,data:D.length>0?D:O.data}:null}).filter(Boolean);m(P)};it.useEffect(()=>{A(h)},[h]);function S(T){return T=T.company,L.jsxs("a",{className:"apply-button",href:T.portal_link,target:"_blank",rel:"noopener noreferrer",children:[L.jsx("img",{className:"company-logo",src:`${b}${T.domain}?c=${a}`,alt:T.name}),L.jsx("div",{className:"company-name",children:T.name})]})}function w(T){return T=T.category,L.jsxs("div",{className:"apply-category",children:[L.jsx("h2",{className:"category-name",children:T.category}),L.jsx("div",{className:"company-list",children:T.data.map((P,O)=>L.jsx(S,{company:P},O))})]})}function M(T){return T.map((P,O)=>L.jsx(w,{category:P},O))}return L.jsxs("div",{id:"apply-section",children:[L.jsx("h2",{className:"section-heading",children:"APPLY DIRECTLY THROUGH THEIR PORTAL"}),L.jsx("p",{children:"I felt by the time a role was advertised on universal job portals like LinkedIn or Glassdoor, it would be too late to apply. With the current job market, it has become very competitive and a little late is a little too late. Hence, I used to apply directly through each company's portal. The problem was that it was not a structured effort and I used to apply to any company that came to my mind and resonated with me. This section would hence help to improve this process."}),L.jsx("p",{children:"I had also tried to research to find out if there are any data endpoints or public APIs that I could leverage so that I could accumulate all jobs in a single place but unfortunately that wasn't possible. It struck me later that if that would have been possible, most universal job portals would have not been competing for the applicants' attention."}),L.jsx("p",{children:"In some cases, I too felt like going to these universal job portals. Hence I have included them at the end of this section as well."}),L.jsx("h4",{children:"Please Note, there is no affiliation between RaDAR and any of these companies. These are just the direct links to the list of job opportunties there."}),L.jsx("h3",{children:"Happy Applying!"}),L.jsx(kr,{loading:i,message:"Loading the Portal List"}),l&&L.jsxs(L.Fragment,{children:[L.jsx("input",{type:"text",placeholder:"Search company ...",value:h,onChange:v,id:"search-company"}),h==""?M(l):M(g)]}),!l&&!i&&L.jsx(xj,{errorMessage:"There's something wrong with the server."})]})}function Cj(){const o=ns(),{serverStatus:t}=Kt(e=>e.session);return L.jsxs("div",{id:"introduction-section",children:[L.jsx("div",{id:"website-title",children:"RaDAR"}),L.jsx("div",{id:"server-status",children:t}),L.jsx("h3",{id:"website-subtitle",children:"Resume and Description Analysis Resource"}),L.jsx("p",{children:"Job Search can be a very daunting journey, one filled with a lot of failures. I, myself, am currently (as of March 2025) going through the same journey. With the current job market, the competition has become very tough. From layoffs going on one side of the industry, to even experienced candidates applying for entry level roles, getting an opportunity has never felt short of a battle."}),L.jsx("p",{children:"Anything help or guidance at this instance can be a blessing in disguise. Any suggestion for resume improvement, any suggestion for job hunting strategy improvement, anything could be your edge against other candidates out there. So I decided to create a tool that can help you in your job search journey."}),L.jsx("p",{children:"RaDAR is a tool I came up with which incorporates all the suggestions I have ever been given to optimize my job search, improve my resume, and improve my job hunting strategy."}),L.jsxs("div",{id:"introduction-section-footnote",children:[L.jsx("a",{href:"https://muditgarg48.github.io/",target:"_blank",rel:"noopener noreferrer",children:L.jsx("button",{children:"About the Developer"})}),"   ",L.jsx("button",{onClick:()=>o(k2()),children:"Invalidate Caches"})]})]})}var uv={exports:{}},hv,R1;function Rj(){if(R1)return hv;R1=1;var o="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return hv=o,hv}var dv,M1;function Mj(){if(M1)return dv;M1=1;var o=Rj();function t(){}function e(){}return e.resetWarningCache=t,dv=function(){function i(c,h,f,g,m,b){if(b!==o){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}i.isRequired=i;function a(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:e,resetWarningCache:t};return l.PropTypes=l,l},dv}var D1;function Dj(){return D1||(D1=1,uv.exports=Mj()()),uv.exports}var YC=Dj();function gA(o){return t=>!!t.type&&t.type.tabsRole===o}const Of=gA("Tab"),Mm=gA("TabList"),Dm=gA("TabPanel");function Oj(o){return Of(o)||Mm(o)||Dm(o)}function X0(o,t){return it.Children.map(o,e=>e===null?null:Oj(e)?t(e):e.props&&e.props.children&&typeof e.props.children=="object"?it.cloneElement(e,Object.assign({},e.props,{children:X0(e.props.children,t)})):e)}function qg(o,t){return it.Children.forEach(o,e=>{e!==null&&(Of(e)||Dm(e)?t(e):e.props&&e.props.children&&typeof e.props.children=="object"&&(Mm(e)&&t(e),qg(e.props.children,t)))})}function $C(o,t,e){let i,a=0,l=0,c=!1;const h=[],f=o[t];return qg(f,g=>{Mm(g)&&(g.props&&g.props.children&&typeof g.props.children=="object"&&qg(g.props.children,m=>h.push(m)),c&&(i=new Error("Found multiple 'TabList' components inside 'Tabs'. Only one is allowed.")),c=!0),Of(g)?((!c||h.indexOf(g)===-1)&&(i=new Error("Found a 'Tab' component outside of the 'TabList' component. 'Tab' components have to be inside the 'TabList' component.")),a++):Dm(g)&&l++}),!i&&a!==l&&(i=new Error(`There should be an equal number of 'Tab' and 'TabPanel' in \`${e}\`. Received ${a} 'Tab' and ${l} 'TabPanel'.`)),i}function Lj(o,t,e,i,a){const l=o[t],c=a||t;let h=null;return l&&typeof l!="function"?h=new Error(`Invalid ${i} \`${c}\` of type \`${typeof l}\` supplied to \`${e}\`, expected \`function\`.`):o.selectedIndex!=null&&l==null&&(h=new Error(`The ${i} \`${c}\` is marked as required in \`${e}\`, but its value is \`undefined\` or \`null\`.
\`onSelect\` is required when \`selectedIndex\` is also set. Not doing so will make the tabs not do anything, as \`selectedIndex\` indicates that you want to handle the selected tab yourself.
If you only want to set the inital tab replace \`selectedIndex\` with \`defaultIndex\`.`)),h}function Nj(o,t,e,i,a){const l=o[t],c=a||t;let h=null;if(l!=null&&typeof l!="number")h=new Error(`Invalid ${i} \`${c}\` of type \`${typeof l}\` supplied to \`${e}\`, expected \`number\`.`);else if(o.defaultIndex!=null&&l!=null)return new Error(`The ${i} \`${c}\` cannot be used together with \`defaultIndex\` in \`${e}\`.
Either remove \`${c}\` to let \`${e}\` handle the selected tab internally or remove \`defaultIndex\` to handle it yourself.`);return h}function KC(o){let t=0;return qg(o,e=>{Of(e)&&t++}),t}const kj=["children","className","disabledTabClassName","domRef","focus","forceRenderTabPanel","onSelect","selectedIndex","selectedTabClassName","selectedTabPanelClassName","environment","disableUpDownKeys","disableLeftRightKeys"];function Pj(o,t){if(o==null)return{};var e={};for(var i in o)if({}.hasOwnProperty.call(o,i)){if(t.includes(i))continue;e[i]=o[i]}return e}function WC(o){return o&&"getAttribute"in o}function O1(o){return WC(o)&&o.getAttribute("data-rttab")}function uo(o){return WC(o)&&o.getAttribute("aria-disabled")==="true"}let Gg;function jj(o){const t=o||(typeof window<"u"?window:void 0);try{Gg=!!(typeof t<"u"&&t.document&&t.document.activeElement)}catch{Gg=!1}}const Fj={className:"react-tabs",focus:!1},Hj={children:$C},zj=o=>{YC.checkPropTypes(Hj,o,"prop","UncontrolledTabs");let t=it.useRef([]),e=it.useRef([]);const i=it.useRef();function a(O,D){if(O<0||O>=g())return;const{onSelect:k,selectedIndex:H}=o;k(O,H,D)}function l(O){const D=g();for(let k=O+1;k<D;k++)if(!uo(m(k)))return k;for(let k=0;k<O;k++)if(!uo(m(k)))return k;return O}function c(O){let D=O;for(;D--;)if(!uo(m(D)))return D;for(D=g();D-- >O;)if(!uo(m(D)))return D;return O}function h(){const O=g();for(let D=0;D<O;D++)if(!uo(m(D)))return D;return null}function f(){let O=g();for(;O--;)if(!uo(m(O)))return O;return null}function g(){const{children:O}=o;return KC(O)}function m(O){return t.current[`tabs-${O}`]}function b(){let O=0;const{children:D,disabledTabClassName:k,focus:H,forceRenderTabPanel:B,selectedIndex:V,selectedTabClassName:U,selectedTabPanelClassName:W,environment:tt}=o;e.current=e.current||[];let ct=e.current.length-g();const ut=it.useId();for(;ct++<0;)e.current.push(`${ut}${e.current.length}`);return X0(D,ht=>{let pt=ht;if(Mm(ht)){let Y=0,J=!1;Gg==null&&jj(tt);const et=tt||(typeof window<"u"?window:void 0);Gg&&et&&(J=xu.Children.toArray(ht.props.children).filter(Of).some((_t,j)=>et.document.activeElement===m(j))),pt=it.cloneElement(ht,{children:X0(ht.props.children,_t=>{const j=`tabs-${Y}`,Q=V===Y,ot={tabRef:at=>{t.current[j]=at},id:e.current[Y],selected:Q,focus:Q&&(H||J)};return U&&(ot.selectedClassName=U),k&&(ot.disabledClassName=k),Y++,it.cloneElement(_t,ot)})})}else if(Dm(ht)){const Y={id:e.current[O],selected:V===O};B&&(Y.forceRender=B),W&&(Y.selectedClassName=W),O++,pt=it.cloneElement(ht,Y)}return pt})}function v(O){const{direction:D,disableUpDownKeys:k,disableLeftRightKeys:H}=o;if(S(O.target)){let{selectedIndex:B}=o,V=!1,U=!1;(O.code==="Space"||O.keyCode===32||O.code==="Enter"||O.keyCode===13)&&(V=!0,U=!1,A(O)),!H&&(O.keyCode===37||O.code==="ArrowLeft")||!k&&(O.keyCode===38||O.code==="ArrowUp")?(D==="rtl"?B=l(B):B=c(B),V=!0,U=!0):!H&&(O.keyCode===39||O.code==="ArrowRight")||!k&&(O.keyCode===40||O.code==="ArrowDown")?(D==="rtl"?B=c(B):B=l(B),V=!0,U=!0):O.keyCode===35||O.code==="End"?(B=f(),V=!0,U=!0):(O.keyCode===36||O.code==="Home")&&(B=h(),V=!0,U=!0),V&&O.preventDefault(),U&&a(B,O)}}function A(O){let D=O.target;do if(S(D)){if(uo(D))return;const k=[].slice.call(D.parentNode.children).filter(O1).indexOf(D);a(k,O);return}while((D=D.parentNode)!=null)}function S(O){if(!O1(O))return!1;let D=O.parentElement;do{if(D===i.current)return!0;if(D.getAttribute("data-rttabs"))break;D=D.parentElement}while(D);return!1}const w=Object.assign({},Fj,o),{className:M,domRef:T}=w,P=Pj(w,kj);return xu.createElement("div",Object.assign({},P,{className:Ur(M),onClick:A,onKeyDown:v,ref:O=>{i.current=O,T&&T(O)},"data-rttabs":!0}),b())},Uj=["children","defaultFocus","defaultIndex","focusTabOnClick","onSelect"];function Ij(o,t){if(o==null)return{};var e={};for(var i in o)if({}.hasOwnProperty.call(o,i)){if(t.includes(i))continue;e[i]=o[i]}return e}const Bj=0,Dg=1,qj={children:$C,onSelect:Lj,selectedIndex:Nj},Gj={defaultFocus:!1,focusTabOnClick:!0,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1,disableLeftRightKeys:!1},Vj=o=>o.selectedIndex===null?Dg:Bj,mA=o=>{YC.checkPropTypes(qj,o,"prop","Tabs");const t=Object.assign({},Gj,o),{children:e,defaultFocus:i,defaultIndex:a,focusTabOnClick:l,onSelect:c}=t,h=Ij(t,Uj),[f,g]=it.useState(i),[m]=it.useState(Vj(h)),[b,v]=it.useState(m===Dg?a||0:null);if(it.useEffect(()=>{g(!1)},[]),m===Dg){const w=KC(e);it.useEffect(()=>{if(b!=null){const M=Math.max(0,w-1);v(Math.min(b,M))}},[w])}const A=(w,M,T)=>{typeof c=="function"&&c(w,M,T)===!1||(l&&g(!0),m===Dg&&v(w))};let S=Object.assign({},o,h);return S.focus=f,S.onSelect=A,b!=null&&(S.selectedIndex=b),delete S.defaultFocus,delete S.defaultIndex,delete S.focusTabOnClick,xu.createElement(zj,S,e)};mA.tabsRole="Tabs";const Xj=["children","className"];function Yj(o,t){if(o==null)return{};var e={};for(var i in o)if({}.hasOwnProperty.call(o,i)){if(t.includes(i))continue;e[i]=o[i]}return e}const $j={className:"react-tabs__tab-list"},yA=o=>{const t=Object.assign({},$j,o),{children:e,className:i}=t,a=Yj(t,Xj);return xu.createElement("ul",Object.assign({},a,{className:Ur(i),role:"tablist"}),e)};yA.tabsRole="TabList";const Kj=["children","className","disabled","disabledClassName","focus","id","selected","selectedClassName","tabIndex","tabRef"];function Wj(o,t){if(o==null)return{};var e={};for(var i in o)if({}.hasOwnProperty.call(o,i)){if(t.includes(i))continue;e[i]=o[i]}return e}const fv="react-tabs__tab",Qj={className:fv,disabledClassName:`${fv}--disabled`,focus:!1,id:null,selected:!1,selectedClassName:`${fv}--selected`},xc=o=>{let t=it.useRef();const e=Object.assign({},Qj,o),{children:i,className:a,disabled:l,disabledClassName:c,focus:h,id:f,selected:g,selectedClassName:m,tabIndex:b,tabRef:v}=e,A=Wj(e,Kj);return it.useEffect(()=>{g&&h&&t.current.focus()},[g,h]),xu.createElement("li",Object.assign({},A,{className:Ur(a,{[m]:g,[c]:l}),ref:S=>{t.current=S,v&&v(S)},role:"tab",id:`tab${f}`,"aria-selected":g?"true":"false","aria-disabled":l?"true":"false","aria-controls":`panel${f}`,tabIndex:b||(g?"0":null),"data-rttab":!0}),i)};xc.tabsRole="Tab";const Zj=["children","className","forceRender","id","selected","selectedClassName"];function Jj(o,t){if(o==null)return{};var e={};for(var i in o)if({}.hasOwnProperty.call(o,i)){if(t.includes(i))continue;e[i]=o[i]}return e}const L1="react-tabs__tab-panel",tF={className:L1,forceRender:!1,selectedClassName:`${L1}--selected`},Tc=o=>{const t=Object.assign({},tF,o),{children:e,className:i,forceRender:a,id:l,selected:c,selectedClassName:h}=t,f=Jj(t,Zj);return xu.createElement("div",Object.assign({},f,{className:Ur(i,{[h]:c}),role:"tabpanel",id:`panel${l}`,"aria-labelledby":`tab${l}`}),a||c?e:null)};Tc.tabsRole="TabPanel";const QC="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%3e%3cpath%20d='M16%208.016A8.522%208.522%200%20008.016%2016h-.032A8.521%208.521%200%20000%208.016v-.032A8.521%208.521%200%20007.984%200h.032A8.522%208.522%200%200016%207.984v.032z'%20fill='url(%23prefix__paint0_radial_980_20147)'/%3e%3cdefs%3e%3cradialGradient%20id='prefix__paint0_radial_980_20147'%20cx='0'%20cy='0'%20r='1'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(16.1326%205.4553%20-43.70045%20129.2322%201.588%206.503)'%3e%3cstop%20offset='.067'%20stop-color='%239168C0'/%3e%3cstop%20offset='.343'%20stop-color='%235684D1'/%3e%3cstop%20offset='.672'%20stop-color='%231BA1E3'/%3e%3c/radialGradient%3e%3c/defs%3e%3c/svg%3e";async function ZC(o,t,e,i=null){const a=ex.getState().session.deployment;let l=JSON.parse(localStorage.getItem(o));if(l!=null){if(t in l)return l[t]}else l={},localStorage.setItem(o,JSON.stringify(l));const c=await fetch(a+e,i);if(c.ok){const h=await c.json();return l[t]=h,localStorage.setItem(o,JSON.stringify(l)),h}else return console.alert("Fetching data for "+t+" within "+o+" cache, got a weird response. Check console logs."),console.log(c),c}function JC(){const o=ns(),{deployment:t,logoClientId:e}=Kt(l=>l.session),{companyName:i,companyDomain:a}=Kt(l=>l.company);return it.useEffect(()=>{const l=async()=>{const h=await fetch(t+"/get-logo-client-id",{method:"GET"});if(h.ok){const f=await h.text();o(K1(f))}},c=async()=>{const h=await ZC("RADAR_CACHED_COMPANY_DOMAINS",i.toLowerCase(),"/get-company-domain",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company:i})});o(W2(h.domain))};e||l(),a||c()},[]),i==="UNSPECIFIED"?null:e&&a&&L.jsx("img",{className:"company-logo",src:`https://cdn.brandfetch.io/${a}?c=${e}`,alt:i})}function eF(){const o=ns(),{deployment:t,processingJobDescription:e}=Kt(U=>U.session),{jobTitle:i,jobDescription:a,jdKeywords:l,jdKeyNotes:c,benefits:h,sponsorship:f,experienceLevel:g,salaryBracket:m,teamName:b,location:v}=Kt(U=>U.job),{companyName:A}=Kt(U=>U.company),{resumeText:S,resumeAlignmentScore:w}=Kt(U=>U.resume),[M,T]=it.useState(!1);async function P(){T(!0);const U=new FormData;U.append("resume",S),U.append("jd",a),U.append("company",A),U.append("position",i);const W=await fetch(t+"/get-resume-alignment-score",{method:"POST",body:U});if(W.ok){const tt=await W.json();o(Q1(tt.alignment_score))}else alert("Failed to get resume alignment score. "+W.text().error);T(!1)}const O=()=>{if(M)return L.jsx("div",{id:"loading-resume-alignment-score",children:L.jsx(kr,{loading:M,message:"Calculating resume alignment score..."})});if(!a||e)return null;if(S){if(!w)return L.jsxs("button",{id:"calculate-resume-alignment-score",style:{margin:"1% 0"},onClick:P,children:[L.jsx("img",{src:QC,alt:"Calculate Resume Alignment Score",width:"20px",height:"25px"}),"   ",L.jsx("span",{children:"Calculate Resume Alignment Score"})]})}else return L.jsx("div",{className:"section-footnote",children:L.jsxs("em",{children:[L.jsx("a",{href:"#introduction-section",children:"Add resume"})," to get resume alignment score."]})});if(w)return L.jsxs("div",{id:"resume-alignment-score",children:["Alignment Score:",L.jsxs("b",{className:w>=80?"A alignment-score":w<80&&w>=60?"B alignment-score":w<60&&w>=40?"C alignment-score":w<40&&w>=20?"D alignment-score":"F alignment-score",children:[w,"%"]})]})},D=()=>!i||!A?null:L.jsxs("div",{id:"jd-header",children:[L.jsxs("div",{id:"jd-within-header-title",children:[L.jsx(JC,{}),"   ",L.jsxs("div",{children:[i&&L.jsx("div",{id:"jd-title",children:i}),A&&L.jsx("div",{id:"jd-company",children:A})]})]}),L.jsx(O,{})]}),k=()=>{if(!A)return null;let U=null,W=null,tt=null;return m&&(U=m.split(";")),g&&(W=g.split(";")),v&&(tt=v.split(";")),L.jsxs("div",{id:"jd-subheader",children:[b&&L.jsxs("div",{id:"jd-team-name",children:[L.jsx("span",{children:"👥"}),"   ",L.jsx("span",{children:b})]}),U&&L.jsxs("div",{id:"jd-salary-bracket",children:[L.jsx("span",{children:"🤑"}),"   ",L.jsx("div",{children:U.map((ct,ut)=>L.jsx("div",{children:ct},ut))})]}),W&&L.jsxs("div",{id:"jd-experience-level",children:[L.jsx("span",{children:"🏢"}),"   ",L.jsx("div",{children:W.map((ct,ut)=>L.jsx("div",{children:ct},ut))})]}),f&&L.jsxs("div",{id:"jd-sponsorship",children:["Visa Sponsorship: ",f?"✅":"❌"]}),tt&&L.jsxs("div",{id:"jd-location",children:[L.jsx("span",{children:"📌"}),"   ",L.jsx("div",{children:tt.map((ct,ut)=>L.jsx("div",{children:ct},ut))})]})]})};function H(U){return S?S.toLowerCase().includes(U.toLowerCase()):!1}const B=()=>l?L.jsxs("div",{children:[L.jsx("ul",{id:"jd-keywords-section",children:l.map((U,W)=>L.jsx("li",{className:H(U)?"jd-keyword keyword-present":"jd-keyword",children:U},W))}),S?L.jsxs("div",{className:"section-footnote",children:[L.jsx("span",{className:"jd-keyword keyword-present",children:"Green"})," indicate that the keyword was found in your resume."]}):L.jsx("div",{className:"section-footnote",children:S?L.jsxs("em",{children:[L.jsx("a",{href:"#jd-section",children:"Process JD"})," to highlight which keywords were found in your resume."]}):L.jsxs("em",{children:[L.jsx("a",{href:"#introduction-section",children:"Add resume"})," and process JD again to check which keywords were found in your resume."]})})," "]}):null,V=()=>c?L.jsxs("div",{children:[h&&L.jsxs("div",{id:"jd-benefits",children:[L.jsx("h3",{children:"💪  Key Benefits"}),L.jsx("ul",{children:h.map((U,W)=>L.jsx("li",{children:U},W))})]}),L.jsx("h3",{children:"📝  Note:"}),L.jsx("ul",{id:"jd-note",children:c.map((U,W)=>L.jsx("li",{children:U},W))})]}):null;return L.jsxs("div",{id:"job-section",children:[L.jsx(kr,{loading:e,message:"Processing the Job Description"}),L.jsx(D,{}),L.jsx(k,{}),L.jsx(B,{}),L.jsx(V,{})]})}const nF="/radar_frontend/assets/core_values-4ZC1arGG.gif";function iF(){const o=ns(),{jobTitle:t}=Kt(c=>c.job),{companyName:e,companyValues:i,companyValuesLink:a}=Kt(c=>c.company),{fetchingCompanyValues:l}=Kt(c=>c.session);return it.useEffect(()=>{i||(async()=>{o(Rw(!0));const h=await ZC("RADAR_CACHED_COMPANY_VALUES",e.toLowerCase(),"/get-company-values",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({job_title:t,company:e})});o($2(h.values)),o(K2(h.link)),o(Rw(!1))})()},[e]),L.jsx("div",{id:"company-values",className:"section-container",children:l?L.jsx("div",{style:{margin:"1% 0"},children:L.jsx(kr,{loading:l,message:"Fetching company values..."})}):L.jsxs("div",{children:[L.jsxs("div",{id:"company-values-redirect",children:[L.jsx("img",{src:nF,width:"50px"}),"   ",L.jsx("h2",{children:"Core Values"}),L.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:"🔗"})]}),i&&i.map((c,h)=>L.jsxs("div",{className:"company-value-item",children:[L.jsx("div",{children:L.jsx("strong",{children:c.value_name})}),L.jsx("div",{children:L.jsx("em",{children:c.value_explanation})}),L.jsx("ul",{children:c.value_usage_recommendations_in_interview.map((f,g)=>L.jsx("li",{children:f},g))})]},h))]})})}const sF="/radar_frontend/assets/levelfyi-DrBVGahx.svg",aF="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%20id='Glassdoor--Streamline-Simple-Icons'%20height='24'%20width='24'%3e%3cdesc%3e%20Glassdoor%20Streamline%20Icon:%20https://streamlinehq.com%20%3c/desc%3e%3ctitle%3eGlassdoor%3c/title%3e%3cpath%20d='M14.1093%200.0006c-0.0749%20-0.0074%20-0.1348%200.0522%20-0.1348%200.127v3.451c0%200.0673%200.0537%200.1194%200.121%200.127%202.619%200.172%204.6092%200.9501%204.6092%203.6814H13.086a0.1343%200.1343%200%200%200%20-0.1348%200.1347v8.9644c0%200.0748%200.06%200.1347%200.1348%200.1347h10.0034c0.0748%200%200.1347%20-0.0599%200.1347%20-0.1347V7.342c0%20-2.2374%20-0.7996%20-4.0558%20-2.4159%20-5.3279C19.3191%200.8469%2017.0874%200.1428%2014.1093%200.0006ZM0.9107%207.387a0.1342%200.1342%200%200%200%20-0.1347%200.1347v8.9566c0%200.0748%200.06%200.1347%200.1347%200.1347h5.6189c0%202.7313%20-1.9902%203.5094%20-4.6091%203.6815%20-0.0674%200.0075%20-0.1192%200.0596%20-0.1192%200.127v3.451c0%200.0747%200.06%200.1343%200.1348%200.1269%202.9781%20-0.1422%205.2078%20-0.8463%206.6969%20-2.0136%201.6163%20-1.272%202.4159%20-3.0905%202.4159%20-5.3278V7.5217a0.1343%200.1343%200%200%200%20-0.1348%20-0.1347z'%20fill='%23187443'%20stroke-width='1'%3e%3c/path%3e%3c/svg%3e";function rF(){const o=ns(),{companyName:t,companyGlassdoorLink:e}=Kt(f=>f.company),{companyValuesVisibility:i}=Kt(f=>f.session);it.useEffect(()=>{t&&!e&&o(Q2("https://www.glassdoor.ie/Reviews/index.htm?filterType=RATING_OVERALL&employerName="+t.toLowerCase().replace(" ","+")+"&page=1&overall_rating_low=1"))},[]);const a=()=>L.jsx("a",{href:"https://www.levels.fyi/",target:"_blank",rel:"noopener noreferrer",children:L.jsxs("button",{id:"check-salaries",disabled:t==="UNSPECIFIED",children:[L.jsx("img",{src:sF,alt:"Redirect to Levels.fyi",width:"60px",height:"35px"}),"Check Salaries"]})}),l=()=>L.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",children:L.jsxs("button",{id:"check-company",disabled:t==="UNSPECIFIED",children:[L.jsx("img",{src:aF,alt:"Redirect to Glassdoor Review",width:"20px",height:"35px"}),"Glassdoor Review"]})}),c=()=>L.jsxs("button",{id:"get-company-values",style:{margin:"1% 0"},onClick:()=>{o(i?N2():L2())},disabled:t==="UNSPECIFIED",children:[L.jsx("img",{src:QC,alt:"Fetch Company Values",width:"30px",height:"35px"}),i?"Hide":"Get"," Company Values"]}),h=()=>t?L.jsxs("div",{id:"company-section-header",children:[L.jsxs("div",{id:"company-section-header-title",children:[L.jsx(JC,{}),"   ",L.jsx("h2",{id:"jd-company",children:t})]}),L.jsxs("div",{id:"company-section-header-buttons",children:[L.jsx(a,{}),L.jsx(l,{}),L.jsx(c,{})]})]}):null;return L.jsxs("div",{id:"company-section",children:[L.jsx(h,{}),i&&L.jsx(iF,{})]})}function oF(){const o=ns(),{deployment:t}=Kt(A=>A.session),{resumeText:e}=Kt(A=>A.resume),{jobDescription:i,jobTitle:a}=Kt(A=>A.job),{companyName:l}=Kt(A=>A.company),[c,h]=it.useState(null),{additionalMessage:f,additionalMessageContext:g,additionalMessageImprovements:m,loadingAdditionalMessage:b}=Kt(A=>A.additionalDocs),v=async()=>{if(o(aO()),o(sO(c)),e===null){alert("Please upload a resume first.");return}else if(i===""){alert("Please enter a job description and process it first.");return}else if(a===""||l===""){alert("Please process the job description first");return}o(kw(!0));const A=new FormData;A.append("resume",e),A.append("jd",i),A.append("position",a),A.append("company",l),A.append("context",g);const S=await fetch(t+"/generate-additional-msg",{method:"POST",body:A});if(S.ok){const w=await S.json();o(iO(w))}else console.log("Error generating additional message"),console.log(S.json().then(w=>console.log(w.error)));o(kw(!1))};return L.jsxs("div",{id:"additional-msg-section",children:[L.jsxs("div",{children:[L.jsx("h4",{children:"Context (optional)"}),L.jsx("textarea",{rows:2,id:"additional-msg-context",placeholder:"Additional Message context",onChange:A=>h(A.target.value)})]})," ",L.jsx("button",{id:"gen-additional-msg",onClick:v,children:"Generate Additional Message"})," ",L.jsx(kr,{loading:b,message:"Generating Additional Message"}),f&&L.jsx("div",{id:"additional-msg",children:L.jsx("p",{children:f})}),f&&L.jsxs("p",{id:"additional-msg-characters-count",children:[f.length," characters"]}),m&&L.jsxs("div",{children:[L.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:"✏️ Improvements for final version:"}),L.jsx("ul",{children:m.map((A,S)=>L.jsx("li",{children:A},S))})]})]})}function lF(){const o=ns(),{deployment:t}=Kt(A=>A.session),{resumeFile:e}=Kt(A=>A.resume),{jobDescription:i,jobTitle:a}=Kt(A=>A.job),{companyName:l}=Kt(A=>A.company),[c,h]=it.useState(null),{coverLetter:f,coverLetterContext:g,coverLetterImprovements:m,loadingCoverLetter:b}=Kt(A=>A.additionalDocs),v=async()=>{if(o(nO()),o(tO(c)),e===null){alert("Please upload a resume first.");return}else if(i===""){alert("Please enter a job description and process it first.");return}else if(a===""||l===""){alert("Please process the job description first");return}o(Nw(!0));const A=new FormData;A.append("resume",e),A.append("jd",i),A.append("position",a),A.append("company",l),A.append("context",g);const S=await fetch(t+"/generate-cover-letter",{method:"POST",body:A});if(S.ok){const w=await S.json();o(eO(w))}else console.log("Error generating cover letter"),console.log(S.json().then(w=>console.log(w.error)));o(Nw(!1))};return L.jsxs("div",{id:"cover-letter-section",children:[L.jsxs("div",{children:[L.jsx("h4",{children:"Context for your cover letter (optional)"}),L.jsx("textarea",{rows:2,id:"cover-letter-context",placeholder:"Cover letter context",onChange:A=>h(A.target.value)})]})," ",L.jsx("button",{id:"gen-cover-letter",onClick:v,children:"Generate Cover Letter"})," ",L.jsx(kr,{loading:b,message:g?"Generating Cover Letter using JB, Resume and User context":"Generating Cover Letter using the Job Description and your resume"}),f&&L.jsxs("div",{id:"cover-letter",children:[L.jsx("p",{id:"cover-letter-greeting",children:f.greeting}),L.jsxs("div",{id:"cover-letter-body",children:[L.jsx("p",{children:f.opening_paragraph}),L.jsx("p",{children:f.body_paragraph}),L.jsx("p",{children:f.closing_paragraph})]}),L.jsxs("div",{id:"cover-letter-signature",children:[L.jsx("p",{children:f.sign_off}),L.jsx("p",{children:f.signature})]})]}),m&&L.jsxs("div",{id:"cover-letter-improvements",children:[L.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:"✏️ Improvements for final version:"}),L.jsx("ul",{children:m.map((A,S)=>L.jsx("li",{children:A},S))})]})]})}function cF(){return L.jsxs("div",{id:"additional-docs-section",children:[L.jsxs("p",{children:["Please note, you ",L.jsx("strong",{children:"MUST NOT"})," use these generated documents directly. It has been generated based on your resume and job description via a Generative AI and it bound to have a lot of issues and will lack the personal touch of a human. Recruiters and Hiring Managers are capable of easily identifying AI generated documents.",L.jsx("br",{}),"Instead, use it as a starting point for your own document. There will be some suggestions on how to start to improve each generated document. Use them as your guide to make them your own."]}),L.jsxs(mA,{children:[L.jsxs(yA,{children:[L.jsx(xc,{children:"Cover Letter"}),L.jsx(xc,{children:"Additional Message"})]}),L.jsx(Tc,{children:L.jsx(lF,{})}),L.jsx(Tc,{children:L.jsx(oF,{})})]})]})}function uF(){const o=ns(),{deployment:t}=Kt(m=>m.session),{resumeText:e}=Kt(m=>m.resume),{jobDescription:i,jobTitle:a}=Kt(m=>m.job),{companyName:l}=Kt(m=>m.company),[c,h]=it.useState(""),f=async()=>{if(c===""){alert("Please enter a job description.");return}o(Cw(!0)),o(V2()),o(Z2()),o(q2(c));const m=await fetch(t+"/process-job-description",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jd:c})});if(m.ok){const b=await m.json();o(Y2(b.company)),o(G2(b))}else alert("Failed to process job description. "+result.error);if(e){const b=new FormData;b.append("resume",e),b.append("jd",c),b.append("company",l),b.append("position",a);const v=await fetch(t+"/get-resume-alignment-score",{method:"POST",body:b});if(v.ok){const A=await v.json();o(Q1(A.alignment_score))}else alert("Failed to get resume alignment score. "+v.text().error)}o(Cw(!1))},g=()=>L.jsx("textarea",{id:"jd-input",rows:20,value:c,onChange:m=>h(m.target.value),placeholder:"Paste job description here...",wrap:"soft"});return L.jsxs("div",{id:"jd-section",children:[L.jsx("h2",{className:"section-heading",children:"JOB DESCRIPTION"})," ",L.jsx(g,{})," ",L.jsx("button",{onClick:f,children:"Process Job Description"})," ",i&&L.jsxs(mA,{children:[L.jsxs(yA,{children:[L.jsx(xc,{children:"Job Details"}),L.jsx(xc,{disabled:l==="UNSPECIFIED",children:"Company Details"}),L.jsx(xc,{children:"Additional Documents"})]}),L.jsx(Tc,{children:L.jsx(eF,{})}),L.jsx(Tc,{children:L.jsx(rF,{})}),L.jsx(Tc,{children:L.jsx(cF,{})})]})]})}function hF(){const o=ns(),t=Kt(e=>e.session.deployment);return it.useEffect(()=>{async function e(){try{const i=await Ce.get(t+"/hello-server");i.status===200?o(O2()):o(ww("Server side error: "+i))}catch(i){o(ww("Client side error: "+i)),alert("Server response: "+i+". Report back to the developer.")}}e()},[t]),L.jsxs("div",{children:[L.jsx(Cj,{}),L.jsx(Ej,{}),L.jsx(uF,{}),"   ",L.jsx(Tj,{})]})}MD.createRoot(document.getElementById("root")).render(L.jsx(it.StrictMode,{children:L.jsx(GD,{store:ex,children:L.jsx(hF,{})})}));
