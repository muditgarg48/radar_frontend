var aC=Object.defineProperty;var q_=u=>{throw TypeError(u)};var rC=(u,t,e)=>t in u?aC(u,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):u[t]=e;var wt=(u,t,e)=>rC(u,typeof t!="symbol"?t+"":t,e),ey=(u,t,e)=>t.has(u)||q_("Cannot "+e);var h=(u,t,e)=>(ey(u,t,"read from private field"),e?e.call(u):t.get(u)),x=(u,t,e)=>t.has(u)?q_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(u):t.set(u,e),E=(u,t,e,s)=>(ey(u,t,"write to private field"),s?s.call(u,e):t.set(u,e),e),w=(u,t,e)=>(ey(u,t,"access private method"),e);var _n=(u,t,e,s)=>({set _(r){E(u,t,r,e)},get _(){return h(u,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function $E(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var ny={exports:{}},ch={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function oC(){if(G_)return ch;G_=1;var u=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var d in r)d!=="key"&&(o[d]=r[d])}else o=r;return r=o.ref,{$$typeof:u,type:s,key:c,ref:r!==void 0?r:null,props:o}}return ch.Fragment=t,ch.jsx=e,ch.jsxs=e,ch}var V_;function lC(){return V_||(V_=1,ny.exports=oC()),ny.exports}var q=lC(),iy={exports:{}},Lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function cC(){if(X_)return Lt;X_=1;var u=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function v(L){return L===null||typeof L!="object"?null:(L=y&&L[y]||L["@@iterator"],typeof L=="function"?L:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,T={};function M(L,Q,lt){this.props=L,this.context=Q,this.refs=T,this.updater=lt||S}M.prototype.isReactComponent={},M.prototype.setState=function(L,Q){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Q,"setState")},M.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function C(){}C.prototype=M.prototype;function O(L,Q,lt){this.props=L,this.context=Q,this.refs=T,this.updater=lt||S}var N=O.prototype=new C;N.constructor=O,_(N,M.prototype),N.isPureReactComponent=!0;var F=Array.isArray,H={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function I(L,Q,lt,rt,st,_t){return lt=_t.ref,{$$typeof:u,type:L,key:Q,ref:lt!==void 0?lt:null,props:_t}}function Y(L,Q){return I(L.type,Q,void 0,void 0,void 0,L.props)}function V(L){return typeof L=="object"&&L!==null&&L.$$typeof===u}function et(L){var Q={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(lt){return Q[lt]})}var nt=/\/+/g;function ht(L,Q){return typeof L=="object"&&L!==null&&L.key!=null?et(""+L.key):Q.toString(36)}function ut(){}function ft(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(ut,ut):(L.status="pending",L.then(function(Q){L.status==="pending"&&(L.status="fulfilled",L.value=Q)},function(Q){L.status==="pending"&&(L.status="rejected",L.reason=Q)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function mt(L,Q,lt,rt,st){var _t=typeof L;(_t==="undefined"||_t==="boolean")&&(L=null);var pt=!1;if(L===null)pt=!0;else switch(_t){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(L.$$typeof){case u:case t:pt=!0;break;case m:return pt=L._init,mt(pt(L._payload),Q,lt,rt,st)}}if(pt)return st=st(L),pt=rt===""?"."+ht(L,0):rt,F(st)?(lt="",pt!=null&&(lt=pt.replace(nt,"$&/")+"/"),mt(st,Q,lt,"",function(Vt){return Vt})):st!=null&&(V(st)&&(st=Y(st,lt+(st.key==null||L&&L.key===st.key?"":(""+st.key).replace(nt,"$&/")+"/")+pt)),Q.push(st)),1;pt=0;var Et=rt===""?".":rt+":";if(F(L))for(var Ot=0;Ot<L.length;Ot++)rt=L[Ot],_t=Et+ht(rt,Ot),pt+=mt(rt,Q,lt,_t,st);else if(Ot=v(L),typeof Ot=="function")for(L=Ot.call(L),Ot=0;!(rt=L.next()).done;)rt=rt.value,_t=Et+ht(rt,Ot++),pt+=mt(rt,Q,lt,_t,st);else if(_t==="object"){if(typeof L.then=="function")return mt(ft(L),Q,lt,rt,st);throw Q=String(L),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return pt}function $(L,Q,lt){if(L==null)return L;var rt=[],st=0;return mt(L,rt,"","",function(_t){return Q.call(lt,_t,st++)}),rt}function Z(L){if(L._status===-1){var Q=L._result;Q=Q(),Q.then(function(lt){(L._status===0||L._status===-1)&&(L._status=1,L._result=lt)},function(lt){(L._status===0||L._status===-1)&&(L._status=2,L._result=lt)}),L._status===-1&&(L._status=0,L._result=Q)}if(L._status===1)return L._result.default;throw L._result}var tt=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Ct(){}return Lt.Children={map:$,forEach:function(L,Q,lt){$(L,function(){Q.apply(this,arguments)},lt)},count:function(L){var Q=0;return $(L,function(){Q++}),Q},toArray:function(L){return $(L,function(Q){return Q})||[]},only:function(L){if(!V(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Lt.Component=M,Lt.Fragment=e,Lt.Profiler=r,Lt.PureComponent=O,Lt.StrictMode=s,Lt.Suspense=p,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Lt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Lt.cache=function(L){return function(){return L.apply(null,arguments)}},Lt.cloneElement=function(L,Q,lt){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var rt=_({},L.props),st=L.key,_t=void 0;if(Q!=null)for(pt in Q.ref!==void 0&&(_t=void 0),Q.key!==void 0&&(st=""+Q.key),Q)!U.call(Q,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&Q.ref===void 0||(rt[pt]=Q[pt]);var pt=arguments.length-2;if(pt===1)rt.children=lt;else if(1<pt){for(var Et=Array(pt),Ot=0;Ot<pt;Ot++)Et[Ot]=arguments[Ot+2];rt.children=Et}return I(L.type,st,void 0,void 0,_t,rt)},Lt.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},Lt.createElement=function(L,Q,lt){var rt,st={},_t=null;if(Q!=null)for(rt in Q.key!==void 0&&(_t=""+Q.key),Q)U.call(Q,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(st[rt]=Q[rt]);var pt=arguments.length-2;if(pt===1)st.children=lt;else if(1<pt){for(var Et=Array(pt),Ot=0;Ot<pt;Ot++)Et[Ot]=arguments[Ot+2];st.children=Et}if(L&&L.defaultProps)for(rt in pt=L.defaultProps,pt)st[rt]===void 0&&(st[rt]=pt[rt]);return I(L,_t,void 0,void 0,null,st)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(L){return{$$typeof:d,render:L}},Lt.isValidElement=V,Lt.lazy=function(L){return{$$typeof:m,_payload:{_status:-1,_result:L},_init:Z}},Lt.memo=function(L,Q){return{$$typeof:g,type:L,compare:Q===void 0?null:Q}},Lt.startTransition=function(L){var Q=H.T,lt={};H.T=lt;try{var rt=L(),st=H.S;st!==null&&st(lt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Ct,tt)}catch(_t){tt(_t)}finally{H.T=Q}},Lt.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Lt.use=function(L){return H.H.use(L)},Lt.useActionState=function(L,Q,lt){return H.H.useActionState(L,Q,lt)},Lt.useCallback=function(L,Q){return H.H.useCallback(L,Q)},Lt.useContext=function(L){return H.H.useContext(L)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(L,Q){return H.H.useDeferredValue(L,Q)},Lt.useEffect=function(L,Q){return H.H.useEffect(L,Q)},Lt.useId=function(){return H.H.useId()},Lt.useImperativeHandle=function(L,Q,lt){return H.H.useImperativeHandle(L,Q,lt)},Lt.useInsertionEffect=function(L,Q){return H.H.useInsertionEffect(L,Q)},Lt.useLayoutEffect=function(L,Q){return H.H.useLayoutEffect(L,Q)},Lt.useMemo=function(L,Q){return H.H.useMemo(L,Q)},Lt.useOptimistic=function(L,Q){return H.H.useOptimistic(L,Q)},Lt.useReducer=function(L,Q,lt){return H.H.useReducer(L,Q,lt)},Lt.useRef=function(L){return H.H.useRef(L)},Lt.useState=function(L){return H.H.useState(L)},Lt.useSyncExternalStore=function(L,Q,lt){return H.H.useSyncExternalStore(L,Q,lt)},Lt.useTransition=function(){return H.H.useTransition()},Lt.version="19.0.0",Lt}var Y_;function Cg(){return Y_||(Y_=1,iy.exports=cC()),iy.exports}var it=Cg(),sy={exports:{}},uh={},ay={exports:{}},ry={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function uC(){return K_||(K_=1,function(u){function t($,Z){var tt=$.length;$.push(Z);t:for(;0<tt;){var Ct=tt-1>>>1,L=$[Ct];if(0<r(L,Z))$[Ct]=Z,$[tt]=L,tt=Ct;else break t}}function e($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var Z=$[0],tt=$.pop();if(tt!==Z){$[0]=tt;t:for(var Ct=0,L=$.length,Q=L>>>1;Ct<Q;){var lt=2*(Ct+1)-1,rt=$[lt],st=lt+1,_t=$[st];if(0>r(rt,tt))st<L&&0>r(_t,rt)?($[Ct]=_t,$[st]=tt,Ct=st):($[Ct]=rt,$[lt]=tt,Ct=lt);else if(st<L&&0>r(_t,tt))$[Ct]=_t,$[st]=tt,Ct=st;else break t}}return Z}function r($,Z){var tt=$.sortIndex-Z.sortIndex;return tt!==0?tt:$.id-Z.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;u.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();u.unstable_now=function(){return c.now()-d}}var p=[],g=[],m=1,y=null,v=3,S=!1,_=!1,T=!1,M=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function N($){for(var Z=e(g);Z!==null;){if(Z.callback===null)s(g);else if(Z.startTime<=$)s(g),Z.sortIndex=Z.expirationTime,t(p,Z);else break;Z=e(g)}}function F($){if(T=!1,N($),!_)if(e(p)!==null)_=!0,ft();else{var Z=e(g);Z!==null&&mt(F,Z.startTime-$)}}var H=!1,U=-1,I=5,Y=-1;function V(){return!(u.unstable_now()-Y<I)}function et(){if(H){var $=u.unstable_now();Y=$;var Z=!0;try{t:{_=!1,T&&(T=!1,C(U),U=-1),S=!0;var tt=v;try{e:{for(N($),y=e(p);y!==null&&!(y.expirationTime>$&&V());){var Ct=y.callback;if(typeof Ct=="function"){y.callback=null,v=y.priorityLevel;var L=Ct(y.expirationTime<=$);if($=u.unstable_now(),typeof L=="function"){y.callback=L,N($),Z=!0;break e}y===e(p)&&s(p),N($)}else s(p);y=e(p)}if(y!==null)Z=!0;else{var Q=e(g);Q!==null&&mt(F,Q.startTime-$),Z=!1}}break t}finally{y=null,v=tt,S=!1}Z=void 0}}finally{Z?nt():H=!1}}}var nt;if(typeof O=="function")nt=function(){O(et)};else if(typeof MessageChannel<"u"){var ht=new MessageChannel,ut=ht.port2;ht.port1.onmessage=et,nt=function(){ut.postMessage(null)}}else nt=function(){M(et,0)};function ft(){H||(H=!0,nt())}function mt($,Z){U=M(function(){$(u.unstable_now())},Z)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function($){$.callback=null},u.unstable_continueExecution=function(){_||S||(_=!0,ft())},u.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},u.unstable_getCurrentPriorityLevel=function(){return v},u.unstable_getFirstCallbackNode=function(){return e(p)},u.unstable_next=function($){switch(v){case 1:case 2:case 3:var Z=3;break;default:Z=v}var tt=v;v=Z;try{return $()}finally{v=tt}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function($,Z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var tt=v;v=$;try{return Z()}finally{v=tt}},u.unstable_scheduleCallback=function($,Z,tt){var Ct=u.unstable_now();switch(typeof tt=="object"&&tt!==null?(tt=tt.delay,tt=typeof tt=="number"&&0<tt?Ct+tt:Ct):tt=Ct,$){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=tt+L,$={id:m++,callback:Z,priorityLevel:$,startTime:tt,expirationTime:L,sortIndex:-1},tt>Ct?($.sortIndex=tt,t(g,$),e(p)===null&&$===e(g)&&(T?(C(U),U=-1):T=!0,mt(F,tt-Ct))):($.sortIndex=L,t(p,$),_||S||(_=!0,ft())),$},u.unstable_shouldYield=V,u.unstable_wrapCallback=function($){var Z=v;return function(){var tt=v;v=Z;try{return $.apply(this,arguments)}finally{v=tt}}}}(ry)),ry}var $_;function hC(){return $_||($_=1,ay.exports=uC()),ay.exports}var oy={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function dC(){if(W_)return un;W_=1;var u=Cg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)g+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(p,g,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:p,containerInfo:g,implementation:m}}var c=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,un.createPortal=function(p,g){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(p,g,null,m)},un.flushSync=function(p){var g=c.T,m=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=m,s.d.f()}},un.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},un.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},un.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var m=g.as,y=d(m,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;m==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:S}):m==="script"&&s.d.X(p,{crossOrigin:y,integrity:v,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},un.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var m=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},un.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var m=g.as,y=d(m,g.crossOrigin);s.d.L(p,m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},un.preloadModule=function(p,g){if(typeof p=="string")if(g){var m=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},un.requestFormReset=function(p){s.d.r(p)},un.unstable_batchedUpdates=function(p,g){return p(g)},un.useFormState=function(p,g,m){return c.H.useFormState(p,g,m)},un.useFormStatus=function(){return c.H.useHostTransitionStatus()},un.version="19.0.0",un}var Q_;function fC(){if(Q_)return oy.exports;Q_=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(t){console.error(t)}}return u(),oy.exports=dC(),oy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function pC(){if(Z_)return uh;Z_=1;var u=hC(),t=Cg(),e=fC();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var o=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),S=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),N=Symbol.for("react.offscreen"),F=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=H&&n[H]||n["@@iterator"],typeof n=="function"?n:null)}var I=Symbol.for("react.client.reference");function Y(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===I?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case d:return"Portal";case m:return"Profiler";case g:return"StrictMode";case T:return"Suspense";case M:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case S:return(n.displayName||"Context")+".Provider";case v:return(n._context.displayName||"Context")+".Consumer";case _:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case C:return i=n.displayName||null,i!==null?i:Y(n.type)||"Memo";case O:i=n._payload,n=n._init;try{return Y(n(i))}catch{}}return null}var V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=Object.assign,nt,ht;function ut(n){if(nt===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);nt=i&&i[1]||"",ht=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nt+n+ht}var ft=!1;function mt(n,i){if(!n||ft)return"";ft=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(X){var B=X}Reflect.construct(n,[],J)}else{try{J.call()}catch(X){B=X}n.call(J.prototype)}}else{try{throw Error()}catch(X){B=X}(J=n())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(X){if(X&&B&&typeof X.stack=="string")return[X.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=l.DetermineComponentFrameRoot(),A=b[0],R=b[1];if(A&&R){var D=A.split(`
`),P=R.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<P.length&&!P[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===P.length)for(l=D.length-1,f=P.length-1;1<=l&&0<=f&&D[l]!==P[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==P[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==P[f]){var K=`
`+D[l].replace(" at new "," at ");return n.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",n.displayName)),K}while(1<=l&&0<=f);break}}}finally{ft=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?ut(a):""}function $(n){switch(n.tag){case 26:case 27:case 5:return ut(n.type);case 16:return ut("Lazy");case 13:return ut("Suspense");case 19:return ut("SuspenseList");case 0:case 15:return n=mt(n.type,!1),n;case 11:return n=mt(n.type.render,!1),n;case 1:return n=mt(n.type,!0),n;default:return""}}function Z(n){try{var i="";do i+=$(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tt(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function Ct(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function L(n){if(tt(n)!==n)throw Error(s(188))}function Q(n){var i=n.alternate;if(!i){if(i=tt(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var f=a.return;if(f===null)break;var b=f.alternate;if(b===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===b.child){for(b=f.child;b;){if(b===a)return L(f),n;if(b===l)return L(f),i;b=b.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=b;else{for(var A=!1,R=f.child;R;){if(R===a){A=!0,a=f,l=b;break}if(R===l){A=!0,l=f,a=b;break}R=R.sibling}if(!A){for(R=b.child;R;){if(R===a){A=!0,a=b,l=f;break}if(R===l){A=!0,l=b,a=f;break}R=R.sibling}if(!A)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function lt(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=lt(n),i!==null)return i;n=n.sibling}return null}var rt=Array.isArray,st=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_t={pending:!1,data:null,method:null,action:null},pt=[],Et=-1;function Ot(n){return{current:n}}function Vt(n){0>Et||(n.current=pt[Et],pt[Et]=null,Et--)}function St(n,i){Et++,pt[Et]=n.current,n.current=i}var on=Ot(null),Di=Ot(null),Bt=Ot(null),le=Ot(null);function Ee(n,i){switch(St(Bt,i),St(Di,n),St(on,null),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?y_(i):0;break;default:if(n=n===8?i.parentNode:i,i=n.tagName,n=n.namespaceURI)n=y_(n),i=v_(n,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Vt(on),St(on,i)}function ce(){Vt(on),Vt(Di),Vt(Bt)}function Zi(n){n.memoizedState!==null&&St(le,n);var i=on.current,a=v_(i,n.type);i!==a&&(St(Di,n),St(on,a))}function Ji(n){Di.current===n&&(Vt(on),Vt(Di)),le.current===n&&(Vt(le),sh._currentValue=_t)}var hu=Object.prototype.hasOwnProperty,du=u.unstable_scheduleCallback,Ta=u.unstable_cancelCallback,Yg=u.unstable_shouldYield,Kg=u.unstable_requestPaint,oi=u.unstable_now,$g=u.unstable_getCurrentPriorityLevel,lf=u.unstable_ImmediatePriority,Ts=u.unstable_UserBlockingPriority,xs=u.unstable_NormalPriority,pl=u.unstable_LowPriority,gl=u.unstable_IdlePriority,BT=u.log,IT=u.unstable_setDisableYieldValue,fu=null,Bn=null;function qT(n){if(Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(fu,n,void 0,(n.current.flags&128)===128)}catch{}}function xa(n){if(typeof BT=="function"&&IT(n),Bn&&typeof Bn.setStrictMode=="function")try{Bn.setStrictMode(fu,n)}catch{}}var In=Math.clz32?Math.clz32:XT,GT=Math.log,VT=Math.LN2;function XT(n){return n>>>=0,n===0?32:31-(GT(n)/VT|0)|0}var cf=128,uf=4194304;function Dr(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function hf(n,i){var a=n.pendingLanes;if(a===0)return 0;var l=0,f=n.suspendedLanes,b=n.pingedLanes,A=n.warmLanes;n=n.finishedLanes!==0;var R=a&134217727;return R!==0?(a=R&~f,a!==0?l=Dr(a):(b&=R,b!==0?l=Dr(b):n||(A=R&~A,A!==0&&(l=Dr(A))))):(R=a&~f,R!==0?l=Dr(R):b!==0?l=Dr(b):n||(A=a&~A,A!==0&&(l=Dr(A)))),l===0?0:i!==0&&i!==l&&(i&f)===0&&(f=l&-l,A=i&-i,f>=A||f===32&&(A&4194176)!==0)?i:l}function pu(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function YT(n,i){switch(n){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function u0(){var n=cf;return cf<<=1,(cf&4194176)===0&&(cf=128),n}function h0(){var n=uf;return uf<<=1,(uf&62914560)===0&&(uf=4194304),n}function Wg(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function gu(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function KT(n,i,a,l,f,b){var A=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var R=n.entanglements,D=n.expirationTimes,P=n.hiddenUpdates;for(a=A&~a;0<a;){var K=31-In(a),J=1<<K;R[K]=0,D[K]=-1;var B=P[K];if(B!==null)for(P[K]=null,K=0;K<B.length;K++){var X=B[K];X!==null&&(X.lane&=-536870913)}a&=~J}l!==0&&d0(n,l,0),b!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=b&~(A&~i))}function d0(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-In(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194218}function f0(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-In(a),f=1<<l;f&i|n[l]&i&&(n[l]|=i),a&=~f}}function p0(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function g0(){var n=st.p;return n!==0?n:(n=window.event,n===void 0?32:H_(n.type))}function $T(n,i){var a=st.p;try{return st.p=n,i()}finally{st.p=a}}var Ra=Math.random().toString(36).slice(2),ln="__reactFiber$"+Ra,Mn="__reactProps$"+Ra,ml="__reactContainer$"+Ra,Qg="__reactEvents$"+Ra,WT="__reactListeners$"+Ra,QT="__reactHandles$"+Ra,m0="__reactResources$"+Ra,mu="__reactMarker$"+Ra;function Zg(n){delete n[ln],delete n[Mn],delete n[Qg],delete n[WT],delete n[QT]}function Or(n){var i=n[ln];if(i)return i;for(var a=n.parentNode;a;){if(i=a[ml]||a[ln]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=__(n);n!==null;){if(a=n[ln])return a;n=__(n)}return i}n=a,a=n.parentNode}return null}function bl(n){if(n=n[ln]||n[ml]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function bu(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function yl(n){var i=n[m0];return i||(i=n[m0]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ie(n){n[mu]=!0}var b0=new Set,y0={};function Lr(n,i){vl(n,i),vl(n+"Capture",i)}function vl(n,i){for(y0[n]=i,n=0;n<i.length;n++)b0.add(i[n])}var Rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ZT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),v0={},A0={};function JT(n){return hu.call(A0,n)?!0:hu.call(v0,n)?!1:ZT.test(n)?A0[n]=!0:(v0[n]=!0,!1)}function df(n,i,a){if(JT(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function ff(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Cs(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}function li(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function S0(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function tx(n){var i=S0(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,b=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(A){l=""+A,b.call(this,A)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(A){l=""+A},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function pf(n){n._valueTracker||(n._valueTracker=tx(n))}function _0(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=S0(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function gf(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ex=/[\n"\\]/g;function ci(n){return n.replace(ex,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Jg(n,i,a,l,f,b,A,R){n.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.type=A:n.removeAttribute("type"),i!=null?A==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+li(i)):n.value!==""+li(i)&&(n.value=""+li(i)):A!=="submit"&&A!=="reset"||n.removeAttribute("value"),i!=null?tm(n,A,li(i)):a!=null?tm(n,A,li(a)):l!=null&&n.removeAttribute("value"),f==null&&b!=null&&(n.defaultChecked=!!b),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?n.name=""+li(R):n.removeAttribute("name")}function E0(n,i,a,l,f,b,A,R){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.type=b),i!=null||a!=null){if(!(b!=="submit"&&b!=="reset"||i!=null))return;a=a!=null?""+li(a):"",i=i!=null?""+li(i):a,R||i===n.value||(n.value=i),n.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=R?n.checked:!!l,n.defaultChecked=!!l,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(n.name=A)}function tm(n,i,a){i==="number"&&gf(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Al(n,i,a,l){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+li(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function w0(n,i,a){if(i!=null&&(i=""+li(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+li(a):""}function T0(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(rt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=li(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Sl(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var nx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function x0(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||nx.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function R0(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&x0(n,f,l)}else for(var b in i)i.hasOwnProperty(b)&&x0(n,b,i[b])}function em(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ix=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mf(n){return sx.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var nm=null;function im(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var _l=null,El=null;function C0(n){var i=bl(n);if(i&&(n=i.stateNode)){var a=n[Mn]||null;t:switch(n=i.stateNode,i.type){case"input":if(Jg(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ci(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var f=l[Mn]||null;if(!f)throw Error(s(90));Jg(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&_0(l)}break t;case"textarea":w0(n,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Al(n,!!a.multiple,i,!1)}}}var sm=!1;function M0(n,i,a){if(sm)return n(i,a);sm=!0;try{var l=n(i);return l}finally{if(sm=!1,(_l!==null||El!==null)&&(Jf(),_l&&(i=_l,n=El,El=_l=null,C0(i),n)))for(i=0;i<n.length;i++)C0(n[i])}}function yu(n,i){var a=n.stateNode;if(a===null)return null;var l=a[Mn]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break t;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var am=!1;if(Rs)try{var vu={};Object.defineProperty(vu,"passive",{get:function(){am=!0}}),window.addEventListener("test",vu,vu),window.removeEventListener("test",vu,vu)}catch{am=!1}var Ca=null,rm=null,bf=null;function D0(){if(bf)return bf;var n,i=rm,a=i.length,l,f="value"in Ca?Ca.value:Ca.textContent,b=f.length;for(n=0;n<a&&i[n]===f[n];n++);var A=a-n;for(l=1;l<=A&&i[a-l]===f[b-l];l++);return bf=f.slice(n,1<l?1-l:void 0)}function yf(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function vf(){return!0}function O0(){return!1}function Dn(n){function i(a,l,f,b,A){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=b,this.target=A,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(a=n[R],this[R]=a?a(b):b[R]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?vf:O0,this.isPropagationStopped=O0,this}return et(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=vf)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=vf)},persist:function(){},isPersistent:vf}),i}var Nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Af=Dn(Nr),Au=et({},Nr,{view:0,detail:0}),ax=Dn(Au),om,lm,Su,Sf=et({},Au,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:um,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Su&&(Su&&n.type==="mousemove"?(om=n.screenX-Su.screenX,lm=n.screenY-Su.screenY):lm=om=0,Su=n),om)},movementY:function(n){return"movementY"in n?n.movementY:lm}}),L0=Dn(Sf),rx=et({},Sf,{dataTransfer:0}),ox=Dn(rx),lx=et({},Au,{relatedTarget:0}),cm=Dn(lx),cx=et({},Nr,{animationName:0,elapsedTime:0,pseudoElement:0}),ux=Dn(cx),hx=et({},Nr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),dx=Dn(hx),fx=et({},Nr,{data:0}),N0=Dn(fx),px={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bx(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=mx[n])?!!i[n]:!1}function um(){return bx}var yx=et({},Au,{key:function(n){if(n.key){var i=px[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=yf(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?gx[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:um,charCode:function(n){return n.type==="keypress"?yf(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?yf(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),vx=Dn(yx),Ax=et({},Sf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k0=Dn(Ax),Sx=et({},Au,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:um}),_x=Dn(Sx),Ex=et({},Nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),wx=Dn(Ex),Tx=et({},Sf,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),xx=Dn(Tx),Rx=et({},Nr,{newState:0,oldState:0}),Cx=Dn(Rx),Mx=[9,13,27,32],hm=Rs&&"CompositionEvent"in window,_u=null;Rs&&"documentMode"in document&&(_u=document.documentMode);var Dx=Rs&&"TextEvent"in window&&!_u,F0=Rs&&(!hm||_u&&8<_u&&11>=_u),P0=" ",H0=!1;function z0(n,i){switch(n){case"keyup":return Mx.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j0(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var wl=!1;function Ox(n,i){switch(n){case"compositionend":return j0(i);case"keypress":return i.which!==32?null:(H0=!0,P0);case"textInput":return n=i.data,n===P0&&H0?null:n;default:return null}}function Lx(n,i){if(wl)return n==="compositionend"||!hm&&z0(n,i)?(n=D0(),bf=rm=Ca=null,wl=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return F0&&i.locale!=="ko"?null:i.data;default:return null}}var Nx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U0(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Nx[n.type]:i==="textarea"}function B0(n,i,a,l){_l?El?El.push(l):El=[l]:_l=l,i=sp(i,"onChange"),0<i.length&&(a=new Af("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var Eu=null,wu=null;function kx(n){f_(n,0)}function _f(n){var i=bu(n);if(_0(i))return n}function I0(n,i){if(n==="change")return i}var q0=!1;if(Rs){var dm;if(Rs){var fm="oninput"in document;if(!fm){var G0=document.createElement("div");G0.setAttribute("oninput","return;"),fm=typeof G0.oninput=="function"}dm=fm}else dm=!1;q0=dm&&(!document.documentMode||9<document.documentMode)}function V0(){Eu&&(Eu.detachEvent("onpropertychange",X0),wu=Eu=null)}function X0(n){if(n.propertyName==="value"&&_f(wu)){var i=[];B0(i,wu,n,im(n)),M0(kx,i)}}function Fx(n,i,a){n==="focusin"?(V0(),Eu=i,wu=a,Eu.attachEvent("onpropertychange",X0)):n==="focusout"&&V0()}function Px(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return _f(wu)}function Hx(n,i){if(n==="click")return _f(i)}function zx(n,i){if(n==="input"||n==="change")return _f(i)}function jx(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var qn=typeof Object.is=="function"?Object.is:jx;function Tu(n,i){if(qn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!hu.call(i,f)||!qn(n[f],i[f]))return!1}return!0}function Y0(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function K0(n,i){var a=Y0(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Y0(a)}}function $0(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?$0(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function W0(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=gf(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=gf(n.document)}return i}function pm(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function Ux(n,i){var a=W0(i);i=n.focusedElem;var l=n.selectionRange;if(a!==i&&i&&i.ownerDocument&&$0(i.ownerDocument.documentElement,i)){if(l!==null&&pm(i)){if(n=l.start,a=l.end,a===void 0&&(a=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(a,i.value.length);else if(a=(n=i.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=i.textContent.length,b=Math.min(l.start,f);l=l.end===void 0?b:Math.min(l.end,f),!a.extend&&b>l&&(f=l,l=b,b=f),f=K0(i,b);var A=K0(i,l);f&&A&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==A.node||a.focusOffset!==A.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),b>l?(a.addRange(n),a.extend(A.node,A.offset)):(n.setEnd(A.node,A.offset),a.addRange(n)))}}for(n=[],a=i;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)a=n[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Bx=Rs&&"documentMode"in document&&11>=document.documentMode,Tl=null,gm=null,xu=null,mm=!1;function Q0(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;mm||Tl==null||Tl!==gf(l)||(l=Tl,"selectionStart"in l&&pm(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),xu&&Tu(xu,l)||(xu=l,l=sp(gm,"onSelect"),0<l.length&&(i=new Af("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=Tl)))}function kr(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var xl={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionrun:kr("Transition","TransitionRun"),transitionstart:kr("Transition","TransitionStart"),transitioncancel:kr("Transition","TransitionCancel"),transitionend:kr("Transition","TransitionEnd")},bm={},Z0={};Rs&&(Z0=document.createElement("div").style,"AnimationEvent"in window||(delete xl.animationend.animation,delete xl.animationiteration.animation,delete xl.animationstart.animation),"TransitionEvent"in window||delete xl.transitionend.transition);function Fr(n){if(bm[n])return bm[n];if(!xl[n])return n;var i=xl[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Z0)return bm[n]=i[a];return n}var J0=Fr("animationend"),tA=Fr("animationiteration"),eA=Fr("animationstart"),Ix=Fr("transitionrun"),qx=Fr("transitionstart"),Gx=Fr("transitioncancel"),nA=Fr("transitionend"),iA=new Map,sA="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Oi(n,i){iA.set(n,i),Lr(i,[n])}var ui=[],Rl=0,ym=0;function Ef(){for(var n=Rl,i=ym=Rl=0;i<n;){var a=ui[i];ui[i++]=null;var l=ui[i];ui[i++]=null;var f=ui[i];ui[i++]=null;var b=ui[i];if(ui[i++]=null,l!==null&&f!==null){var A=l.pending;A===null?f.next=f:(f.next=A.next,A.next=f),l.pending=f}b!==0&&aA(a,f,b)}}function wf(n,i,a,l){ui[Rl++]=n,ui[Rl++]=i,ui[Rl++]=a,ui[Rl++]=l,ym|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function vm(n,i,a,l){return wf(n,i,a,l),Tf(n)}function Ma(n,i){return wf(n,null,null,i),Tf(n)}function aA(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,b=n.return;b!==null;)b.childLanes|=a,l=b.alternate,l!==null&&(l.childLanes|=a),b.tag===22&&(n=b.stateNode,n===null||n._visibility&1||(f=!0)),n=b,b=b.return;f&&i!==null&&n.tag===3&&(b=n.stateNode,f=31-In(a),b=b.hiddenUpdates,n=b[f],n===null?b[f]=[i]:n.push(i),i.lane=a|536870912)}function Tf(n){if(50<Qu)throw Qu=0,Tb=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Cl={},rA=new WeakMap;function hi(n,i){if(typeof n=="object"&&n!==null){var a=rA.get(n);return a!==void 0?a:(i={value:n,source:i,stack:Z(i)},rA.set(n,i),i)}return{value:n,source:i,stack:Z(i)}}var Ml=[],Dl=0,xf=null,Rf=0,di=[],fi=0,Pr=null,Ms=1,Ds="";function Hr(n,i){Ml[Dl++]=Rf,Ml[Dl++]=xf,xf=n,Rf=i}function oA(n,i,a){di[fi++]=Ms,di[fi++]=Ds,di[fi++]=Pr,Pr=n;var l=Ms;n=Ds;var f=32-In(l)-1;l&=~(1<<f),a+=1;var b=32-In(i)+f;if(30<b){var A=f-f%5;b=(l&(1<<A)-1).toString(32),l>>=A,f-=A,Ms=1<<32-In(i)+f|a<<f|l,Ds=b+n}else Ms=1<<b|a<<f|l,Ds=n}function Am(n){n.return!==null&&(Hr(n,1),oA(n,1,0))}function Sm(n){for(;n===xf;)xf=Ml[--Dl],Ml[Dl]=null,Rf=Ml[--Dl],Ml[Dl]=null;for(;n===Pr;)Pr=di[--fi],di[fi]=null,Ds=di[--fi],di[fi]=null,Ms=di[--fi],di[fi]=null}var An=null,Ze=null,Xt=!1,Li=null,ts=!1,_m=Error(s(519));function zr(n){var i=Error(s(418,""));throw Mu(hi(i,n)),_m}function lA(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[ln]=n,i[Mn]=l,a){case"dialog":It("cancel",i),It("close",i);break;case"iframe":case"object":case"embed":It("load",i);break;case"video":case"audio":for(a=0;a<Ju.length;a++)It(Ju[a],i);break;case"source":It("error",i);break;case"img":case"image":case"link":It("error",i),It("load",i);break;case"details":It("toggle",i);break;case"input":It("invalid",i),E0(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),pf(i);break;case"select":It("invalid",i);break;case"textarea":It("invalid",i),T0(i,l.value,l.defaultValue,l.children),pf(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||b_(i.textContent,a)?(l.popover!=null&&(It("beforetoggle",i),It("toggle",i)),l.onScroll!=null&&It("scroll",i),l.onScrollEnd!=null&&It("scrollend",i),l.onClick!=null&&(i.onclick=ap),i=!0):i=!1,i||zr(n)}function cA(n){for(An=n.return;An;)switch(An.tag){case 3:case 27:ts=!0;return;case 5:case 13:ts=!1;return;default:An=An.return}}function Ru(n){if(n!==An)return!1;if(!Xt)return cA(n),Xt=!0,!1;var i=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Ib(n.type,n.memoizedProps)),a=!a),a&&(i=!0),i&&Ze&&zr(n),cA(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));t:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){Ze=ki(n.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}Ze=null}}else Ze=An?ki(n.stateNode.nextSibling):null;return!0}function Cu(){Ze=An=null,Xt=!1}function Mu(n){Li===null?Li=[n]:Li.push(n)}var Du=Error(s(460)),uA=Error(s(474)),Em={then:function(){}};function hA(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Cf(){}function dA(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(Cf,Cf),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===Du?Error(s(483)):n;default:if(typeof i.status=="string")i.then(Cf,Cf);else{if(n=ae,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===Du?Error(s(483)):n}throw Ou=i,Du}}var Ou=null;function fA(){if(Ou===null)throw Error(s(459));var n=Ou;return Ou=null,n}var Ol=null,Lu=0;function Mf(n){var i=Lu;return Lu+=1,Ol===null&&(Ol=[]),dA(Ol,n,i)}function Nu(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Df(n,i){throw i.$$typeof===o?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function pA(n){var i=n._init;return i(n._payload)}function gA(n){function i(z,k){if(n){var j=z.deletions;j===null?(z.deletions=[k],z.flags|=16):j.push(k)}}function a(z,k){if(!n)return null;for(;k!==null;)i(z,k),k=k.sibling;return null}function l(z){for(var k=new Map;z!==null;)z.key!==null?k.set(z.key,z):k.set(z.index,z),z=z.sibling;return k}function f(z,k){return z=Ba(z,k),z.index=0,z.sibling=null,z}function b(z,k,j){return z.index=j,n?(j=z.alternate,j!==null?(j=j.index,j<k?(z.flags|=33554434,k):j):(z.flags|=33554434,k)):(z.flags|=1048576,k)}function A(z){return n&&z.alternate===null&&(z.flags|=33554434),z}function R(z,k,j,W){return k===null||k.tag!==6?(k=bb(j,z.mode,W),k.return=z,k):(k=f(k,j),k.return=z,k)}function D(z,k,j,W){var dt=j.type;return dt===p?K(z,k,j.props.children,W,j.key):k!==null&&(k.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===O&&pA(dt)===k.type)?(k=f(k,j.props),Nu(k,j),k.return=z,k):(k=Kf(j.type,j.key,j.props,null,z.mode,W),Nu(k,j),k.return=z,k)}function P(z,k,j,W){return k===null||k.tag!==4||k.stateNode.containerInfo!==j.containerInfo||k.stateNode.implementation!==j.implementation?(k=yb(j,z.mode,W),k.return=z,k):(k=f(k,j.children||[]),k.return=z,k)}function K(z,k,j,W,dt){return k===null||k.tag!==7?(k=Kr(j,z.mode,W,dt),k.return=z,k):(k=f(k,j),k.return=z,k)}function J(z,k,j){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=bb(""+k,z.mode,j),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case c:return j=Kf(k.type,k.key,k.props,null,z.mode,j),Nu(j,k),j.return=z,j;case d:return k=yb(k,z.mode,j),k.return=z,k;case O:var W=k._init;return k=W(k._payload),J(z,k,j)}if(rt(k)||U(k))return k=Kr(k,z.mode,j,null),k.return=z,k;if(typeof k.then=="function")return J(z,Mf(k),j);if(k.$$typeof===S)return J(z,Vf(z,k),j);Df(z,k)}return null}function B(z,k,j,W){var dt=k!==null?k.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return dt!==null?null:R(z,k,""+j,W);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case c:return j.key===dt?D(z,k,j,W):null;case d:return j.key===dt?P(z,k,j,W):null;case O:return dt=j._init,j=dt(j._payload),B(z,k,j,W)}if(rt(j)||U(j))return dt!==null?null:K(z,k,j,W,null);if(typeof j.then=="function")return B(z,k,Mf(j),W);if(j.$$typeof===S)return B(z,k,Vf(z,j),W);Df(z,j)}return null}function X(z,k,j,W,dt){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get(j)||null,R(k,z,""+W,dt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case c:return z=z.get(W.key===null?j:W.key)||null,D(k,z,W,dt);case d:return z=z.get(W.key===null?j:W.key)||null,P(k,z,W,dt);case O:var Ht=W._init;return W=Ht(W._payload),X(z,k,j,W,dt)}if(rt(W)||U(W))return z=z.get(j)||null,K(k,z,W,dt,null);if(typeof W.then=="function")return X(z,k,j,Mf(W),dt);if(W.$$typeof===S)return X(z,k,j,Vf(k,W),dt);Df(k,W)}return null}function gt(z,k,j,W){for(var dt=null,Ht=null,yt=k,At=k=0,Ve=null;yt!==null&&At<j.length;At++){yt.index>At?(Ve=yt,yt=null):Ve=yt.sibling;var Yt=B(z,yt,j[At],W);if(Yt===null){yt===null&&(yt=Ve);break}n&&yt&&Yt.alternate===null&&i(z,yt),k=b(Yt,k,At),Ht===null?dt=Yt:Ht.sibling=Yt,Ht=Yt,yt=Ve}if(At===j.length)return a(z,yt),Xt&&Hr(z,At),dt;if(yt===null){for(;At<j.length;At++)yt=J(z,j[At],W),yt!==null&&(k=b(yt,k,At),Ht===null?dt=yt:Ht.sibling=yt,Ht=yt);return Xt&&Hr(z,At),dt}for(yt=l(yt);At<j.length;At++)Ve=X(yt,z,At,j[At],W),Ve!==null&&(n&&Ve.alternate!==null&&yt.delete(Ve.key===null?At:Ve.key),k=b(Ve,k,At),Ht===null?dt=Ve:Ht.sibling=Ve,Ht=Ve);return n&&yt.forEach(function(Ka){return i(z,Ka)}),Xt&&Hr(z,At),dt}function xt(z,k,j,W){if(j==null)throw Error(s(151));for(var dt=null,Ht=null,yt=k,At=k=0,Ve=null,Yt=j.next();yt!==null&&!Yt.done;At++,Yt=j.next()){yt.index>At?(Ve=yt,yt=null):Ve=yt.sibling;var Ka=B(z,yt,Yt.value,W);if(Ka===null){yt===null&&(yt=Ve);break}n&&yt&&Ka.alternate===null&&i(z,yt),k=b(Ka,k,At),Ht===null?dt=Ka:Ht.sibling=Ka,Ht=Ka,yt=Ve}if(Yt.done)return a(z,yt),Xt&&Hr(z,At),dt;if(yt===null){for(;!Yt.done;At++,Yt=j.next())Yt=J(z,Yt.value,W),Yt!==null&&(k=b(Yt,k,At),Ht===null?dt=Yt:Ht.sibling=Yt,Ht=Yt);return Xt&&Hr(z,At),dt}for(yt=l(yt);!Yt.done;At++,Yt=j.next())Yt=X(yt,z,At,Yt.value,W),Yt!==null&&(n&&Yt.alternate!==null&&yt.delete(Yt.key===null?At:Yt.key),k=b(Yt,k,At),Ht===null?dt=Yt:Ht.sibling=Yt,Ht=Yt);return n&&yt.forEach(function(sC){return i(z,sC)}),Xt&&Hr(z,At),dt}function Ae(z,k,j,W){if(typeof j=="object"&&j!==null&&j.type===p&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case c:t:{for(var dt=j.key;k!==null;){if(k.key===dt){if(dt=j.type,dt===p){if(k.tag===7){a(z,k.sibling),W=f(k,j.props.children),W.return=z,z=W;break t}}else if(k.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===O&&pA(dt)===k.type){a(z,k.sibling),W=f(k,j.props),Nu(W,j),W.return=z,z=W;break t}a(z,k);break}else i(z,k);k=k.sibling}j.type===p?(W=Kr(j.props.children,z.mode,W,j.key),W.return=z,z=W):(W=Kf(j.type,j.key,j.props,null,z.mode,W),Nu(W,j),W.return=z,z=W)}return A(z);case d:t:{for(dt=j.key;k!==null;){if(k.key===dt)if(k.tag===4&&k.stateNode.containerInfo===j.containerInfo&&k.stateNode.implementation===j.implementation){a(z,k.sibling),W=f(k,j.children||[]),W.return=z,z=W;break t}else{a(z,k);break}else i(z,k);k=k.sibling}W=yb(j,z.mode,W),W.return=z,z=W}return A(z);case O:return dt=j._init,j=dt(j._payload),Ae(z,k,j,W)}if(rt(j))return gt(z,k,j,W);if(U(j)){if(dt=U(j),typeof dt!="function")throw Error(s(150));return j=dt.call(j),xt(z,k,j,W)}if(typeof j.then=="function")return Ae(z,k,Mf(j),W);if(j.$$typeof===S)return Ae(z,k,Vf(z,j),W);Df(z,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,k!==null&&k.tag===6?(a(z,k.sibling),W=f(k,j),W.return=z,z=W):(a(z,k),W=bb(j,z.mode,W),W.return=z,z=W),A(z)):a(z,k)}return function(z,k,j,W){try{Lu=0;var dt=Ae(z,k,j,W);return Ol=null,dt}catch(yt){if(yt===Du)throw yt;var Ht=bi(29,yt,null,z.mode);return Ht.lanes=W,Ht.return=z,Ht}finally{}}}var jr=gA(!0),mA=gA(!1),Ll=Ot(null),Of=Ot(0);function bA(n,i){n=Bs,St(Of,n),St(Ll,i),Bs=n|i.baseLanes}function wm(){St(Of,Bs),St(Ll,Ll.current)}function Tm(){Bs=Of.current,Vt(Ll),Vt(Of)}var pi=Ot(null),es=null;function Da(n){var i=n.alternate;St(ke,ke.current&1),St(pi,n),es===null&&(i===null||Ll.current!==null||i.memoizedState!==null)&&(es=n)}function yA(n){if(n.tag===22){if(St(ke,ke.current),St(pi,n),es===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(es=n)}}else Oa()}function Oa(){St(ke,ke.current),St(pi,pi.current)}function Os(n){Vt(pi),es===n&&(es=null),Vt(ke)}var ke=Ot(0);function Lf(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Vx=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},Xx=u.unstable_scheduleCallback,Yx=u.unstable_NormalPriority,Fe={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xm(){return{controller:new Vx,data:new Map,refCount:0}}function ku(n){n.refCount--,n.refCount===0&&Xx(Yx,function(){n.controller.abort()})}var Fu=null,Rm=0,Nl=0,kl=null;function Kx(n,i){if(Fu===null){var a=Fu=[];Rm=0,Nl=Nb(),kl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Rm++,i.then(vA,vA),i}function vA(){if(--Rm===0&&Fu!==null){kl!==null&&(kl.status="fulfilled");var n=Fu;Fu=null,Nl=0,kl=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function $x(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var AA=V.S;V.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Kx(n,i),AA!==null&&AA(n,i)};var Ur=Ot(null);function Cm(){var n=Ur.current;return n!==null?n:ae.pooledCache}function Nf(n,i){i===null?St(Ur,Ur.current):St(Ur,i.pool)}function SA(){var n=Cm();return n===null?null:{parent:Fe._currentValue,pool:n}}var La=0,Ft=null,Jt=null,Ce=null,kf=!1,Fl=!1,Br=!1,Ff=0,Pu=0,Pl=null,Wx=0;function we(){throw Error(s(321))}function Mm(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!qn(n[a],i[a]))return!1;return!0}function Dm(n,i,a,l,f,b){return La=b,Ft=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,V.H=n===null||n.memoizedState===null?Ir:Na,Br=!1,b=a(l,f),Br=!1,Fl&&(b=EA(i,a,l,f)),_A(n),b}function _A(n){V.H=ns;var i=Jt!==null&&Jt.next!==null;if(La=0,Ce=Jt=Ft=null,kf=!1,Pu=0,Pl=null,i)throw Error(s(300));n===null||qe||(n=n.dependencies,n!==null&&Gf(n)&&(qe=!0))}function EA(n,i,a,l){Ft=n;var f=0;do{if(Fl&&(Pl=null),Pu=0,Fl=!1,25<=f)throw Error(s(301));if(f+=1,Ce=Jt=null,n.updateQueue!=null){var b=n.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}V.H=qr,b=i(a,l)}while(Fl);return b}function Qx(){var n=V.H,i=n.useState()[0];return i=typeof i.then=="function"?Hu(i):i,n=n.useState()[0],(Jt!==null?Jt.memoizedState:null)!==n&&(Ft.flags|=1024),i}function Om(){var n=Ff!==0;return Ff=0,n}function Lm(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function Nm(n){if(kf){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}kf=!1}La=0,Ce=Jt=Ft=null,Fl=!1,Pu=Ff=0,Pl=null}function On(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?Ft.memoizedState=Ce=n:Ce=Ce.next=n,Ce}function Me(){if(Jt===null){var n=Ft.alternate;n=n!==null?n.memoizedState:null}else n=Jt.next;var i=Ce===null?Ft.memoizedState:Ce.next;if(i!==null)Ce=i,Jt=n;else{if(n===null)throw Ft.alternate===null?Error(s(467)):Error(s(310));Jt=n,n={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ce===null?Ft.memoizedState=Ce=n:Ce=Ce.next=n}return Ce}var Pf;Pf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Hu(n){var i=Pu;return Pu+=1,Pl===null&&(Pl=[]),n=dA(Pl,n,i),i=Ft,(Ce===null?i.memoizedState:Ce.next)===null&&(i=i.alternate,V.H=i===null||i.memoizedState===null?Ir:Na),n}function Hf(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Hu(n);if(n.$$typeof===S)return cn(n)}throw Error(s(438,String(n)))}function km(n){var i=null,a=Ft.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ft.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Pf(),Ft.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=F;return i.index++,a}function Ls(n,i){return typeof i=="function"?i(n):i}function zf(n){var i=Me();return Fm(i,Jt,n)}function Fm(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,b=l.pending;if(b!==null){if(f!==null){var A=f.next;f.next=b.next,b.next=A}i.baseQueue=f=b,l.pending=null}if(b=n.baseState,f===null)n.memoizedState=b;else{i=f.next;var R=A=null,D=null,P=i,K=!1;do{var J=P.lane&-536870913;if(J!==P.lane?(Gt&J)===J:(La&J)===J){var B=P.revertLane;if(B===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),J===Nl&&(K=!0);else if((La&B)===B){P=P.next,B===Nl&&(K=!0);continue}else J={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(R=D=J,A=b):D=D.next=J,Ft.lanes|=B,Ia|=B;J=P.action,Br&&a(b,J),b=P.hasEagerState?P.eagerState:a(b,J)}else B={lane:J,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(R=D=B,A=b):D=D.next=B,Ft.lanes|=J,Ia|=J;P=P.next}while(P!==null&&P!==i);if(D===null?A=b:D.next=R,!qn(b,n.memoizedState)&&(qe=!0,K&&(a=kl,a!==null)))throw a;n.memoizedState=b,n.baseState=A,n.baseQueue=D,l.lastRenderedState=b}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Pm(n){var i=Me(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,b=i.memoizedState;if(f!==null){a.pending=null;var A=f=f.next;do b=n(b,A.action),A=A.next;while(A!==f);qn(b,i.memoizedState)||(qe=!0),i.memoizedState=b,i.baseQueue===null&&(i.baseState=b),a.lastRenderedState=b}return[b,l]}function wA(n,i,a){var l=Ft,f=Me(),b=Xt;if(b){if(a===void 0)throw Error(s(407));a=a()}else a=i();var A=!qn((Jt||f).memoizedState,a);if(A&&(f.memoizedState=a,qe=!0),f=f.queue,jm(RA.bind(null,l,f,n),[n]),f.getSnapshot!==i||A||Ce!==null&&Ce.memoizedState.tag&1){if(l.flags|=2048,Hl(9,xA.bind(null,l,f,a,i),{destroy:void 0},null),ae===null)throw Error(s(349));b||(La&60)!==0||TA(l,i,a)}return a}function TA(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ft.updateQueue,i===null?(i=Pf(),Ft.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function xA(n,i,a,l){i.value=a,i.getSnapshot=l,CA(i)&&MA(n)}function RA(n,i,a){return a(function(){CA(i)&&MA(n)})}function CA(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!qn(n,a)}catch{return!0}}function MA(n){var i=Ma(n,2);i!==null&&Sn(i,n,2)}function Hm(n){var i=On();if(typeof n=="function"){var a=n;if(n=a(),Br){xa(!0);try{a()}finally{xa(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:n},i}function DA(n,i,a,l){return n.baseState=a,Fm(n,Jt,typeof l=="function"?l:Ls)}function Zx(n,i,a,l,f){if(Bf(n))throw Error(s(485));if(n=i.action,n!==null){var b={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){b.listeners.push(A)}};V.T!==null?a(!0):b.isTransition=!1,l(b),a=i.pending,a===null?(b.next=i.pending=b,OA(i,b)):(b.next=a.next,i.pending=a.next=b)}}function OA(n,i){var a=i.action,l=i.payload,f=n.state;if(i.isTransition){var b=V.T,A={};V.T=A;try{var R=a(f,l),D=V.S;D!==null&&D(A,R),LA(n,i,R)}catch(P){zm(n,i,P)}finally{V.T=b}}else try{b=a(f,l),LA(n,i,b)}catch(P){zm(n,i,P)}}function LA(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){NA(n,i,l)},function(l){return zm(n,i,l)}):NA(n,i,a)}function NA(n,i,a){i.status="fulfilled",i.value=a,kA(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,OA(n,a)))}function zm(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,kA(i),i=i.next;while(i!==l)}n.action=null}function kA(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function FA(n,i){return i}function PA(n,i){if(Xt){var a=ae.formState;if(a!==null){t:{var l=Ft;if(Xt){if(Ze){e:{for(var f=Ze,b=ts;f.nodeType!==8;){if(!b){f=null;break e}if(f=ki(f.nextSibling),f===null){f=null;break e}}b=f.data,f=b==="F!"||b==="F"?f:null}if(f){Ze=ki(f.nextSibling),l=f.data==="F!";break t}}zr(l)}l=!1}l&&(i=a[0])}}return a=On(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:FA,lastRenderedState:i},a.queue=l,a=tS.bind(null,Ft,l),l.dispatch=a,l=Hm(!1),b=Gm.bind(null,Ft,!1,l.queue),l=On(),f={state:i,dispatch:null,action:n,pending:null},l.queue=f,a=Zx.bind(null,Ft,f,b,a),f.dispatch=a,l.memoizedState=n,[i,a,!1]}function HA(n){var i=Me();return zA(i,Jt,n)}function zA(n,i,a){i=Fm(n,i,FA)[0],n=zf(Ls)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Hu(i):i;var l=Me(),f=l.queue,b=f.dispatch;return a!==l.memoizedState&&(Ft.flags|=2048,Hl(9,Jx.bind(null,f,a),{destroy:void 0},null)),[i,b,n]}function Jx(n,i){n.action=i}function jA(n){var i=Me(),a=Jt;if(a!==null)return zA(i,a,n);Me(),i=i.memoizedState,a=Me();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function Hl(n,i,a,l){return n={tag:n,create:i,inst:a,deps:l,next:null},i=Ft.updateQueue,i===null&&(i=Pf(),Ft.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function UA(){return Me().memoizedState}function jf(n,i,a,l){var f=On();Ft.flags|=n,f.memoizedState=Hl(1|i,a,{destroy:void 0},l===void 0?null:l)}function Uf(n,i,a,l){var f=Me();l=l===void 0?null:l;var b=f.memoizedState.inst;Jt!==null&&l!==null&&Mm(l,Jt.memoizedState.deps)?f.memoizedState=Hl(i,a,b,l):(Ft.flags|=n,f.memoizedState=Hl(1|i,a,b,l))}function BA(n,i){jf(8390656,8,n,i)}function jm(n,i){Uf(2048,8,n,i)}function IA(n,i){return Uf(4,2,n,i)}function qA(n,i){return Uf(4,4,n,i)}function GA(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function VA(n,i,a){a=a!=null?a.concat([n]):null,Uf(4,4,GA.bind(null,i,n),a)}function Um(){}function XA(n,i){var a=Me();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Mm(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function YA(n,i){var a=Me();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Mm(i,l[1]))return l[0];if(l=n(),Br){xa(!0);try{n()}finally{xa(!1)}}return a.memoizedState=[l,i],l}function Bm(n,i,a){return a===void 0||(La&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=$S(),Ft.lanes|=n,Ia|=n,a)}function KA(n,i,a,l){return qn(a,i)?a:Ll.current!==null?(n=Bm(n,a,l),qn(n,i)||(qe=!0),n):(La&42)===0?(qe=!0,n.memoizedState=a):(n=$S(),Ft.lanes|=n,Ia|=n,i)}function $A(n,i,a,l,f){var b=st.p;st.p=b!==0&&8>b?b:8;var A=V.T,R={};V.T=R,Gm(n,!1,i,a);try{var D=f(),P=V.S;if(P!==null&&P(R,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=$x(D,l);zu(n,i,K,Yn(n))}else zu(n,i,l,Yn(n))}catch(J){zu(n,i,{then:function(){},status:"rejected",reason:J},Yn())}finally{st.p=b,V.T=A}}function tR(){}function Im(n,i,a,l){if(n.tag!==5)throw Error(s(476));var f=WA(n).queue;$A(n,f,i,_t,a===null?tR:function(){return QA(n),a(l)})}function WA(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:_t,baseState:_t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:_t},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function QA(n){var i=WA(n).next.queue;zu(n,i,{},Yn())}function qm(){return cn(sh)}function ZA(){return Me().memoizedState}function JA(){return Me().memoizedState}function eR(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Yn();n=Pa(a);var l=Ha(i,n,a);l!==null&&(Sn(l,i,a),Bu(l,i,a)),i={cache:xm()},n.payload=i;return}i=i.return}}function nR(n,i,a){var l=Yn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Bf(n)?eS(i,a):(a=vm(n,i,a,l),a!==null&&(Sn(a,n,l),nS(a,i,l)))}function tS(n,i,a){var l=Yn();zu(n,i,a,l)}function zu(n,i,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Bf(n))eS(i,f);else{var b=n.alternate;if(n.lanes===0&&(b===null||b.lanes===0)&&(b=i.lastRenderedReducer,b!==null))try{var A=i.lastRenderedState,R=b(A,a);if(f.hasEagerState=!0,f.eagerState=R,qn(R,A))return wf(n,i,f,0),ae===null&&Ef(),!1}catch{}finally{}if(a=vm(n,i,f,l),a!==null)return Sn(a,n,l),nS(a,i,l),!0}return!1}function Gm(n,i,a,l){if(l={lane:2,revertLane:Nb(),action:l,hasEagerState:!1,eagerState:null,next:null},Bf(n)){if(i)throw Error(s(479))}else i=vm(n,a,l,2),i!==null&&Sn(i,n,2)}function Bf(n){var i=n.alternate;return n===Ft||i!==null&&i===Ft}function eS(n,i){Fl=kf=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function nS(n,i,a){if((a&4194176)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,f0(n,a)}}var ns={readContext:cn,use:Hf,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we};ns.useCacheRefresh=we,ns.useMemoCache=we,ns.useHostTransitionStatus=we,ns.useFormState=we,ns.useActionState=we,ns.useOptimistic=we;var Ir={readContext:cn,use:Hf,useCallback:function(n,i){return On().memoizedState=[n,i===void 0?null:i],n},useContext:cn,useEffect:BA,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,jf(4194308,4,GA.bind(null,i,n),a)},useLayoutEffect:function(n,i){return jf(4194308,4,n,i)},useInsertionEffect:function(n,i){jf(4,2,n,i)},useMemo:function(n,i){var a=On();i=i===void 0?null:i;var l=n();if(Br){xa(!0);try{n()}finally{xa(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=On();if(a!==void 0){var f=a(i);if(Br){xa(!0);try{a(i)}finally{xa(!1)}}}else f=i;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=nR.bind(null,Ft,n),[l.memoizedState,n]},useRef:function(n){var i=On();return n={current:n},i.memoizedState=n},useState:function(n){n=Hm(n);var i=n.queue,a=tS.bind(null,Ft,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Um,useDeferredValue:function(n,i){var a=On();return Bm(a,n,i)},useTransition:function(){var n=Hm(!1);return n=$A.bind(null,Ft,n.queue,!0,!1),On().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Ft,f=On();if(Xt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ae===null)throw Error(s(349));(Gt&60)!==0||TA(l,i,a)}f.memoizedState=a;var b={value:a,getSnapshot:i};return f.queue=b,BA(RA.bind(null,l,b,n),[n]),l.flags|=2048,Hl(9,xA.bind(null,l,b,a,i),{destroy:void 0},null),a},useId:function(){var n=On(),i=ae.identifierPrefix;if(Xt){var a=Ds,l=Ms;a=(l&~(1<<32-In(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=Ff++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=Wx++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},useCacheRefresh:function(){return On().memoizedState=eR.bind(null,Ft)}};Ir.useMemoCache=km,Ir.useHostTransitionStatus=qm,Ir.useFormState=PA,Ir.useActionState=PA,Ir.useOptimistic=function(n){var i=On();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Gm.bind(null,Ft,!0,a),a.dispatch=i,[n,i]};var Na={readContext:cn,use:Hf,useCallback:XA,useContext:cn,useEffect:jm,useImperativeHandle:VA,useInsertionEffect:IA,useLayoutEffect:qA,useMemo:YA,useReducer:zf,useRef:UA,useState:function(){return zf(Ls)},useDebugValue:Um,useDeferredValue:function(n,i){var a=Me();return KA(a,Jt.memoizedState,n,i)},useTransition:function(){var n=zf(Ls)[0],i=Me().memoizedState;return[typeof n=="boolean"?n:Hu(n),i]},useSyncExternalStore:wA,useId:ZA};Na.useCacheRefresh=JA,Na.useMemoCache=km,Na.useHostTransitionStatus=qm,Na.useFormState=HA,Na.useActionState=HA,Na.useOptimistic=function(n,i){var a=Me();return DA(a,Jt,n,i)};var qr={readContext:cn,use:Hf,useCallback:XA,useContext:cn,useEffect:jm,useImperativeHandle:VA,useInsertionEffect:IA,useLayoutEffect:qA,useMemo:YA,useReducer:Pm,useRef:UA,useState:function(){return Pm(Ls)},useDebugValue:Um,useDeferredValue:function(n,i){var a=Me();return Jt===null?Bm(a,n,i):KA(a,Jt.memoizedState,n,i)},useTransition:function(){var n=Pm(Ls)[0],i=Me().memoizedState;return[typeof n=="boolean"?n:Hu(n),i]},useSyncExternalStore:wA,useId:ZA};qr.useCacheRefresh=JA,qr.useMemoCache=km,qr.useHostTransitionStatus=qm,qr.useFormState=jA,qr.useActionState=jA,qr.useOptimistic=function(n,i){var a=Me();return Jt!==null?DA(a,Jt,n,i):(a.baseState=n,[n,a.queue.dispatch])};function Vm(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:et({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Xm={isMounted:function(n){return(n=n._reactInternals)?tt(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var l=Yn(),f=Pa(l);f.payload=i,a!=null&&(f.callback=a),i=Ha(n,f,l),i!==null&&(Sn(i,n,l),Bu(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=Yn(),f=Pa(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Ha(n,f,l),i!==null&&(Sn(i,n,l),Bu(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Yn(),l=Pa(a);l.tag=2,i!=null&&(l.callback=i),i=Ha(n,l,a),i!==null&&(Sn(i,n,a),Bu(i,n,a))}};function iS(n,i,a,l,f,b,A){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,b,A):i.prototype&&i.prototype.isPureReactComponent?!Tu(a,l)||!Tu(f,b):!0}function sS(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&Xm.enqueueReplaceState(i,i.state,null)}function Gr(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=et({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var If=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function aS(n){If(n)}function rS(n){console.error(n)}function oS(n){If(n)}function qf(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function lS(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ym(n,i,a){return a=Pa(a),a.tag=3,a.payload={element:null},a.callback=function(){qf(n,i)},a}function cS(n){return n=Pa(n),n.tag=3,n}function uS(n,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var b=l.value;n.payload=function(){return f(b)},n.callback=function(){lS(i,a,l)}}var A=a.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(n.callback=function(){lS(i,a,l),typeof f!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var R=l.stack;this.componentDidCatch(l.value,{componentStack:R!==null?R:""})})}function iR(n,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Uu(i,a,f,!0),a=pi.current,a!==null){switch(a.tag){case 13:return es===null?Cb():a.alternate===null&&ve===0&&(ve=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Em?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Db(n,l,f)),!1;case 22:return a.flags|=65536,l===Em?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Db(n,l,f)),!1}throw Error(s(435,a.tag))}return Db(n,l,f),Cb(),!1}if(Xt)return i=pi.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==_m&&(n=Error(s(422),{cause:l}),Mu(hi(n,a)))):(l!==_m&&(i=Error(s(423),{cause:l}),Mu(hi(i,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=hi(l,a),f=Ym(n.stateNode,l,f),lb(n,f),ve!==4&&(ve=2)),!1;var b=Error(s(520),{cause:l});if(b=hi(b,a),$u===null?$u=[b]:$u.push(b),ve!==4&&(ve=2),i===null)return!0;l=hi(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Ym(a.stateNode,l,n),lb(a,n),!1;case 1:if(i=a.type,b=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(qa===null||!qa.has(b))))return a.flags|=65536,f&=-f,a.lanes|=f,f=cS(f),uS(f,n,a,l),lb(a,f),!1}a=a.return}while(a!==null);return!1}var hS=Error(s(461)),qe=!1;function Je(n,i,a,l){i.child=n===null?mA(i,null,a,l):jr(i,n.child,a,l)}function dS(n,i,a,l,f){a=a.render;var b=i.ref;if("ref"in l){var A={};for(var R in l)R!=="ref"&&(A[R]=l[R])}else A=l;return Xr(i),l=Dm(n,i,a,A,b,f),R=Om(),n!==null&&!qe?(Lm(n,i,f),Ns(n,i,f)):(Xt&&R&&Am(i),i.flags|=1,Je(n,i,l,f),i.child)}function fS(n,i,a,l,f){if(n===null){var b=a.type;return typeof b=="function"&&!mb(b)&&b.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=b,pS(n,i,b,l,f)):(n=Kf(a.type,null,l,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(b=n.child,!nb(n,f)){var A=b.memoizedProps;if(a=a.compare,a=a!==null?a:Tu,a(A,l)&&n.ref===i.ref)return Ns(n,i,f)}return i.flags|=1,n=Ba(b,l),n.ref=i.ref,n.return=i,i.child=n}function pS(n,i,a,l,f){if(n!==null){var b=n.memoizedProps;if(Tu(b,l)&&n.ref===i.ref)if(qe=!1,i.pendingProps=l=b,nb(n,f))(n.flags&131072)!==0&&(qe=!0);else return i.lanes=n.lanes,Ns(n,i,f)}return Km(n,i,a,l,f)}function gS(n,i,a){var l=i.pendingProps,f=l.children,b=(i.stateNode._pendingVisibility&2)!==0,A=n!==null?n.memoizedState:null;if(ju(n,i),l.mode==="hidden"||b){if((i.flags&128)!==0){if(l=A!==null?A.baseLanes|a:a,n!==null){for(f=i.child=n.child,b=0;f!==null;)b=b|f.lanes|f.childLanes,f=f.sibling;i.childLanes=b&~l}else i.childLanes=0,i.child=null;return mS(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Nf(i,A!==null?A.cachePool:null),A!==null?bA(i,A):wm(),yA(i);else return i.lanes=i.childLanes=536870912,mS(n,i,A!==null?A.baseLanes|a:a,a)}else A!==null?(Nf(i,A.cachePool),bA(i,A),Oa(),i.memoizedState=null):(n!==null&&Nf(i,null),wm(),Oa());return Je(n,i,f,a),i.child}function mS(n,i,a,l){var f=Cm();return f=f===null?null:{parent:Fe._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},n!==null&&Nf(i,null),wm(),yA(i),n!==null&&Uu(n,i,l,!0),null}function ju(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=2097664)}}function Km(n,i,a,l,f){return Xr(i),a=Dm(n,i,a,l,void 0,f),l=Om(),n!==null&&!qe?(Lm(n,i,f),Ns(n,i,f)):(Xt&&l&&Am(i),i.flags|=1,Je(n,i,a,f),i.child)}function bS(n,i,a,l,f,b){return Xr(i),i.updateQueue=null,a=EA(i,l,a,f),_A(n),l=Om(),n!==null&&!qe?(Lm(n,i,b),Ns(n,i,b)):(Xt&&l&&Am(i),i.flags|=1,Je(n,i,a,b),i.child)}function yS(n,i,a,l,f){if(Xr(i),i.stateNode===null){var b=Cl,A=a.contextType;typeof A=="object"&&A!==null&&(b=cn(A)),b=new a(l,b),i.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Xm,i.stateNode=b,b._reactInternals=i,b=i.stateNode,b.props=l,b.state=i.memoizedState,b.refs={},rb(i),A=a.contextType,b.context=typeof A=="object"&&A!==null?cn(A):Cl,b.state=i.memoizedState,A=a.getDerivedStateFromProps,typeof A=="function"&&(Vm(i,a,A,l),b.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(A=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),A!==b.state&&Xm.enqueueReplaceState(b,b.state,null),qu(i,l,b,f),Iu(),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){b=i.stateNode;var R=i.memoizedProps,D=Gr(a,R);b.props=D;var P=b.context,K=a.contextType;A=Cl,typeof K=="object"&&K!==null&&(A=cn(K));var J=a.getDerivedStateFromProps;K=typeof J=="function"||typeof b.getSnapshotBeforeUpdate=="function",R=i.pendingProps!==R,K||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R||P!==A)&&sS(i,b,l,A),Fa=!1;var B=i.memoizedState;b.state=B,qu(i,l,b,f),Iu(),P=i.memoizedState,R||B!==P||Fa?(typeof J=="function"&&(Vm(i,a,J,l),P=i.memoizedState),(D=Fa||iS(i,a,D,l,B,P,A))?(K||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=P),b.props=l,b.state=P,b.context=A,l=D):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{b=i.stateNode,ob(n,i),A=i.memoizedProps,K=Gr(a,A),b.props=K,J=i.pendingProps,B=b.context,P=a.contextType,D=Cl,typeof P=="object"&&P!==null&&(D=cn(P)),R=a.getDerivedStateFromProps,(P=typeof R=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==J||B!==D)&&sS(i,b,l,D),Fa=!1,B=i.memoizedState,b.state=B,qu(i,l,b,f),Iu();var X=i.memoizedState;A!==J||B!==X||Fa||n!==null&&n.dependencies!==null&&Gf(n.dependencies)?(typeof R=="function"&&(Vm(i,a,R,l),X=i.memoizedState),(K=Fa||iS(i,a,K,l,B,X,D)||n!==null&&n.dependencies!==null&&Gf(n.dependencies))?(P||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(l,X,D),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(l,X,D)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||A===n.memoizedProps&&B===n.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&B===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),b.props=l,b.state=X,b.context=D,l=K):(typeof b.componentDidUpdate!="function"||A===n.memoizedProps&&B===n.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&B===n.memoizedState||(i.flags|=1024),l=!1)}return b=l,ju(n,i),l=(i.flags&128)!==0,b||l?(b=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:b.render(),i.flags|=1,n!==null&&l?(i.child=jr(i,n.child,null,f),i.child=jr(i,null,a,f)):Je(n,i,a,f),i.memoizedState=b.state,n=i.child):n=Ns(n,i,f),n}function vS(n,i,a,l){return Cu(),i.flags|=256,Je(n,i,a,l),i.child}var $m={dehydrated:null,treeContext:null,retryLane:0};function Wm(n){return{baseLanes:n,cachePool:SA()}}function Qm(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=yi),n}function AS(n,i,a){var l=i.pendingProps,f=!1,b=(i.flags&128)!==0,A;if((A=b)||(A=n!==null&&n.memoizedState===null?!1:(ke.current&2)!==0),A&&(f=!0,i.flags&=-129),A=(i.flags&32)!==0,i.flags&=-33,n===null){if(Xt){if(f?Da(i):Oa(),Xt){var R=Ze,D;if(D=R){t:{for(D=R,R=ts;D.nodeType!==8;){if(!R){R=null;break t}if(D=ki(D.nextSibling),D===null){R=null;break t}}R=D}R!==null?(i.memoizedState={dehydrated:R,treeContext:Pr!==null?{id:Ms,overflow:Ds}:null,retryLane:536870912},D=bi(18,null,null,0),D.stateNode=R,D.return=i,i.child=D,An=i,Ze=null,D=!0):D=!1}D||zr(i)}if(R=i.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return R.data==="$!"?i.lanes=16:i.lanes=536870912,null;Os(i)}return R=l.children,l=l.fallback,f?(Oa(),f=i.mode,R=Jm({mode:"hidden",children:R},f),l=Kr(l,f,a,null),R.return=i,l.return=i,R.sibling=l,i.child=R,f=i.child,f.memoizedState=Wm(a),f.childLanes=Qm(n,A,a),i.memoizedState=$m,l):(Da(i),Zm(i,R))}if(D=n.memoizedState,D!==null&&(R=D.dehydrated,R!==null)){if(b)i.flags&256?(Da(i),i.flags&=-257,i=tb(n,i,a)):i.memoizedState!==null?(Oa(),i.child=n.child,i.flags|=128,i=null):(Oa(),f=l.fallback,R=i.mode,l=Jm({mode:"visible",children:l.children},R),f=Kr(f,R,a,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,jr(i,n.child,null,a),l=i.child,l.memoizedState=Wm(a),l.childLanes=Qm(n,A,a),i.memoizedState=$m,i=f);else if(Da(i),R.data==="$!"){if(A=R.nextSibling&&R.nextSibling.dataset,A)var P=A.dgst;A=P,l=Error(s(419)),l.stack="",l.digest=A,Mu({value:l,source:null,stack:null}),i=tb(n,i,a)}else if(qe||Uu(n,i,a,!1),A=(a&n.childLanes)!==0,qe||A){if(A=ae,A!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(A.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane)throw D.retryLane=l,Ma(n,l),Sn(A,n,l),hS}R.data==="$?"||Cb(),i=tb(n,i,a)}else R.data==="$?"?(i.flags|=128,i.child=n.child,i=yR.bind(null,n),R._reactRetry=i,i=null):(n=D.treeContext,Ze=ki(R.nextSibling),An=i,Xt=!0,Li=null,ts=!1,n!==null&&(di[fi++]=Ms,di[fi++]=Ds,di[fi++]=Pr,Ms=n.id,Ds=n.overflow,Pr=i),i=Zm(i,l.children),i.flags|=4096);return i}return f?(Oa(),f=l.fallback,R=i.mode,D=n.child,P=D.sibling,l=Ba(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&31457280,P!==null?f=Ba(P,f):(f=Kr(f,R,a,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,R=n.child.memoizedState,R===null?R=Wm(a):(D=R.cachePool,D!==null?(P=Fe._currentValue,D=D.parent!==P?{parent:P,pool:P}:D):D=SA(),R={baseLanes:R.baseLanes|a,cachePool:D}),f.memoizedState=R,f.childLanes=Qm(n,A,a),i.memoizedState=$m,l):(Da(i),a=n.child,n=a.sibling,a=Ba(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(A=i.deletions,A===null?(i.deletions=[n],i.flags|=16):A.push(n)),i.child=a,i.memoizedState=null,a)}function Zm(n,i){return i=Jm({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Jm(n,i){return XS(n,i,0,null)}function tb(n,i,a){return jr(i,n.child,null,a),n=Zm(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function SS(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),sb(n.return,i,a)}function eb(n,i,a,l,f){var b=n.memoizedState;b===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=a,b.tailMode=f)}function _S(n,i,a){var l=i.pendingProps,f=l.revealOrder,b=l.tail;if(Je(n,i,l.children,a),l=ke.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&SS(n,a,i);else if(n.tag===19)SS(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(St(ke,l),f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&Lf(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),eb(i,!1,f,a,b);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Lf(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}eb(i,!0,a,null,b);break;case"together":eb(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ns(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Ia|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(Uu(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=Ba(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Ba(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function nb(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Gf(n)))}function sR(n,i,a){switch(i.tag){case 3:Ee(i,i.stateNode.containerInfo),ka(i,Fe,n.memoizedState.cache),Cu();break;case 27:case 5:Zi(i);break;case 4:Ee(i,i.stateNode.containerInfo);break;case 10:ka(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Da(i),i.flags|=128,null):(a&i.child.childLanes)!==0?AS(n,i,a):(Da(i),n=Ns(n,i,a),n!==null?n.sibling:null);Da(i);break;case 19:var f=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Uu(n,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return _S(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),St(ke,ke.current),l)break;return null;case 22:case 23:return i.lanes=0,gS(n,i,a);case 24:ka(i,Fe,n.memoizedState.cache)}return Ns(n,i,a)}function ES(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)qe=!0;else{if(!nb(n,a)&&(i.flags&128)===0)return qe=!1,sR(n,i,a);qe=(n.flags&131072)!==0}else qe=!1,Xt&&(i.flags&1048576)!==0&&oA(i,Rf,i.index);switch(i.lanes=0,i.tag){case 16:t:{n=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")mb(l)?(n=Gr(l,n),i.tag=1,i=yS(null,i,l,n,a)):(i.tag=0,i=Km(null,i,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===_){i.tag=11,i=dS(null,i,l,n,a);break t}else if(f===C){i.tag=14,i=fS(null,i,l,n,a);break t}}throw i=Y(l)||l,Error(s(306,i,""))}}return i;case 0:return Km(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Gr(l,i.pendingProps),yS(n,i,l,f,a);case 3:t:{if(Ee(i,i.stateNode.containerInfo),n===null)throw Error(s(387));var b=i.pendingProps;f=i.memoizedState,l=f.element,ob(n,i),qu(i,b,null,a);var A=i.memoizedState;if(b=A.cache,ka(i,Fe,b),b!==f.cache&&ab(i,[Fe],a,!0),Iu(),b=A.element,f.isDehydrated)if(f={element:b,isDehydrated:!1,cache:A.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=vS(n,i,b,a);break t}else if(b!==l){l=hi(Error(s(424)),i),Mu(l),i=vS(n,i,b,a);break t}else for(Ze=ki(i.stateNode.containerInfo.firstChild),An=i,Xt=!0,Li=null,ts=!0,a=mA(i,null,b,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Cu(),b===l){i=Ns(n,i,a);break t}Je(n,i,b,a)}i=i.child}return i;case 26:return ju(n,i),n===null?(a=x_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Xt||(a=i.type,n=i.pendingProps,l=rp(Bt.current).createElement(a),l[ln]=i,l[Mn]=n,tn(l,a,n),Ie(l),i.stateNode=l):i.memoizedState=x_(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Zi(i),n===null&&Xt&&(l=i.stateNode=E_(i.type,i.pendingProps,Bt.current),An=i,ts=!0,Ze=ki(l.firstChild)),l=i.pendingProps.children,n!==null||Xt?Je(n,i,l,a):i.child=jr(i,null,l,a),ju(n,i),i.child;case 5:return n===null&&Xt&&((f=l=Ze)&&(l=kR(l,i.type,i.pendingProps,ts),l!==null?(i.stateNode=l,An=i,Ze=ki(l.firstChild),ts=!1,f=!0):f=!1),f||zr(i)),Zi(i),f=i.type,b=i.pendingProps,A=n!==null?n.memoizedProps:null,l=b.children,Ib(f,b)?l=null:A!==null&&Ib(f,A)&&(i.flags|=32),i.memoizedState!==null&&(f=Dm(n,i,Qx,null,null,a),sh._currentValue=f),ju(n,i),Je(n,i,l,a),i.child;case 6:return n===null&&Xt&&((n=a=Ze)&&(a=FR(a,i.pendingProps,ts),a!==null?(i.stateNode=a,An=i,Ze=null,n=!0):n=!1),n||zr(i)),null;case 13:return AS(n,i,a);case 4:return Ee(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=jr(i,null,l,a):Je(n,i,l,a),i.child;case 11:return dS(n,i,i.type,i.pendingProps,a);case 7:return Je(n,i,i.pendingProps,a),i.child;case 8:return Je(n,i,i.pendingProps.children,a),i.child;case 12:return Je(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ka(i,i.type,l.value),Je(n,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Xr(i),f=cn(f),l=l(f),i.flags|=1,Je(n,i,l,a),i.child;case 14:return fS(n,i,i.type,i.pendingProps,a);case 15:return pS(n,i,i.type,i.pendingProps,a);case 19:return _S(n,i,a);case 22:return gS(n,i,a);case 24:return Xr(i),l=cn(Fe),n===null?(f=Cm(),f===null&&(f=ae,b=xm(),f.pooledCache=b,b.refCount++,b!==null&&(f.pooledCacheLanes|=a),f=b),i.memoizedState={parent:l,cache:f},rb(i),ka(i,Fe,f)):((n.lanes&a)!==0&&(ob(n,i),qu(i,null,null,a),Iu()),f=n.memoizedState,b=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),ka(i,Fe,l)):(l=b.cache,ka(i,Fe,l),l!==f.cache&&ab(i,[Fe],a,!0))),Je(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var ib=Ot(null),Vr=null,ks=null;function ka(n,i,a){St(ib,i._currentValue),i._currentValue=a}function Fs(n){n._currentValue=ib.current,Vt(ib)}function sb(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function ab(n,i,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var b=f.dependencies;if(b!==null){var A=f.child;b=b.firstContext;t:for(;b!==null;){var R=b;b=f;for(var D=0;D<i.length;D++)if(R.context===i[D]){b.lanes|=a,R=b.alternate,R!==null&&(R.lanes|=a),sb(b.return,a,n),l||(A=null);break t}b=R.next}}else if(f.tag===18){if(A=f.return,A===null)throw Error(s(341));A.lanes|=a,b=A.alternate,b!==null&&(b.lanes|=a),sb(A,a,n),A=null}else A=f.child;if(A!==null)A.return=f;else for(A=f;A!==null;){if(A===n){A=null;break}if(f=A.sibling,f!==null){f.return=A.return,A=f;break}A=A.return}f=A}}function Uu(n,i,a,l){n=null;for(var f=i,b=!1;f!==null;){if(!b){if((f.flags&524288)!==0)b=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var A=f.alternate;if(A===null)throw Error(s(387));if(A=A.memoizedProps,A!==null){var R=f.type;qn(f.pendingProps.value,A.value)||(n!==null?n.push(R):n=[R])}}else if(f===le.current){if(A=f.alternate,A===null)throw Error(s(387));A.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(sh):n=[sh])}f=f.return}n!==null&&ab(i,n,a,l),i.flags|=262144}function Gf(n){for(n=n.firstContext;n!==null;){if(!qn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Xr(n){Vr=n,ks=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function cn(n){return wS(Vr,n)}function Vf(n,i){return Vr===null&&Xr(n),wS(n,i)}function wS(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ks===null){if(n===null)throw Error(s(308));ks=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else ks=ks.next=i;return a}var Fa=!1;function rb(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ob(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Pa(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ha(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(fe&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Tf(n),aA(n,null,a),i}return wf(n,l,i,a),Tf(n)}function Bu(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,f0(n,a)}}function lb(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,b=null;if(a=a.firstBaseUpdate,a!==null){do{var A={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};b===null?f=b=A:b=b.next=A,a=a.next}while(a!==null);b===null?f=b=i:b=b.next=i}else f=b=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:b,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var cb=!1;function Iu(){if(cb){var n=kl;if(n!==null)throw n}}function qu(n,i,a,l){cb=!1;var f=n.updateQueue;Fa=!1;var b=f.firstBaseUpdate,A=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var D=R,P=D.next;D.next=null,A===null?b=P:A.next=P,A=D;var K=n.alternate;K!==null&&(K=K.updateQueue,R=K.lastBaseUpdate,R!==A&&(R===null?K.firstBaseUpdate=P:R.next=P,K.lastBaseUpdate=D))}if(b!==null){var J=f.baseState;A=0,K=P=D=null,R=b;do{var B=R.lane&-536870913,X=B!==R.lane;if(X?(Gt&B)===B:(l&B)===B){B!==0&&B===Nl&&(cb=!0),K!==null&&(K=K.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var gt=n,xt=R;B=i;var Ae=a;switch(xt.tag){case 1:if(gt=xt.payload,typeof gt=="function"){J=gt.call(Ae,J,B);break t}J=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=xt.payload,B=typeof gt=="function"?gt.call(Ae,J,B):gt,B==null)break t;J=et({},J,B);break t;case 2:Fa=!0}}B=R.callback,B!==null&&(n.flags|=64,X&&(n.flags|=8192),X=f.callbacks,X===null?f.callbacks=[B]:X.push(B))}else X={lane:B,tag:R.tag,payload:R.payload,callback:R.callback,next:null},K===null?(P=K=X,D=J):K=K.next=X,A|=B;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;X=R,R=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);K===null&&(D=J),f.baseState=D,f.firstBaseUpdate=P,f.lastBaseUpdate=K,b===null&&(f.shared.lanes=0),Ia|=A,n.lanes=A,n.memoizedState=J}}function TS(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function xS(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)TS(a[n],i)}function Gu(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var b=a.create,A=a.inst;l=b(),A.destroy=l}a=a.next}while(a!==f)}}catch(R){ie(i,i.return,R)}}function za(n,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var b=f.next;l=b;do{if((l.tag&n)===n){var A=l.inst,R=A.destroy;if(R!==void 0){A.destroy=void 0,f=i;var D=a;try{R()}catch(P){ie(f,D,P)}}}l=l.next}while(l!==b)}}catch(P){ie(i,i.return,P)}}function RS(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{xS(i,a)}catch(l){ie(n,n.return,l)}}}function CS(n,i,a){a.props=Gr(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){ie(n,i,l)}}function Yr(n,i){try{var a=n.ref;if(a!==null){var l=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(b){ie(n,i,b)}}function Gn(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){ie(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ie(n,i,f)}else a.current=null}function MS(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){ie(n,n.return,f)}}function DS(n,i,a){try{var l=n.stateNode;MR(l,n.type,a,i),l[Mn]=i}catch(f){ie(n,n.return,f)}}function OS(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function ub(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||OS(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function hb(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ap));else if(l!==4&&l!==27&&(n=n.child,n!==null))for(hb(n,i,a),n=n.sibling;n!==null;)hb(n,i,a),n=n.sibling}function Xf(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Xf(n,i,a),n=n.sibling;n!==null;)Xf(n,i,a),n=n.sibling}var Ps=!1,ye=!1,db=!1,LS=typeof WeakSet=="function"?WeakSet:Set,Ge=null,NS=!1;function aR(n,i){if(n=n.containerInfo,Ub=dp,n=W0(n),pm(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else t:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,b=l.focusNode;l=l.focusOffset;try{a.nodeType,b.nodeType}catch{a=null;break t}var A=0,R=-1,D=-1,P=0,K=0,J=n,B=null;e:for(;;){for(var X;J!==a||f!==0&&J.nodeType!==3||(R=A+f),J!==b||l!==0&&J.nodeType!==3||(D=A+l),J.nodeType===3&&(A+=J.nodeValue.length),(X=J.firstChild)!==null;)B=J,J=X;for(;;){if(J===n)break e;if(B===a&&++P===f&&(R=A),B===b&&++K===l&&(D=A),(X=J.nextSibling)!==null)break;J=B,B=J.parentNode}J=X}a=R===-1||D===-1?null:{start:R,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bb={focusedElem:n,selectionRange:a},dp=!1,Ge=i;Ge!==null;)if(i=Ge,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Ge=n;else for(;Ge!==null;){switch(i=Ge,b=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&b!==null){n=void 0,a=i,f=b.memoizedProps,b=b.memoizedState,l=a.stateNode;try{var gt=Gr(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(gt,b),l.__reactInternalSnapshotBeforeUpdate=n}catch(xt){ie(a,a.return,xt)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)Vb(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Vb(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Ge=n;break}Ge=i.return}return gt=NS,NS=!1,gt}function kS(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:zs(n,a),l&4&&Gu(5,a);break;case 1:if(zs(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(R){ie(a,a.return,R)}else{var f=Gr(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(R){ie(a,a.return,R)}}l&64&&RS(a),l&512&&Yr(a,a.return);break;case 3:if(zs(n,a),l&64&&(l=a.updateQueue,l!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{xS(l,n)}catch(R){ie(a,a.return,R)}}break;case 26:zs(n,a),l&512&&Yr(a,a.return);break;case 27:case 5:zs(n,a),i===null&&l&4&&MS(a),l&512&&Yr(a,a.return);break;case 12:zs(n,a);break;case 13:zs(n,a),l&4&&HS(n,a);break;case 22:if(f=a.memoizedState!==null||Ps,!f){i=i!==null&&i.memoizedState!==null||ye;var b=Ps,A=ye;Ps=f,(ye=i)&&!A?ja(n,a,(a.subtreeFlags&8772)!==0):zs(n,a),Ps=b,ye=A}l&512&&(a.memoizedProps.mode==="manual"?Yr(a,a.return):Gn(a,a.return));break;default:zs(n,a)}}function FS(n){var i=n.alternate;i!==null&&(n.alternate=null,FS(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Zg(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var De=null,Vn=!1;function Hs(n,i,a){for(a=a.child;a!==null;)PS(n,i,a),a=a.sibling}function PS(n,i,a){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(fu,a)}catch{}switch(a.tag){case 26:ye||Gn(a,i),Hs(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ye||Gn(a,i);var l=De,f=Vn;for(De=a.stateNode,Hs(n,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Zg(a),De=l,Vn=f;break;case 5:ye||Gn(a,i);case 6:f=De;var b=Vn;if(De=null,Hs(n,i,a),De=f,Vn=b,De!==null)if(Vn)try{n=De,l=a.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)}catch(A){ie(a,i,A)}else try{De.removeChild(a.stateNode)}catch(A){ie(a,i,A)}break;case 18:De!==null&&(Vn?(i=De,a=a.stateNode,i.nodeType===8?Gb(i.parentNode,a):i.nodeType===1&&Gb(i,a),lh(i)):Gb(De,a.stateNode));break;case 4:l=De,f=Vn,De=a.stateNode.containerInfo,Vn=!0,Hs(n,i,a),De=l,Vn=f;break;case 0:case 11:case 14:case 15:ye||za(2,a,i),ye||za(4,a,i),Hs(n,i,a);break;case 1:ye||(Gn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&CS(a,i,l)),Hs(n,i,a);break;case 21:Hs(n,i,a);break;case 22:ye||Gn(a,i),ye=(l=ye)||a.memoizedState!==null,Hs(n,i,a),ye=l;break;default:Hs(n,i,a)}}function HS(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{lh(n)}catch(a){ie(i,i.return,a)}}function rR(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new LS),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new LS),i;default:throw Error(s(435,n.tag))}}function fb(n,i){var a=rR(n);i.forEach(function(l){var f=vR.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function gi(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],b=n,A=i,R=A;t:for(;R!==null;){switch(R.tag){case 27:case 5:De=R.stateNode,Vn=!1;break t;case 3:De=R.stateNode.containerInfo,Vn=!0;break t;case 4:De=R.stateNode.containerInfo,Vn=!0;break t}R=R.return}if(De===null)throw Error(s(160));PS(b,A,f),De=null,Vn=!1,b=f.alternate,b!==null&&(b.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)zS(i,n),i=i.sibling}var Ni=null;function zS(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:gi(i,n),mi(n),l&4&&(za(3,n,n.return),Gu(3,n),za(5,n,n.return));break;case 1:gi(i,n),mi(n),l&512&&(ye||a===null||Gn(a,a.return)),l&64&&Ps&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Ni;if(gi(i,n),mi(n),l&512&&(ye||a===null||Gn(a,a.return)),l&4){var b=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){t:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":b=f.getElementsByTagName("title")[0],(!b||b[mu]||b[ln]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=f.createElement(l),f.head.insertBefore(b,f.querySelector("head > title"))),tn(b,l,a),b[ln]=n,Ie(b),l=b;break t;case"link":var A=M_("link","href",f).get(l+(a.href||""));if(A){for(var R=0;R<A.length;R++)if(b=A[R],b.getAttribute("href")===(a.href==null?null:a.href)&&b.getAttribute("rel")===(a.rel==null?null:a.rel)&&b.getAttribute("title")===(a.title==null?null:a.title)&&b.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){A.splice(R,1);break e}}b=f.createElement(l),tn(b,l,a),f.head.appendChild(b);break;case"meta":if(A=M_("meta","content",f).get(l+(a.content||""))){for(R=0;R<A.length;R++)if(b=A[R],b.getAttribute("content")===(a.content==null?null:""+a.content)&&b.getAttribute("name")===(a.name==null?null:a.name)&&b.getAttribute("property")===(a.property==null?null:a.property)&&b.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&b.getAttribute("charset")===(a.charSet==null?null:a.charSet)){A.splice(R,1);break e}}b=f.createElement(l),tn(b,l,a),f.head.appendChild(b);break;default:throw Error(s(468,l))}b[ln]=n,Ie(b),l=b}n.stateNode=l}else D_(f,n.type,n.stateNode);else n.stateNode=C_(f,l,n.memoizedProps);else b!==l?(b===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):b.count--,l===null?D_(f,n.type,n.stateNode):C_(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&DS(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&n.alternate===null){f=n.stateNode,b=n.memoizedProps;try{for(var D=f.firstChild;D;){var P=D.nextSibling,K=D.nodeName;D[mu]||K==="HEAD"||K==="BODY"||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&D.rel.toLowerCase()==="stylesheet"||f.removeChild(D),D=P}for(var J=n.type,B=f.attributes;B.length;)f.removeAttributeNode(B[0]);tn(f,J,b),f[ln]=n,f[Mn]=b}catch(gt){ie(n,n.return,gt)}}case 5:if(gi(i,n),mi(n),l&512&&(ye||a===null||Gn(a,a.return)),n.flags&32){f=n.stateNode;try{Sl(f,"")}catch(gt){ie(n,n.return,gt)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,DS(n,f,a!==null?a.memoizedProps:f)),l&1024&&(db=!0);break;case 6:if(gi(i,n),mi(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(gt){ie(n,n.return,gt)}}break;case 3:if(cp=null,f=Ni,Ni=op(i.containerInfo),gi(i,n),Ni=f,mi(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{lh(i.containerInfo)}catch(gt){ie(n,n.return,gt)}db&&(db=!1,jS(n));break;case 4:l=Ni,Ni=op(n.stateNode.containerInfo),gi(i,n),mi(n),Ni=l;break;case 12:gi(i,n),mi(n);break;case 13:gi(i,n),mi(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_b=oi()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,fb(n,l)));break;case 22:if(l&512&&(ye||a===null||Gn(a,a.return)),D=n.memoizedState!==null,P=a!==null&&a.memoizedState!==null,K=Ps,J=ye,Ps=K||D,ye=J||P,gi(i,n),ye=J,Ps=K,mi(n),i=n.stateNode,i._current=n,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=D?i._visibility&-2:i._visibility|1,D&&(i=Ps||ye,a===null||P||i||zl(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))t:for(a=null,i=n;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){P=a=i;try{if(f=P.stateNode,D)b=f.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=P.stateNode,R=P.memoizedProps.style;var X=R!=null&&R.hasOwnProperty("display")?R.display:null;A.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(gt){ie(P,P.return,gt)}}}else if(i.tag===6){if(a===null){P=i;try{P.stateNode.nodeValue=D?"":P.memoizedProps}catch(gt){ie(P,P.return,gt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,fb(n,a))));break;case 19:gi(i,n),mi(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,fb(n,l)));break;case 21:break;default:gi(i,n),mi(n)}}function mi(n){var i=n.flags;if(i&2){try{if(n.tag!==27){t:{for(var a=n.return;a!==null;){if(OS(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var f=l.stateNode,b=ub(n);Xf(n,b,f);break;case 5:var A=l.stateNode;l.flags&32&&(Sl(A,""),l.flags&=-33);var R=ub(n);Xf(n,R,A);break;case 3:case 4:var D=l.stateNode.containerInfo,P=ub(n);hb(n,P,D);break;default:throw Error(s(161))}}}catch(K){ie(n,n.return,K)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function jS(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;jS(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function zs(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)kS(n,i.alternate,i),i=i.sibling}function zl(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:za(4,i,i.return),zl(i);break;case 1:Gn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&CS(i,i.return,a),zl(i);break;case 26:case 27:case 5:Gn(i,i.return),zl(i);break;case 22:Gn(i,i.return),i.memoizedState===null&&zl(i);break;default:zl(i)}n=n.sibling}}function ja(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=n,b=i,A=b.flags;switch(b.tag){case 0:case 11:case 15:ja(f,b,a),Gu(4,b);break;case 1:if(ja(f,b,a),l=b,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(P){ie(l,l.return,P)}if(l=b,f=l.updateQueue,f!==null){var R=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)TS(D[f],R)}catch(P){ie(l,l.return,P)}}a&&A&64&&RS(b),Yr(b,b.return);break;case 26:case 27:case 5:ja(f,b,a),a&&l===null&&A&4&&MS(b),Yr(b,b.return);break;case 12:ja(f,b,a);break;case 13:ja(f,b,a),a&&A&4&&HS(f,b);break;case 22:b.memoizedState===null&&ja(f,b,a),Yr(b,b.return);break;default:ja(f,b,a)}i=i.sibling}}function pb(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&ku(a))}function gb(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ku(n))}function Ua(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)US(n,i,a,l),i=i.sibling}function US(n,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Ua(n,i,a,l),f&2048&&Gu(9,i);break;case 3:Ua(n,i,a,l),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ku(n)));break;case 12:if(f&2048){Ua(n,i,a,l),n=i.stateNode;try{var b=i.memoizedProps,A=b.id,R=b.onPostCommit;typeof R=="function"&&R(A,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){ie(i,i.return,D)}}else Ua(n,i,a,l);break;case 23:break;case 22:b=i.stateNode,i.memoizedState!==null?b._visibility&4?Ua(n,i,a,l):Vu(n,i):b._visibility&4?Ua(n,i,a,l):(b._visibility|=4,jl(n,i,a,l,(i.subtreeFlags&10256)!==0)),f&2048&&pb(i.alternate,i);break;case 24:Ua(n,i,a,l),f&2048&&gb(i.alternate,i);break;default:Ua(n,i,a,l)}}function jl(n,i,a,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var b=n,A=i,R=a,D=l,P=A.flags;switch(A.tag){case 0:case 11:case 15:jl(b,A,R,D,f),Gu(8,A);break;case 23:break;case 22:var K=A.stateNode;A.memoizedState!==null?K._visibility&4?jl(b,A,R,D,f):Vu(b,A):(K._visibility|=4,jl(b,A,R,D,f)),f&&P&2048&&pb(A.alternate,A);break;case 24:jl(b,A,R,D,f),f&&P&2048&&gb(A.alternate,A);break;default:jl(b,A,R,D,f)}i=i.sibling}}function Vu(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,f=l.flags;switch(l.tag){case 22:Vu(a,l),f&2048&&pb(l.alternate,l);break;case 24:Vu(a,l),f&2048&&gb(l.alternate,l);break;default:Vu(a,l)}i=i.sibling}}var Xu=8192;function Ul(n){if(n.subtreeFlags&Xu)for(n=n.child;n!==null;)BS(n),n=n.sibling}function BS(n){switch(n.tag){case 26:Ul(n),n.flags&Xu&&n.memoizedState!==null&&KR(Ni,n.memoizedState,n.memoizedProps);break;case 5:Ul(n);break;case 3:case 4:var i=Ni;Ni=op(n.stateNode.containerInfo),Ul(n),Ni=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Xu,Xu=16777216,Ul(n),Xu=i):Ul(n));break;default:Ul(n)}}function IS(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Yu(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ge=l,GS(l,n)}IS(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)qS(n),n=n.sibling}function qS(n){switch(n.tag){case 0:case 11:case 15:Yu(n),n.flags&2048&&za(9,n,n.return);break;case 3:Yu(n);break;case 12:Yu(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&4&&(n.return===null||n.return.tag!==13)?(i._visibility&=-5,Yf(n)):Yu(n);break;default:Yu(n)}}function Yf(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ge=l,GS(l,n)}IS(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:za(8,i,i.return),Yf(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Yf(i));break;default:Yf(i)}n=n.sibling}}function GS(n,i){for(;Ge!==null;){var a=Ge;switch(a.tag){case 0:case 11:case 15:za(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ku(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ge=l;else t:for(a=n;Ge!==null;){l=Ge;var f=l.sibling,b=l.return;if(FS(l),l===a){Ge=null;break t}if(f!==null){f.return=b,Ge=f;break t}Ge=b}}}function oR(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bi(n,i,a,l){return new oR(n,i,a,l)}function mb(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ba(n,i){var a=n.alternate;return a===null?(a=bi(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function VS(n,i){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Kf(n,i,a,l,f,b){var A=0;if(l=n,typeof n=="function")mb(n)&&(A=1);else if(typeof n=="string")A=XR(n,a,on.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case p:return Kr(a.children,f,b,i);case g:A=8,f|=24;break;case m:return n=bi(12,a,i,f|2),n.elementType=m,n.lanes=b,n;case T:return n=bi(13,a,i,f),n.elementType=T,n.lanes=b,n;case M:return n=bi(19,a,i,f),n.elementType=M,n.lanes=b,n;case N:return XS(a,f,b,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case y:case S:A=10;break t;case v:A=9;break t;case _:A=11;break t;case C:A=14;break t;case O:A=16,l=null;break t}A=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=bi(A,a,i,f),i.elementType=n,i.type=l,i.lanes=b,i}function Kr(n,i,a,l){return n=bi(7,n,l,i),n.lanes=a,n}function XS(n,i,a,l){n=bi(22,n,l,i),n.elementType=N,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var b=f._current;if(b===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var A=Ma(b,2);A!==null&&(f._pendingVisibility|=2,Sn(A,b,2))}},attach:function(){var b=f._current;if(b===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var A=Ma(b,2);A!==null&&(f._pendingVisibility&=-3,Sn(A,b,2))}}};return n.stateNode=f,n}function bb(n,i,a){return n=bi(6,n,null,i),n.lanes=a,n}function yb(n,i,a){return i=bi(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function js(n){n.flags|=4}function YS(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!O_(i)){if(i=pi.current,i!==null&&((Gt&4194176)===Gt?es!==null:(Gt&62914560)!==Gt&&(Gt&536870912)===0||i!==es))throw Ou=Em,uA;n.flags|=8192}}function $f(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?h0():536870912,n.lanes|=i,Il|=i)}function Ku(n,i){if(!Xt)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function de(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function lR(n,i,a){var l=i.pendingProps;switch(Sm(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(i),null;case 1:return de(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Fs(Fe),ce(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Ru(i)?js(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Li!==null&&(xb(Li),Li=null))),de(i),null;case 26:return a=i.memoizedState,n===null?(js(i),a!==null?(de(i),YS(i,a)):(de(i),i.flags&=-16777217)):a?a!==n.memoizedState?(js(i),de(i),YS(i,a)):(de(i),i.flags&=-16777217):(n.memoizedProps!==l&&js(i),de(i),i.flags&=-16777217),null;case 27:Ji(i),a=Bt.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&js(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return de(i),null}n=on.current,Ru(i)?lA(i):(n=E_(f,l,a),i.stateNode=n,js(i))}return de(i),null;case 5:if(Ji(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&js(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return de(i),null}if(n=on.current,Ru(i))lA(i);else{switch(f=rp(Bt.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[ln]=i,n[Mn]=l;t:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break t;for(;f.sibling===null;){if(f.return===null||f.return===i)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;t:switch(tn(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&js(i)}}return de(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&js(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=Bt.current,Ru(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,f=An,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[ln]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||b_(n.nodeValue,a)),n||zr(i)}else n=rp(n).createTextNode(l),n[ln]=i,i.stateNode=n}return de(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Ru(i),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[ln]=i}else Cu(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;de(i),f=!1}else Li!==null&&(xb(Li),Li=null),f=!0;if(!f)return i.flags&256?(Os(i),i):(Os(i),null)}if(Os(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var b=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(b=l.memoizedState.cachePool.pool),b!==f&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),$f(i,i.updateQueue),de(i),null;case 4:return ce(),n===null&&Hb(i.stateNode.containerInfo),de(i),null;case 10:return Fs(i.type),de(i),null;case 19:if(Vt(ke),f=i.memoizedState,f===null)return de(i),null;if(l=(i.flags&128)!==0,b=f.rendering,b===null)if(l)Ku(f,!1);else{if(ve!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(b=Lf(n),b!==null){for(i.flags|=128,Ku(f,!1),n=b.updateQueue,i.updateQueue=n,$f(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)VS(a,n),a=a.sibling;return St(ke,ke.current&1|2),i.child}n=n.sibling}f.tail!==null&&oi()>Wf&&(i.flags|=128,l=!0,Ku(f,!1),i.lanes=4194304)}else{if(!l)if(n=Lf(b),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,$f(i,n),Ku(f,!0),f.tail===null&&f.tailMode==="hidden"&&!b.alternate&&!Xt)return de(i),null}else 2*oi()-f.renderingStartTime>Wf&&a!==536870912&&(i.flags|=128,l=!0,Ku(f,!1),i.lanes=4194304);f.isBackwards?(b.sibling=i.child,i.child=b):(n=f.last,n!==null?n.sibling=b:i.child=b,f.last=b)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=oi(),i.sibling=null,n=ke.current,St(ke,l?n&1|2:n&1),i):(de(i),null);case 22:case 23:return Os(i),Tm(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(de(i),i.subtreeFlags&6&&(i.flags|=8192)):de(i),a=i.updateQueue,a!==null&&$f(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&Vt(Ur),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Fs(Fe),de(i),null;case 25:return null}throw Error(s(156,i.tag))}function cR(n,i){switch(Sm(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Fs(Fe),ce(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Ji(i),null;case 13:if(Os(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Cu()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Vt(ke),null;case 4:return ce(),null;case 10:return Fs(i.type),null;case 22:case 23:return Os(i),Tm(),n!==null&&Vt(Ur),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Fs(Fe),null;case 25:return null;default:return null}}function KS(n,i){switch(Sm(i),i.tag){case 3:Fs(Fe),ce();break;case 26:case 27:case 5:Ji(i);break;case 4:ce();break;case 13:Os(i);break;case 19:Vt(ke);break;case 10:Fs(i.type);break;case 22:case 23:Os(i),Tm(),n!==null&&Vt(Ur);break;case 24:Fs(Fe)}}var uR={getCacheForType:function(n){var i=cn(Fe),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},hR=typeof WeakMap=="function"?WeakMap:Map,fe=0,ae=null,jt=null,Gt=0,re=0,Xn=null,Us=!1,Bl=!1,vb=!1,Bs=0,ve=0,Ia=0,$r=0,Ab=0,yi=0,Il=0,$u=null,is=null,Sb=!1,_b=0,Wf=1/0,Qf=null,qa=null,Zf=!1,Wr=null,Wu=0,Eb=0,wb=null,Qu=0,Tb=null;function Yn(){if((fe&2)!==0&&Gt!==0)return Gt&-Gt;if(V.T!==null){var n=Nl;return n!==0?n:Nb()}return g0()}function $S(){yi===0&&(yi=(Gt&536870912)===0||Xt?u0():536870912);var n=pi.current;return n!==null&&(n.flags|=32),yi}function Sn(n,i,a){(n===ae&&re===2||n.cancelPendingCommit!==null)&&(ql(n,0),Is(n,Gt,yi,!1)),gu(n,a),((fe&2)===0||n!==ae)&&(n===ae&&((fe&2)===0&&($r|=a),ve===4&&Is(n,Gt,yi,!1)),ss(n))}function WS(n,i,a){if((fe&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&n.expiredLanes)===0||pu(n,i),f=l?pR(n,i):Mb(n,i,!0),b=l;do{if(f===0){Bl&&!l&&Is(n,i,0,!1);break}else if(f===6)Is(n,i,0,!Us);else{if(a=n.current.alternate,b&&!dR(a)){f=Mb(n,i,!1),b=!1;continue}if(f===2){if(b=i,n.errorRecoveryDisabledLanes&b)var A=0;else A=n.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){i=A;t:{var R=n;f=$u;var D=R.current.memoizedState.isDehydrated;if(D&&(ql(R,A).flags|=256),A=Mb(R,A,!1),A!==2){if(vb&&!D){R.errorRecoveryDisabledLanes|=b,$r|=b,f=4;break t}b=is,is=f,b!==null&&xb(b)}f=A}if(b=!1,f!==2)continue}}if(f===1){ql(n,0),Is(n,i,0,!0);break}t:{switch(l=n,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Is(l,i,yi,!Us);break t}break;case 2:is=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(b=_b+300-oi(),10<b)){if(Is(l,i,yi,!Us),hf(l,0)!==0)break t;l.timeoutHandle=A_(QS.bind(null,l,a,is,Qf,Sb,i,yi,$r,Il,Us,2,-0,0),b);break t}QS(l,a,is,Qf,Sb,i,yi,$r,Il,Us,0,-0,0)}}break}while(!0);ss(n)}function xb(n){is===null?is=n:is.push.apply(is,n)}function QS(n,i,a,l,f,b,A,R,D,P,K,J,B){var X=i.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(ih={stylesheets:null,count:0,unsuspend:YR},BS(i),i=$R(),i!==null)){n.cancelPendingCommit=i(s_.bind(null,n,a,l,f,A,R,D,1,J,B)),Is(n,b,A,!P);return}s_(n,a,l,f,A,R,D,K,J,B)}function dR(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],b=f.getSnapshot;f=f.value;try{if(!qn(b(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Is(n,i,a,l){i&=~Ab,i&=~$r,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var f=i;0<f;){var b=31-In(f),A=1<<b;l[b]=-1,f&=~A}a!==0&&d0(n,a,i)}function Jf(){return(fe&6)===0?(Zu(0),!1):!0}function Rb(){if(jt!==null){if(re===0)var n=jt.return;else n=jt,ks=Vr=null,Nm(n),Ol=null,Lu=0,n=jt;for(;n!==null;)KS(n.alternate,n),n=n.return;jt=null}}function ql(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,OR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Rb(),ae=n,jt=a=Ba(n.current,null),Gt=i,re=0,Xn=null,Us=!1,Bl=pu(n,i),vb=!1,Il=yi=Ab=$r=Ia=ve=0,is=$u=null,Sb=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var f=31-In(l),b=1<<f;i|=n[f],l&=~b}return Bs=i,Ef(),a}function ZS(n,i){Ft=null,V.H=ns,i===Du?(i=fA(),re=3):i===uA?(i=fA(),re=4):re=i===hS?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Xn=i,jt===null&&(ve=1,qf(n,hi(i,n.current)))}function JS(){var n=V.H;return V.H=ns,n===null?ns:n}function t_(){var n=V.A;return V.A=uR,n}function Cb(){ve=4,Us||(Gt&4194176)!==Gt&&pi.current!==null||(Bl=!0),(Ia&134217727)===0&&($r&134217727)===0||ae===null||Is(ae,Gt,yi,!1)}function Mb(n,i,a){var l=fe;fe|=2;var f=JS(),b=t_();(ae!==n||Gt!==i)&&(Qf=null,ql(n,i)),i=!1;var A=ve;t:do try{if(re!==0&&jt!==null){var R=jt,D=Xn;switch(re){case 8:Rb(),A=6;break t;case 3:case 2:case 6:pi.current===null&&(i=!0);var P=re;if(re=0,Xn=null,Gl(n,R,D,P),a&&Bl){A=0;break t}break;default:P=re,re=0,Xn=null,Gl(n,R,D,P)}}fR(),A=ve;break}catch(K){ZS(n,K)}while(!0);return i&&n.shellSuspendCounter++,ks=Vr=null,fe=l,V.H=f,V.A=b,jt===null&&(ae=null,Gt=0,Ef()),A}function fR(){for(;jt!==null;)e_(jt)}function pR(n,i){var a=fe;fe|=2;var l=JS(),f=t_();ae!==n||Gt!==i?(Qf=null,Wf=oi()+500,ql(n,i)):Bl=pu(n,i);t:do try{if(re!==0&&jt!==null){i=jt;var b=Xn;e:switch(re){case 1:re=0,Xn=null,Gl(n,i,b,1);break;case 2:if(hA(b)){re=0,Xn=null,n_(i);break}i=function(){re===2&&ae===n&&(re=7),ss(n)},b.then(i,i);break t;case 3:re=7;break t;case 4:re=5;break t;case 7:hA(b)?(re=0,Xn=null,n_(i)):(re=0,Xn=null,Gl(n,i,b,7));break;case 5:var A=null;switch(jt.tag){case 26:A=jt.memoizedState;case 5:case 27:var R=jt;if(!A||O_(A)){re=0,Xn=null;var D=R.sibling;if(D!==null)jt=D;else{var P=R.return;P!==null?(jt=P,tp(P)):jt=null}break e}}re=0,Xn=null,Gl(n,i,b,5);break;case 6:re=0,Xn=null,Gl(n,i,b,6);break;case 8:Rb(),ve=6;break t;default:throw Error(s(462))}}gR();break}catch(K){ZS(n,K)}while(!0);return ks=Vr=null,V.H=l,V.A=f,fe=a,jt!==null?0:(ae=null,Gt=0,Ef(),ve)}function gR(){for(;jt!==null&&!Yg();)e_(jt)}function e_(n){var i=ES(n.alternate,n,Bs);n.memoizedProps=n.pendingProps,i===null?tp(n):jt=i}function n_(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=bS(a,i,i.pendingProps,i.type,void 0,Gt);break;case 11:i=bS(a,i,i.pendingProps,i.type.render,i.ref,Gt);break;case 5:Nm(i);default:KS(a,i),i=jt=VS(i,Bs),i=ES(a,i,Bs)}n.memoizedProps=n.pendingProps,i===null?tp(n):jt=i}function Gl(n,i,a,l){ks=Vr=null,Nm(i),Ol=null,Lu=0;var f=i.return;try{if(iR(n,f,i,a,Gt)){ve=1,qf(n,hi(a,n.current)),jt=null;return}}catch(b){if(f!==null)throw jt=f,b;ve=1,qf(n,hi(a,n.current)),jt=null;return}i.flags&32768?(Xt||l===1?n=!0:Bl||(Gt&536870912)!==0?n=!1:(Us=n=!0,(l===2||l===3||l===6)&&(l=pi.current,l!==null&&l.tag===13&&(l.flags|=16384))),i_(i,n)):tp(i)}function tp(n){var i=n;do{if((i.flags&32768)!==0){i_(i,Us);return}n=i.return;var a=lR(i.alternate,i,Bs);if(a!==null){jt=a;return}if(i=i.sibling,i!==null){jt=i;return}jt=i=n}while(i!==null);ve===0&&(ve=5)}function i_(n,i){do{var a=cR(n.alternate,n);if(a!==null){a.flags&=32767,jt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){jt=n;return}jt=n=a}while(n!==null);ve=6,jt=null}function s_(n,i,a,l,f,b,A,R,D,P){var K=V.T,J=st.p;try{st.p=2,V.T=null,mR(n,i,a,l,J,f,b,A,R,D,P)}finally{V.T=K,st.p=J}}function mR(n,i,a,l,f,b,A,R){do Vl();while(Wr!==null);if((fe&6)!==0)throw Error(s(327));var D=n.finishedWork;if(l=n.finishedLanes,D===null)return null;if(n.finishedWork=null,n.finishedLanes=0,D===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var P=D.lanes|D.childLanes;if(P|=ym,KT(n,l,P,b,A,R),n===ae&&(jt=ae=null,Gt=0),(D.subtreeFlags&10256)===0&&(D.flags&10256)===0||Zf||(Zf=!0,Eb=P,wb=a,AR(xs,function(){return Vl(),null})),a=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||a?(a=V.T,V.T=null,b=st.p,st.p=2,A=fe,fe|=4,aR(n,D),zS(D,n),Ux(Bb,n.containerInfo),dp=!!Ub,Bb=Ub=null,n.current=D,kS(n,D.alternate,D),Kg(),fe=A,st.p=b,V.T=a):n.current=D,Zf?(Zf=!1,Wr=n,Wu=l):a_(n,P),P=n.pendingLanes,P===0&&(qa=null),qT(D.stateNode),ss(n),i!==null)for(f=n.onRecoverableError,D=0;D<i.length;D++)P=i[D],f(P.value,{componentStack:P.stack});return(Wu&3)!==0&&Vl(),P=n.pendingLanes,(l&4194218)!==0&&(P&42)!==0?n===Tb?Qu++:(Qu=0,Tb=n):Qu=0,Zu(0),null}function a_(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,ku(i)))}function Vl(){if(Wr!==null){var n=Wr,i=Eb;Eb=0;var a=p0(Wu),l=V.T,f=st.p;try{if(st.p=32>a?32:a,V.T=null,Wr===null)var b=!1;else{a=wb,wb=null;var A=Wr,R=Wu;if(Wr=null,Wu=0,(fe&6)!==0)throw Error(s(331));var D=fe;if(fe|=4,qS(A.current),US(A,A.current,R,a),fe=D,Zu(0,!1),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(fu,A)}catch{}b=!0}return b}finally{st.p=f,V.T=l,a_(n,i)}}return!1}function r_(n,i,a){i=hi(a,i),i=Ym(n.stateNode,i,2),n=Ha(n,i,2),n!==null&&(gu(n,2),ss(n))}function ie(n,i,a){if(n.tag===3)r_(n,n,a);else for(;i!==null;){if(i.tag===3){r_(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qa===null||!qa.has(l))){n=hi(a,n),a=cS(2),l=Ha(i,a,2),l!==null&&(uS(a,l,i,n),gu(l,2),ss(l));break}}i=i.return}}function Db(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new hR;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(vb=!0,f.add(a),n=bR.bind(null,n,i,a),i.then(n,n))}function bR(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ae===n&&(Gt&a)===a&&(ve===4||ve===3&&(Gt&62914560)===Gt&&300>oi()-_b?(fe&2)===0&&ql(n,0):Ab|=a,Il===Gt&&(Il=0)),ss(n)}function o_(n,i){i===0&&(i=h0()),n=Ma(n,i),n!==null&&(gu(n,i),ss(n))}function yR(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),o_(n,a)}function vR(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),o_(n,a)}function AR(n,i){return du(n,i)}var ep=null,Xl=null,Ob=!1,np=!1,Lb=!1,Qr=0;function ss(n){n!==Xl&&n.next===null&&(Xl===null?ep=Xl=n:Xl=Xl.next=n),np=!0,Ob||(Ob=!0,_R(SR))}function Zu(n,i){if(!Lb&&np){Lb=!0;do for(var a=!1,l=ep;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var b=0;else{var A=l.suspendedLanes,R=l.pingedLanes;b=(1<<31-In(42|n)+1)-1,b&=f&~(A&~R),b=b&201326677?b&201326677|1:b?b|2:0}b!==0&&(a=!0,u_(l,b))}else b=Gt,b=hf(l,l===ae?b:0),(b&3)===0||pu(l,b)||(a=!0,u_(l,b));l=l.next}while(a);Lb=!1}}function SR(){np=Ob=!1;var n=0;Qr!==0&&(DR()&&(n=Qr),Qr=0);for(var i=oi(),a=null,l=ep;l!==null;){var f=l.next,b=l_(l,i);b===0?(l.next=null,a===null?ep=f:a.next=f,f===null&&(Xl=a)):(a=l,(n!==0||(b&3)!==0)&&(np=!0)),l=f}Zu(n)}function l_(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,b=n.pendingLanes&-62914561;0<b;){var A=31-In(b),R=1<<A,D=f[A];D===-1?((R&a)===0||(R&l)!==0)&&(f[A]=YT(R,i)):D<=i&&(n.expiredLanes|=R),b&=~R}if(i=ae,a=Gt,a=hf(n,n===i?a:0),l=n.callbackNode,a===0||n===i&&re===2||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Ta(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||pu(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&Ta(l),p0(a)){case 2:case 8:a=Ts;break;case 32:a=xs;break;case 268435456:a=gl;break;default:a=xs}return l=c_.bind(null,n),a=du(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&Ta(l),n.callbackPriority=2,n.callbackNode=null,2}function c_(n,i){var a=n.callbackNode;if(Vl()&&n.callbackNode!==a)return null;var l=Gt;return l=hf(n,n===ae?l:0),l===0?null:(WS(n,l,i),l_(n,oi()),n.callbackNode!=null&&n.callbackNode===a?c_.bind(null,n):null)}function u_(n,i){if(Vl())return null;WS(n,i,!0)}function _R(n){LR(function(){(fe&6)!==0?du(lf,n):n()})}function Nb(){return Qr===0&&(Qr=u0()),Qr}function h_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:mf(""+n)}function d_(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function ER(n,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var b=h_((f[Mn]||null).action),A=l.submitter;A&&(i=(i=A[Mn]||null)?h_(i.formAction):A.getAttribute("formAction"),i!==null&&(b=i,A=null));var R=new Af("action","action",null,l,f);n.push({event:R,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qr!==0){var D=A?d_(f,A):new FormData(f);Im(a,{pending:!0,data:D,method:f.method,action:b},null,D)}}else typeof b=="function"&&(R.preventDefault(),D=A?d_(f,A):new FormData(f),Im(a,{pending:!0,data:D,method:f.method,action:b},b,D))},currentTarget:f}]})}}for(var kb=0;kb<sA.length;kb++){var Fb=sA[kb],wR=Fb.toLowerCase(),TR=Fb[0].toUpperCase()+Fb.slice(1);Oi(wR,"on"+TR)}Oi(J0,"onAnimationEnd"),Oi(tA,"onAnimationIteration"),Oi(eA,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(Ix,"onTransitionRun"),Oi(qx,"onTransitionStart"),Oi(Gx,"onTransitionCancel"),Oi(nA,"onTransitionEnd"),vl("onMouseEnter",["mouseout","mouseover"]),vl("onMouseLeave",["mouseout","mouseover"]),vl("onPointerEnter",["pointerout","pointerover"]),vl("onPointerLeave",["pointerout","pointerover"]),Lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Lr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ju));function f_(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;t:{var b=void 0;if(i)for(var A=l.length-1;0<=A;A--){var R=l[A],D=R.instance,P=R.currentTarget;if(R=R.listener,D!==b&&f.isPropagationStopped())break t;b=R,f.currentTarget=P;try{b(f)}catch(K){If(K)}f.currentTarget=null,b=D}else for(A=0;A<l.length;A++){if(R=l[A],D=R.instance,P=R.currentTarget,R=R.listener,D!==b&&f.isPropagationStopped())break t;b=R,f.currentTarget=P;try{b(f)}catch(K){If(K)}f.currentTarget=null,b=D}}}}function It(n,i){var a=i[Qg];a===void 0&&(a=i[Qg]=new Set);var l=n+"__bubble";a.has(l)||(p_(i,n,2,!1),a.add(l))}function Pb(n,i,a){var l=0;i&&(l|=4),p_(a,n,l,i)}var ip="_reactListening"+Math.random().toString(36).slice(2);function Hb(n){if(!n[ip]){n[ip]=!0,b0.forEach(function(a){a!=="selectionchange"&&(xR.has(a)||Pb(a,!1,n),Pb(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[ip]||(i[ip]=!0,Pb("selectionchange",!1,i))}}function p_(n,i,a,l){switch(H_(i)){case 2:var f=ZR;break;case 8:f=JR;break;default:f=Wb}a=f.bind(null,i,a,n),f=void 0,!am||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function zb(n,i,a,l,f){var b=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var A=l.tag;if(A===3||A===4){var R=l.stateNode.containerInfo;if(R===f||R.nodeType===8&&R.parentNode===f)break;if(A===4)for(A=l.return;A!==null;){var D=A.tag;if((D===3||D===4)&&(D=A.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;A=A.return}for(;R!==null;){if(A=Or(R),A===null)return;if(D=A.tag,D===5||D===6||D===26||D===27){l=b=A;continue t}R=R.parentNode}}l=l.return}M0(function(){var P=b,K=im(a),J=[];t:{var B=iA.get(n);if(B!==void 0){var X=Af,gt=n;switch(n){case"keypress":if(yf(a)===0)break t;case"keydown":case"keyup":X=vx;break;case"focusin":gt="focus",X=cm;break;case"focusout":gt="blur",X=cm;break;case"beforeblur":case"afterblur":X=cm;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=L0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=ox;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=_x;break;case J0:case tA:case eA:X=ux;break;case nA:X=wx;break;case"scroll":case"scrollend":X=ax;break;case"wheel":X=xx;break;case"copy":case"cut":case"paste":X=dx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=k0;break;case"toggle":case"beforetoggle":X=Cx}var xt=(i&4)!==0,Ae=!xt&&(n==="scroll"||n==="scrollend"),z=xt?B!==null?B+"Capture":null:B;xt=[];for(var k=P,j;k!==null;){var W=k;if(j=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||j===null||z===null||(W=yu(k,z),W!=null&&xt.push(th(k,W,j))),Ae)break;k=k.return}0<xt.length&&(B=new X(B,gt,null,a,K),J.push({event:B,listeners:xt}))}}if((i&7)===0){t:{if(B=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",B&&a!==nm&&(gt=a.relatedTarget||a.fromElement)&&(Or(gt)||gt[ml]))break t;if((X||B)&&(B=K.window===K?K:(B=K.ownerDocument)?B.defaultView||B.parentWindow:window,X?(gt=a.relatedTarget||a.toElement,X=P,gt=gt?Or(gt):null,gt!==null&&(Ae=tt(gt),xt=gt.tag,gt!==Ae||xt!==5&&xt!==27&&xt!==6)&&(gt=null)):(X=null,gt=P),X!==gt)){if(xt=L0,W="onMouseLeave",z="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(xt=k0,W="onPointerLeave",z="onPointerEnter",k="pointer"),Ae=X==null?B:bu(X),j=gt==null?B:bu(gt),B=new xt(W,k+"leave",X,a,K),B.target=Ae,B.relatedTarget=j,W=null,Or(K)===P&&(xt=new xt(z,k+"enter",gt,a,K),xt.target=j,xt.relatedTarget=Ae,W=xt),Ae=W,X&&gt)e:{for(xt=X,z=gt,k=0,j=xt;j;j=Yl(j))k++;for(j=0,W=z;W;W=Yl(W))j++;for(;0<k-j;)xt=Yl(xt),k--;for(;0<j-k;)z=Yl(z),j--;for(;k--;){if(xt===z||z!==null&&xt===z.alternate)break e;xt=Yl(xt),z=Yl(z)}xt=null}else xt=null;X!==null&&g_(J,B,X,xt,!1),gt!==null&&Ae!==null&&g_(J,Ae,gt,xt,!0)}}t:{if(B=P?bu(P):window,X=B.nodeName&&B.nodeName.toLowerCase(),X==="select"||X==="input"&&B.type==="file")var dt=I0;else if(U0(B))if(q0)dt=zx;else{dt=Px;var Ht=Fx}else X=B.nodeName,!X||X.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&em(P.elementType)&&(dt=I0):dt=Hx;if(dt&&(dt=dt(n,P))){B0(J,dt,a,K);break t}Ht&&Ht(n,B,P),n==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&tm(B,"number",B.value)}switch(Ht=P?bu(P):window,n){case"focusin":(U0(Ht)||Ht.contentEditable==="true")&&(Tl=Ht,gm=P,xu=null);break;case"focusout":xu=gm=Tl=null;break;case"mousedown":mm=!0;break;case"contextmenu":case"mouseup":case"dragend":mm=!1,Q0(J,a,K);break;case"selectionchange":if(Bx)break;case"keydown":case"keyup":Q0(J,a,K)}var yt;if(hm)t:{switch(n){case"compositionstart":var At="onCompositionStart";break t;case"compositionend":At="onCompositionEnd";break t;case"compositionupdate":At="onCompositionUpdate";break t}At=void 0}else wl?z0(n,a)&&(At="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(At="onCompositionStart");At&&(F0&&a.locale!=="ko"&&(wl||At!=="onCompositionStart"?At==="onCompositionEnd"&&wl&&(yt=D0()):(Ca=K,rm="value"in Ca?Ca.value:Ca.textContent,wl=!0)),Ht=sp(P,At),0<Ht.length&&(At=new N0(At,n,null,a,K),J.push({event:At,listeners:Ht}),yt?At.data=yt:(yt=j0(a),yt!==null&&(At.data=yt)))),(yt=Dx?Ox(n,a):Lx(n,a))&&(At=sp(P,"onBeforeInput"),0<At.length&&(Ht=new N0("onBeforeInput","beforeinput",null,a,K),J.push({event:Ht,listeners:At}),Ht.data=yt)),ER(J,n,P,a,K)}f_(J,i)})}function th(n,i,a){return{instance:n,listener:i,currentTarget:a}}function sp(n,i){for(var a=i+"Capture",l=[];n!==null;){var f=n,b=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||b===null||(f=yu(n,a),f!=null&&l.unshift(th(n,f,b)),f=yu(n,i),f!=null&&l.push(th(n,f,b))),n=n.return}return l}function Yl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function g_(n,i,a,l,f){for(var b=i._reactName,A=[];a!==null&&a!==l;){var R=a,D=R.alternate,P=R.stateNode;if(R=R.tag,D!==null&&D===l)break;R!==5&&R!==26&&R!==27||P===null||(D=P,f?(P=yu(a,b),P!=null&&A.unshift(th(a,P,D))):f||(P=yu(a,b),P!=null&&A.push(th(a,P,D)))),a=a.return}A.length!==0&&n.push({event:i,listeners:A})}var RR=/\r\n?/g,CR=/\u0000|\uFFFD/g;function m_(n){return(typeof n=="string"?n:""+n).replace(RR,`
`).replace(CR,"")}function b_(n,i){return i=m_(i),m_(n)===i}function ap(){}function te(n,i,a,l,f,b){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Sl(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Sl(n,""+l);break;case"className":ff(n,"class",l);break;case"tabIndex":ff(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ff(n,a,l);break;case"style":R0(n,l,b);break;case"data":if(i!=="object"){ff(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=mf(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(a==="formAction"?(i!=="input"&&te(n,i,"name",f.name,f,null),te(n,i,"formEncType",f.formEncType,f,null),te(n,i,"formMethod",f.formMethod,f,null),te(n,i,"formTarget",f.formTarget,f,null)):(te(n,i,"encType",f.encType,f,null),te(n,i,"method",f.method,f,null),te(n,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=mf(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=ap);break;case"onScroll":l!=null&&It("scroll",n);break;case"onScrollEnd":l!=null&&It("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=mf(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":It("beforetoggle",n),It("toggle",n),df(n,"popover",l);break;case"xlinkActuate":Cs(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Cs(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Cs(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Cs(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Cs(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Cs(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Cs(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Cs(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Cs(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":df(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ix.get(a)||a,df(n,a,l))}}function jb(n,i,a,l,f,b){switch(a){case"style":R0(n,l,b);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Sl(n,l):(typeof l=="number"||typeof l=="bigint")&&Sl(n,""+l);break;case"onScroll":l!=null&&It("scroll",n);break;case"onScrollEnd":l!=null&&It("scrollend",n);break;case"onClick":l!=null&&(n.onclick=ap);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!y0.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),b=n[Mn]||null,b=b!=null?b[a]:null,typeof b=="function"&&n.removeEventListener(i,b,f),typeof l=="function")){typeof b!="function"&&b!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,f);break t}a in n?n[a]=l:l===!0?n.setAttribute(a,""):df(n,a,l)}}}function tn(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",n),It("load",n);var l=!1,f=!1,b;for(b in a)if(a.hasOwnProperty(b)){var A=a[b];if(A!=null)switch(b){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:te(n,i,b,A,a,null)}}f&&te(n,i,"srcSet",a.srcSet,a,null),l&&te(n,i,"src",a.src,a,null);return;case"input":It("invalid",n);var R=b=A=f=null,D=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":f=K;break;case"type":A=K;break;case"checked":D=K;break;case"defaultChecked":P=K;break;case"value":b=K;break;case"defaultValue":R=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:te(n,i,l,K,a,null)}}E0(n,b,R,D,P,A,f,!1),pf(n);return;case"select":It("invalid",n),l=A=b=null;for(f in a)if(a.hasOwnProperty(f)&&(R=a[f],R!=null))switch(f){case"value":b=R;break;case"defaultValue":A=R;break;case"multiple":l=R;default:te(n,i,f,R,a,null)}i=b,a=A,n.multiple=!!l,i!=null?Al(n,!!l,i,!1):a!=null&&Al(n,!!l,a,!0);return;case"textarea":It("invalid",n),b=f=l=null;for(A in a)if(a.hasOwnProperty(A)&&(R=a[A],R!=null))switch(A){case"value":l=R;break;case"defaultValue":f=R;break;case"children":b=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(s(91));break;default:te(n,i,A,R,a,null)}T0(n,l,f,b),pf(n);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:te(n,i,D,l,a,null)}return;case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":It("load",n);break;case"video":case"audio":for(l=0;l<Ju.length;l++)It(Ju[l],n);break;case"image":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"embed":case"source":case"link":It("error",n),It("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:te(n,i,P,l,a,null)}return;default:if(em(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&jb(n,i,K,l,a,void 0));return}}for(R in a)a.hasOwnProperty(R)&&(l=a[R],l!=null&&te(n,i,R,l,a,null))}function MR(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,b=null,A=null,R=null,D=null,P=null,K=null;for(X in a){var J=a[X];if(a.hasOwnProperty(X)&&J!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=J;default:l.hasOwnProperty(X)||te(n,i,X,null,l,J)}}for(var B in l){var X=l[B];if(J=a[B],l.hasOwnProperty(B)&&(X!=null||J!=null))switch(B){case"type":b=X;break;case"name":f=X;break;case"checked":P=X;break;case"defaultChecked":K=X;break;case"value":A=X;break;case"defaultValue":R=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:X!==J&&te(n,i,B,X,l,J)}}Jg(n,A,R,D,P,K,b,f);return;case"select":X=A=R=B=null;for(b in a)if(D=a[b],a.hasOwnProperty(b)&&D!=null)switch(b){case"value":break;case"multiple":X=D;default:l.hasOwnProperty(b)||te(n,i,b,null,l,D)}for(f in l)if(b=l[f],D=a[f],l.hasOwnProperty(f)&&(b!=null||D!=null))switch(f){case"value":B=b;break;case"defaultValue":R=b;break;case"multiple":A=b;default:b!==D&&te(n,i,f,b,l,D)}i=R,a=A,l=X,B!=null?Al(n,!!a,B,!1):!!l!=!!a&&(i!=null?Al(n,!!a,i,!0):Al(n,!!a,a?[]:"",!1));return;case"textarea":X=B=null;for(R in a)if(f=a[R],a.hasOwnProperty(R)&&f!=null&&!l.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:te(n,i,R,null,l,f)}for(A in l)if(f=l[A],b=a[A],l.hasOwnProperty(A)&&(f!=null||b!=null))switch(A){case"value":B=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==b&&te(n,i,A,f,l,b)}w0(n,B,X);return;case"option":for(var gt in a)if(B=a[gt],a.hasOwnProperty(gt)&&B!=null&&!l.hasOwnProperty(gt))switch(gt){case"selected":n.selected=!1;break;default:te(n,i,gt,null,l,B)}for(D in l)if(B=l[D],X=a[D],l.hasOwnProperty(D)&&B!==X&&(B!=null||X!=null))switch(D){case"selected":n.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:te(n,i,D,B,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xt in a)B=a[xt],a.hasOwnProperty(xt)&&B!=null&&!l.hasOwnProperty(xt)&&te(n,i,xt,null,l,B);for(P in l)if(B=l[P],X=a[P],l.hasOwnProperty(P)&&B!==X&&(B!=null||X!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:te(n,i,P,B,l,X)}return;default:if(em(i)){for(var Ae in a)B=a[Ae],a.hasOwnProperty(Ae)&&B!==void 0&&!l.hasOwnProperty(Ae)&&jb(n,i,Ae,void 0,l,B);for(K in l)B=l[K],X=a[K],!l.hasOwnProperty(K)||B===X||B===void 0&&X===void 0||jb(n,i,K,B,l,X);return}}for(var z in a)B=a[z],a.hasOwnProperty(z)&&B!=null&&!l.hasOwnProperty(z)&&te(n,i,z,null,l,B);for(J in l)B=l[J],X=a[J],!l.hasOwnProperty(J)||B===X||B==null&&X==null||te(n,i,J,B,l,X)}var Ub=null,Bb=null;function rp(n){return n.nodeType===9?n:n.ownerDocument}function y_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Ib(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var qb=null;function DR(){var n=window.event;return n&&n.type==="popstate"?n===qb?!1:(qb=n,!0):(qb=null,!1)}var A_=typeof setTimeout=="function"?setTimeout:void 0,OR=typeof clearTimeout=="function"?clearTimeout:void 0,S_=typeof Promise=="function"?Promise:void 0,LR=typeof queueMicrotask=="function"?queueMicrotask:typeof S_<"u"?function(n){return S_.resolve(null).then(n).catch(NR)}:A_;function NR(n){setTimeout(function(){throw n})}function Gb(n,i){var a=i,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(l===0){n.removeChild(f),lh(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=f}while(a);lh(i)}function Vb(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vb(a),Zg(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function kR(n,i,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[mu])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(b=n.getAttribute("rel"),b==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(b!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(b=n.getAttribute("src"),(b!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&b&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var b=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===b)return n}else return n;if(n=ki(n.nextSibling),n===null)break}return null}function FR(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ki(n.nextSibling),n===null))return null;return n}function ki(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}function __(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function E_(n,i,a){switch(i=rp(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var vi=new Map,w_=new Set;function op(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var qs=st.d;st.d={f:PR,r:HR,D:zR,C:jR,L:UR,m:BR,X:qR,S:IR,M:GR};function PR(){var n=qs.f(),i=Jf();return n||i}function HR(n){var i=bl(n);i!==null&&i.tag===5&&i.type==="form"?QA(i):qs.r(n)}var Kl=typeof document>"u"?null:document;function T_(n,i,a){var l=Kl;if(l&&typeof i=="string"&&i){var f=ci(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),w_.has(f)||(w_.add(f),n={rel:n,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),tn(i,"link",n),Ie(i),l.head.appendChild(i)))}}function zR(n){qs.D(n),T_("dns-prefetch",n,null)}function jR(n,i){qs.C(n,i),T_("preconnect",n,i)}function UR(n,i,a){qs.L(n,i,a);var l=Kl;if(l&&n&&i){var f='link[rel="preload"][as="'+ci(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ci(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ci(a.imageSizes)+'"]')):f+='[href="'+ci(n)+'"]';var b=f;switch(i){case"style":b=$l(n);break;case"script":b=Wl(n)}vi.has(b)||(n=et({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),vi.set(b,n),l.querySelector(f)!==null||i==="style"&&l.querySelector(eh(b))||i==="script"&&l.querySelector(nh(b))||(i=l.createElement("link"),tn(i,"link",n),Ie(i),l.head.appendChild(i)))}}function BR(n,i){qs.m(n,i);var a=Kl;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+ci(l)+'"][href="'+ci(n)+'"]',b=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Wl(n)}if(!vi.has(b)&&(n=et({rel:"modulepreload",href:n},i),vi.set(b,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(nh(b)))return}l=a.createElement("link"),tn(l,"link",n),Ie(l),a.head.appendChild(l)}}}function IR(n,i,a){qs.S(n,i,a);var l=Kl;if(l&&n){var f=yl(l).hoistableStyles,b=$l(n);i=i||"default";var A=f.get(b);if(!A){var R={loading:0,preload:null};if(A=l.querySelector(eh(b)))R.loading=5;else{n=et({rel:"stylesheet",href:n,"data-precedence":i},a),(a=vi.get(b))&&Xb(n,a);var D=A=l.createElement("link");Ie(D),tn(D,"link",n),D._p=new Promise(function(P,K){D.onload=P,D.onerror=K}),D.addEventListener("load",function(){R.loading|=1}),D.addEventListener("error",function(){R.loading|=2}),R.loading|=4,lp(A,i,l)}A={type:"stylesheet",instance:A,count:1,state:R},f.set(b,A)}}}function qR(n,i){qs.X(n,i);var a=Kl;if(a&&n){var l=yl(a).hoistableScripts,f=Wl(n),b=l.get(f);b||(b=a.querySelector(nh(f)),b||(n=et({src:n,async:!0},i),(i=vi.get(f))&&Yb(n,i),b=a.createElement("script"),Ie(b),tn(b,"link",n),a.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},l.set(f,b))}}function GR(n,i){qs.M(n,i);var a=Kl;if(a&&n){var l=yl(a).hoistableScripts,f=Wl(n),b=l.get(f);b||(b=a.querySelector(nh(f)),b||(n=et({src:n,async:!0,type:"module"},i),(i=vi.get(f))&&Yb(n,i),b=a.createElement("script"),Ie(b),tn(b,"link",n),a.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},l.set(f,b))}}function x_(n,i,a,l){var f=(f=Bt.current)?op(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=$l(a.href),a=yl(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=$l(a.href);var b=yl(f).hoistableStyles,A=b.get(n);if(A||(f=f.ownerDocument||f,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(n,A),(b=f.querySelector(eh(n)))&&!b._p&&(A.instance=b,A.state.loading=5),vi.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},vi.set(n,a),b||VR(f,n,a,A.state))),i&&l===null)throw Error(s(528,""));return A}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Wl(a),a=yl(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function $l(n){return'href="'+ci(n)+'"'}function eh(n){return'link[rel="stylesheet"]['+n+"]"}function R_(n){return et({},n,{"data-precedence":n.precedence,precedence:null})}function VR(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),tn(i,"link",a),Ie(i),n.head.appendChild(i))}function Wl(n){return'[src="'+ci(n)+'"]'}function nh(n){return"script[async]"+n}function C_(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+ci(a.href)+'"]');if(l)return i.instance=l,Ie(l),l;var f=et({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Ie(l),tn(l,"style",f),lp(l,a.precedence,n),i.instance=l;case"stylesheet":f=$l(a.href);var b=n.querySelector(eh(f));if(b)return i.state.loading|=4,i.instance=b,Ie(b),b;l=R_(a),(f=vi.get(f))&&Xb(l,f),b=(n.ownerDocument||n).createElement("link"),Ie(b);var A=b;return A._p=new Promise(function(R,D){A.onload=R,A.onerror=D}),tn(b,"link",l),i.state.loading|=4,lp(b,a.precedence,n),i.instance=b;case"script":return b=Wl(a.src),(f=n.querySelector(nh(b)))?(i.instance=f,Ie(f),f):(l=a,(f=vi.get(b))&&(l=et({},a),Yb(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Ie(f),tn(f,"link",l),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,lp(l,a.precedence,n));return i.instance}function lp(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,b=f,A=0;A<l.length;A++){var R=l[A];if(R.dataset.precedence===i)b=R;else if(b!==f)break}b?b.parentNode.insertBefore(n,b.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Xb(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Yb(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var cp=null;function M_(n,i,a){if(cp===null){var l=new Map,f=cp=new Map;f.set(a,l)}else f=cp,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var b=a[f];if(!(b[mu]||b[ln]||n==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var A=b.getAttribute(i)||"";A=n+A;var R=l.get(A);R?R.push(b):l.set(A,[b])}}return l}function D_(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function XR(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function O_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var ih=null;function YR(){}function KR(n,i,a){if(ih===null)throw Error(s(475));var l=ih;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=$l(a.href),b=n.querySelector(eh(f));if(b){n=b._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=up.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=b,Ie(b);return}b=n.ownerDocument||n,a=R_(a),(f=vi.get(f))&&Xb(a,f),b=b.createElement("link"),Ie(b);var A=b;A._p=new Promise(function(R,D){A.onload=R,A.onerror=D}),tn(b,"link",a),i.instance=b}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=up.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function $R(){if(ih===null)throw Error(s(475));var n=ih;return n.stylesheets&&n.count===0&&Kb(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&Kb(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function up(){if(this.count--,this.count===0){if(this.stylesheets)Kb(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var hp=null;function Kb(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,hp=new Map,i.forEach(WR,n),hp=null,up.call(n))}function WR(n,i){if(!(i.state.loading&4)){var a=hp.get(n);if(a)var l=a.get(null);else{a=new Map,hp.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<f.length;b++){var A=f[b];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(a.set(A.dataset.precedence,A),l=A)}l&&a.set(null,l)}f=i.instance,A=f.getAttribute("data-precedence"),b=a.get(A)||l,b===l&&a.set(null,f),a.set(A,f),this.count++,l=up.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),b?b.parentNode.insertBefore(f,b.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var sh={$$typeof:S,Provider:null,Consumer:null,_currentValue:_t,_currentValue2:_t,_threadCount:0};function QR(n,i,a,l,f,b,A,R){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wg(0),this.hiddenUpdates=Wg(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=b,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function L_(n,i,a,l,f,b,A,R,D,P,K,J){return n=new QR(n,i,a,A,R,D,P,J),i=1,b===!0&&(i|=24),b=bi(3,null,null,i),n.current=b,b.stateNode=n,i=xm(),i.refCount++,n.pooledCache=i,i.refCount++,b.memoizedState={element:l,isDehydrated:a,cache:i},rb(b),n}function N_(n){return n?(n=Cl,n):Cl}function k_(n,i,a,l,f,b){f=N_(f),l.context===null?l.context=f:l.pendingContext=f,l=Pa(i),l.payload={element:a},b=b===void 0?null:b,b!==null&&(l.callback=b),a=Ha(n,l,i),a!==null&&(Sn(a,n,i),Bu(a,n,i))}function F_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function $b(n,i){F_(n,i),(n=n.alternate)&&F_(n,i)}function P_(n){if(n.tag===13){var i=Ma(n,67108864);i!==null&&Sn(i,n,67108864),$b(n,67108864)}}var dp=!0;function ZR(n,i,a,l){var f=V.T;V.T=null;var b=st.p;try{st.p=2,Wb(n,i,a,l)}finally{st.p=b,V.T=f}}function JR(n,i,a,l){var f=V.T;V.T=null;var b=st.p;try{st.p=8,Wb(n,i,a,l)}finally{st.p=b,V.T=f}}function Wb(n,i,a,l){if(dp){var f=Qb(l);if(f===null)zb(n,i,l,fp,a),z_(n,l);else if(eC(f,n,i,a,l))l.stopPropagation();else if(z_(n,l),i&4&&-1<tC.indexOf(n)){for(;f!==null;){var b=bl(f);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var A=Dr(b.pendingLanes);if(A!==0){var R=b;for(R.pendingLanes|=2,R.entangledLanes|=2;A;){var D=1<<31-In(A);R.entanglements[1]|=D,A&=~D}ss(b),(fe&6)===0&&(Wf=oi()+500,Zu(0))}}break;case 13:R=Ma(b,2),R!==null&&Sn(R,b,2),Jf(),$b(b,2)}if(b=Qb(l),b===null&&zb(n,i,l,fp,a),b===f)break;f=b}f!==null&&l.stopPropagation()}else zb(n,i,l,null,a)}}function Qb(n){return n=im(n),Zb(n)}var fp=null;function Zb(n){if(fp=null,n=Or(n),n!==null){var i=tt(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=Ct(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return fp=n,null}function H_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($g()){case lf:return 2;case Ts:return 8;case xs:case pl:return 32;case gl:return 268435456;default:return 32}default:return 32}}var Jb=!1,Ga=null,Va=null,Xa=null,ah=new Map,rh=new Map,Ya=[],tC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z_(n,i){switch(n){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":Va=null;break;case"mouseover":case"mouseout":Xa=null;break;case"pointerover":case"pointerout":ah.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":rh.delete(i.pointerId)}}function oh(n,i,a,l,f,b){return n===null||n.nativeEvent!==b?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:b,targetContainers:[f]},i!==null&&(i=bl(i),i!==null&&P_(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function eC(n,i,a,l,f){switch(i){case"focusin":return Ga=oh(Ga,n,i,a,l,f),!0;case"dragenter":return Va=oh(Va,n,i,a,l,f),!0;case"mouseover":return Xa=oh(Xa,n,i,a,l,f),!0;case"pointerover":var b=f.pointerId;return ah.set(b,oh(ah.get(b)||null,n,i,a,l,f)),!0;case"gotpointercapture":return b=f.pointerId,rh.set(b,oh(rh.get(b)||null,n,i,a,l,f)),!0}return!1}function j_(n){var i=Or(n.target);if(i!==null){var a=tt(i);if(a!==null){if(i=a.tag,i===13){if(i=Ct(a),i!==null){n.blockedOn=i,$T(n.priority,function(){if(a.tag===13){var l=Yn(),f=Ma(a,l);f!==null&&Sn(f,a,l),$b(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function pp(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Qb(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);nm=l,a.target.dispatchEvent(l),nm=null}else return i=bl(a),i!==null&&P_(i),n.blockedOn=a,!1;i.shift()}return!0}function U_(n,i,a){pp(n)&&a.delete(i)}function nC(){Jb=!1,Ga!==null&&pp(Ga)&&(Ga=null),Va!==null&&pp(Va)&&(Va=null),Xa!==null&&pp(Xa)&&(Xa=null),ah.forEach(U_),rh.forEach(U_)}function gp(n,i){n.blockedOn===i&&(n.blockedOn=null,Jb||(Jb=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,nC)))}var mp=null;function B_(n){mp!==n&&(mp=n,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){mp===n&&(mp=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],f=n[i+2];if(typeof l!="function"){if(Zb(l||a)===null)continue;break}var b=bl(a);b!==null&&(n.splice(i,3),i-=3,Im(b,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function lh(n){function i(D){return gp(D,n)}Ga!==null&&gp(Ga,n),Va!==null&&gp(Va,n),Xa!==null&&gp(Xa,n),ah.forEach(i),rh.forEach(i);for(var a=0;a<Ya.length;a++){var l=Ya[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Ya.length&&(a=Ya[0],a.blockedOn===null);)j_(a),a.blockedOn===null&&Ya.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],b=a[l+1],A=f[Mn]||null;if(typeof b=="function")A||B_(a);else if(A){var R=null;if(b&&b.hasAttribute("formAction")){if(f=b,A=b[Mn]||null)R=A.formAction;else if(Zb(f)!==null)continue}else R=A.action;typeof R=="function"?a[l+1]=R:(a.splice(l,3),l-=3),B_(a)}}}function ty(n){this._internalRoot=n}bp.prototype.render=ty.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Yn();k_(a,l,n,i,null,null)},bp.prototype.unmount=ty.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;n.tag===0&&Vl(),k_(n.current,2,null,n,null,null),Jf(),i[ml]=null}};function bp(n){this._internalRoot=n}bp.prototype.unstable_scheduleHydration=function(n){if(n){var i=g0();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Ya.length&&i!==0&&i<Ya[a].priority;a++);Ya.splice(a,0,n),a===0&&j_(n)}};var I_=t.version;if(I_!=="19.0.0")throw Error(s(527,I_,"19.0.0"));st.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=Q(i),n=n!==null?lt(n):null,n=n===null?null:n.stateNode,n};var iC={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:V,findFiberByHostInstance:Or,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yp.isDisabled&&yp.supportsFiber)try{fu=yp.inject(iC),Bn=yp}catch{}}return uh.createRoot=function(n,i){if(!r(n))throw Error(s(299));var a=!1,l="",f=aS,b=rS,A=oS,R=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(A=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(R=i.unstable_transitionCallbacks)),i=L_(n,1,!1,null,null,a,l,f,b,A,R,null),n[ml]=i.current,Hb(n.nodeType===8?n.parentNode:n),new ty(i)},uh.hydrateRoot=function(n,i,a){if(!r(n))throw Error(s(299));var l=!1,f="",b=aS,A=rS,R=oS,D=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(b=a.onUncaughtError),a.onCaughtError!==void 0&&(A=a.onCaughtError),a.onRecoverableError!==void 0&&(R=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),i=L_(n,1,!0,i,a??null,l,f,b,A,R,D,P),i.context=N_(null),a=i.current,l=Yn(),f=Pa(l),f.callback=null,Ha(a,f,l),i.current.lanes=l,gu(i,l),ss(i),n[ml]=i.current,Hb(n),new bp(i)},uh.version="19.0.0",uh}var J_;function gC(){if(J_)return sy.exports;J_=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(t){console.error(t)}}return u(),sy.exports=pC(),sy.exports}var mC=gC();function WE(u,t){return function(){return u.apply(t,arguments)}}const{toString:bC}=Object.prototype,{getPrototypeOf:Gv}=Object,Mg=(u=>t=>{const e=bC.call(t);return u[e]||(u[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),Qi=u=>(u=u.toLowerCase(),t=>Mg(t)===u),Dg=u=>t=>typeof t===u,{isArray:cu}=Array,Hh=Dg("undefined");function yC(u){return u!==null&&!Hh(u)&&u.constructor!==null&&!Hh(u.constructor)&&ai(u.constructor.isBuffer)&&u.constructor.isBuffer(u)}const QE=Qi("ArrayBuffer");function vC(u){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(u):t=u&&u.buffer&&QE(u.buffer),t}const AC=Dg("string"),ai=Dg("function"),ZE=Dg("number"),Og=u=>u!==null&&typeof u=="object",SC=u=>u===!0||u===!1,Tp=u=>{if(Mg(u)!=="object")return!1;const t=Gv(u);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in u)&&!(Symbol.iterator in u)},_C=Qi("Date"),EC=Qi("File"),wC=Qi("Blob"),TC=Qi("FileList"),xC=u=>Og(u)&&ai(u.pipe),RC=u=>{let t;return u&&(typeof FormData=="function"&&u instanceof FormData||ai(u.append)&&((t=Mg(u))==="formdata"||t==="object"&&ai(u.toString)&&u.toString()==="[object FormData]"))},CC=Qi("URLSearchParams"),[MC,DC,OC,LC]=["ReadableStream","Request","Response","Headers"].map(Qi),NC=u=>u.trim?u.trim():u.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ef(u,t,{allOwnKeys:e=!1}={}){if(u===null||typeof u>"u")return;let s,r;if(typeof u!="object"&&(u=[u]),cu(u))for(s=0,r=u.length;s<r;s++)t.call(null,u[s],s,u);else{const o=e?Object.getOwnPropertyNames(u):Object.keys(u),c=o.length;let d;for(s=0;s<c;s++)d=o[s],t.call(null,u[d],d,u)}}function JE(u,t){t=t.toLowerCase();const e=Object.keys(u);let s=e.length,r;for(;s-- >0;)if(r=e[s],t===r.toLowerCase())return r;return null}const ao=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tw=u=>!Hh(u)&&u!==ao;function yy(){const{caseless:u}=tw(this)&&this||{},t={},e=(s,r)=>{const o=u&&JE(t,r)||r;Tp(t[o])&&Tp(s)?t[o]=yy(t[o],s):Tp(s)?t[o]=yy({},s):cu(s)?t[o]=s.slice():t[o]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&ef(arguments[s],e);return t}const kC=(u,t,e,{allOwnKeys:s}={})=>(ef(t,(r,o)=>{e&&ai(r)?u[o]=WE(r,e):u[o]=r},{allOwnKeys:s}),u),FC=u=>(u.charCodeAt(0)===65279&&(u=u.slice(1)),u),PC=(u,t,e,s)=>{u.prototype=Object.create(t.prototype,s),u.prototype.constructor=u,Object.defineProperty(u,"super",{value:t.prototype}),e&&Object.assign(u.prototype,e)},HC=(u,t,e,s)=>{let r,o,c;const d={};if(t=t||{},u==null)return t;do{for(r=Object.getOwnPropertyNames(u),o=r.length;o-- >0;)c=r[o],(!s||s(c,u,t))&&!d[c]&&(t[c]=u[c],d[c]=!0);u=e!==!1&&Gv(u)}while(u&&(!e||e(u,t))&&u!==Object.prototype);return t},zC=(u,t,e)=>{u=String(u),(e===void 0||e>u.length)&&(e=u.length),e-=t.length;const s=u.indexOf(t,e);return s!==-1&&s===e},jC=u=>{if(!u)return null;if(cu(u))return u;let t=u.length;if(!ZE(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=u[t];return e},UC=(u=>t=>u&&t instanceof u)(typeof Uint8Array<"u"&&Gv(Uint8Array)),BC=(u,t)=>{const s=(u&&u[Symbol.iterator]).call(u);let r;for(;(r=s.next())&&!r.done;){const o=r.value;t.call(u,o[0],o[1])}},IC=(u,t)=>{let e;const s=[];for(;(e=u.exec(t))!==null;)s.push(e);return s},qC=Qi("HTMLFormElement"),GC=u=>u.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,s,r){return s.toUpperCase()+r}),tE=(({hasOwnProperty:u})=>(t,e)=>u.call(t,e))(Object.prototype),VC=Qi("RegExp"),ew=(u,t)=>{const e=Object.getOwnPropertyDescriptors(u),s={};ef(e,(r,o)=>{let c;(c=t(r,o,u))!==!1&&(s[o]=c||r)}),Object.defineProperties(u,s)},XC=u=>{ew(u,(t,e)=>{if(ai(u)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const s=u[e];if(ai(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},YC=(u,t)=>{const e={},s=r=>{r.forEach(o=>{e[o]=!0})};return cu(u)?s(u):s(String(u).split(t)),e},KC=()=>{},$C=(u,t)=>u!=null&&Number.isFinite(u=+u)?u:t;function WC(u){return!!(u&&ai(u.append)&&u[Symbol.toStringTag]==="FormData"&&u[Symbol.iterator])}const QC=u=>{const t=new Array(10),e=(s,r)=>{if(Og(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[r]=s;const o=cu(s)?[]:{};return ef(s,(c,d)=>{const p=e(c,r+1);!Hh(p)&&(o[d]=p)}),t[r]=void 0,o}}return s};return e(u,0)},ZC=Qi("AsyncFunction"),JC=u=>u&&(Og(u)||ai(u))&&ai(u.then)&&ai(u.catch),nw=((u,t)=>u?setImmediate:t?((e,s)=>(ao.addEventListener("message",({source:r,data:o})=>{r===ao&&o===e&&s.length&&s.shift()()},!1),r=>{s.push(r),ao.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",ai(ao.postMessage)),tM=typeof queueMicrotask<"u"?queueMicrotask.bind(ao):typeof process<"u"&&process.nextTick||nw,G={isArray:cu,isArrayBuffer:QE,isBuffer:yC,isFormData:RC,isArrayBufferView:vC,isString:AC,isNumber:ZE,isBoolean:SC,isObject:Og,isPlainObject:Tp,isReadableStream:MC,isRequest:DC,isResponse:OC,isHeaders:LC,isUndefined:Hh,isDate:_C,isFile:EC,isBlob:wC,isRegExp:VC,isFunction:ai,isStream:xC,isURLSearchParams:CC,isTypedArray:UC,isFileList:TC,forEach:ef,merge:yy,extend:kC,trim:NC,stripBOM:FC,inherits:PC,toFlatObject:HC,kindOf:Mg,kindOfTest:Qi,endsWith:zC,toArray:jC,forEachEntry:BC,matchAll:IC,isHTMLForm:qC,hasOwnProperty:tE,hasOwnProp:tE,reduceDescriptors:ew,freezeMethods:XC,toObjectSet:YC,toCamelCase:GC,noop:KC,toFiniteNumber:$C,findKey:JE,global:ao,isContextDefined:tw,isSpecCompliantForm:WC,toJSONObject:QC,isAsyncFn:ZC,isThenable:JC,setImmediate:nw,asap:tM};function Mt(u,t,e,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=u,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}G.inherits(Mt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const iw=Mt.prototype,sw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(u=>{sw[u]={value:u}});Object.defineProperties(Mt,sw);Object.defineProperty(iw,"isAxiosError",{value:!0});Mt.from=(u,t,e,s,r,o)=>{const c=Object.create(iw);return G.toFlatObject(u,c,function(p){return p!==Error.prototype},d=>d!=="isAxiosError"),Mt.call(c,u.message,t,e,s,r),c.cause=u,c.name=u.name,o&&Object.assign(c,o),c};const eM=null;function vy(u){return G.isPlainObject(u)||G.isArray(u)}function aw(u){return G.endsWith(u,"[]")?u.slice(0,-2):u}function eE(u,t,e){return u?u.concat(t).map(function(r,o){return r=aw(r),!e&&o?"["+r+"]":r}).join(e?".":""):t}function nM(u){return G.isArray(u)&&!u.some(vy)}const iM=G.toFlatObject(G,{},null,function(t){return/^is[A-Z]/.test(t)});function Lg(u,t,e){if(!G.isObject(u))throw new TypeError("target must be an object");t=t||new FormData,e=G.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,M){return!G.isUndefined(M[T])});const s=e.metaTokens,r=e.visitor||m,o=e.dots,c=e.indexes,p=(e.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(t);if(!G.isFunction(r))throw new TypeError("visitor must be a function");function g(_){if(_===null)return"";if(G.isDate(_))return _.toISOString();if(!p&&G.isBlob(_))throw new Mt("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(_)||G.isTypedArray(_)?p&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function m(_,T,M){let C=_;if(_&&!M&&typeof _=="object"){if(G.endsWith(T,"{}"))T=s?T:T.slice(0,-2),_=JSON.stringify(_);else if(G.isArray(_)&&nM(_)||(G.isFileList(_)||G.endsWith(T,"[]"))&&(C=G.toArray(_)))return T=aw(T),C.forEach(function(N,F){!(G.isUndefined(N)||N===null)&&t.append(c===!0?eE([T],F,o):c===null?T:T+"[]",g(N))}),!1}return vy(_)?!0:(t.append(eE(M,T,o),g(_)),!1)}const y=[],v=Object.assign(iM,{defaultVisitor:m,convertValue:g,isVisitable:vy});function S(_,T){if(!G.isUndefined(_)){if(y.indexOf(_)!==-1)throw Error("Circular reference detected in "+T.join("."));y.push(_),G.forEach(_,function(C,O){(!(G.isUndefined(C)||C===null)&&r.call(t,C,G.isString(O)?O.trim():O,T,v))===!0&&S(C,T?T.concat(O):[O])}),y.pop()}}if(!G.isObject(u))throw new TypeError("data must be an object");return S(u),t}function nE(u){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(u).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Vv(u,t){this._pairs=[],u&&Lg(u,this,t)}const rw=Vv.prototype;rw.append=function(t,e){this._pairs.push([t,e])};rw.toString=function(t){const e=t?function(s){return t.call(this,s,nE)}:nE;return this._pairs.map(function(r){return e(r[0])+"="+e(r[1])},"").join("&")};function sM(u){return encodeURIComponent(u).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ow(u,t,e){if(!t)return u;const s=e&&e.encode||sM;G.isFunction(e)&&(e={serialize:e});const r=e&&e.serialize;let o;if(r?o=r(t,e):o=G.isURLSearchParams(t)?t.toString():new Vv(t,e).toString(s),o){const c=u.indexOf("#");c!==-1&&(u=u.slice(0,c)),u+=(u.indexOf("?")===-1?"?":"&")+o}return u}class iE{constructor(){this.handlers=[]}use(t,e,s){return this.handlers.push({fulfilled:t,rejected:e,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){G.forEach(this.handlers,function(s){s!==null&&t(s)})}}const lw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},aM=typeof URLSearchParams<"u"?URLSearchParams:Vv,rM=typeof FormData<"u"?FormData:null,oM=typeof Blob<"u"?Blob:null,lM={isBrowser:!0,classes:{URLSearchParams:aM,FormData:rM,Blob:oM},protocols:["http","https","file","blob","url","data"]},Xv=typeof window<"u"&&typeof document<"u",Ay=typeof navigator=="object"&&navigator||void 0,cM=Xv&&(!Ay||["ReactNative","NativeScript","NS"].indexOf(Ay.product)<0),uM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",hM=Xv&&window.location.href||"http://localhost",dM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xv,hasStandardBrowserEnv:cM,hasStandardBrowserWebWorkerEnv:uM,navigator:Ay,origin:hM},Symbol.toStringTag,{value:"Module"})),bn={...dM,...lM};function fM(u,t){return Lg(u,new bn.classes.URLSearchParams,Object.assign({visitor:function(e,s,r,o){return bn.isNode&&G.isBuffer(e)?(this.append(s,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function pM(u){return G.matchAll(/\w+|\[(\w*)]/g,u).map(t=>t[0]==="[]"?"":t[1]||t[0])}function gM(u){const t={},e=Object.keys(u);let s;const r=e.length;let o;for(s=0;s<r;s++)o=e[s],t[o]=u[o];return t}function cw(u){function t(e,s,r,o){let c=e[o++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),p=o>=e.length;return c=!c&&G.isArray(r)?r.length:c,p?(G.hasOwnProp(r,c)?r[c]=[r[c],s]:r[c]=s,!d):((!r[c]||!G.isObject(r[c]))&&(r[c]=[]),t(e,s,r[c],o)&&G.isArray(r[c])&&(r[c]=gM(r[c])),!d)}if(G.isFormData(u)&&G.isFunction(u.entries)){const e={};return G.forEachEntry(u,(s,r)=>{t(pM(s),r,e,0)}),e}return null}function mM(u,t,e){if(G.isString(u))try{return(t||JSON.parse)(u),G.trim(u)}catch(s){if(s.name!=="SyntaxError")throw s}return(e||JSON.stringify)(u)}const nf={transitional:lw,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const s=e.getContentType()||"",r=s.indexOf("application/json")>-1,o=G.isObject(t);if(o&&G.isHTMLForm(t)&&(t=new FormData(t)),G.isFormData(t))return r?JSON.stringify(cw(t)):t;if(G.isArrayBuffer(t)||G.isBuffer(t)||G.isStream(t)||G.isFile(t)||G.isBlob(t)||G.isReadableStream(t))return t;if(G.isArrayBufferView(t))return t.buffer;if(G.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return fM(t,this.formSerializer).toString();if((d=G.isFileList(t))||s.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Lg(d?{"files[]":t}:t,p&&new p,this.formSerializer)}}return o||r?(e.setContentType("application/json",!1),mM(t)):t}],transformResponse:[function(t){const e=this.transitional||nf.transitional,s=e&&e.forcedJSONParsing,r=this.responseType==="json";if(G.isResponse(t)||G.isReadableStream(t))return t;if(t&&G.isString(t)&&(s&&!this.responseType||r)){const c=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(d){if(c)throw d.name==="SyntaxError"?Mt.from(d,Mt.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bn.classes.FormData,Blob:bn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],u=>{nf.headers[u]={}});const bM=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yM=u=>{const t={};let e,s,r;return u&&u.split(`
`).forEach(function(c){r=c.indexOf(":"),e=c.substring(0,r).trim().toLowerCase(),s=c.substring(r+1).trim(),!(!e||t[e]&&bM[e])&&(e==="set-cookie"?t[e]?t[e].push(s):t[e]=[s]:t[e]=t[e]?t[e]+", "+s:s)}),t},sE=Symbol("internals");function hh(u){return u&&String(u).trim().toLowerCase()}function xp(u){return u===!1||u==null?u:G.isArray(u)?u.map(xp):String(u)}function vM(u){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=e.exec(u);)t[s[1]]=s[2];return t}const AM=u=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(u.trim());function ly(u,t,e,s,r){if(G.isFunction(s))return s.call(this,t,e);if(r&&(t=e),!!G.isString(t)){if(G.isString(s))return t.indexOf(s)!==-1;if(G.isRegExp(s))return s.test(t)}}function SM(u){return u.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,s)=>e.toUpperCase()+s)}function _M(u,t){const e=G.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(u,s+e,{value:function(r,o,c){return this[s].call(this,t,r,o,c)},configurable:!0})})}let Un=class{constructor(t){t&&this.set(t)}set(t,e,s){const r=this;function o(d,p,g){const m=hh(p);if(!m)throw new Error("header name must be a non-empty string");const y=G.findKey(r,m);(!y||r[y]===void 0||g===!0||g===void 0&&r[y]!==!1)&&(r[y||p]=xp(d))}const c=(d,p)=>G.forEach(d,(g,m)=>o(g,m,p));if(G.isPlainObject(t)||t instanceof this.constructor)c(t,e);else if(G.isString(t)&&(t=t.trim())&&!AM(t))c(yM(t),e);else if(G.isHeaders(t))for(const[d,p]of t.entries())o(p,d,s);else t!=null&&o(e,t,s);return this}get(t,e){if(t=hh(t),t){const s=G.findKey(this,t);if(s){const r=this[s];if(!e)return r;if(e===!0)return vM(r);if(G.isFunction(e))return e.call(this,r,s);if(G.isRegExp(e))return e.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=hh(t),t){const s=G.findKey(this,t);return!!(s&&this[s]!==void 0&&(!e||ly(this,this[s],s,e)))}return!1}delete(t,e){const s=this;let r=!1;function o(c){if(c=hh(c),c){const d=G.findKey(s,c);d&&(!e||ly(s,s[d],d,e))&&(delete s[d],r=!0)}}return G.isArray(t)?t.forEach(o):o(t),r}clear(t){const e=Object.keys(this);let s=e.length,r=!1;for(;s--;){const o=e[s];(!t||ly(this,this[o],o,t,!0))&&(delete this[o],r=!0)}return r}normalize(t){const e=this,s={};return G.forEach(this,(r,o)=>{const c=G.findKey(s,o);if(c){e[c]=xp(r),delete e[o];return}const d=t?SM(o):String(o).trim();d!==o&&delete e[o],e[d]=xp(r),s[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return G.forEach(this,(s,r)=>{s!=null&&s!==!1&&(e[r]=t&&G.isArray(s)?s.join(", "):s)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const s=new this(t);return e.forEach(r=>s.set(r)),s}static accessor(t){const s=(this[sE]=this[sE]={accessors:{}}).accessors,r=this.prototype;function o(c){const d=hh(c);s[d]||(_M(r,c),s[d]=!0)}return G.isArray(t)?t.forEach(o):o(t),this}};Un.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(Un.prototype,({value:u},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>u,set(s){this[e]=s}}});G.freezeMethods(Un);function cy(u,t){const e=this||nf,s=t||e,r=Un.from(s.headers);let o=s.data;return G.forEach(u,function(d){o=d.call(e,o,r.normalize(),t?t.status:void 0)}),r.normalize(),o}function uw(u){return!!(u&&u.__CANCEL__)}function uu(u,t,e){Mt.call(this,u??"canceled",Mt.ERR_CANCELED,t,e),this.name="CanceledError"}G.inherits(uu,Mt,{__CANCEL__:!0});function hw(u,t,e){const s=e.config.validateStatus;!e.status||!s||s(e.status)?u(e):t(new Mt("Request failed with status code "+e.status,[Mt.ERR_BAD_REQUEST,Mt.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function EM(u){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(u);return t&&t[1]||""}function wM(u,t){u=u||10;const e=new Array(u),s=new Array(u);let r=0,o=0,c;return t=t!==void 0?t:1e3,function(p){const g=Date.now(),m=s[o];c||(c=g),e[r]=p,s[r]=g;let y=o,v=0;for(;y!==r;)v+=e[y++],y=y%u;if(r=(r+1)%u,r===o&&(o=(o+1)%u),g-c<t)return;const S=m&&g-m;return S?Math.round(v*1e3/S):void 0}}function TM(u,t){let e=0,s=1e3/t,r,o;const c=(g,m=Date.now())=>{e=m,r=null,o&&(clearTimeout(o),o=null),u.apply(null,g)};return[(...g)=>{const m=Date.now(),y=m-e;y>=s?c(g,m):(r=g,o||(o=setTimeout(()=>{o=null,c(r)},s-y)))},()=>r&&c(r)]}const sg=(u,t,e=3)=>{let s=0;const r=wM(50,250);return TM(o=>{const c=o.loaded,d=o.lengthComputable?o.total:void 0,p=c-s,g=r(p),m=c<=d;s=c;const y={loaded:c,total:d,progress:d?c/d:void 0,bytes:p,rate:g||void 0,estimated:g&&d&&m?(d-c)/g:void 0,event:o,lengthComputable:d!=null,[t?"download":"upload"]:!0};u(y)},e)},aE=(u,t)=>{const e=u!=null;return[s=>t[0]({lengthComputable:e,total:u,loaded:s}),t[1]]},rE=u=>(...t)=>G.asap(()=>u(...t)),xM=bn.hasStandardBrowserEnv?((u,t)=>e=>(e=new URL(e,bn.origin),u.protocol===e.protocol&&u.host===e.host&&(t||u.port===e.port)))(new URL(bn.origin),bn.navigator&&/(msie|trident)/i.test(bn.navigator.userAgent)):()=>!0,RM=bn.hasStandardBrowserEnv?{write(u,t,e,s,r,o){const c=[u+"="+encodeURIComponent(t)];G.isNumber(e)&&c.push("expires="+new Date(e).toGMTString()),G.isString(s)&&c.push("path="+s),G.isString(r)&&c.push("domain="+r),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read(u){const t=document.cookie.match(new RegExp("(^|;\\s*)("+u+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(u){this.write(u,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function CM(u){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(u)}function MM(u,t){return t?u.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):u}function dw(u,t,e){let s=!CM(t);return u&&(s||e==!1)?MM(u,t):t}const oE=u=>u instanceof Un?{...u}:u;function sl(u,t){t=t||{};const e={};function s(g,m,y,v){return G.isPlainObject(g)&&G.isPlainObject(m)?G.merge.call({caseless:v},g,m):G.isPlainObject(m)?G.merge({},m):G.isArray(m)?m.slice():m}function r(g,m,y,v){if(G.isUndefined(m)){if(!G.isUndefined(g))return s(void 0,g,y,v)}else return s(g,m,y,v)}function o(g,m){if(!G.isUndefined(m))return s(void 0,m)}function c(g,m){if(G.isUndefined(m)){if(!G.isUndefined(g))return s(void 0,g)}else return s(void 0,m)}function d(g,m,y){if(y in t)return s(g,m);if(y in u)return s(void 0,g)}const p={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(g,m,y)=>r(oE(g),oE(m),y,!0)};return G.forEach(Object.keys(Object.assign({},u,t)),function(m){const y=p[m]||r,v=y(u[m],t[m],m);G.isUndefined(v)&&y!==d||(e[m]=v)}),e}const fw=u=>{const t=sl({},u);let{data:e,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:o,headers:c,auth:d}=t;t.headers=c=Un.from(c),t.url=ow(dw(t.baseURL,t.url,t.allowAbsoluteUrls),u.params,u.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let p;if(G.isFormData(e)){if(bn.hasStandardBrowserEnv||bn.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((p=c.getContentType())!==!1){const[g,...m]=p?p.split(";").map(y=>y.trim()).filter(Boolean):[];c.setContentType([g||"multipart/form-data",...m].join("; "))}}if(bn.hasStandardBrowserEnv&&(s&&G.isFunction(s)&&(s=s(t)),s||s!==!1&&xM(t.url))){const g=r&&o&&RM.read(o);g&&c.set(r,g)}return t},DM=typeof XMLHttpRequest<"u",OM=DM&&function(u){return new Promise(function(e,s){const r=fw(u);let o=r.data;const c=Un.from(r.headers).normalize();let{responseType:d,onUploadProgress:p,onDownloadProgress:g}=r,m,y,v,S,_;function T(){S&&S(),_&&_(),r.cancelToken&&r.cancelToken.unsubscribe(m),r.signal&&r.signal.removeEventListener("abort",m)}let M=new XMLHttpRequest;M.open(r.method.toUpperCase(),r.url,!0),M.timeout=r.timeout;function C(){if(!M)return;const N=Un.from("getAllResponseHeaders"in M&&M.getAllResponseHeaders()),H={data:!d||d==="text"||d==="json"?M.responseText:M.response,status:M.status,statusText:M.statusText,headers:N,config:u,request:M};hw(function(I){e(I),T()},function(I){s(I),T()},H),M=null}"onloadend"in M?M.onloadend=C:M.onreadystatechange=function(){!M||M.readyState!==4||M.status===0&&!(M.responseURL&&M.responseURL.indexOf("file:")===0)||setTimeout(C)},M.onabort=function(){M&&(s(new Mt("Request aborted",Mt.ECONNABORTED,u,M)),M=null)},M.onerror=function(){s(new Mt("Network Error",Mt.ERR_NETWORK,u,M)),M=null},M.ontimeout=function(){let F=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const H=r.transitional||lw;r.timeoutErrorMessage&&(F=r.timeoutErrorMessage),s(new Mt(F,H.clarifyTimeoutError?Mt.ETIMEDOUT:Mt.ECONNABORTED,u,M)),M=null},o===void 0&&c.setContentType(null),"setRequestHeader"in M&&G.forEach(c.toJSON(),function(F,H){M.setRequestHeader(H,F)}),G.isUndefined(r.withCredentials)||(M.withCredentials=!!r.withCredentials),d&&d!=="json"&&(M.responseType=r.responseType),g&&([v,_]=sg(g,!0),M.addEventListener("progress",v)),p&&M.upload&&([y,S]=sg(p),M.upload.addEventListener("progress",y),M.upload.addEventListener("loadend",S)),(r.cancelToken||r.signal)&&(m=N=>{M&&(s(!N||N.type?new uu(null,u,M):N),M.abort(),M=null)},r.cancelToken&&r.cancelToken.subscribe(m),r.signal&&(r.signal.aborted?m():r.signal.addEventListener("abort",m)));const O=EM(r.url);if(O&&bn.protocols.indexOf(O)===-1){s(new Mt("Unsupported protocol "+O+":",Mt.ERR_BAD_REQUEST,u));return}M.send(o||null)})},LM=(u,t)=>{const{length:e}=u=u?u.filter(Boolean):[];if(t||e){let s=new AbortController,r;const o=function(g){if(!r){r=!0,d();const m=g instanceof Error?g:this.reason;s.abort(m instanceof Mt?m:new uu(m instanceof Error?m.message:m))}};let c=t&&setTimeout(()=>{c=null,o(new Mt(`timeout ${t} of ms exceeded`,Mt.ETIMEDOUT))},t);const d=()=>{u&&(c&&clearTimeout(c),c=null,u.forEach(g=>{g.unsubscribe?g.unsubscribe(o):g.removeEventListener("abort",o)}),u=null)};u.forEach(g=>g.addEventListener("abort",o));const{signal:p}=s;return p.unsubscribe=()=>G.asap(d),p}},NM=function*(u,t){let e=u.byteLength;if(e<t){yield u;return}let s=0,r;for(;s<e;)r=s+t,yield u.slice(s,r),s=r},kM=async function*(u,t){for await(const e of FM(u))yield*NM(e,t)},FM=async function*(u){if(u[Symbol.asyncIterator]){yield*u;return}const t=u.getReader();try{for(;;){const{done:e,value:s}=await t.read();if(e)break;yield s}}finally{await t.cancel()}},lE=(u,t,e,s)=>{const r=kM(u,t);let o=0,c,d=p=>{c||(c=!0,s&&s(p))};return new ReadableStream({async pull(p){try{const{done:g,value:m}=await r.next();if(g){d(),p.close();return}let y=m.byteLength;if(e){let v=o+=y;e(v)}p.enqueue(new Uint8Array(m))}catch(g){throw d(g),g}},cancel(p){return d(p),r.return()}},{highWaterMark:2})},Ng=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",pw=Ng&&typeof ReadableStream=="function",PM=Ng&&(typeof TextEncoder=="function"?(u=>t=>u.encode(t))(new TextEncoder):async u=>new Uint8Array(await new Response(u).arrayBuffer())),gw=(u,...t)=>{try{return!!u(...t)}catch{return!1}},HM=pw&&gw(()=>{let u=!1;const t=new Request(bn.origin,{body:new ReadableStream,method:"POST",get duplex(){return u=!0,"half"}}).headers.has("Content-Type");return u&&!t}),cE=64*1024,Sy=pw&&gw(()=>G.isReadableStream(new Response("").body)),ag={stream:Sy&&(u=>u.body)};Ng&&(u=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ag[t]&&(ag[t]=G.isFunction(u[t])?e=>e[t]():(e,s)=>{throw new Mt(`Response type '${t}' is not supported`,Mt.ERR_NOT_SUPPORT,s)})})})(new Response);const zM=async u=>{if(u==null)return 0;if(G.isBlob(u))return u.size;if(G.isSpecCompliantForm(u))return(await new Request(bn.origin,{method:"POST",body:u}).arrayBuffer()).byteLength;if(G.isArrayBufferView(u)||G.isArrayBuffer(u))return u.byteLength;if(G.isURLSearchParams(u)&&(u=u+""),G.isString(u))return(await PM(u)).byteLength},jM=async(u,t)=>{const e=G.toFiniteNumber(u.getContentLength());return e??zM(t)},UM=Ng&&(async u=>{let{url:t,method:e,data:s,signal:r,cancelToken:o,timeout:c,onDownloadProgress:d,onUploadProgress:p,responseType:g,headers:m,withCredentials:y="same-origin",fetchOptions:v}=fw(u);g=g?(g+"").toLowerCase():"text";let S=LM([r,o&&o.toAbortSignal()],c),_;const T=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let M;try{if(p&&HM&&e!=="get"&&e!=="head"&&(M=await jM(m,s))!==0){let H=new Request(t,{method:"POST",body:s,duplex:"half"}),U;if(G.isFormData(s)&&(U=H.headers.get("content-type"))&&m.setContentType(U),H.body){const[I,Y]=aE(M,sg(rE(p)));s=lE(H.body,cE,I,Y)}}G.isString(y)||(y=y?"include":"omit");const C="credentials"in Request.prototype;_=new Request(t,{...v,signal:S,method:e.toUpperCase(),headers:m.normalize().toJSON(),body:s,duplex:"half",credentials:C?y:void 0});let O=await fetch(_);const N=Sy&&(g==="stream"||g==="response");if(Sy&&(d||N&&T)){const H={};["status","statusText","headers"].forEach(V=>{H[V]=O[V]});const U=G.toFiniteNumber(O.headers.get("content-length")),[I,Y]=d&&aE(U,sg(rE(d),!0))||[];O=new Response(lE(O.body,cE,I,()=>{Y&&Y(),T&&T()}),H)}g=g||"text";let F=await ag[G.findKey(ag,g)||"text"](O,u);return!N&&T&&T(),await new Promise((H,U)=>{hw(H,U,{data:F,headers:Un.from(O.headers),status:O.status,statusText:O.statusText,config:u,request:_})})}catch(C){throw T&&T(),C&&C.name==="TypeError"&&/fetch/i.test(C.message)?Object.assign(new Mt("Network Error",Mt.ERR_NETWORK,u,_),{cause:C.cause||C}):Mt.from(C,C&&C.code,u,_)}}),_y={http:eM,xhr:OM,fetch:UM};G.forEach(_y,(u,t)=>{if(u){try{Object.defineProperty(u,"name",{value:t})}catch{}Object.defineProperty(u,"adapterName",{value:t})}});const uE=u=>`- ${u}`,BM=u=>G.isFunction(u)||u===null||u===!1,mw={getAdapter:u=>{u=G.isArray(u)?u:[u];const{length:t}=u;let e,s;const r={};for(let o=0;o<t;o++){e=u[o];let c;if(s=e,!BM(e)&&(s=_y[(c=String(e)).toLowerCase()],s===void 0))throw new Mt(`Unknown adapter '${c}'`);if(s)break;r[c||"#"+o]=s}if(!s){const o=Object.entries(r).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=t?o.length>1?`since :
`+o.map(uE).join(`
`):" "+uE(o[0]):"as no adapter specified";throw new Mt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s},adapters:_y};function uy(u){if(u.cancelToken&&u.cancelToken.throwIfRequested(),u.signal&&u.signal.aborted)throw new uu(null,u)}function hE(u){return uy(u),u.headers=Un.from(u.headers),u.data=cy.call(u,u.transformRequest),["post","put","patch"].indexOf(u.method)!==-1&&u.headers.setContentType("application/x-www-form-urlencoded",!1),mw.getAdapter(u.adapter||nf.adapter)(u).then(function(s){return uy(u),s.data=cy.call(u,u.transformResponse,s),s.headers=Un.from(s.headers),s},function(s){return uw(s)||(uy(u),s&&s.response&&(s.response.data=cy.call(u,u.transformResponse,s.response),s.response.headers=Un.from(s.response.headers))),Promise.reject(s)})}const bw="1.8.4",kg={};["object","boolean","number","function","string","symbol"].forEach((u,t)=>{kg[u]=function(s){return typeof s===u||"a"+(t<1?"n ":" ")+u}});const dE={};kg.transitional=function(t,e,s){function r(o,c){return"[Axios v"+bw+"] Transitional option '"+o+"'"+c+(s?". "+s:"")}return(o,c,d)=>{if(t===!1)throw new Mt(r(c," has been removed"+(e?" in "+e:"")),Mt.ERR_DEPRECATED);return e&&!dE[c]&&(dE[c]=!0,console.warn(r(c," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(o,c,d):!0}};kg.spelling=function(t){return(e,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function IM(u,t,e){if(typeof u!="object")throw new Mt("options must be an object",Mt.ERR_BAD_OPTION_VALUE);const s=Object.keys(u);let r=s.length;for(;r-- >0;){const o=s[r],c=t[o];if(c){const d=u[o],p=d===void 0||c(d,o,u);if(p!==!0)throw new Mt("option "+o+" must be "+p,Mt.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new Mt("Unknown option "+o,Mt.ERR_BAD_OPTION)}}const Rp={assertOptions:IM,validators:kg},as=Rp.validators;let il=class{constructor(t){this.defaults=t,this.interceptors={request:new iE,response:new iE}}async request(t,e){try{return await this._request(t,e)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=sl(this.defaults,e);const{transitional:s,paramsSerializer:r,headers:o}=e;s!==void 0&&Rp.assertOptions(s,{silentJSONParsing:as.transitional(as.boolean),forcedJSONParsing:as.transitional(as.boolean),clarifyTimeoutError:as.transitional(as.boolean)},!1),r!=null&&(G.isFunction(r)?e.paramsSerializer={serialize:r}:Rp.assertOptions(r,{encode:as.function,serialize:as.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),Rp.assertOptions(e,{baseUrl:as.spelling("baseURL"),withXsrfToken:as.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let c=o&&G.merge(o.common,o[e.method]);o&&G.forEach(["delete","get","head","post","put","patch","common"],_=>{delete o[_]}),e.headers=Un.concat(c,o);const d=[];let p=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(e)===!1||(p=p&&T.synchronous,d.unshift(T.fulfilled,T.rejected))});const g=[];this.interceptors.response.forEach(function(T){g.push(T.fulfilled,T.rejected)});let m,y=0,v;if(!p){const _=[hE.bind(this),void 0];for(_.unshift.apply(_,d),_.push.apply(_,g),v=_.length,m=Promise.resolve(e);y<v;)m=m.then(_[y++],_[y++]);return m}v=d.length;let S=e;for(y=0;y<v;){const _=d[y++],T=d[y++];try{S=_(S)}catch(M){T.call(this,M);break}}try{m=hE.call(this,S)}catch(_){return Promise.reject(_)}for(y=0,v=g.length;y<v;)m=m.then(g[y++],g[y++]);return m}getUri(t){t=sl(this.defaults,t);const e=dw(t.baseURL,t.url,t.allowAbsoluteUrls);return ow(e,t.params,t.paramsSerializer)}};G.forEach(["delete","get","head","options"],function(t){il.prototype[t]=function(e,s){return this.request(sl(s||{},{method:t,url:e,data:(s||{}).data}))}});G.forEach(["post","put","patch"],function(t){function e(s){return function(o,c,d){return this.request(sl(d||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}il.prototype[t]=e(),il.prototype[t+"Form"]=e(!0)});let qM=class yw{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(o){e=o});const s=this;this.promise.then(r=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](r);s._listeners=null}),this.promise.then=r=>{let o;const c=new Promise(d=>{s.subscribe(d),o=d}).then(r);return c.cancel=function(){s.unsubscribe(o)},c},t(function(o,c,d){s.reason||(s.reason=new uu(o,c,d),e(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=s=>{t.abort(s)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new yw(function(r){t=r}),cancel:t}}};function GM(u){return function(e){return u.apply(null,e)}}function VM(u){return G.isObject(u)&&u.isAxiosError===!0}const Ey={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ey).forEach(([u,t])=>{Ey[t]=u});function vw(u){const t=new il(u),e=WE(il.prototype.request,t);return G.extend(e,il.prototype,t,{allOwnKeys:!0}),G.extend(e,t,null,{allOwnKeys:!0}),e.create=function(r){return vw(sl(u,r))},e}const xe=vw(nf);xe.Axios=il;xe.CanceledError=uu;xe.CancelToken=qM;xe.isCancel=uw;xe.VERSION=bw;xe.toFormData=Lg;xe.AxiosError=Mt;xe.Cancel=xe.CanceledError;xe.all=function(t){return Promise.all(t)};xe.spread=GM;xe.isAxiosError=VM;xe.mergeConfig=sl;xe.AxiosHeaders=Un;xe.formToJSON=u=>cw(G.isHTMLForm(u)?new FormData(u):u);xe.getAdapter=mw.getAdapter;xe.HttpStatusCode=Ey;xe.default=xe;const{Axios:q2,AxiosError:G2,CanceledError:V2,isCancel:X2,CancelToken:Y2,VERSION:K2,all:$2,Cancel:W2,isAxiosError:Q2,spread:Z2,toFormData:J2,AxiosHeaders:tN,HttpStatusCode:eN,formToJSON:nN,getAdapter:iN,mergeConfig:sN}=xe;var Ln={},dh={},fE;function XM(){if(fE)return dh;fE=1,Object.defineProperty(dh,"__esModule",{value:!0}),dh.calculateRgba=void 0;var u;(function(s){s.maroon="#800000",s.red="#FF0000",s.orange="#FFA500",s.yellow="#FFFF00",s.olive="#808000",s.green="#008000",s.purple="#800080",s.fuchsia="#FF00FF",s.lime="#00FF00",s.teal="#008080",s.aqua="#00FFFF",s.blue="#0000FF",s.navy="#000080",s.black="#000000",s.gray="#808080",s.silver="#C0C0C0",s.white="#FFFFFF"})(u||(u={}));var t=function(s,r){if(s.includes("/"))return s.replace("rgb(","rgba(");var o=s.substring(s.startsWith("rgba(")?5:4,s.length-1).trim(),c=o.split(",");return c.length===4?s.replace("rgb(","rgba("):c.length===3?"rgba(".concat(o,", ").concat(r,")"):"rgba(".concat(o," / ").concat(r,")")},e=function(s,r){if(s.startsWith("rgb"))return t(s,r);if(Object.keys(u).includes(s)&&(s=u[s]),s[0]==="#"&&(s=s.slice(1)),s.length===3){var o="";s.split("").forEach(function(d){o+=d,o+=d}),s=o}var c=(s.match(/.{2}/g)||[]).map(function(d){return parseInt(d,16)}).join(", ");return"rgba(".concat(c,", ").concat(r,")")};return dh.calculateRgba=e,dh}var fh={},pE;function YM(){if(pE)return fh;pE=1,Object.defineProperty(fh,"__esModule",{value:!0}),fh.parseLengthAndUnit=t,fh.cssValue=e;var u={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function t(s){if(typeof s=="number")return{value:s,unit:"px"};var r,o=(s.match(/^[0-9.]*/)||"").toString();o.includes(".")?r=parseFloat(o):r=parseInt(o,10);var c=(s.match(/[^0-9]*$/)||"").toString();return u[c]?{value:r,unit:c}:(console.warn("React Spinners: ".concat(s," is not a valid css value. Defaulting to ").concat(r,"px.")),{value:r,unit:"px"})}function e(s){var r=t(s);return"".concat(r.value).concat(r.unit)}return fh}var ph={},gE;function KM(){if(gE)return ph;gE=1,Object.defineProperty(ph,"__esModule",{value:!0}),ph.createAnimation=void 0;var u=function(t,e,s){var r="react-spinners-".concat(t,"-").concat(s);if(typeof window>"u"||!window.document)return r;var o=document.createElement("style");document.head.appendChild(o);var c=o.sheet,d=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return c&&c.insertRule(d,0),r};return ph.createAnimation=u,ph}var mE;function $M(){if(mE)return Ln;mE=1;var u=Ln&&Ln.__assign||function(){return u=Object.assign||function(m){for(var y,v=1,S=arguments.length;v<S;v++){y=arguments[v];for(var _ in y)Object.prototype.hasOwnProperty.call(y,_)&&(m[_]=y[_])}return m},u.apply(this,arguments)},t=Ln&&Ln.__createBinding||(Object.create?function(m,y,v,S){S===void 0&&(S=v);var _=Object.getOwnPropertyDescriptor(y,v);(!_||("get"in _?!y.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return y[v]}}),Object.defineProperty(m,S,_)}:function(m,y,v,S){S===void 0&&(S=v),m[S]=y[v]}),e=Ln&&Ln.__setModuleDefault||(Object.create?function(m,y){Object.defineProperty(m,"default",{enumerable:!0,value:y})}:function(m,y){m.default=y}),s=Ln&&Ln.__importStar||function(m){if(m&&m.__esModule)return m;var y={};if(m!=null)for(var v in m)v!=="default"&&Object.prototype.hasOwnProperty.call(m,v)&&t(y,m,v);return e(y,m),y},r=Ln&&Ln.__rest||function(m,y){var v={};for(var S in m)Object.prototype.hasOwnProperty.call(m,S)&&y.indexOf(S)<0&&(v[S]=m[S]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,S=Object.getOwnPropertySymbols(m);_<S.length;_++)y.indexOf(S[_])<0&&Object.prototype.propertyIsEnumerable.call(m,S[_])&&(v[S[_]]=m[S[_]]);return v};Object.defineProperty(Ln,"__esModule",{value:!0});var o=s(Cg()),c=XM(),d=YM(),p=KM();function g(m){var y=m.loading,v=y===void 0?!0:y,S=m.color,_=S===void 0?"#000000":S,T=m.speedMultiplier,M=T===void 0?1:T,C=m.cssOverride,O=C===void 0?{}:C,N=m.size,F=N===void 0?50:N,H=r(m,["loading","color","speedMultiplier","cssOverride","size"]),U=(0,d.parseLengthAndUnit)(F),I=U.value,Y=U.unit,V=u({display:"inherit",position:"relative",width:(0,d.cssValue)(F),height:(0,d.cssValue)(F),transform:"rotate(165deg)"},O),et=I/5,nt=(I-et)/2,ht=nt-et,ut=(0,c.calculateRgba)(_,.75),ft=(0,p.createAnimation)("HashLoader","0% {width: ".concat(et,"px; box-shadow: ").concat(nt,"px ").concat(-ht,"px ").concat(ut,", ").concat(-nt,"px ").concat(ht,"px ").concat(ut,`}
    35% {width: `).concat((0,d.cssValue)(F),"; box-shadow: 0 ").concat(-ht,"px ").concat(ut,", 0 ").concat(ht,"px ").concat(ut,`}
    70% {width: `).concat(et,"px; box-shadow: ").concat(-nt,"px ").concat(-ht,"px ").concat(ut,", ").concat(nt,"px ").concat(ht,"px ").concat(ut,`}
    100% {box-shadow: `).concat(nt,"px ").concat(-ht,"px ").concat(ut,", ").concat(-nt,"px ").concat(ht,"px ").concat(ut,"}"),"before"),mt=(0,p.createAnimation)("HashLoader","0% {height: ".concat(et,"px; box-shadow: ").concat(ht,"px ").concat(nt,"px ").concat(_,", ").concat(-ht,"px ").concat(-nt,"px ").concat(_,`}
    35% {height: `).concat((0,d.cssValue)(F),"; box-shadow: ").concat(ht,"px 0 ").concat(_,", ").concat(-ht,"px 0 ").concat(_,`}
    70% {height: `).concat(et,"px; box-shadow: ").concat(ht,"px ").concat(-nt,"px ").concat(_,", ").concat(-ht,"px ").concat(nt,"px ").concat(_,`}
    100% {box-shadow: `).concat(ht,"px ").concat(nt,"px ").concat(_,", ").concat(-ht,"px ").concat(-nt,"px ").concat(_,"}"),"after"),$=function(Z){return{position:"absolute",top:"50%",left:"50%",display:"block",width:"".concat(I/5).concat(Y),height:"".concat(I/5).concat(Y),borderRadius:"".concat(I/10).concat(Y),transform:"translate(-50%, -50%)",animationFillMode:"none",animation:"".concat(Z===1?ft:mt," ").concat(2/M,"s infinite")}};return v?o.createElement("span",u({style:V},H),o.createElement("span",{style:$(1)}),o.createElement("span",{style:$(2)})):null}return Ln.default=g,Ln}var WM=$M();const QM=$E(WM);function zh({loading:u,message:t}){return q.jsxs("div",{className:"loading",children:[q.jsx(QM,{color:"grey",loading:u,size:150}),u?q.jsx("p",{children:t}):null]})}const ZM="modulepreload",JM=function(u){return"/radar_frontend/"+u},bE={},vp=function(t,e,s){let r=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));r=Promise.allSettled(e.map(p=>{if(p=JM(p),p in bE)return;bE[p]=!0;const g=p.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${m}`))return;const y=document.createElement("link");if(y.rel=g?"stylesheet":ZM,g||(y.as="script"),y.crossOrigin="",y.href=p,d&&y.setAttribute("nonce",d),document.head.appendChild(y),g)return new Promise((v,S)=>{y.addEventListener("load",v),y.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return r.then(c=>{for(const d of c||[])d.status==="rejected"&&o(d.reason);return t().catch(o)})};var kh={};kh.d=(u,t)=>{for(var e in t)kh.o(t,e)&&!kh.o(u,e)&&Object.defineProperty(u,e,{enumerable:!0,get:t[e]})};kh.o=(u,t)=>Object.prototype.hasOwnProperty.call(u,t);var Rt=globalThis.pdfjsLib={};kh.d(Rt,{AbortException:()=>dl,AnnotationEditorLayer:()=>Fv,AnnotationEditorParamsType:()=>Tt,AnnotationEditorType:()=>Nt,AnnotationEditorUIManager:()=>rl,AnnotationLayer:()=>QO,AnnotationMode:()=>Qa,ColorPicker:()=>cg,DOMSVGFactory:()=>s0,DrawLayer:()=>jv,FeatureTest:()=>xn,GlobalWorkerOptions:()=>va,ImageKind:()=>Cp,InvalidPDFException:()=>Sw,MissingPDFException:()=>hl,OPS:()=>Pi,OutputScale:()=>Cy,PDFDataRangeTransport:()=>b1,PDFDateString:()=>Qv,PDFWorker:()=>oc,PasswordResponses:()=>iD,PermissionFlag:()=>nD,PixelsPerInch:()=>Tr,RenderingCancelledException:()=>$v,TextLayer:()=>nv,UnexpectedResponseException:()=>zg,Util:()=>bt,VerbosityLevel:()=>Fg,XfaLayer:()=>v1,build:()=>OO,createValidAbsoluteUrl:()=>oD,fetchData:()=>Ug,getDocument:()=>_O,getFilenameFromUrl:()=>mD,getPdfFilenameFromUrl:()=>bD,getXfaPageViewport:()=>yD,isDataScheme:()=>Bg,isPdfFile:()=>Wv,noContextMenu:()=>Mi,normalizeUnicode:()=>fD,setLayerDimensions:()=>al,shadow:()=>qt,version:()=>DO});const vn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Aw=[1,0,0,1,0,0],wy=[.001,0,0,.001,0,0],tD=1e7,hy=1.35,ii={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Qa={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},eD="pdfjs_internal_editor_",Nt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Tt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},nD={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},hn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Cp={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Pe={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},gh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Fg={ERRORS:0,WARNINGS:1,INFOS:5},Pi={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},iD={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Pg=Fg.WARNINGS;function sD(u){Number.isInteger(u)&&(Pg=u)}function aD(){return Pg}function Hg(u){Pg>=Fg.INFOS&&console.log(`Info: ${u}`)}function Pt(u){Pg>=Fg.WARNINGS&&console.log(`Warning: ${u}`)}function ue(u){throw new Error(u)}function Ue(u,t){u||ue(t)}function rD(u){switch(u==null?void 0:u.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function oD(u,t=null,e=null){if(!u)return null;try{if(e&&typeof u=="string"){if(e.addDefaultProtocol&&u.startsWith("www.")){const r=u.match(/\./g);(r==null?void 0:r.length)>=2&&(u=`http://${u}`)}if(e.tryConvertEncoding)try{u=dD(u)}catch{}}const s=t?new URL(u,t):new URL(u);if(rD(s))return s}catch{}return null}function qt(u,t,e,s=!1){return Object.defineProperty(u,t,{value:e,enumerable:!s,configurable:!0,writable:!1}),e}const Mr=function(){function t(e,s){this.message=e,this.name=s}return t.prototype=new Error,t.constructor=t,t}();class Ty extends Mr{constructor(t,e){super(t,"PasswordException"),this.code=e}}class xy extends Mr{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Sw extends Mr{constructor(t){super(t,"InvalidPDFException")}}class hl extends Mr{constructor(t){super(t,"MissingPDFException")}}class zg extends Mr{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class lD extends Mr{constructor(t){super(t,"FormatError")}}class dl extends Mr{constructor(t){super(t,"AbortException")}}function _w(u){(typeof u!="object"||(u==null?void 0:u.length)===void 0)&&ue("Invalid argument for bytesToString");const t=u.length,e=8192;if(t<e)return String.fromCharCode.apply(null,u);const s=[];for(let r=0;r<t;r+=e){const o=Math.min(r+e,t),c=u.subarray(r,o);s.push(String.fromCharCode.apply(null,c))}return s.join("")}function jg(u){typeof u!="string"&&ue("Invalid argument for stringToBytes");const t=u.length,e=new Uint8Array(t);for(let s=0;s<t;++s)e[s]=u.charCodeAt(s)&255;return e}function cD(u){return String.fromCharCode(u>>24&255,u>>16&255,u>>8&255,u&255)}function Yv(u){const t=Object.create(null);for(const[e,s]of u)t[e]=s;return t}function uD(){const u=new Uint8Array(4);return u[0]=1,new Uint32Array(u.buffer,0,1)[0]===1}function hD(){try{return new Function(""),!0}catch{return!1}}class xn{static get isLittleEndian(){return qt(this,"isLittleEndian",uD())}static get isEvalSupported(){return qt(this,"isEvalSupported",hD())}static get isOffscreenCanvasSupported(){return qt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?qt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):qt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return qt(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const dy=Array.from(Array(256).keys(),u=>u.toString(16).padStart(2,"0"));var Sa,Mp,Ry;class bt{static makeHexColor(t,e,s){return`#${dy[t]}${dy[e]}${dy[s]}`}static scaleMinMax(t,e){let s;t[0]?(t[0]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[3],e[3]*=t[3]):(s=e[0],e[0]=e[1],e[1]=s,s=e[2],e[2]=e[3],e[3]=s,t[1]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const s=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];return[s,r]}static applyInverseTransform(t,e){const s=e[0]*e[3]-e[1]*e[2],r=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/s,o=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/s;return[r,o]}static getAxialAlignedBoundingBox(t,e){const s=this.applyTransform(t,e),r=this.applyTransform(t.slice(2,4),e),o=this.applyTransform([t[0],t[3]],e),c=this.applyTransform([t[2],t[1]],e);return[Math.min(s[0],r[0],o[0],c[0]),Math.min(s[1],r[1],o[1],c[1]),Math.max(s[0],r[0],o[0],c[0]),Math.max(s[1],r[1],o[1],c[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],s=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],o=t[2]*e[0]+t[3]*e[2],c=t[2]*e[1]+t[3]*e[3],d=(s+c)/2,p=Math.sqrt((s+c)**2-4*(s*c-o*r))/2,g=d+p||1,m=d-p||1;return[Math.sqrt(g),Math.sqrt(m)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const s=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(s>r)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),c=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return o>c?null:[s,o,r,c]}static bezierBoundingBox(t,e,s,r,o,c,d,p,g){return g?(g[0]=Math.min(g[0],t,d),g[1]=Math.min(g[1],e,p),g[2]=Math.max(g[2],t,d),g[3]=Math.max(g[3],e,p)):g=[Math.min(t,d),Math.min(e,p),Math.max(t,d),Math.max(e,p)],w(this,Sa,Ry).call(this,t,s,o,d,e,r,c,p,3*(-t+3*(s-o)+d),6*(t-2*s+o),3*(s-t),g),w(this,Sa,Ry).call(this,t,s,o,d,e,r,c,p,3*(-e+3*(r-c)+p),6*(e-2*r+c),3*(r-e),g),g}}Sa=new WeakSet,Mp=function(t,e,s,r,o,c,d,p,g,m){if(g<=0||g>=1)return;const y=1-g,v=g*g,S=v*g,_=y*(y*(y*t+3*g*e)+3*v*s)+S*r,T=y*(y*(y*o+3*g*c)+3*v*d)+S*p;m[0]=Math.min(m[0],_),m[1]=Math.min(m[1],T),m[2]=Math.max(m[2],_),m[3]=Math.max(m[3],T)},Ry=function(t,e,s,r,o,c,d,p,g,m,y,v){if(Math.abs(g)<1e-12){Math.abs(m)>=1e-12&&w(this,Sa,Mp).call(this,t,e,s,r,o,c,d,p,-y/m,v);return}const S=m**2-4*y*g;if(S<0)return;const _=Math.sqrt(S),T=2*g;w(this,Sa,Mp).call(this,t,e,s,r,o,c,d,p,(-m+_)/T,v),w(this,Sa,Mp).call(this,t,e,s,r,o,c,d,p,(-m-_)/T,v)},x(bt,Sa);function dD(u){return decodeURIComponent(escape(u))}let fy=null,yE=null;function fD(u){return fy||(fy=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,yE=new Map([["ﬅ","ſt"]])),u.replaceAll(fy,(t,e,s)=>e?e.normalize("NFKC"):yE.get(s))}function pD(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const u=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(u);else for(let t=0;t<32;t++)u[t]=Math.floor(Math.random()*255);return _w(u)}const Kv="pdfjs_internal_id_",Gs={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function gD(u){return Uint8Array.prototype.toBase64?u.toBase64():btoa(_w(u))}const Xs="http://www.w3.org/2000/svg",io=class io{};wt(io,"CSS",96),wt(io,"PDF",72),wt(io,"PDF_TO_CSS_UNITS",io.CSS/io.PDF);let Tr=io;async function Ug(u,t="text"){if(yh(u,document.baseURI)){const e=await fetch(u);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,s)=>{const r=new XMLHttpRequest;r.open("GET",u,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}s(new Error(r.statusText))}},r.send(null)})}class sf{constructor({viewBox:t,scale:e,rotation:s,offsetX:r=0,offsetY:o=0,dontFlip:c=!1}){this.viewBox=t,this.scale=e,this.rotation=s,this.offsetX=r,this.offsetY=o;const d=(t[2]+t[0])/2,p=(t[3]+t[1])/2;let g,m,y,v;switch(s%=360,s<0&&(s+=360),s){case 180:g=-1,m=0,y=0,v=1;break;case 90:g=0,m=1,y=1,v=0;break;case 270:g=0,m=-1,y=-1,v=0;break;case 0:g=1,m=0,y=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(y=-y,v=-v);let S,_,T,M;g===0?(S=Math.abs(p-t[1])*e+r,_=Math.abs(d-t[0])*e+o,T=(t[3]-t[1])*e,M=(t[2]-t[0])*e):(S=Math.abs(d-t[0])*e+r,_=Math.abs(p-t[1])*e+o,T=(t[2]-t[0])*e,M=(t[3]-t[1])*e),this.transform=[g*e,m*e,y*e,v*e,S-g*e*d-y*e*p,_-m*e*d-v*e*p],this.width=T,this.height=M}get rawDims(){const{viewBox:t}=this;return qt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:s=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new sf({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:s,offsetY:r,dontFlip:o})}convertToViewportPoint(t,e){return bt.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=bt.applyTransform([t[0],t[1]],this.transform),s=bt.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],s[0],s[1]]}convertToPdfPoint(t,e){return bt.applyInverseTransform([t,e],this.transform)}}class $v extends Mr{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Bg(u){const t=u.length;let e=0;for(;e<t&&u[e].trim()==="";)e++;return u.substring(e,e+5).toLowerCase()==="data:"}function Wv(u){return typeof u=="string"&&/\.pdf$/i.test(u)}function mD(u){return[u]=u.split(/[#?]/,1),u.substring(u.lastIndexOf("/")+1)}function bD(u,t="document.pdf"){if(typeof u!="string")return t;if(Bg(u))return Pt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=e.exec(u);let o=s.exec(r[1])||s.exec(r[2])||s.exec(r[3]);if(o&&(o=o[0],o.includes("%")))try{o=s.exec(decodeURIComponent(o))[0]}catch{}return o||t}class vE{constructor(){wt(this,"started",Object.create(null));wt(this,"times",[])}time(t){t in this.started&&Pt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Pt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:s}of this.times)e=Math.max(s.length,e);for(const{name:s,start:r,end:o}of this.times)t.push(`${s.padEnd(e)} ${o-r}ms
`);return t.join("")}}function yh(u,t){try{const{protocol:e}=t?new URL(u,t):new URL(u);return e==="http:"||e==="https:"}catch{return!1}}function Mi(u){u.preventDefault()}function AE(u){console.log("Deprecated API usage: "+u)}var Uh;class Qv{static toDateObject(t){if(!t||typeof t!="string")return null;h(this,Uh)||E(this,Uh,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=h(this,Uh).exec(t);if(!e)return null;const s=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(e[3],10);o=o>=1&&o<=31?o:1;let c=parseInt(e[4],10);c=c>=0&&c<=23?c:0;let d=parseInt(e[5],10);d=d>=0&&d<=59?d:0;let p=parseInt(e[6],10);p=p>=0&&p<=59?p:0;const g=e[7]||"Z";let m=parseInt(e[8],10);m=m>=0&&m<=23?m:0;let y=parseInt(e[9],10)||0;return y=y>=0&&y<=59?y:0,g==="-"?(c+=m,d+=y):g==="+"&&(c-=m,d-=y),new Date(Date.UTC(s,r,o,c,d,p))}}Uh=new WeakMap,x(Qv,Uh);function yD(u,{scale:t=1,rotation:e=0}){const{width:s,height:r}=u.attributes.style,o=[0,0,parseInt(s),parseInt(r)];return new sf({viewBox:o,scale:t,rotation:e})}function Zv(u){if(u.startsWith("#")){const t=parseInt(u.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return u.startsWith("rgb(")?u.slice(4,-1).split(",").map(t=>parseInt(t)):u.startsWith("rgba(")?u.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Pt(`Not a valid color format: "${u}"`),[0,0,0])}function vD(u){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of u.keys()){t.style.color=e;const s=window.getComputedStyle(t).color;u.set(e,Zv(s))}t.remove()}function be(u){const{a:t,b:e,c:s,d:r,e:o,f:c}=u.getTransform();return[t,e,s,r,o,c]}function Vs(u){const{a:t,b:e,c:s,d:r,e:o,f:c}=u.getTransform().invertSelf();return[t,e,s,r,o,c]}function al(u,t,e=!1,s=!0){if(t instanceof sf){const{pageWidth:r,pageHeight:o}=t.rawDims,{style:c}=u,d=xn.isCSSRoundSupported,p=`var(--scale-factor) * ${r}px`,g=`var(--scale-factor) * ${o}px`,m=d?`round(down, ${p}, var(--scale-round-x, 1px))`:`calc(${p})`,y=d?`round(down, ${g}, var(--scale-round-y, 1px))`:`calc(${g})`;!e||t.rotation%180===0?(c.width=m,c.height=y):(c.width=y,c.height=m)}s&&u.setAttribute("data-main-rotation",t.rotation)}class Cy{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Za,ro,Hi,oo,Bh,Ih,hg,Ew,Rn,ww,Tw,Dp,xw,Dy;const Ys=class Ys{constructor(t){x(this,Rn);x(this,Za,null);x(this,ro,null);x(this,Hi);x(this,oo,null);x(this,Bh,null);E(this,Hi,t),h(Ys,Ih)||E(Ys,Ih,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=E(this,Za,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=h(this,Hi)._uiManager._signal;t.addEventListener("contextmenu",Mi,{signal:e}),t.addEventListener("pointerdown",w(Ys,hg,Ew),{signal:e});const s=E(this,oo,document.createElement("div"));s.className="buttons",t.append(s);const r=h(this,Hi).toolbarPosition;if(r){const{style:o}=t,c=h(this,Hi)._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*c}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return w(this,Rn,xw).call(this),t}get div(){return h(this,Za)}hide(){var t;h(this,Za).classList.add("hidden"),(t=h(this,ro))==null||t.hideDropdown()}show(){var t;h(this,Za).classList.remove("hidden"),(t=h(this,Bh))==null||t.shown()}async addAltText(t){const e=await t.render();w(this,Rn,Dp).call(this,e),h(this,oo).prepend(e,h(this,Rn,Dy)),E(this,Bh,t)}addColorPicker(t){E(this,ro,t);const e=t.renderButton();w(this,Rn,Dp).call(this,e),h(this,oo).prepend(e,h(this,Rn,Dy))}remove(){var t;h(this,Za).remove(),(t=h(this,ro))==null||t.destroy(),E(this,ro,null)}};Za=new WeakMap,ro=new WeakMap,Hi=new WeakMap,oo=new WeakMap,Bh=new WeakMap,Ih=new WeakMap,hg=new WeakSet,Ew=function(t){t.stopPropagation()},Rn=new WeakSet,ww=function(t){h(this,Hi)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},Tw=function(t){h(this,Hi)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},Dp=function(t){const e=h(this,Hi)._uiManager._signal;t.addEventListener("focusin",w(this,Rn,ww).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",w(this,Rn,Tw).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Mi,{signal:e})},xw=function(){const{editorType:t,_uiManager:e}=h(this,Hi),s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",h(Ys,Ih)[t]),w(this,Rn,Dp).call(this,s),s.addEventListener("click",r=>{e.delete()},{signal:e._signal}),h(this,oo).append(s)},Dy=function(){const t=document.createElement("div");return t.className="divider",t},x(Ys,hg),x(Ys,Ih,null);let My=Ys;var qh,lo,co,Rr,Rw,Cw,Mw;class AD{constructor(t){x(this,Rr);x(this,qh,null);x(this,lo,null);x(this,co);E(this,co,t)}show(t,e,s){const[r,o]=w(this,Rr,Cw).call(this,e,s),{style:c}=h(this,lo)||E(this,lo,w(this,Rr,Rw).call(this));t.append(h(this,lo)),c.insetInlineEnd=`${100*r}%`,c.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){h(this,lo).remove()}}qh=new WeakMap,lo=new WeakMap,co=new WeakMap,Rr=new WeakSet,Rw=function(){const t=E(this,lo,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Mi,{signal:h(this,co)._signal});const e=E(this,qh,document.createElement("div"));return e.className="buttons",t.append(e),w(this,Rr,Mw).call(this),t},Cw=function(t,e){let s=0,r=0;for(const o of t){const c=o.y+o.height;if(c<s)continue;const d=o.x+(e?o.width:0);if(c>s){r=d,s=c;continue}e?d>r&&(r=d):d<r&&(r=d)}return[e?1-r:r,s]},Mw=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=h(this,co)._signal;t.addEventListener("contextmenu",Mi,{signal:s}),t.addEventListener("click",()=>{h(this,co).highlightSelection("floating_button")},{signal:s}),h(this,qh).append(t)};function rg(u,t,e){for(const s of e)t.addEventListener(s,u[s].bind(u))}function SD(u){return Math.round(Math.min(255,Math.max(1,255*u))).toString(16).padStart(2,"0")}var dg;class _D{constructor(){x(this,dg,0)}get id(){return`${eD}${_n(this,dg)._++}`}}dg=new WeakMap;var uc,Gh,fn,hc,Op;const o0=class o0{constructor(){x(this,hc);x(this,uc,pD());x(this,Gh,0);x(this,fn,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const o=r.decode().then(()=>(s.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return qt(this,"_isSVGFittingCanvas",o)}async getFromFile(t){const{lastModified:e,name:s,size:r,type:o}=t;return w(this,hc,Op).call(this,`${e}_${s}_${r}_${o}`,t)}async getFromUrl(t){return w(this,hc,Op).call(this,t,t)}async getFromBlob(t,e){const s=await e;return w(this,hc,Op).call(this,t,s)}async getFromId(t){h(this,fn)||E(this,fn,new Map);const e=h(this,fn).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:s}=e;return delete e.blobPromise,this.getFromBlob(e.id,s)}return this.getFromUrl(e.url)}getFromCanvas(t,e){h(this,fn)||E(this,fn,new Map);let s=h(this,fn).get(t);if(s!=null&&s.bitmap)return s.refCounter+=1,s;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),s={bitmap:r.transferToImageBitmap(),id:`image_${h(this,uc)}_${_n(this,Gh)._++}`,refCounter:1,isSvg:!1},h(this,fn).set(t,s),h(this,fn).set(s.id,s),s}getSvgUrl(t){const e=h(this,fn).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var r;h(this,fn)||E(this,fn,new Map);const e=h(this,fn).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:s}=e;if(!e.url&&!e.file){const o=new OffscreenCanvas(s.width,s.height);o.getContext("bitmaprenderer").transferFromImageBitmap(s),e.blobPromise=o.convertToBlob()}(r=s.close)==null||r.call(s),e.bitmap=null}isValidId(t){return t.startsWith(`image_${h(this,uc)}_`)}};uc=new WeakMap,Gh=new WeakMap,fn=new WeakMap,hc=new WeakSet,Op=async function(t,e){h(this,fn)||E(this,fn,new Map);let s=h(this,fn).get(t);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${h(this,uc)}_${_n(this,Gh)._++}`,refCounter:0,isSvg:!1});let r;if(typeof e=="string"?(s.url=e,r=await Ug(e,"blob")):e instanceof File?r=s.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const o=o0._isSVGFittingCanvas,c=new FileReader,d=new Image,p=new Promise((g,m)=>{d.onload=()=>{s.bitmap=d,s.isSvg=!0,g()},c.onload=async()=>{const y=s.svgUrl=c.result;d.src=await o?`${y}#svgView(preserveAspectRatio(none))`:y},d.onerror=c.onerror=m});c.readAsDataURL(r),await p}else s.bitmap=await createImageBitmap(r);s.refCounter=1}catch(r){console.error(r),s=null}return h(this,fn).set(t,s),s&&h(this,fn).set(s.id,s),s};let Oy=o0;var Ye,Ja,Vh,Ke;class ED{constructor(t=128){x(this,Ye,[]);x(this,Ja,!1);x(this,Vh);x(this,Ke,-1);E(this,Vh,t)}add({cmd:t,undo:e,post:s,mustExec:r,type:o=NaN,overwriteIfSameType:c=!1,keepUndo:d=!1}){if(r&&t(),h(this,Ja))return;const p={cmd:t,undo:e,post:s,type:o};if(h(this,Ke)===-1){h(this,Ye).length>0&&(h(this,Ye).length=0),E(this,Ke,0),h(this,Ye).push(p);return}if(c&&h(this,Ye)[h(this,Ke)].type===o){d&&(p.undo=h(this,Ye)[h(this,Ke)].undo),h(this,Ye)[h(this,Ke)]=p;return}const g=h(this,Ke)+1;g===h(this,Vh)?h(this,Ye).splice(0,1):(E(this,Ke,g),g<h(this,Ye).length&&h(this,Ye).splice(g)),h(this,Ye).push(p)}undo(){if(h(this,Ke)===-1)return;E(this,Ja,!0);const{undo:t,post:e}=h(this,Ye)[h(this,Ke)];t(),e==null||e(),E(this,Ja,!1),E(this,Ke,h(this,Ke)-1)}redo(){if(h(this,Ke)<h(this,Ye).length-1){E(this,Ke,h(this,Ke)+1),E(this,Ja,!0);const{cmd:t,post:e}=h(this,Ye)[h(this,Ke)];t(),e==null||e(),E(this,Ja,!1)}}hasSomethingToUndo(){return h(this,Ke)!==-1}hasSomethingToRedo(){return h(this,Ke)<h(this,Ye).length-1}destroy(){E(this,Ye,null)}}Ye=new WeakMap,Ja=new WeakMap,Vh=new WeakMap,Ke=new WeakMap;var fg,Dw;class af{constructor(t){x(this,fg);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=xn.platform;for(const[s,r,o={}]of t)for(const c of s){const d=c.startsWith("mac+");e&&d?(this.callbacks.set(c.slice(4),{callback:r,options:o}),this.allKeys.add(c.split("+").at(-1))):!e&&!d&&(this.callbacks.set(c,{callback:r,options:o}),this.allKeys.add(c.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const s=this.callbacks.get(w(this,fg,Dw).call(this,e));if(!s)return;const{callback:r,options:{bubbles:o=!1,args:c=[],checker:d=null}}=s;d&&!d(t,e)||(r.bind(t,...c,e)(),o||(e.stopPropagation(),e.preventDefault()))}}fg=new WeakSet,Dw=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const pg=class pg{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return vD(t),qt(this,"_colors",t)}convert(t){const e=Zv(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[s,r]of this._colors)if(r.every((o,c)=>o===e[c]))return pg._colorsMapping.get(s);return e}getHexCode(t){const e=this._colors.get(t);return e?bt.makeHexColor(...e):t}};wt(pg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Ly=pg;var dc,$n,He,nn,fc,$s,pc,zi,tr,gc,uo,os,ji,ho,Xh,Yh,mc,Kh,ls,er,bc,nr,cs,gg,ir,$h,sr,fo,Wh,Qh,$e,Wt,Ws,po,Zh,Jh,ar,us,Qs,td,Si,ot,Lp,Ny,Ow,Lw,Np,Nw,kw,Fw,ky,Pw,Fy,Py,Hw,En,$a,zw,jw,Hy,Uw,vh,zy;const ac=class ac{constructor(t,e,s,r,o,c,d,p,g,m,y){x(this,ot);x(this,dc,new AbortController);x(this,$n,null);x(this,He,new Map);x(this,nn,new Map);x(this,fc,null);x(this,$s,null);x(this,pc,null);x(this,zi,new ED);x(this,tr,null);x(this,gc,0);x(this,uo,new Set);x(this,os,null);x(this,ji,null);x(this,ho,new Set);x(this,Xh,!1);x(this,Yh,!1);x(this,mc,!1);x(this,Kh,null);x(this,ls,null);x(this,er,null);x(this,bc,null);x(this,nr,!1);x(this,cs,null);x(this,gg,new _D);x(this,ir,!1);x(this,$h,!1);x(this,sr,null);x(this,fo,null);x(this,Wh,null);x(this,Qh,null);x(this,$e,Nt.NONE);x(this,Wt,new Set);x(this,Ws,null);x(this,po,null);x(this,Zh,null);x(this,Jh,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});x(this,ar,[0,0]);x(this,us,null);x(this,Qs,null);x(this,td,null);x(this,Si,null);const v=this._signal=h(this,dc).signal;E(this,Qs,t),E(this,td,e),E(this,fc,s),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:v}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),r._on("setpreference",this.onSetPreference.bind(this),{signal:v}),r._on("switchannotationeditorparams",S=>this.updateParams(S.type,S.value),{signal:v}),w(this,ot,Nw).call(this),w(this,ot,Hw).call(this),w(this,ot,ky).call(this),E(this,$s,o.annotationStorage),E(this,Kh,o.filterFactory),E(this,po,c),E(this,bc,d||null),E(this,Xh,p),E(this,Yh,g),E(this,mc,m),E(this,Qh,y||null),this.viewParameters={realScale:Tr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=ac.prototype,e=c=>h(c,Qs).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),s=(c,{target:d})=>{if(d instanceof HTMLInputElement){const{type:p}=d;return p!=="text"&&p!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return qt(this,"_keyboardManager",new af([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],t.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:s}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:d})=>!(d instanceof HTMLButtonElement)&&h(c,Qs).contains(d)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:d})=>!(d instanceof HTMLButtonElement)&&h(c,Qs).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}]]))}destroy(){var t,e,s,r;(t=h(this,Si))==null||t.resolve(),E(this,Si,null),(e=h(this,dc))==null||e.abort(),E(this,dc,null),this._signal=null;for(const o of h(this,nn).values())o.destroy();h(this,nn).clear(),h(this,He).clear(),h(this,ho).clear(),E(this,$n,null),h(this,Wt).clear(),h(this,zi).destroy(),(s=h(this,fc))==null||s.destroy(),(r=h(this,cs))==null||r.hide(),E(this,cs,null),h(this,ls)&&(clearTimeout(h(this,ls)),E(this,ls,null)),h(this,us)&&(clearTimeout(h(this,us)),E(this,us,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return h(this,Qh)}get useNewAltTextFlow(){return h(this,Yh)}get useNewAltTextWhenAddingImage(){return h(this,mc)}get hcmFilter(){return qt(this,"hcmFilter",h(this,po)?h(this,Kh).addHCMFilter(h(this,po).foreground,h(this,po).background):"none")}get direction(){return qt(this,"direction",getComputedStyle(h(this,Qs)).direction)}get highlightColors(){return qt(this,"highlightColors",h(this,bc)?new Map(h(this,bc).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return qt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){E(this,Wh,t)}editAltText(t,e=!1){var s;(s=h(this,fc))==null||s.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":E(this,mc,e);break}}onPageChanging({pageNumber:t}){E(this,gc,t-1)}focusMainContainer(){h(this,Qs).focus()}findParent(t,e){for(const s of h(this,nn).values()){const{x:r,y:o,width:c,height:d}=s.div.getBoundingClientRect();if(t>=r&&t<=r+c&&e>=o&&e<=o+d)return s}return null}disableUserSelect(t=!1){h(this,td).classList.toggle("noUserSelect",t)}addShouldRescale(t){h(this,ho).add(t)}removeShouldRescale(t){h(this,ho).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Tr.PDF_TO_CSS_UNITS;for(const e of h(this,ho))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:s,anchorOffset:r,focusNode:o,focusOffset:c}=e,d=e.toString(),g=w(this,ot,Lp).call(this,e).closest(".textLayer"),m=this.getSelectionBoxes(g);if(!m)return;e.empty();const y=w(this,ot,Ny).call(this,g),v=h(this,$e)===Nt.NONE,S=()=>{y==null||y.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:s,anchorOffset:r,focusNode:o,focusOffset:c,text:d}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(Nt.HIGHLIGHT,S);return}S()}addToAnnotationStorage(t){!t.isEmpty()&&h(this,$s)&&!h(this,$s).has(t.id)&&h(this,$s).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,h(this,nr)&&(E(this,nr,!1),w(this,ot,Np).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of h(this,Wt))if(e.div.contains(t)){E(this,fo,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!h(this,fo))return;const[t,e]=h(this,fo);E(this,fo,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){w(this,ot,ky).call(this),w(this,ot,Fy).call(this)}removeEditListeners(){w(this,ot,Pw).call(this),w(this,ot,Py).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const s of h(this,ji))if(s.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const s of h(this,ji))if(s.isHandlingMimeForPasting(e.type)){s.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var s;if(t.preventDefault(),(s=h(this,$n))==null||s.commitOrRemove(),!this.hasSelection)return;const e=[];for(const r of h(this,Wt)){const o=r.serialize(!0);o&&e.push(o)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const o of e.items)for(const c of h(this,ji))if(c.isHandlingMimeForPasting(o.type)){c.paste(o,this.currentLayer);return}let s=e.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(o){Pt(`paste: "${o.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const p of s){const g=await r.deserialize(p);if(!g)return;o.push(g)}const c=()=>{for(const p of o)w(this,ot,Hy).call(this,p);w(this,ot,zy).call(this,o)},d=()=>{for(const p of o)p.remove()};this.addCommands({cmd:c,undo:d,mustExec:!0})}catch(o){Pt(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),h(this,$e)!==Nt.NONE&&!this.isEditorHandlingKeyboard&&ac._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,h(this,nr)&&(E(this,nr,!1),w(this,ot,Np).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(w(this,ot,kw).call(this),w(this,ot,Fy).call(this),w(this,ot,En).call(this,{isEditing:h(this,$e)!==Nt.NONE,isEmpty:w(this,ot,vh).call(this),hasSomethingToUndo:h(this,zi).hasSomethingToUndo(),hasSomethingToRedo:h(this,zi).hasSomethingToRedo(),hasSelectedEditor:!1})):(w(this,ot,Fw).call(this),w(this,ot,Py).call(this),w(this,ot,En).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!h(this,ji)){E(this,ji,t);for(const e of h(this,ji))w(this,ot,$a).call(this,e.defaultPropertiesToUpdate)}}getId(){return h(this,gg).id}get currentLayer(){return h(this,nn).get(h(this,gc))}getLayer(t){return h(this,nn).get(t)}get currentPageIndex(){return h(this,gc)}addLayer(t){h(this,nn).set(t.pageIndex,t),h(this,ir)?t.enable():t.disable()}removeLayer(t){h(this,nn).delete(t.pageIndex)}async updateMode(t,e=null,s=!1){if(h(this,$e)!==t&&!(h(this,Si)&&(await h(this,Si).promise,!h(this,Si)))){if(E(this,Si,Promise.withResolvers()),E(this,$e,t),t===Nt.NONE){this.setEditingState(!1),w(this,ot,jw).call(this),h(this,Si).resolve();return}this.setEditingState(!0),await w(this,ot,zw).call(this),this.unselectAll();for(const r of h(this,nn).values())r.updateMode(t);if(!e){s&&this.addNewEditorFromKeyboard(),h(this,Si).resolve();return}for(const r of h(this,He).values())r.annotationElementId===e?(this.setSelected(r),r.enterInEditMode()):r.unselect();h(this,Si).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==h(this,$e)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var s;if(h(this,ji)){switch(t){case Tt.CREATE:this.currentLayer.addNewEditor();return;case Tt.HIGHLIGHT_DEFAULT_COLOR:(s=h(this,Wh))==null||s.updateColor(e);break;case Tt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(h(this,Zh)||E(this,Zh,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const r of h(this,Wt))r.updateParams(t,e);for(const r of h(this,ji))r.updateDefaultParams(t,e)}}showAllEditors(t,e,s=!1){var o;for(const c of h(this,He).values())c.editorType===t&&c.show(e);(((o=h(this,Zh))==null?void 0:o.get(Tt.HIGHLIGHT_SHOW_ALL))??!0)!==e&&w(this,ot,$a).call(this,[[Tt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(h(this,$h)!==t){E(this,$h,t);for(const e of h(this,nn).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const s of h(this,He).values())s.pageIndex===t&&e.push(s);return e}getEditor(t){return h(this,He).get(t)}addEditor(t){h(this,He).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(h(this,ls)&&clearTimeout(h(this,ls)),E(this,ls,setTimeout(()=>{this.focusMainContainer(),E(this,ls,null)},0))),h(this,He).delete(t.id),this.unselect(t),(!t.annotationElementId||!h(this,uo).has(t.annotationElementId))&&((e=h(this,$s))==null||e.remove(t.id))}addDeletedAnnotationElement(t){h(this,uo).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return h(this,uo).has(t)}removeDeletedAnnotationElement(t){h(this,uo).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){h(this,$n)!==t&&(E(this,$n,t),t&&w(this,ot,$a).call(this,t.propertiesToUpdate))}updateUI(t){h(this,ot,Uw)===t&&w(this,ot,$a).call(this,t.propertiesToUpdate)}toggleSelected(t){if(h(this,Wt).has(t)){h(this,Wt).delete(t),t.unselect(),w(this,ot,En).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,Wt).add(t),t.select(),w(this,ot,$a).call(this,t.propertiesToUpdate),w(this,ot,En).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of h(this,Wt))e!==t&&e.unselect();h(this,Wt).clear(),h(this,Wt).add(t),t.select(),w(this,ot,$a).call(this,t.propertiesToUpdate),w(this,ot,En).call(this,{hasSelectedEditor:!0})}isSelected(t){return h(this,Wt).has(t)}get firstSelectedEditor(){return h(this,Wt).values().next().value}unselect(t){t.unselect(),h(this,Wt).delete(t),w(this,ot,En).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,Wt).size!==0}get isEnterHandled(){return h(this,Wt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){h(this,zi).undo(),w(this,ot,En).call(this,{hasSomethingToUndo:h(this,zi).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:w(this,ot,vh).call(this)})}redo(){h(this,zi).redo(),w(this,ot,En).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,zi).hasSomethingToRedo(),isEmpty:w(this,ot,vh).call(this)})}addCommands(t){h(this,zi).add(t),w(this,ot,En).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:w(this,ot,vh).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...h(this,Wt)],e=()=>{for(const r of t)r.remove()},s=()=>{for(const r of t)w(this,ot,Hy).call(this,r)};this.addCommands({cmd:e,undo:s,mustExec:!0})}commitOrRemove(){var t;(t=h(this,$n))==null||t.commitOrRemove()}hasSomethingToControl(){return h(this,$n)||this.hasSelection}selectAll(){for(const t of h(this,Wt))t.commit();w(this,ot,zy).call(this,h(this,He).values())}unselectAll(){if(!(h(this,$n)&&(h(this,$n).commitOrRemove(),h(this,$e)!==Nt.NONE))&&this.hasSelection){for(const t of h(this,Wt))t.unselect();h(this,Wt).clear(),w(this,ot,En).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;h(this,ar)[0]+=t,h(this,ar)[1]+=e;const[r,o]=h(this,ar),c=[...h(this,Wt)],d=1e3;h(this,us)&&clearTimeout(h(this,us)),E(this,us,setTimeout(()=>{E(this,us,null),h(this,ar)[0]=h(this,ar)[1]=0,this.addCommands({cmd:()=>{for(const p of c)h(this,He).has(p.id)&&p.translateInPage(r,o)},undo:()=>{for(const p of c)h(this,He).has(p.id)&&p.translateInPage(-r,-o)},mustExec:!1})},d));for(const p of c)p.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),E(this,os,new Map);for(const t of h(this,Wt))h(this,os).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!h(this,os))return!1;this.disableUserSelect(!1);const t=h(this,os);E(this,os,null);let e=!1;for(const[{x:r,y:o,pageIndex:c},d]of t)d.newX=r,d.newY=o,d.newPageIndex=c,e||(e=r!==d.savedX||o!==d.savedY||c!==d.savedPageIndex);if(!e)return!1;const s=(r,o,c,d)=>{if(h(this,He).has(r.id)){const p=h(this,nn).get(d);p?r._setParentAndPosition(p,o,c):(r.pageIndex=d,r.x=o,r.y=c)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:c,newPageIndex:d}]of t)s(r,o,c,d)},undo:()=>{for(const[r,{savedX:o,savedY:c,savedPageIndex:d}]of t)s(r,o,c,d)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(h(this,os))for(const s of h(this,os).keys())s.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||h(this,Wt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return h(this,$n)===t}getActive(){return h(this,$n)}getMode(){return h(this,$e)}get imageManager(){return qt(this,"imageManager",new Oy)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let g=0,m=e.rangeCount;g<m;g++)if(!t.contains(e.getRangeAt(g).commonAncestorContainer))return null;const{x:s,y:r,width:o,height:c}=t.getBoundingClientRect();let d;switch(t.getAttribute("data-main-rotation")){case"90":d=(g,m,y,v)=>({x:(m-r)/c,y:1-(g+y-s)/o,width:v/c,height:y/o});break;case"180":d=(g,m,y,v)=>({x:1-(g+y-s)/o,y:1-(m+v-r)/c,width:y/o,height:v/c});break;case"270":d=(g,m,y,v)=>({x:1-(m+v-r)/c,y:(g-s)/o,width:v/c,height:y/o});break;default:d=(g,m,y,v)=>({x:(g-s)/o,y:(m-r)/c,width:y/o,height:v/c});break}const p=[];for(let g=0,m=e.rangeCount;g<m;g++){const y=e.getRangeAt(g);if(!y.collapsed)for(const{x:v,y:S,width:_,height:T}of y.getClientRects())_===0||T===0||p.push(d(v,S,_,T))}return p.length===0?null:p}addChangedExistingAnnotation({annotationElementId:t,id:e}){(h(this,pc)||E(this,pc,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=h(this,pc))==null||e.delete(t)}renderAnnotationElement(t){var r;const e=(r=h(this,pc))==null?void 0:r.get(t.data.id);if(!e)return;const s=h(this,$s).getRawValue(e);s&&(h(this,$e)===Nt.NONE&&!s.hasBeenModified||s.renderAnnotationElement(t))}};dc=new WeakMap,$n=new WeakMap,He=new WeakMap,nn=new WeakMap,fc=new WeakMap,$s=new WeakMap,pc=new WeakMap,zi=new WeakMap,tr=new WeakMap,gc=new WeakMap,uo=new WeakMap,os=new WeakMap,ji=new WeakMap,ho=new WeakMap,Xh=new WeakMap,Yh=new WeakMap,mc=new WeakMap,Kh=new WeakMap,ls=new WeakMap,er=new WeakMap,bc=new WeakMap,nr=new WeakMap,cs=new WeakMap,gg=new WeakMap,ir=new WeakMap,$h=new WeakMap,sr=new WeakMap,fo=new WeakMap,Wh=new WeakMap,Qh=new WeakMap,$e=new WeakMap,Wt=new WeakMap,Ws=new WeakMap,po=new WeakMap,Zh=new WeakMap,Jh=new WeakMap,ar=new WeakMap,us=new WeakMap,Qs=new WeakMap,td=new WeakMap,Si=new WeakMap,ot=new WeakSet,Lp=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},Ny=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const s of h(this,nn).values())if(s.hasTextLayer(t))return s;return null},Ow=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const s=w(this,ot,Lp).call(this,t).closest(".textLayer"),r=this.getSelectionBoxes(s);r&&(h(this,cs)||E(this,cs,new AD(this)),h(this,cs).show(s,r,this.direction==="ltr"))},Lw=function(){var o,c,d;const t=document.getSelection();if(!t||t.isCollapsed){h(this,Ws)&&((o=h(this,cs))==null||o.hide(),E(this,Ws,null),w(this,ot,En).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===h(this,Ws))return;const r=w(this,ot,Lp).call(this,t).closest(".textLayer");if(!r){h(this,Ws)&&((c=h(this,cs))==null||c.hide(),E(this,Ws,null),w(this,ot,En).call(this,{hasSelectedText:!1}));return}if((d=h(this,cs))==null||d.hide(),E(this,Ws,e),w(this,ot,En).call(this,{hasSelectedText:!0}),!(h(this,$e)!==Nt.HIGHLIGHT&&h(this,$e)!==Nt.NONE)&&(h(this,$e)===Nt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),E(this,nr,this.isShiftKeyDown),!this.isShiftKeyDown)){const p=h(this,$e)===Nt.HIGHLIGHT?w(this,ot,Ny).call(this,r):null;p==null||p.toggleDrawing();const g=new AbortController,m=this.combinedSignal(g),y=v=>{v.type==="pointerup"&&v.button!==0||(g.abort(),p==null||p.toggleDrawing(!0),v.type==="pointerup"&&w(this,ot,Np).call(this,"main_toolbar"))};window.addEventListener("pointerup",y,{signal:m}),window.addEventListener("blur",y,{signal:m})}},Np=function(t=""){h(this,$e)===Nt.HIGHLIGHT?this.highlightSelection(t):h(this,Xh)&&w(this,ot,Ow).call(this)},Nw=function(){document.addEventListener("selectionchange",w(this,ot,Lw).bind(this),{signal:this._signal})},kw=function(){if(h(this,er))return;E(this,er,new AbortController);const t=this.combinedSignal(h(this,er));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},Fw=function(){var t;(t=h(this,er))==null||t.abort(),E(this,er,null)},ky=function(){if(h(this,sr))return;E(this,sr,new AbortController);const t=this.combinedSignal(h(this,sr));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},Pw=function(){var t;(t=h(this,sr))==null||t.abort(),E(this,sr,null)},Fy=function(){if(h(this,tr))return;E(this,tr,new AbortController);const t=this.combinedSignal(h(this,tr));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},Py=function(){var t;(t=h(this,tr))==null||t.abort(),E(this,tr,null)},Hw=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},En=function(t){Object.entries(t).some(([s,r])=>h(this,Jh)[s]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,Jh),t)}),h(this,$e)===Nt.HIGHLIGHT&&t.hasSelectedEditor===!1&&w(this,ot,$a).call(this,[[Tt.HIGHLIGHT_FREE,!0]]))},$a=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},zw=async function(){if(!h(this,ir)){E(this,ir,!0);const t=[];for(const e of h(this,nn).values())t.push(e.enable());await Promise.all(t);for(const e of h(this,He).values())e.enable()}},jw=function(){if(this.unselectAll(),h(this,ir)){E(this,ir,!1);for(const t of h(this,nn).values())t.disable();for(const t of h(this,He).values())t.disable()}},Hy=function(t){const e=h(this,nn).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},Uw=function(){let t=null;for(t of h(this,Wt));return t},vh=function(){if(h(this,He).size===0)return!0;if(h(this,He).size===1)for(const t of h(this,He).values())return t.isEmpty();return!1},zy=function(t){for(const e of h(this,Wt))e.unselect();h(this,Wt).clear();for(const e of t)e.isEmpty()||(h(this,Wt).add(e),e.select());w(this,ot,En).call(this,{hasSelectedEditor:this.hasSelection})},wt(ac,"TRANSLATE_SMALL",1),wt(ac,"TRANSLATE_BIG",10);let rl=ac;var We,hs,Ui,yc,ds,Wn,vc,fs,Fn,Zs,go,ps,rr,Wi,Ah,kp;const wn=class wn{constructor(t){x(this,Wi);x(this,We,null);x(this,hs,!1);x(this,Ui,null);x(this,yc,null);x(this,ds,null);x(this,Wn,null);x(this,vc,!1);x(this,fs,null);x(this,Fn,null);x(this,Zs,null);x(this,go,null);x(this,ps,!1);E(this,Fn,t),E(this,ps,t._uiManager.useNewAltTextFlow),h(wn,rr)||E(wn,rr,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){wn._l10n??(wn._l10n=t)}async render(){const t=E(this,Ui,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=E(this,yc,document.createElement("span"));t.append(e),h(this,ps)?(t.classList.add("new"),t.setAttribute("data-l10n-id",h(wn,rr).missing),e.setAttribute("data-l10n-id",h(wn,rr)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=h(this,Fn)._uiManager._signal;t.addEventListener("contextmenu",Mi,{signal:s}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:s});const r=o=>{o.preventDefault(),h(this,Fn)._uiManager.editAltText(h(this,Fn)),h(this,ps)&&h(this,Fn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:h(this,Wi,Ah)}})};return t.addEventListener("click",r,{capture:!0,signal:s}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(E(this,vc,!0),r(o))},{signal:s}),await w(this,Wi,kp).call(this),t}finish(){h(this,Ui)&&(h(this,Ui).focus({focusVisible:h(this,vc)}),E(this,vc,!1))}isEmpty(){return h(this,ps)?h(this,We)===null:!h(this,We)&&!h(this,hs)}hasData(){return h(this,ps)?h(this,We)!==null||!!h(this,Zs):this.isEmpty()}get guessedText(){return h(this,Zs)}async setGuessedText(t){h(this,We)===null&&(E(this,Zs,t),E(this,go,await wn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),w(this,Wi,kp).call(this))}toggleAltTextBadge(t=!1){var e;if(!h(this,ps)||h(this,We)){(e=h(this,fs))==null||e.remove(),E(this,fs,null);return}if(!h(this,fs)){const s=E(this,fs,document.createElement("div"));s.className="noAltTextBadge",h(this,Fn).div.append(s)}h(this,fs).classList.toggle("hidden",!t)}serialize(t){let e=h(this,We);return!t&&h(this,Zs)===e&&(e=h(this,go)),{altText:e,decorative:h(this,hs),guessedText:h(this,Zs),textWithDisclaimer:h(this,go)}}get data(){return{altText:h(this,We),decorative:h(this,hs)}}set data({altText:t,decorative:e,guessedText:s,textWithDisclaimer:r,cancel:o=!1}){s&&(E(this,Zs,s),E(this,go,r)),!(h(this,We)===t&&h(this,hs)===e)&&(o||(E(this,We,t),E(this,hs,e)),w(this,Wi,kp).call(this))}toggle(t=!1){h(this,Ui)&&(!t&&h(this,Wn)&&(clearTimeout(h(this,Wn)),E(this,Wn,null)),h(this,Ui).disabled=!t)}shown(){h(this,Fn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:h(this,Wi,Ah)}})}destroy(){var t,e;(t=h(this,Ui))==null||t.remove(),E(this,Ui,null),E(this,yc,null),E(this,ds,null),(e=h(this,fs))==null||e.remove(),E(this,fs,null)}};We=new WeakMap,hs=new WeakMap,Ui=new WeakMap,yc=new WeakMap,ds=new WeakMap,Wn=new WeakMap,vc=new WeakMap,fs=new WeakMap,Fn=new WeakMap,Zs=new WeakMap,go=new WeakMap,ps=new WeakMap,rr=new WeakMap,Wi=new WeakSet,Ah=function(){return h(this,We)&&"added"||h(this,We)===null&&this.guessedText&&"review"||"missing"},kp=async function(){var r,o,c;const t=h(this,Ui);if(!t)return;if(h(this,ps)){if(t.classList.toggle("done",!!h(this,We)),t.setAttribute("data-l10n-id",h(wn,rr)[h(this,Wi,Ah)]),(r=h(this,yc))==null||r.setAttribute("data-l10n-id",h(wn,rr)[`${h(this,Wi,Ah)}-label`]),!h(this,We)){(o=h(this,ds))==null||o.remove();return}}else{if(!h(this,We)&&!h(this,hs)){t.classList.remove("done"),(c=h(this,ds))==null||c.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=h(this,ds);if(!e){E(this,ds,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${h(this,Fn).id}`;const d=100,p=h(this,Fn)._uiManager._signal;p.addEventListener("abort",()=>{clearTimeout(h(this,Wn)),E(this,Wn,null)},{once:!0}),t.addEventListener("mouseenter",()=>{E(this,Wn,setTimeout(()=>{E(this,Wn,null),h(this,ds).classList.add("show"),h(this,Fn)._reportTelemetry({action:"alt_text_tooltip"})},d))},{signal:p}),t.addEventListener("mouseleave",()=>{var g;h(this,Wn)&&(clearTimeout(h(this,Wn)),E(this,Wn,null)),(g=h(this,ds))==null||g.classList.remove("show")},{signal:p})}h(this,hs)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=h(this,We)),e.parentNode||t.append(e);const s=h(this,Fn).getImageForAltText();s==null||s.setAttribute("aria-describedby",e.id)},x(wn,rr,null),wt(wn,"_l10n",null);let og=wn;var mo,Bi,ge,Ac,bo,sn,yo,or,ed,vo,lr,nd,Ao,Js,gs,Sc,_c,_i,id,mg,kt,jy,sd,Uy,By,Bw,Iw,Iy,qy,Gy,qw,Vy,Gw,Vw,Xw,Xy,Sh;const $t=class $t{constructor(t){x(this,kt);x(this,mo,null);x(this,Bi,null);x(this,ge,null);x(this,Ac,!1);x(this,bo,!1);x(this,sn,null);x(this,yo,null);x(this,or,null);x(this,ed,"");x(this,vo,!1);x(this,lr,null);x(this,nd,!1);x(this,Ao,!1);x(this,Js,!1);x(this,gs,null);x(this,Sc,0);x(this,_c,0);x(this,_i,null);wt(this,"_editToolbar",null);wt(this,"_initialOptions",Object.create(null));wt(this,"_initialData",null);wt(this,"_isVisible",!0);wt(this,"_uiManager",null);wt(this,"_focusEventsAllowed",!0);x(this,id,!1);x(this,mg,$t._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:s,pageHeight:r,pageX:o,pageY:c}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,r],this.pageTranslation=[o,c];const[d,p]=this.parentDimensions;this.x=t.x/d,this.y=t.y/p,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=$t.prototype._resizeWithKeyboard,e=rl.TRANSLATE_SMALL,s=rl.TRANSLATE_BIG;return qt(this,"_resizerKeyboardManager",new af([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,s]}],[["Escape","mac+Escape"],$t.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return qt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new wD({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if($t._l10n??($t._l10n=t),$t._l10nResizer||($t._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),$t._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);$t._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){ue("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return h(this,id)}set _isDraggable(t){var e;E(this,id,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=h(this,mg)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):w(this,kt,Sh).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(h(this,vo)?E(this,vo,!1):this.parent.setSelected(this))}focusout(t){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,s,r){const[o,c]=this.parentDimensions;[s,r]=this.screenToPageTranslation(s,r),this.x=(t+s)/o,this.y=(e+r)/c,this.fixAndSetPosition()}translate(t,e){w(this,kt,jy).call(this,this.parentDimensions,t,e)}translateInPage(t,e){h(this,lr)||E(this,lr,[this.x,this.y]),w(this,kt,jy).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){h(this,lr)||E(this,lr,[this.x,this.y]);const[s,r]=this.parentDimensions;if(this.x+=t/s,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:c}=this;const[d,p]=this.getBaseTranslation();o+=d,c+=p,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*c).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!h(this,lr)&&(h(this,lr)[0]!==this.x||h(this,lr)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:s}=$t,r=s/t,o=s/e;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,s]=this.pageDimensions;let{x:r,y:o,width:c,height:d}=this;if(c*=e,d*=s,r*=e,o*=s,this._mustFixPosition)switch(t){case 0:r=Math.max(0,Math.min(e-c,r)),o=Math.max(0,Math.min(s-d,o));break;case 90:r=Math.max(0,Math.min(e-d,r)),o=Math.min(s,Math.max(c,o));break;case 180:r=Math.min(e,Math.max(c,r)),o=Math.min(s,Math.max(d,o));break;case 270:r=Math.min(e,Math.max(d,r)),o=Math.max(0,Math.min(s-c,o));break}this.x=r/=e,this.y=o/=s;const[p,g]=this.getBaseTranslation();r+=p,o+=g;const{style:m}=this.div;m.left=`${(100*r).toFixed(2)}%`,m.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var s;return w(s=$t,sd,Uy).call(s,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var s;return w(s=$t,sd,Uy).call(s,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,s]}=this;return[e*t,s*t]}setDims(t,e){const[s,r]=this.parentDimensions;this.div.style.width=`${(100*t/s).toFixed(2)}%`,h(this,bo)||(this.div.style.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:s}=t,r=s.endsWith("%"),o=!h(this,bo)&&e.endsWith("%");if(r&&o)return;const[c,d]=this.parentDimensions;r||(t.width=`${(100*parseFloat(s)/c).toFixed(2)}%`),!h(this,bo)&&!o&&(t.height=`${(100*parseFloat(e)/d).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=h(this,ge))==null||t.finish()}async addEditToolbar(){return this._editToolbar||h(this,Ao)?this._editToolbar:(this._editToolbar=new My(this),this.div.append(this._editToolbar.render()),h(this,ge)&&await this._editToolbar.addAltText(h(this,ge)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=h(this,ge))==null||t.destroy())}addContainer(t){var s;const e=(s=this._editToolbar)==null?void 0:s.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){h(this,ge)||(og.initialize($t._l10n),E(this,ge,new og(this)),h(this,mo)&&(h(this,ge).data=h(this,mo),E(this,mo,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=h(this,ge))==null?void 0:t.data}set altTextData(t){h(this,ge)&&(h(this,ge).data=t)}get guessedAltText(){var t;return(t=h(this,ge))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=h(this,ge))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=h(this,ge))==null?void 0:e.serialize(t)}hasAltText(){return!!h(this,ge)&&!h(this,ge).isEmpty()}hasAltTextData(){var t;return((t=h(this,ge))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=h(this,Ac)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),w(this,kt,Vy).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),rg(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=xn.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(E(this,vo,!0),this._isDraggable){w(this,kt,qw).call(this,t);return}w(this,kt,Gy).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){h(this,gs)&&clearTimeout(h(this,gs)),E(this,gs,setTimeout(()=>{var t;E(this,gs,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,s){t.changeParent(this),this.x=e,this.y=s,this.fixAndSetPosition()}getRect(t,e,s=this.rotation){const r=this.parentScale,[o,c]=this.pageDimensions,[d,p]=this.pageTranslation,g=t/r,m=e/r,y=this.x*o,v=this.y*c,S=this.width*o,_=this.height*c;switch(s){case 0:return[y+g+d,c-v-m-_+p,y+g+S+d,c-v-m+p];case 90:return[y+m+d,c-v+g+p,y+m+_+d,c-v+g+S+p];case 180:return[y-g-S+d,c-v+m+p,y-g+d,c-v+m+_+p];case 270:return[y-m-_+d,c-v-g-S+p,y-m+d,c-v-g+p];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[s,r,o,c]=t,d=o-s,p=c-r;switch(this.rotation){case 0:return[s,e-c,d,p];case 90:return[s,e-r,p,d];case 180:return[o,e-r,d,p];case 270:return[o,e-c,p,d];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){E(this,Ao,!0)}disableEditMode(){E(this,Ao,!1)}isInEditMode(){return h(this,Ao)}shouldGetKeyboardEvents(){return h(this,Js)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){w(this,kt,Vy).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){ue("An editor must be serializable")}static async deserialize(t,e,s){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:s});r.rotation=t.rotation,E(r,mo,t.accessibilityData);const[o,c]=r.pageDimensions,[d,p,g,m]=r.getRectInCurrentCoords(t.rect,c);return r.x=d/o,r.y=p/c,r.width=g/o,r.height=m/c,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=h(this,or))==null||t.abort(),E(this,or,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),h(this,gs)&&(clearTimeout(h(this,gs)),E(this,gs,null)),w(this,kt,Sh).call(this),this.removeEditToolbar(),h(this,_i)){for(const e of h(this,_i).values())clearTimeout(e);E(this,_i,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(w(this,kt,Bw).call(this),h(this,sn).classList.remove("hidden"),rg(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),E(this,yo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=h(this,sn).children;if(!h(this,Bi)){E(this,Bi,Array.from(e));const c=w(this,kt,Gw).bind(this),d=w(this,kt,Vw).bind(this),p=this._uiManager._signal;for(const g of h(this,Bi)){const m=g.getAttribute("data-resizer-name");g.setAttribute("role","spinbutton"),g.addEventListener("keydown",c,{signal:p}),g.addEventListener("blur",d,{signal:p}),g.addEventListener("focus",w(this,kt,Xw).bind(this,m),{signal:p}),g.setAttribute("data-l10n-id",$t._l10nResizer[m])}}const s=h(this,Bi)[0];let r=0;for(const c of e){if(c===s)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(h(this,Bi).length/4);if(o!==r){if(o<r)for(let d=0;d<r-o;d++)h(this,sn).append(h(this,sn).firstChild);else if(o>r)for(let d=0;d<o-r;d++)h(this,sn).firstChild.before(h(this,sn).lastChild);let c=0;for(const d of e){const g=h(this,Bi)[c++].getAttribute("data-resizer-name");d.setAttribute("data-l10n-id",$t._l10nResizer[g])}}w(this,kt,Xy).call(this,0),E(this,Js,!0),h(this,sn).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){h(this,Js)&&w(this,kt,qy).call(this,h(this,ed),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){w(this,kt,Sh).call(this),this.div.focus()}select(){var t,e,s;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,o;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(e=this._editToolbar)==null||e.show(),(s=h(this,ge))==null||s.toggleAltTextBadge(!1)}unselect(){var t,e,s,r,o;(t=h(this,sn))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(o=h(this,ge))==null||o.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return h(this,nd)}set isEditing(t){E(this,nd,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){E(this,bo,!0);const s=t/e,{style:r}=this.div;r.aspectRatio=s,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){h(this,_i)||E(this,_i,new Map);const{action:s}=t;let r=h(this,_i).get(s);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),h(this,_i).delete(s),h(this,_i).size===0&&E(this,_i,null)},$t._telemetryTimeout),h(this,_i).set(s,r);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),E(this,Ac,!1)}disable(){this.div&&(this.div.tabIndex=-1),E(this,Ac,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const s=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),s.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};mo=new WeakMap,Bi=new WeakMap,ge=new WeakMap,Ac=new WeakMap,bo=new WeakMap,sn=new WeakMap,yo=new WeakMap,or=new WeakMap,ed=new WeakMap,vo=new WeakMap,lr=new WeakMap,nd=new WeakMap,Ao=new WeakMap,Js=new WeakMap,gs=new WeakMap,Sc=new WeakMap,_c=new WeakMap,_i=new WeakMap,id=new WeakMap,mg=new WeakMap,kt=new WeakSet,jy=function([t,e],s,r){[s,r]=this.screenToPageTranslation(s,r),this.x+=s/t,this.y+=r/e,this.fixAndSetPosition()},sd=new WeakSet,Uy=function(t,e,s){switch(s){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},By=function(t){switch(t){case 90:{const[e,s]=this.pageDimensions;return[0,-e/s,s/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,s]=this.pageDimensions;return[0,e/s,-s/e,0]}default:return[1,0,0,1]}},Bw=function(){if(h(this,sn))return;E(this,sn,document.createElement("div")),h(this,sn).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const s of t){const r=document.createElement("div");h(this,sn).append(r),r.classList.add("resizer",s),r.setAttribute("data-resizer-name",s),r.addEventListener("pointerdown",w(this,kt,Iw).bind(this,s),{signal:e}),r.addEventListener("contextmenu",Mi,{signal:e}),r.tabIndex=-1}this.div.prepend(h(this,sn))},Iw=function(t,e){var _;e.preventDefault();const{isMac:s}=xn.platform;if(e.button!==0||e.ctrlKey&&s)return;(_=h(this,ge))==null||_.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const o=new AbortController,c=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",w(this,kt,qy).bind(this,t),{passive:!0,capture:!0,signal:c}),window.addEventListener("contextmenu",Mi,{signal:c});const d=this.x,p=this.y,g=this.width,m=this.height,y=this.parent.div.style.cursor,v=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const S=()=>{var T;o.abort(),this.parent.togglePointerEvents(!0),(T=h(this,ge))==null||T.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=y,this.div.style.cursor=v,w(this,kt,Iy).call(this,d,p,g,m)};window.addEventListener("pointerup",S,{signal:c}),window.addEventListener("blur",S,{signal:c})},Iy=function(t,e,s,r){const o=this.x,c=this.y,d=this.width,p=this.height;o===t&&c===e&&d===s&&p===r||this.addCommands({cmd:()=>{this.width=d,this.height=p,this.x=o,this.y=c;const[g,m]=this.parentDimensions;this.setDims(g*d,m*p),this.fixAndSetPosition()},undo:()=>{this.width=s,this.height=r,this.x=t,this.y=e;const[g,m]=this.parentDimensions;this.setDims(g*s,m*r),this.fixAndSetPosition()},mustExec:!0})},qy=function(t,e){const[s,r]=this.parentDimensions,o=this.x,c=this.y,d=this.width,p=this.height,g=$t.MIN_SIZE/s,m=$t.MIN_SIZE/r,y=Z=>Math.round(Z*1e4)/1e4,v=w(this,kt,By).call(this,this.rotation),S=(Z,tt)=>[v[0]*Z+v[2]*tt,v[1]*Z+v[3]*tt],_=w(this,kt,By).call(this,360-this.rotation),T=(Z,tt)=>[_[0]*Z+_[2]*tt,_[1]*Z+_[3]*tt];let M,C,O=!1,N=!1;switch(t){case"topLeft":O=!0,M=(Z,tt)=>[0,0],C=(Z,tt)=>[Z,tt];break;case"topMiddle":M=(Z,tt)=>[Z/2,0],C=(Z,tt)=>[Z/2,tt];break;case"topRight":O=!0,M=(Z,tt)=>[Z,0],C=(Z,tt)=>[0,tt];break;case"middleRight":N=!0,M=(Z,tt)=>[Z,tt/2],C=(Z,tt)=>[0,tt/2];break;case"bottomRight":O=!0,M=(Z,tt)=>[Z,tt],C=(Z,tt)=>[0,0];break;case"bottomMiddle":M=(Z,tt)=>[Z/2,tt],C=(Z,tt)=>[Z/2,0];break;case"bottomLeft":O=!0,M=(Z,tt)=>[0,tt],C=(Z,tt)=>[Z,0];break;case"middleLeft":N=!0,M=(Z,tt)=>[0,tt/2],C=(Z,tt)=>[Z,tt/2];break}const F=M(d,p),H=C(d,p);let U=S(...H);const I=y(o+U[0]),Y=y(c+U[1]);let V=1,et=1,[nt,ht]=this.screenToPageTranslation(e.movementX,e.movementY);if([nt,ht]=T(nt/s,ht/r),O){const Z=Math.hypot(d,p);V=et=Math.max(Math.min(Math.hypot(H[0]-F[0]-nt,H[1]-F[1]-ht)/Z,1/d,1/p),g/d,m/p)}else N?V=Math.max(g,Math.min(1,Math.abs(H[0]-F[0]-nt)))/d:et=Math.max(m,Math.min(1,Math.abs(H[1]-F[1]-ht)))/p;const ut=y(d*V),ft=y(p*et);U=S(...C(ut,ft));const mt=I-U[0],$=Y-U[1];this.width=ut,this.height=ft,this.x=mt,this.y=$,this.setDims(s*ut,r*ft),this.fixAndSetPosition()},Gy=function(t){const{isMac:e}=xn.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},qw=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const s=new AbortController,r=this._uiManager.combinedSignal(s);if(e){this.div.classList.add("moving"),E(this,Sc,t.clientX),E(this,_c,t.clientY);const c=d=>{const{clientX:p,clientY:g}=d,[m,y]=this.screenToPageTranslation(p-h(this,Sc),g-h(this,_c));E(this,Sc,p),E(this,_c,g),this._uiManager.dragSelectedEditors(m,y)};window.addEventListener("pointermove",c,{passive:!0,capture:!0,signal:r})}const o=()=>{s.abort(),e&&this.div.classList.remove("moving"),E(this,vo,!1),this._uiManager.endDragSession()||w(this,kt,Gy).call(this,t)};window.addEventListener("pointerup",o,{signal:r}),window.addEventListener("blur",o,{signal:r})},Vy=function(){if(h(this,or)||!this.div)return;E(this,or,new AbortController);const t=this._uiManager.combinedSignal(h(this,or));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},Gw=function(t){$t._resizerKeyboardManager.exec(this,t)},Vw=function(t){var e;h(this,Js)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==h(this,sn)&&w(this,kt,Sh).call(this)},Xw=function(t){E(this,ed,h(this,Js)?t:"")},Xy=function(t){if(h(this,Bi))for(const e of h(this,Bi))e.tabIndex=t},Sh=function(){if(E(this,Js,!1),w(this,kt,Xy).call(this,-1),h(this,yo)){const{savedX:t,savedY:e,savedWidth:s,savedHeight:r}=h(this,yo);w(this,kt,Iy).call(this,t,e,s,r),E(this,yo,null)}},x($t,sd),wt($t,"_l10n",null),wt($t,"_l10nResizer",null),wt($t,"_borderLineWidth",-1),wt($t,"_colorManager",new Ly),wt($t,"_zIndex",1),wt($t,"_telemetryTimeout",1e3);let Zt=$t;class wD extends Zt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const SE=3285377520,Ai=4294901760,rs=65535;class Yw{constructor(t){this.h1=t?t&4294967295:SE,this.h2=t?t&4294967295:SE}update(t){let e,s;if(typeof t=="string"){e=new Uint8Array(t.length*2),s=0;for(let T=0,M=t.length;T<M;T++){const C=t.charCodeAt(T);C<=255?e[s++]=C:(e[s++]=C>>>8,e[s++]=C&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),s=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=s>>2,o=s-r*4,c=new Uint32Array(e.buffer,0,r);let d=0,p=0,g=this.h1,m=this.h2;const y=3432918353,v=461845907,S=y&rs,_=v&rs;for(let T=0;T<r;T++)T&1?(d=c[T],d=d*y&Ai|d*S&rs,d=d<<15|d>>>17,d=d*v&Ai|d*_&rs,g^=d,g=g<<13|g>>>19,g=g*5+3864292196):(p=c[T],p=p*y&Ai|p*S&rs,p=p<<15|p>>>17,p=p*v&Ai|p*_&rs,m^=p,m=m<<13|m>>>19,m=m*5+3864292196);switch(d=0,o){case 3:d^=e[r*4+2]<<16;case 2:d^=e[r*4+1]<<8;case 1:d^=e[r*4],d=d*y&Ai|d*S&rs,d=d<<15|d>>>17,d=d*v&Ai|d*_&rs,r&1?g^=d:m^=d}this.h1=g,this.h2=m}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Ai|t*36045&rs,e=e*4283543511&Ai|((e<<16|t>>>16)*2950163797&Ai)>>>16,t^=e>>>1,t=t*444984403&Ai|t*60499&rs,e=e*3301882366&Ai|((e<<16|t>>>16)*3120437893&Ai)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Yy=Object.freeze({map:null,hash:"",transfer:void 0});var So,_o,Qe,bg,Kw;class Jv{constructor(){x(this,bg);x(this,So,!1);x(this,_o,null);x(this,Qe,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const s=h(this,Qe).get(t);return s===void 0?e:Object.assign(e,s)}getRawValue(t){return h(this,Qe).get(t)}remove(t){if(h(this,Qe).delete(t),h(this,Qe).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of h(this,Qe).values())if(e instanceof Zt)return;this.onAnnotationEditor(null)}}setValue(t,e){const s=h(this,Qe).get(t);let r=!1;if(s!==void 0)for(const[o,c]of Object.entries(e))s[o]!==c&&(r=!0,s[o]=c);else r=!0,h(this,Qe).set(t,e);r&&w(this,bg,Kw).call(this),e instanceof Zt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return h(this,Qe).has(t)}getAll(){return h(this,Qe).size>0?Yv(h(this,Qe)):null}setAll(t){for(const[e,s]of Object.entries(t))this.setValue(e,s)}get size(){return h(this,Qe).size}resetModified(){h(this,So)&&(E(this,So,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new $w(this)}get serializable(){if(h(this,Qe).size===0)return Yy;const t=new Map,e=new Yw,s=[],r=Object.create(null);let o=!1;for(const[c,d]of h(this,Qe)){const p=d instanceof Zt?d.serialize(!1,r):d;p&&(t.set(c,p),e.update(`${c}:${JSON.stringify(p)}`),o||(o=!!p.bitmap))}if(o)for(const c of t.values())c.bitmap&&s.push(c.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:s}:Yy}get editorStats(){let t=null;const e=new Map;for(const s of h(this,Qe).values()){if(!(s instanceof Zt))continue;const r=s.telemetryFinalData;if(!r)continue;const{type:o}=r;e.has(o)||e.set(o,Object.getPrototypeOf(s).constructor),t||(t=Object.create(null));const c=t[o]||(t[o]=new Map);for(const[d,p]of Object.entries(r)){if(d==="type")continue;let g=c.get(d);g||(g=new Map,c.set(d,g));const m=g.get(p)??0;g.set(p,m+1)}}for(const[s,r]of e)t[s]=r.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){E(this,_o,null)}get modifiedIds(){if(h(this,_o))return h(this,_o);const t=[];for(const e of h(this,Qe).values())!(e instanceof Zt)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return E(this,_o,{ids:new Set(t),hash:t.join(",")})}}So=new WeakMap,_o=new WeakMap,Qe=new WeakMap,bg=new WeakSet,Kw=function(){h(this,So)||(E(this,So,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var ad;class $w extends Jv{constructor(e){super();x(this,ad);const{map:s,hash:r,transfer:o}=e.serializable,c=structuredClone(s,o?{transfer:o}:null);E(this,ad,{map:c,hash:r,transfer:o})}get print(){ue("Should not call PrintAnnotationStorage.print")}get serializable(){return h(this,ad)}get modifiedIds(){return qt(this,"modifiedIds",{ids:new Set,hash:""})}}ad=new WeakMap;var Ec;class TD{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){x(this,Ec,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),h(this,Ec).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||h(this,Ec).has(t.loadedName))){if(Ue(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:o}=t,c=new FontFace(s,r,o);this.addNativeFontFace(c);try{await c.load(),h(this,Ec).add(s),e==null||e(t)}catch{Pt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}ue("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const s=t.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(r){throw Pt(`Failed to load font '${s.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const r=this._queueLoadingCallback(s);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return qt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(vn||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),qt(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(Ue(!r.done,"completeRequest() cannot be called twice."),r.done=!0;s.length>0&&s[0].done;){const o=s.shift();setTimeout(o.callback,0)}}const{loadingRequests:s}=this,r={done:!1,complete:e,callback:t};return s.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return qt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function s(F,H){return F.charCodeAt(H)<<24|F.charCodeAt(H+1)<<16|F.charCodeAt(H+2)<<8|F.charCodeAt(H+3)&255}function r(F,H,U,I){const Y=F.substring(0,H),V=F.substring(H+U);return Y+I+V}let o,c;const d=this._document.createElement("canvas");d.width=1,d.height=1;const p=d.getContext("2d");let g=0;function m(F,H){if(++g>30){Pt("Load test font never loaded."),H();return}if(p.font="30px "+F,p.fillText(".",0,20),p.getImageData(0,0,1,1).data[3]>0){H();return}setTimeout(m.bind(null,F,H))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=r(v,976,y.length,y);const _=16,T=1482184792;let M=s(v,_);for(o=0,c=y.length-3;o<c;o+=4)M=M-T+s(y,o)|0;o<y.length&&(M=M-T+s(y+"XXX",o)|0),v=r(v,_,4,cD(M));const C=`url(data:font/opentype;base64,${btoa(v)});`,O=`@font-face {font-family:"${y}";src:${C}}`;this.insertRule(O);const N=this._document.createElement("div");N.style.visibility="hidden",N.style.width=N.style.height="10px",N.style.position="absolute",N.style.top=N.style.left="0px";for(const F of[t.loadedName,y]){const H=this._document.createElement("span");H.textContent="Hi",H.style.fontFamily=F,N.append(H)}this._document.body.append(N),m(y,()=>{N.remove(),e.complete()})}}Ec=new WeakMap;class xD{constructor(t,{disableFontFace:e=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(const r in t)this[r]=t[r];this.disableFontFace=e===!0,this._inspectFont=s}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${gD(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(s=this._inspectFont)==null||s.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let s;try{s=t.get(this.loadedName+"_path_"+e)}catch(o){Pt(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(s)||s.length===0)return this.compiledGlyphs[e]=function(o,c){};const r=[];for(let o=0,c=s.length;o<c;)switch(s[o++]){case Gs.BEZIER_CURVE_TO:{const[d,p,g,m,y,v]=s.slice(o,o+6);r.push(S=>S.bezierCurveTo(d,p,g,m,y,v)),o+=6}break;case Gs.MOVE_TO:{const[d,p]=s.slice(o,o+2);r.push(g=>g.moveTo(d,p)),o+=2}break;case Gs.LINE_TO:{const[d,p]=s.slice(o,o+2);r.push(g=>g.lineTo(d,p)),o+=2}break;case Gs.QUADRATIC_CURVE_TO:{const[d,p,g,m]=s.slice(o,o+4);r.push(y=>y.quadraticCurveTo(d,p,g,m)),o+=4}break;case Gs.RESTORE:r.push(d=>d.restore());break;case Gs.SAVE:r.push(d=>d.save());break;case Gs.SCALE:Ue(r.length===2,"Scale command is only valid at the third position.");break;case Gs.TRANSFORM:{const[d,p,g,m,y,v]=s.slice(o,o+6);r.push(S=>S.transform(d,p,g,m,y,v)),o+=6}break;case Gs.TRANSLATE:{const[d,p]=s.slice(o,o+2);r.push(g=>g.translate(d,p)),o+=2}break}return this.compiledGlyphs[e]=function(c,d){r[0](c),r[1](c),c.scale(d,-d);for(let p=2,g=r.length;p<g;p++)r[p](c)}}}var rd;class Ww{constructor({enableHWA:t=!1}){x(this,rd,!1);E(this,rd,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(t,e);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!h(this,rd)})}}reset(t,e,s){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||s<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=s}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){ue("Abstract method `_createCanvas` called.")}}rd=new WeakMap;class RD extends Ww{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const s=this._document.createElement("canvas");return s.width=t,s.height=e,s}}class Qw{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){ue("Abstract method `_fetch` called.")}}class Zw extends Qw{async _fetch(t){const e=await Ug(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):jg(e)}}class Jw{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,s,r,o){return"none"}destroy(t=!1){}}var Eo,wo,ms,ta,pn,yg,To,ct,dn,Ql,Zl,Fp,Jl,t1,Ky,tc,_h,Eh,$y,wh;class CD extends Jw{constructor({docId:e,ownerDocument:s=globalThis.document}){super();x(this,ct);x(this,Eo);x(this,wo);x(this,ms);x(this,ta);x(this,pn);x(this,yg);x(this,To,0);E(this,ta,e),E(this,pn,s)}addFilter(e){if(!e)return"none";let s=h(this,ct,dn).get(e);if(s)return s;const[r,o,c]=w(this,ct,Fp).call(this,e),d=e.length===1?r:`${r}${o}${c}`;if(s=h(this,ct,dn).get(d),s)return h(this,ct,dn).set(e,s),s;const p=`g_${h(this,ta)}_transfer_map_${_n(this,To)._++}`,g=w(this,ct,Jl).call(this,p);h(this,ct,dn).set(e,g),h(this,ct,dn).set(d,g);const m=w(this,ct,tc).call(this,p);return w(this,ct,Eh).call(this,r,o,c,m),g}addHCMFilter(e,s){var _;const r=`${e}-${s}`,o="base";let c=h(this,ct,Ql).get(o);if((c==null?void 0:c.key)===r||(c?((_=c.filter)==null||_.remove(),c.key=r,c.url="none",c.filter=null):(c={key:r,url:"none",filter:null},h(this,ct,Ql).set(o,c)),!e||!s))return c.url;const d=w(this,ct,wh).call(this,e);e=bt.makeHexColor(...d);const p=w(this,ct,wh).call(this,s);if(s=bt.makeHexColor(...p),h(this,ct,Zl).style.color="",e==="#000000"&&s==="#ffffff"||e===s)return c.url;const g=new Array(256);for(let T=0;T<=255;T++){const M=T/255;g[T]=M<=.03928?M/12.92:((M+.055)/1.055)**2.4}const m=g.join(","),y=`g_${h(this,ta)}_hcm_filter`,v=c.filter=w(this,ct,tc).call(this,y);w(this,ct,Eh).call(this,m,m,m,v),w(this,ct,Ky).call(this,v);const S=(T,M)=>{const C=d[T]/255,O=p[T]/255,N=new Array(M+1);for(let F=0;F<=M;F++)N[F]=C+F/M*(O-C);return N.join(",")};return w(this,ct,Eh).call(this,S(0,5),S(1,5),S(2,5),v),c.url=w(this,ct,Jl).call(this,y),c.url}addAlphaFilter(e){let s=h(this,ct,dn).get(e);if(s)return s;const[r]=w(this,ct,Fp).call(this,[e]),o=`alpha_${r}`;if(s=h(this,ct,dn).get(o),s)return h(this,ct,dn).set(e,s),s;const c=`g_${h(this,ta)}_alpha_map_${_n(this,To)._++}`,d=w(this,ct,Jl).call(this,c);h(this,ct,dn).set(e,d),h(this,ct,dn).set(o,d);const p=w(this,ct,tc).call(this,c);return w(this,ct,$y).call(this,r,p),d}addLuminosityFilter(e){let s=h(this,ct,dn).get(e||"luminosity");if(s)return s;let r,o;if(e?([r]=w(this,ct,Fp).call(this,[e]),o=`luminosity_${r}`):o="luminosity",s=h(this,ct,dn).get(o),s)return h(this,ct,dn).set(e,s),s;const c=`g_${h(this,ta)}_luminosity_map_${_n(this,To)._++}`,d=w(this,ct,Jl).call(this,c);h(this,ct,dn).set(e,d),h(this,ct,dn).set(o,d);const p=w(this,ct,tc).call(this,c);return w(this,ct,t1).call(this,p),e&&w(this,ct,$y).call(this,r,p),d}addHighlightHCMFilter(e,s,r,o,c){var O;const d=`${s}-${r}-${o}-${c}`;let p=h(this,ct,Ql).get(e);if((p==null?void 0:p.key)===d||(p?((O=p.filter)==null||O.remove(),p.key=d,p.url="none",p.filter=null):(p={key:d,url:"none",filter:null},h(this,ct,Ql).set(e,p)),!s||!r))return p.url;const[g,m]=[s,r].map(w(this,ct,wh).bind(this));let y=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),v=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),[S,_]=[o,c].map(w(this,ct,wh).bind(this));v<y&&([y,v,S,_]=[v,y,_,S]),h(this,ct,Zl).style.color="";const T=(N,F,H)=>{const U=new Array(256),I=(v-y)/H,Y=N/255,V=(F-N)/(255*H);let et=0;for(let nt=0;nt<=H;nt++){const ht=Math.round(y+nt*I),ut=Y+nt*V;for(let ft=et;ft<=ht;ft++)U[ft]=ut;et=ht+1}for(let nt=et;nt<256;nt++)U[nt]=U[et-1];return U.join(",")},M=`g_${h(this,ta)}_hcm_${e}_filter`,C=p.filter=w(this,ct,tc).call(this,M);return w(this,ct,Ky).call(this,C),w(this,ct,Eh).call(this,T(S[0],_[0],5),T(S[1],_[1],5),T(S[2],_[2],5),C),p.url=w(this,ct,Jl).call(this,M),p.url}destroy(e=!1){e&&h(this,ct,Ql).size!==0||(h(this,ms)&&(h(this,ms).parentNode.parentNode.remove(),E(this,ms,null)),h(this,wo)&&(h(this,wo).clear(),E(this,wo,null)),E(this,To,0))}}Eo=new WeakMap,wo=new WeakMap,ms=new WeakMap,ta=new WeakMap,pn=new WeakMap,yg=new WeakMap,To=new WeakMap,ct=new WeakSet,dn=function(){return h(this,wo)||E(this,wo,new Map)},Ql=function(){return h(this,yg)||E(this,yg,new Map)},Zl=function(){if(!h(this,ms)){const e=h(this,pn).createElement("div"),{style:s}=e;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const r=h(this,pn).createElementNS(Xs,"svg");r.setAttribute("width",0),r.setAttribute("height",0),E(this,ms,h(this,pn).createElementNS(Xs,"defs")),e.append(r),r.append(h(this,ms)),h(this,pn).body.append(e)}return h(this,ms)},Fp=function(e){if(e.length===1){const g=e[0],m=new Array(256);for(let v=0;v<256;v++)m[v]=g[v]/255;const y=m.join(",");return[y,y,y]}const[s,r,o]=e,c=new Array(256),d=new Array(256),p=new Array(256);for(let g=0;g<256;g++)c[g]=s[g]/255,d[g]=r[g]/255,p[g]=o[g]/255;return[c.join(","),d.join(","),p.join(",")]},Jl=function(e){if(h(this,Eo)===void 0){E(this,Eo,"");const s=h(this,pn).URL;s!==h(this,pn).baseURI&&(Bg(s)?Pt('#createUrl: ignore "data:"-URL for performance reasons.'):E(this,Eo,s.split("#",1)[0]))}return`url(${h(this,Eo)}#${e})`},t1=function(e){const s=h(this,pn).createElementNS(Xs,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(s)},Ky=function(e){const s=h(this,pn).createElementNS(Xs,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(s)},tc=function(e){const s=h(this,pn).createElementNS(Xs,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",e),h(this,ct,Zl).append(s),s},_h=function(e,s,r){const o=h(this,pn).createElementNS(Xs,s);o.setAttribute("type","discrete"),o.setAttribute("tableValues",r),e.append(o)},Eh=function(e,s,r,o){const c=h(this,pn).createElementNS(Xs,"feComponentTransfer");o.append(c),w(this,ct,_h).call(this,c,"feFuncR",e),w(this,ct,_h).call(this,c,"feFuncG",s),w(this,ct,_h).call(this,c,"feFuncB",r)},$y=function(e,s){const r=h(this,pn).createElementNS(Xs,"feComponentTransfer");s.append(r),w(this,ct,_h).call(this,r,"feFuncA",e)},wh=function(e){return h(this,ct,Zl).style.color=e,Zv(getComputedStyle(h(this,ct,Zl)).getPropertyValue("color"))};class e1{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(s=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){ue("Abstract method `_fetch` called.")}}class n1 extends e1{async _fetch(t){const e=await Ug(t,"arraybuffer");return new Uint8Array(e)}}if(vn){var Wy=Promise.withResolvers(),Fh=null;(async()=>{const t=await vp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await vp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await vp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await vp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let o,c;return new Map(Object.entries({fs:t,http:e,https:s,url:r,canvas:o,path2d:c}))})().then(t=>{Fh=t,Wy.resolve()},t=>{Pt(`loadPackages: ${t}`),Fh=new Map,Wy.resolve()})}class xr{static get promise(){return Wy.promise}static get(t){return Fh==null?void 0:Fh.get(t)}}async function i1(u){const e=await xr.get("fs").promises.readFile(u);return new Uint8Array(e)}class MD extends Jw{}class DD extends Ww{_createCanvas(t,e){return xr.get("canvas").createCanvas(t,e)}}class OD extends Qw{async _fetch(t){return i1(t)}}class LD extends e1{async _fetch(t){return i1(t)}}const Tn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Qy(u,t){if(!t)return;const e=t[2]-t[0],s=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,s),u.clip(r)}class t0{getPattern(){ue("Abstract method `getPattern` called.")}}class ND extends t0{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)e.addColorStop(s[0],s[1]);return e}getPattern(t,e,s,r){let o;if(r===Tn.STROKE||r===Tn.FILL){const c=e.current.getClippedPathBoundingBox(r,be(t))||[0,0,0,0],d=Math.ceil(c[2]-c[0])||1,p=Math.ceil(c[3]-c[1])||1,g=e.cachedCanvases.getCanvas("pattern",d,p),m=g.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-c[0],-c[1]),s=bt.transform(s,[1,0,0,1,c[0],c[1]]),m.transform(...e.baseTransform),this.matrix&&m.transform(...this.matrix),Qy(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),o=t.createPattern(g.canvas,"no-repeat");const y=new DOMMatrix(s);o.setTransform(y)}else Qy(t,this._bbox),o=this._createGradient(t);return o}}function py(u,t,e,s,r,o,c,d){const p=t.coords,g=t.colors,m=u.data,y=u.width*4;let v;p[e+1]>p[s+1]&&(v=e,e=s,s=v,v=o,o=c,c=v),p[s+1]>p[r+1]&&(v=s,s=r,r=v,v=c,c=d,d=v),p[e+1]>p[s+1]&&(v=e,e=s,s=v,v=o,o=c,c=v);const S=(p[e]+t.offsetX)*t.scaleX,_=(p[e+1]+t.offsetY)*t.scaleY,T=(p[s]+t.offsetX)*t.scaleX,M=(p[s+1]+t.offsetY)*t.scaleY,C=(p[r]+t.offsetX)*t.scaleX,O=(p[r+1]+t.offsetY)*t.scaleY;if(_>=O)return;const N=g[o],F=g[o+1],H=g[o+2],U=g[c],I=g[c+1],Y=g[c+2],V=g[d],et=g[d+1],nt=g[d+2],ht=Math.round(_),ut=Math.round(O);let ft,mt,$,Z,tt,Ct,L,Q;for(let lt=ht;lt<=ut;lt++){if(lt<M){const Et=lt<_?0:(_-lt)/(_-M);ft=S-(S-T)*Et,mt=N-(N-U)*Et,$=F-(F-I)*Et,Z=H-(H-Y)*Et}else{let Et;lt>O?Et=1:M===O?Et=0:Et=(M-lt)/(M-O),ft=T-(T-C)*Et,mt=U-(U-V)*Et,$=I-(I-et)*Et,Z=Y-(Y-nt)*Et}let rt;lt<_?rt=0:lt>O?rt=1:rt=(_-lt)/(_-O),tt=S-(S-C)*rt,Ct=N-(N-V)*rt,L=F-(F-et)*rt,Q=H-(H-nt)*rt;const st=Math.round(Math.min(ft,tt)),_t=Math.round(Math.max(ft,tt));let pt=y*lt+st*4;for(let Et=st;Et<=_t;Et++)rt=(ft-Et)/(ft-tt),rt<0?rt=0:rt>1&&(rt=1),m[pt++]=mt-(mt-Ct)*rt|0,m[pt++]=$-($-L)*rt|0,m[pt++]=Z-(Z-Q)*rt|0,m[pt++]=255}}function kD(u,t,e){const s=t.coords,r=t.colors;let o,c;switch(t.type){case"lattice":const d=t.verticesPerRow,p=Math.floor(s.length/d)-1,g=d-1;for(o=0;o<p;o++){let m=o*d;for(let y=0;y<g;y++,m++)py(u,e,s[m],s[m+1],s[m+d],r[m],r[m+1],r[m+d]),py(u,e,s[m+d+1],s[m+1],s[m+d],r[m+d+1],r[m+1],r[m+d])}break;case"triangles":for(o=0,c=s.length;o<c;o+=3)py(u,e,s[o],s[o+1],s[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class FD extends t0{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,s){const d=Math.floor(this._bounds[0]),p=Math.floor(this._bounds[1]),g=Math.ceil(this._bounds[2])-d,m=Math.ceil(this._bounds[3])-p,y=Math.min(Math.ceil(Math.abs(g*t[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(m*t[1]*1.1)),3e3),S=g/y,_=m/v,T={coords:this._coords,colors:this._colors,offsetX:-d,offsetY:-p,scaleX:1/S,scaleY:1/_},M=y+2*2,C=v+2*2,O=s.getCanvas("mesh",M,C),N=O.context,F=N.createImageData(y,v);if(e){const U=F.data;for(let I=0,Y=U.length;I<Y;I+=4)U[I]=e[0],U[I+1]=e[1],U[I+2]=e[2],U[I+3]=255}for(const U of this._figures)kD(F,U,T);return N.putImageData(F,2,2),{canvas:O.canvas,offsetX:d-2*S,offsetY:p-2*_,scaleX:S,scaleY:_}}getPattern(t,e,s,r){Qy(t,this._bbox);let o;if(r===Tn.SHADING)o=bt.singularValueDecompose2dScale(be(t));else if(o=bt.singularValueDecompose2dScale(e.baseTransform),this.matrix){const d=bt.singularValueDecompose2dScale(this.matrix);o=[o[0]*d[0],o[1]*d[1]]}const c=this._createMeshCanvas(o,r===Tn.SHADING?null:this._background,e.cachedCanvases);return r!==Tn.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class PD extends t0{getPattern(){return"hotpink"}}function HD(u){switch(u[0]){case"RadialAxial":return new ND(u);case"Mesh":return new FD(u);case"Dummy":return new PD}throw new Error(`Unknown IR type: ${u[0]}`)}const _E={COLORED:1,UNCOLORED:2},vg=class vg{constructor(t,e,s,r,o){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=s,this.canvasGraphicsFactory=r,this.baseTransform=o}createPatternCanvas(t){const{bbox:e,operatorList:s,paintType:r,tilingType:o,color:c,canvasGraphicsFactory:d}=this;let{xstep:p,ystep:g}=this;p=Math.abs(p),g=Math.abs(g),Hg("TilingType: "+o);const m=e[0],y=e[1],v=e[2],S=e[3],_=v-m,T=S-y,M=bt.singularValueDecompose2dScale(this.matrix),C=bt.singularValueDecompose2dScale(this.baseTransform),O=M[0]*C[0],N=M[1]*C[1];let F=_,H=T,U=!1,I=!1;const Y=Math.ceil(p*O),V=Math.ceil(g*N),et=Math.ceil(_*O),nt=Math.ceil(T*N);Y>=et?F=p:U=!0,V>=nt?H=g:I=!0;const ht=this.getSizeAndScale(F,this.ctx.canvas.width,O),ut=this.getSizeAndScale(H,this.ctx.canvas.height,N),ft=t.cachedCanvases.getCanvas("pattern",ht.size,ut.size),mt=ft.context,$=d.createCanvasGraphics(mt);if($.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext($,r,c),mt.translate(-ht.scale*m,-ut.scale*y),$.transform(ht.scale,0,0,ut.scale,0,0),mt.save(),this.clipBbox($,m,y,v,S),$.baseTransform=be($.ctx),$.executeOperatorList(s),$.endDrawing(),mt.restore(),U||I){const Z=ft.canvas;U&&(F=p),I&&(H=g);const tt=this.getSizeAndScale(F,this.ctx.canvas.width,O),Ct=this.getSizeAndScale(H,this.ctx.canvas.height,N),L=tt.size,Q=Ct.size,lt=t.cachedCanvases.getCanvas("pattern-workaround",L,Q),rt=lt.context,st=U?Math.floor(_/p):0,_t=I?Math.floor(T/g):0;for(let pt=0;pt<=st;pt++)for(let Et=0;Et<=_t;Et++)rt.drawImage(Z,L*pt,Q*Et,L,Q,0,0,L,Q);return{canvas:lt.canvas,scaleX:tt.scale,scaleY:Ct.scale,offsetX:m,offsetY:y}}return{canvas:ft.canvas,scaleX:ht.scale,scaleY:ut.scale,offsetX:m,offsetY:y}}getSizeAndScale(t,e,s){const r=Math.max(vg.MAX_PATTERN_SIZE,e);let o=Math.ceil(t*s);return o>=r?o=r:s=o/t,{scale:s,size:o}}clipBbox(t,e,s,r,o){const c=r-e,d=o-s;t.ctx.rect(e,s,c,d),t.current.updateRectMinMax(be(t.ctx),[e,s,r,o]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,s){const r=t.ctx,o=t.current;switch(e){case _E.COLORED:const c=this.ctx;r.fillStyle=c.fillStyle,r.strokeStyle=c.strokeStyle,o.fillColor=c.fillStyle,o.strokeColor=c.strokeStyle;break;case _E.UNCOLORED:const d=bt.makeHexColor(s[0],s[1],s[2]);r.fillStyle=d,r.strokeStyle=d,o.fillColor=d,o.strokeColor=d;break;default:throw new lD(`Unsupported paint type: ${e}`)}}getPattern(t,e,s,r){let o=s;r!==Tn.SHADING&&(o=bt.transform(o,e.baseTransform),this.matrix&&(o=bt.transform(o,this.matrix)));const c=this.createPatternCanvas(e);let d=new DOMMatrix(o);d=d.translate(c.offsetX,c.offsetY),d=d.scale(1/c.scaleX,1/c.scaleY);const p=t.createPattern(c.canvas,"repeat");return p.setTransform(d),p}};wt(vg,"MAX_PATTERN_SIZE",3e3);let Zy=vg;function zD({src:u,srcPos:t=0,dest:e,width:s,height:r,nonBlackColor:o=4294967295,inverseDecode:c=!1}){const d=xn.isLittleEndian?4278190080:255,[p,g]=c?[o,d]:[d,o],m=s>>3,y=s&7,v=u.length;e=new Uint32Array(e.buffer);let S=0;for(let _=0;_<r;_++){for(const M=t+m;t<M;t++){const C=t<v?u[t]:255;e[S++]=C&128?g:p,e[S++]=C&64?g:p,e[S++]=C&32?g:p,e[S++]=C&16?g:p,e[S++]=C&8?g:p,e[S++]=C&4?g:p,e[S++]=C&2?g:p,e[S++]=C&1?g:p}if(y===0)continue;const T=t<v?u[t++]:255;for(let M=0;M<y;M++)e[S++]=T&1<<7-M?g:p}return{srcPos:t,destPos:S}}const EE=16,wE=100,jD=15,TE=10,xE=1e3,zn=16;function UD(u,t){if(u._removeMirroring)throw new Error("Context is already forwarding operations.");u.__originalSave=u.save,u.__originalRestore=u.restore,u.__originalRotate=u.rotate,u.__originalScale=u.scale,u.__originalTranslate=u.translate,u.__originalTransform=u.transform,u.__originalSetTransform=u.setTransform,u.__originalResetTransform=u.resetTransform,u.__originalClip=u.clip,u.__originalMoveTo=u.moveTo,u.__originalLineTo=u.lineTo,u.__originalBezierCurveTo=u.bezierCurveTo,u.__originalRect=u.rect,u.__originalClosePath=u.closePath,u.__originalBeginPath=u.beginPath,u._removeMirroring=()=>{u.save=u.__originalSave,u.restore=u.__originalRestore,u.rotate=u.__originalRotate,u.scale=u.__originalScale,u.translate=u.__originalTranslate,u.transform=u.__originalTransform,u.setTransform=u.__originalSetTransform,u.resetTransform=u.__originalResetTransform,u.clip=u.__originalClip,u.moveTo=u.__originalMoveTo,u.lineTo=u.__originalLineTo,u.bezierCurveTo=u.__originalBezierCurveTo,u.rect=u.__originalRect,u.closePath=u.__originalClosePath,u.beginPath=u.__originalBeginPath,delete u._removeMirroring},u.save=function(){t.save(),this.__originalSave()},u.restore=function(){t.restore(),this.__originalRestore()},u.translate=function(s,r){t.translate(s,r),this.__originalTranslate(s,r)},u.scale=function(s,r){t.scale(s,r),this.__originalScale(s,r)},u.transform=function(s,r,o,c,d,p){t.transform(s,r,o,c,d,p),this.__originalTransform(s,r,o,c,d,p)},u.setTransform=function(s,r,o,c,d,p){t.setTransform(s,r,o,c,d,p),this.__originalSetTransform(s,r,o,c,d,p)},u.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},u.rotate=function(s){t.rotate(s),this.__originalRotate(s)},u.clip=function(s){t.clip(s),this.__originalClip(s)},u.moveTo=function(e,s){t.moveTo(e,s),this.__originalMoveTo(e,s)},u.lineTo=function(e,s){t.lineTo(e,s),this.__originalLineTo(e,s)},u.bezierCurveTo=function(e,s,r,o,c,d){t.bezierCurveTo(e,s,r,o,c,d),this.__originalBezierCurveTo(e,s,r,o,c,d)},u.rect=function(e,s,r,o){t.rect(e,s,r,o),this.__originalRect(e,s,r,o)},u.closePath=function(){t.closePath(),this.__originalClosePath()},u.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class BD{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,s){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,s)):(r=this.canvasFactory.create(e,s),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Ap(u,t,e,s,r,o,c,d,p,g){const[m,y,v,S,_,T]=be(u);if(y===0&&v===0){const O=c*m+_,N=Math.round(O),F=d*S+T,H=Math.round(F),U=(c+p)*m+_,I=Math.abs(Math.round(U)-N)||1,Y=(d+g)*S+T,V=Math.abs(Math.round(Y)-H)||1;return u.setTransform(Math.sign(m),0,0,Math.sign(S),N,H),u.drawImage(t,e,s,r,o,0,0,I,V),u.setTransform(m,y,v,S,_,T),[I,V]}if(m===0&&S===0){const O=d*v+_,N=Math.round(O),F=c*y+T,H=Math.round(F),U=(d+g)*v+_,I=Math.abs(Math.round(U)-N)||1,Y=(c+p)*y+T,V=Math.abs(Math.round(Y)-H)||1;return u.setTransform(0,Math.sign(y),Math.sign(v),0,N,H),u.drawImage(t,e,s,r,o,0,0,V,I),u.setTransform(m,y,v,S,_,T),[V,I]}u.drawImage(t,e,s,r,o,c,d,p,g);const M=Math.hypot(m,y),C=Math.hypot(v,S);return[M*p,C*g]}function ID(u){const{width:t,height:e}=u;if(t>xE||e>xE)return null;const s=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=t+1;let c=new Uint8Array(o*(e+1)),d,p,g;const m=t+7&-8;let y=new Uint8Array(m*e),v=0;for(const C of u.data){let O=128;for(;O>0;)y[v++]=C&O?0:255,O>>=1}let S=0;for(v=0,y[v]!==0&&(c[0]=1,++S),p=1;p<t;p++)y[v]!==y[v+1]&&(c[p]=y[v]?2:1,++S),v++;for(y[v]!==0&&(c[p]=2,++S),d=1;d<e;d++){v=d*m,g=d*o,y[v-m]!==y[v]&&(c[g]=y[v]?1:8,++S);let C=(y[v]?4:0)+(y[v-m]?8:0);for(p=1;p<t;p++)C=(C>>2)+(y[v+1]?4:0)+(y[v-m+1]?8:0),r[C]&&(c[g+p]=r[C],++S),v++;if(y[v-m]!==y[v]&&(c[g+p]=y[v]?2:4,++S),S>s)return null}for(v=m*(e-1),g=d*o,y[v]!==0&&(c[g]=8,++S),p=1;p<t;p++)y[v]!==y[v+1]&&(c[g+p]=y[v]?4:8,++S),v++;if(y[v]!==0&&(c[g+p]=4,++S),S>s)return null;const _=new Int32Array([0,o,-1,0,-o,0,0,0,1]),T=new Path2D;for(d=0;S&&d<=e;d++){let C=d*o;const O=C+t;for(;C<O&&!c[C];)C++;if(C===O)continue;T.moveTo(C%o,d);const N=C;let F=c[C];do{const H=_[F];do C+=H;while(!c[C]);const U=c[C];U!==5&&U!==10?(F=U,c[C]=0):(F=U&51*F>>4,c[C]&=F>>2|F<<2),T.lineTo(C%o,C/o|0),c[C]||--S}while(N!==C);--d}return y=null,c=null,function(C){C.save(),C.scale(1/t,-1/e),C.translate(0,-e),C.fill(T),C.beginPath(),C.restore()}}class RE{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Aw,this.textMatrixScale=1,this.fontMatrix=wy,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=hn.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,s){[e,s]=bt.applyTransform([e,s],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(t,e){const s=bt.applyTransform(e,t),r=bt.applyTransform(e.slice(2),t),o=bt.applyTransform([e[0],e[3]],t),c=bt.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,s[0],r[0],o[0],c[0]),this.minY=Math.min(this.minY,s[1],r[1],o[1],c[1]),this.maxX=Math.max(this.maxX,s[0],r[0],o[0],c[0]),this.maxY=Math.max(this.maxY,s[1],r[1],o[1],c[1])}updateScalingPathMinMax(t,e){bt.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,s,r,o,c,d,p,g,m){const y=bt.bezierBoundingBox(e,s,r,o,c,d,p,g,m);m||this.updateRectMinMax(t,y)}getPathBoundingBox(t=Tn.FILL,e=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(t===Tn.STROKE){e||ue("Stroke bounding box must include transform.");const r=bt.singularValueDecompose2dScale(e),o=r[0]*this.lineWidth/2,c=r[1]*this.lineWidth/2;s[0]-=o,s[1]-=c,s[2]+=o,s[3]+=c}return s}updateClipFromPath(){const t=bt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=Tn.FILL,e=null){return bt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function CE(u,t){if(typeof ImageData<"u"&&t instanceof ImageData){u.putImageData(t,0,0);return}const e=t.height,s=t.width,r=e%zn,o=(e-r)/zn,c=r===0?o:o+1,d=u.createImageData(s,zn);let p=0,g;const m=t.data,y=d.data;let v,S,_,T;if(t.kind===Cp.GRAYSCALE_1BPP){const M=m.byteLength,C=new Uint32Array(y.buffer,0,y.byteLength>>2),O=C.length,N=s+7>>3,F=4294967295,H=xn.isLittleEndian?4278190080:255;for(v=0;v<c;v++){for(_=v<o?zn:r,g=0,S=0;S<_;S++){const U=M-p;let I=0;const Y=U>N?s:U*8-7,V=Y&-8;let et=0,nt=0;for(;I<V;I+=8)nt=m[p++],C[g++]=nt&128?F:H,C[g++]=nt&64?F:H,C[g++]=nt&32?F:H,C[g++]=nt&16?F:H,C[g++]=nt&8?F:H,C[g++]=nt&4?F:H,C[g++]=nt&2?F:H,C[g++]=nt&1?F:H;for(;I<Y;I++)et===0&&(nt=m[p++],et=128),C[g++]=nt&et?F:H,et>>=1}for(;g<O;)C[g++]=0;u.putImageData(d,0,v*zn)}}else if(t.kind===Cp.RGBA_32BPP){for(S=0,T=s*zn*4,v=0;v<o;v++)y.set(m.subarray(p,p+T)),p+=T,u.putImageData(d,0,S),S+=zn;v<c&&(T=s*r*4,y.set(m.subarray(p,p+T)),u.putImageData(d,0,S))}else if(t.kind===Cp.RGB_24BPP)for(_=zn,T=s*_,v=0;v<c;v++){for(v>=o&&(_=r,T=s*_),g=0,S=T;S--;)y[g++]=m[p++],y[g++]=m[p++],y[g++]=m[p++],y[g++]=255;u.putImageData(d,0,v*zn)}else throw new Error(`bad image kind: ${t.kind}`)}function ME(u,t){if(t.bitmap){u.drawImage(t.bitmap,0,0);return}const e=t.height,s=t.width,r=e%zn,o=(e-r)/zn,c=r===0?o:o+1,d=u.createImageData(s,zn);let p=0;const g=t.data,m=d.data;for(let y=0;y<c;y++){const v=y<o?zn:r;({srcPos:p}=zD({src:g,srcPos:p,dest:m,width:s,height:v,nonBlackColor:0})),u.putImageData(d,0,y*zn)}}function mh(u,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of e)u[s]!==void 0&&(t[s]=u[s]);u.setLineDash!==void 0&&(t.setLineDash(u.getLineDash()),t.lineDashOffset=u.lineDashOffset)}function Sp(u){if(u.strokeStyle=u.fillStyle="#000000",u.fillRule="nonzero",u.globalAlpha=1,u.lineWidth=1,u.lineCap="butt",u.lineJoin="miter",u.miterLimit=10,u.globalCompositeOperation="source-over",u.font="10px sans-serif",u.setLineDash!==void 0&&(u.setLineDash([]),u.lineDashOffset=0),!vn){const{filter:t}=u;t!=="none"&&t!==""&&(u.filter="none")}}function DE(u,t){if(t)return!0;const e=bt.singularValueDecompose2dScale(u);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*Tr.PDF_TO_CSS_UNITS);return e[0]<=s&&e[1]<=s}const qD=["butt","round","square"],GD=["miter","round","bevel"],VD={},OE={};var Cr,Jy,tv;const l0=class l0{constructor(t,e,s,r,o,{optionalContentConfig:c,markedContentStack:d=null},p,g){x(this,Cr);this.ctx=t,this.current=new RE(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=s,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=c,this.cachedCanvases=new BD(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=p,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=g,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:s=!1,background:r=null}){const o=this.ctx.canvas.width,c=this.ctx.canvas.height,d=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,c),this.ctx.fillStyle=d,s){const p=this.cachedCanvases.getCanvas("transparent",o,c);this.compositeCtx=this.ctx,this.transparentCanvas=p.canvas,this.ctx=p.context,this.ctx.save(),this.ctx.transform(...be(this.compositeCtx))}this.ctx.save(),Sp(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=be(this.ctx)}executeOperatorList(t,e,s,r){const o=t.argsArray,c=t.fnArray;let d=e||0;const p=o.length;if(p===d)return d;const g=p-d>TE&&typeof s=="function",m=g?Date.now()+jD:0;let y=0;const v=this.commonObjs,S=this.objs;let _;for(;;){if(r!==void 0&&d===r.nextBreakPoint)return r.breakIt(d,s),d;if(_=c[d],_!==Pi.dependency)this[_].apply(this,o[d]);else for(const T of o[d]){const M=T.startsWith("g_")?v:S;if(!M.has(T))return M.get(T,s),d}if(d++,d===p)return d;if(g&&++y>TE){if(Date.now()>m)return s(),d;y=0}}}endDrawing(){w(this,Cr,Jy).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),w(this,Cr,tv).call(this)}_scaleImage(t,e){const s=t.width??t.displayWidth,r=t.height??t.displayHeight;let o=Math.max(Math.hypot(e[0],e[1]),1),c=Math.max(Math.hypot(e[2],e[3]),1),d=s,p=r,g="prescale1",m,y;for(;o>2&&d>1||c>2&&p>1;){let v=d,S=p;o>2&&d>1&&(v=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),o/=d/v),c>2&&p>1&&(S=p>=16384?Math.floor(p/2)-1||1:Math.ceil(p)/2,c/=p/S),m=this.cachedCanvases.getCanvas(g,v,S),y=m.context,y.clearRect(0,0,v,S),y.drawImage(t,0,0,d,p,0,0,v,S),t=m.canvas,d=v,p=S,g=g==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:d,paintHeight:p}}_createMaskCanvas(t){const e=this.ctx,{width:s,height:r}=t,o=this.current.fillColor,c=this.current.patternFill,d=be(e);let p,g,m,y;if((t.bitmap||t.data)&&t.count>1){const Y=t.bitmap||t.data.buffer;g=JSON.stringify(c?d:[d.slice(0,4),o]),p=this._cachedBitmapsMap.get(Y),p||(p=new Map,this._cachedBitmapsMap.set(Y,p));const V=p.get(g);if(V&&!c){const et=Math.round(Math.min(d[0],d[2])+d[4]),nt=Math.round(Math.min(d[1],d[3])+d[5]);return{canvas:V,offsetX:et,offsetY:nt}}m=V}m||(y=this.cachedCanvases.getCanvas("maskCanvas",s,r),ME(y.context,t));let v=bt.transform(d,[1/s,0,0,-1/r,0,0]);v=bt.transform(v,[1,0,0,1,0,-r]);const[S,_,T,M]=bt.getAxialAlignedBoundingBox([0,0,s,r],v),C=Math.round(T-S)||1,O=Math.round(M-_)||1,N=this.cachedCanvases.getCanvas("fillCanvas",C,O),F=N.context,H=S,U=_;F.translate(-H,-U),F.transform(...v),m||(m=this._scaleImage(y.canvas,Vs(F)),m=m.img,p&&c&&p.set(g,m)),F.imageSmoothingEnabled=DE(be(F),t.interpolate),Ap(F,m,0,0,m.width,m.height,0,0,s,r),F.globalCompositeOperation="source-in";const I=bt.transform(Vs(F),[1,0,0,1,-H,-U]);return F.fillStyle=c?o.getPattern(e,this,I,Tn.FILL):o,F.fillRect(0,0,s,r),p&&!c&&(this.cachedCanvases.delete("fillCanvas"),p.set(g,N.canvas)),{canvas:N.canvas,offsetX:Math.round(H),offsetY:Math.round(U)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=qD[t]}setLineJoin(t){this.ctx.lineJoin=GD[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(t),s.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,s]of t)switch(e){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.current.fillAlpha=s,this.ctx.globalAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(s,t,e);this.suspendedCtx=this.ctx,this.ctx=r.context;const o=this.ctx;o.setTransform(...be(this.suspendedCtx)),mh(this.suspendedCtx,o),UD(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),mh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,s,r){const o=r[0],c=r[1],d=r[2]-o,p=r[3]-c;d===0||p===0||(this.genericComposeSMask(e.context,s,d,p,e.subtype,e.backdrop,e.transferMap,o,c,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(s.canvas,0,0),t.restore())}genericComposeSMask(t,e,s,r,o,c,d,p,g,m,y){let v=t.canvas,S=p-m,_=g-y;if(c){const M=bt.makeHexColor(...c);if(S<0||_<0||S+s>v.width||_+r>v.height){const C=this.cachedCanvases.getCanvas("maskExtension",s,r),O=C.context;O.drawImage(v,-S,-_),O.globalCompositeOperation="destination-atop",O.fillStyle=M,O.fillRect(0,0,s,r),O.globalCompositeOperation="source-over",v=C.canvas,S=_=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const C=new Path2D;C.rect(S,_,s,r),t.clip(C),t.globalCompositeOperation="destination-atop",t.fillStyle=M,t.fillRect(S,_,s,r),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),o==="Alpha"&&d?e.filter=this.filterFactory.addAlphaFilter(d):o==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(d));const T=new Path2D;T.rect(p,g,s,r),e.clip(T),e.globalCompositeOperation="destination-in",e.drawImage(v,S,_,s,r,p,g,s,r),e.restore()}save(){this.inSMaskMode?(mh(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),mh(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,s,r,o,c){this.ctx.transform(t,e,s,r,o,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,s){const r=this.ctx,o=this.current;let c=o.x,d=o.y,p,g;const m=be(r),y=m[0]===0&&m[3]===0||m[1]===0&&m[2]===0,v=y?s.slice(0):null;for(let S=0,_=0,T=t.length;S<T;S++)switch(t[S]|0){case Pi.rectangle:c=e[_++],d=e[_++];const M=e[_++],C=e[_++],O=c+M,N=d+C;r.moveTo(c,d),M===0||C===0?r.lineTo(O,N):(r.lineTo(O,d),r.lineTo(O,N),r.lineTo(c,N)),y||o.updateRectMinMax(m,[c,d,O,N]),r.closePath();break;case Pi.moveTo:c=e[_++],d=e[_++],r.moveTo(c,d),y||o.updatePathMinMax(m,c,d);break;case Pi.lineTo:c=e[_++],d=e[_++],r.lineTo(c,d),y||o.updatePathMinMax(m,c,d);break;case Pi.curveTo:p=c,g=d,c=e[_+4],d=e[_+5],r.bezierCurveTo(e[_],e[_+1],e[_+2],e[_+3],c,d),o.updateCurvePathMinMax(m,p,g,e[_],e[_+1],e[_+2],e[_+3],c,d,v),_+=6;break;case Pi.curveTo2:p=c,g=d,r.bezierCurveTo(c,d,e[_],e[_+1],e[_+2],e[_+3]),o.updateCurvePathMinMax(m,p,g,c,d,e[_],e[_+1],e[_+2],e[_+3],v),c=e[_+2],d=e[_+3],_+=4;break;case Pi.curveTo3:p=c,g=d,c=e[_+2],d=e[_+3],r.bezierCurveTo(e[_],e[_+1],c,d,c,d),o.updateCurvePathMinMax(m,p,g,e[_],e[_+1],c,d,c,d,v),_+=4;break;case Pi.closePath:r.closePath();break}y&&o.updateScalingPathMinMax(m,v),o.setCurrentPoint(c,d)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,s=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof s=="object"&&(s!=null&&s.getPattern)?(e.save(),e.strokeStyle=s.getPattern(e,this,Vs(e),Tn.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,s=this.current.fillColor,r=this.current.patternFill;let o=!1;r&&(e.save(),e.fillStyle=s.getPattern(e,this,Vs(e),Tn.FILL),o=!0);const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),o&&e.restore(),t&&this.consumePath(c)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=VD}eoClip(){this.pendingClip=OE}beginText(){this.current.textMatrix=Aw,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const s of t)e.setTransform(...s.transform),e.translate(s.x,s.y),s.addToPath(e,s.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var m;const s=this.commonObjs.get(t),r=this.current;if(!s)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=s.fontMatrix||wy,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Pt("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=e,s.isType3Font)return;const o=s.loadedName||"sans-serif",c=((m=s.systemFontInfo)==null?void 0:m.css)||`"${o}", ${s.fallbackName}`;let d="normal";s.black?d="900":s.bold&&(d="bold");const p=s.italic?"italic":"normal";let g=e;e<EE?g=EE:e>wE&&(g=wE),this.current.fontSizeScale=e/g,this.ctx.font=`${p} ${d} ${g}px ${c}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,s,r,o,c){this.current.textMatrix=[t,e,s,r,o,c],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,s,r){const o=this.ctx,c=this.current,d=c.font,p=c.textRenderingMode,g=c.fontSize/c.fontSizeScale,m=p&hn.FILL_STROKE_MASK,y=!!(p&hn.ADD_TO_PATH_FLAG),v=c.patternFill&&!d.missingFile;let S;(d.disableFontFace||y||v)&&(S=d.getPathGenerator(this.commonObjs,t)),d.disableFontFace||v?(o.save(),o.translate(e,s),o.beginPath(),S(o,g),r&&o.setTransform(...r),(m===hn.FILL||m===hn.FILL_STROKE)&&o.fill(),(m===hn.STROKE||m===hn.FILL_STROKE)&&o.stroke(),o.restore()):((m===hn.FILL||m===hn.FILL_STROKE)&&o.fillText(t,e,s),(m===hn.STROKE||m===hn.FILL_STROKE)&&o.strokeText(t,e,s)),y&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:be(o),x:e,y:s,fontSize:g,addToPath:S})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let s=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){s=!0;break}return qt(this,"isFontSubpixelAAEnabled",s)}showText(t){const e=this.current,s=e.font;if(s.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const o=this.ctx,c=e.fontSizeScale,d=e.charSpacing,p=e.wordSpacing,g=e.fontDirection,m=e.textHScale*g,y=t.length,v=s.vertical,S=v?1:-1,_=s.defaultVMetrics,T=r*e.fontMatrix[0],M=e.textRenderingMode===hn.FILL&&!s.disableFontFace&&!e.patternFill;o.save(),o.transform(...e.textMatrix),o.translate(e.x,e.y+e.textRise),g>0?o.scale(m,-1):o.scale(m,1);let C;if(e.patternFill){o.save();const U=e.fillColor.getPattern(o,this,Vs(o),Tn.FILL);C=be(o),o.restore(),o.fillStyle=U}let O=e.lineWidth;const N=e.textMatrixScale;if(N===0||O===0){const U=e.textRenderingMode&hn.FILL_STROKE_MASK;(U===hn.STROKE||U===hn.FILL_STROKE)&&(O=this.getSinglePixelWidth())}else O/=N;if(c!==1&&(o.scale(c,c),O/=c),o.lineWidth=O,s.isInvalidPDFjsFont){const U=[];let I=0;for(const Y of t)U.push(Y.unicode),I+=Y.width;o.fillText(U.join(""),0,0),e.x+=I*T*m,o.restore(),this.compose();return}let F=0,H;for(H=0;H<y;++H){const U=t[H];if(typeof U=="number"){F+=S*U*r/1e3;continue}let I=!1;const Y=(U.isSpace?p:0)+d,V=U.fontChar,et=U.accent;let nt,ht,ut=U.width;if(v){const mt=U.vmetric||_,$=-(U.vmetric?mt[1]:ut*.5)*T,Z=mt[2]*T;ut=mt?-mt[0]:ut,nt=$/c,ht=(F+Z)/c}else nt=F/c,ht=0;if(s.remeasure&&ut>0){const mt=o.measureText(V).width*1e3/r*c;if(ut<mt&&this.isFontSubpixelAAEnabled){const $=ut/mt;I=!0,o.save(),o.scale($,1),nt/=$}else ut!==mt&&(nt+=(ut-mt)/2e3*r/c)}if(this.contentVisible&&(U.isInFont||s.missingFile)){if(M&&!et)o.fillText(V,nt,ht);else if(this.paintChar(V,nt,ht,C),et){const mt=nt+r*et.offset.x/c,$=ht-r*et.offset.y/c;this.paintChar(et.fontChar,mt,$,C)}}const ft=v?ut*T-Y*g:ut*T+Y*g;F+=ft,I&&o.restore()}v?e.y-=F:e.x+=F*m,o.restore(),this.compose()}showType3Text(t){const e=this.ctx,s=this.current,r=s.font,o=s.fontSize,c=s.fontDirection,d=r.vertical?1:-1,p=s.charSpacing,g=s.wordSpacing,m=s.textHScale*c,y=s.fontMatrix||wy,v=t.length,S=s.textRenderingMode===hn.INVISIBLE;let _,T,M,C;if(!(S||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...s.textMatrix),e.translate(s.x,s.y),e.scale(m,c),_=0;_<v;++_){if(T=t[_],typeof T=="number"){C=d*T*o/1e3,this.ctx.translate(C,0),s.x+=C*m;continue}const O=(T.isSpace?g:0)+p,N=r.charProcOperatorList[T.operatorListId];if(!N){Pt(`Type3 character "${T.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=T,this.save(),e.scale(o,o),e.transform(...y),this.executeOperatorList(N),this.restore()),M=bt.applyTransform([T.width,0],y)[0]*o+O,e.translate(M,0),s.x+=M*m}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,s,r,o,c){this.ctx.rect(s,r,o-s,c-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const s=t[1],r=this.baseTransform||be(this.ctx),o={createCanvasGraphics:c=>new l0(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Zy(t,s,this.ctx,o,r)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,s){this.ctx.strokeStyle=this.current.strokeColor=bt.makeHexColor(t,e,s)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,s){this.ctx.fillStyle=this.current.fillColor=bt.makeHexColor(t,e,s),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let s;return this.cachedPatterns.has(t)?s=this.cachedPatterns.get(t):(s=HD(this.getObject(t)),this.cachedPatterns.set(t,s)),e&&(s.matrix=e),s}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const s=this._getPattern(t);e.fillStyle=s.getPattern(e,this,Vs(e),Tn.SHADING);const r=Vs(e);if(r){const{width:o,height:c}=e.canvas,[d,p,g,m]=bt.getAxialAlignedBoundingBox([0,0,o,c],r);this.ctx.fillRect(d,p,g-d,m-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ue("Should not call beginInlineImage")}beginImageData(){ue("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=be(this.ctx),e)){const s=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],s,r),this.current.updateRectMinMax(be(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Hg("TODO: Support non-isolated groups."),t.knockout&&Pt("Knockout groups not supported.");const s=be(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=bt.getAxialAlignedBoundingBox(t.bbox,be(e));const o=[0,0,e.canvas.width,e.canvas.height];r=bt.intersect(r,o)||[0,0,0,0];const c=Math.floor(r[0]),d=Math.floor(r[1]),p=Math.max(Math.ceil(r[2])-c,1),g=Math.max(Math.ceil(r[3])-d,1);this.current.startNewPathAndClipBox([0,0,p,g]);let m="groupAt"+this.groupLevel;t.smask&&(m+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(m,p,g),v=y.context;v.translate(-c,-d),v.transform(...s),t.smask?this.smaskStack.push({canvas:y.canvas,context:v,offsetX:c,offsetY:d,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(c,d),e.save()),mh(e,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=be(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const o=bt.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(t,e,s,r,o){if(w(this,Cr,Jy).call(this),Sp(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const c=e[2]-e[0],d=e[3]-e[1];if(o&&this.annotationCanvasMap){s=s.slice(),s[4]-=e[0],s[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=c,e[3]=d;const[p,g]=bt.singularValueDecompose2dScale(be(this.ctx)),{viewportScale:m}=this,y=Math.ceil(c*this.outputScaleX*m),v=Math.ceil(d*this.outputScaleY*m);this.annotationCanvas=this.canvasFactory.create(y,v);const{canvas:S,context:_}=this.annotationCanvas;this.annotationCanvasMap.set(t,S),this.annotationCanvas.savedCtx=this.ctx,this.ctx=_,this.ctx.save(),this.ctx.setTransform(p,0,0,-g,0,d*g),Sp(this.ctx)}else Sp(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],c,d),this.ctx.clip(),this.ctx.beginPath()}this.current=new RE(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),w(this,Cr,tv).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const s=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=ID(t)),r.compiled)){r.compiled(s);return}const o=this._createMaskCanvas(t),c=o.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(c,o.offsetX,o.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,s=0,r=0,o,c){if(!this.contentVisible)return;t=this.getObject(t.data,t);const d=this.ctx;d.save();const p=be(d);d.transform(e,s,r,o,0,0);const g=this._createMaskCanvas(t);d.setTransform(1,0,0,1,g.offsetX-p[4],g.offsetY-p[5]);for(let m=0,y=c.length;m<y;m+=2){const v=bt.transform(p,[e,s,r,o,c[m],c[m+1]]),[S,_]=bt.applyTransform([0,0],v);d.drawImage(g.canvas,S,_)}d.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,s=this.current.fillColor,r=this.current.patternFill;for(const o of t){const{data:c,width:d,height:p,transform:g}=o,m=this.cachedCanvases.getCanvas("maskCanvas",d,p),y=m.context;y.save();const v=this.getObject(c,o);ME(y,v),y.globalCompositeOperation="source-in",y.fillStyle=r?s.getPattern(y,this,Vs(e),Tn.FILL):s,y.fillRect(0,0,d,p),y.restore(),e.save(),e.transform(...g),e.scale(1,-1),Ap(e,m.canvas,0,0,d,p,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){Pt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,s,r){if(!this.contentVisible)return;const o=this.getObject(t);if(!o){Pt("Dependent image isn't ready yet");return}const c=o.width,d=o.height,p=[];for(let g=0,m=r.length;g<m;g+=2)p.push({transform:[e,0,0,s,r[g],r[g+1]],x:0,y:0,w:c,h:d});this.paintInlineImageXObjectGroup(o,p)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:s,height:r}=t,o=this.cachedCanvases.getCanvas("inlineImage",s,r),c=o.context;return c.filter=this.current.transferMaps,c.drawImage(e,0,0),c.filter="none",o.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,s=t.height,r=this.ctx;if(this.save(),!vn){const{filter:d}=r;d!=="none"&&d!==""&&(r.filter="none")}r.scale(1/e,-1/s);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const p=this.cachedCanvases.getCanvas("inlineImage",e,s).context;CE(p,t),o=this.applyTransferMapsToCanvas(p)}const c=this._scaleImage(o,Vs(r));r.imageSmoothingEnabled=DE(be(r),t.interpolate),Ap(r,c.img,0,0,c.paintWidth,c.paintHeight,0,-s,e,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const s=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const o=t.width,c=t.height,p=this.cachedCanvases.getCanvas("inlineImage",o,c).context;CE(p,t),r=this.applyTransferMapsToCanvas(p)}for(const o of e)s.save(),s.transform(...o.transform),s.scale(1,-1),Ap(s,r,o.x,o.y,o.w,o.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const s=this.ctx;this.pendingClip&&(e||(this.pendingClip===OE?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=be(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),s=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(s,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:s,c:r,d:o}=this.ctx.getTransform();let c,d;if(s===0&&r===0){const p=Math.abs(e),g=Math.abs(o);if(p===g)if(t===0)c=d=1/p;else{const m=p*t;c=d=m<1?1/m:1}else if(t===0)c=1/p,d=1/g;else{const m=p*t,y=g*t;c=m<1?1/m:1,d=y<1?1/y:1}}else{const p=Math.abs(e*o-s*r),g=Math.hypot(e,s),m=Math.hypot(r,o);if(t===0)c=m/p,d=g/p;else{const y=t*p;c=m>y?m/y:1,d=g>y?g/y:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=d}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:s}=this.current,[r,o]=this.getScaleForStroking();if(e.lineWidth=s||1,r===1&&o===1){e.stroke();return}const c=e.getLineDash();if(t&&e.save(),e.scale(r,o),c.length>0){const d=Math.max(r,o);e.setLineDash(c.map(p=>p/d)),e.lineDashOffset/=d}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Cr=new WeakSet,Jy=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},tv=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let rc=l0;for(const u in Pi)rc.prototype[u]!==void 0&&(rc.prototype[Pi[u]]=rc.prototype[u]);var od,ld;class va{static get workerPort(){return h(this,od)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");E(this,od,t)}static get workerSrc(){return h(this,ld)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");E(this,ld,t)}}od=new WeakMap,ld=new WeakMap,x(va,od,null),x(va,ld,"");const _p={DATA:1,ERROR:2},Oe={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Kn(u){switch(u instanceof Error||typeof u=="object"&&u!==null||ue('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),u.name){case"AbortException":return new dl(u.message);case"MissingPDFException":return new hl(u.message);case"PasswordException":return new Ty(u.message,u.code);case"UnexpectedResponseException":return new zg(u.message,u.status);case"UnknownErrorException":return new xy(u.message,u.details);default:return new xy(u.message,u.toString())}}var wc,Ci,s1,a1,r1,Pp;class Th{constructor(t,e,s){x(this,Ci);x(this,wc,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",w(this,Ci,s1).bind(this),{signal:h(this,wc).signal})}on(t,e){const s=this.actionHandler;if(s[t])throw new Error(`There is already an actionName called "${t}"`);s[t]=e}send(t,e,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},s)}sendWithPromise(t,e,s){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},s)}catch(c){o.reject(c)}return o.promise}sendWithStream(t,e,s,r){const o=this.streamId++,c=this.sourceName,d=this.targetName,p=this.comObj;return new ReadableStream({start:g=>{const m=Promise.withResolvers();return this.streamControllers[o]={controller:g,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},p.postMessage({sourceName:c,targetName:d,action:t,streamId:o,data:e,desiredSize:g.desiredSize},r),m.promise},pull:g=>{const m=Promise.withResolvers();return this.streamControllers[o].pullCall=m,p.postMessage({sourceName:c,targetName:d,stream:Oe.PULL,streamId:o,desiredSize:g.desiredSize}),m.promise},cancel:g=>{Ue(g instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[o].cancelCall=m,this.streamControllers[o].isClosed=!0,p.postMessage({sourceName:c,targetName:d,stream:Oe.CANCEL,streamId:o,reason:Kn(g)}),m.promise}},s)}destroy(){var t;(t=h(this,wc))==null||t.abort(),E(this,wc,null)}}wc=new WeakMap,Ci=new WeakSet,s1=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){w(this,Ci,r1).call(this,t);return}if(t.callback){const s=t.callbackId,r=this.callbackCapabilities[s];if(!r)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],t.callback===_p.DATA)r.resolve(t.data);else if(t.callback===_p.ERROR)r.reject(Kn(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const s=this.sourceName,r=t.sourceName,o=this.comObj;new Promise(function(c){c(e(t.data))}).then(function(c){o.postMessage({sourceName:s,targetName:r,callback:_p.DATA,callbackId:t.callbackId,data:c})},function(c){o.postMessage({sourceName:s,targetName:r,callback:_p.ERROR,callbackId:t.callbackId,reason:Kn(c)})});return}if(t.streamId){w(this,Ci,a1).call(this,t);return}e(t.data)},a1=function(t){const e=t.streamId,s=this.sourceName,r=t.sourceName,o=this.comObj,c=this,d=this.actionHandler[t.action],p={enqueue(g,m=1,y){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=m,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:s,targetName:r,stream:Oe.ENQUEUE,streamId:e,chunk:g},y)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:s,targetName:r,stream:Oe.CLOSE,streamId:e}),delete c.streamSinks[e])},error(g){Ue(g instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:s,targetName:r,stream:Oe.ERROR,streamId:e,reason:Kn(g)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};p.sinkCapability.resolve(),p.ready=p.sinkCapability.promise,this.streamSinks[e]=p,new Promise(function(g){g(d(t.data,p))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:Oe.START_COMPLETE,streamId:e,success:!0})},function(g){o.postMessage({sourceName:s,targetName:r,stream:Oe.START_COMPLETE,streamId:e,reason:Kn(g)})})},r1=function(t){const e=t.streamId,s=this.sourceName,r=t.sourceName,o=this.comObj,c=this.streamControllers[e],d=this.streamSinks[e];switch(t.stream){case Oe.START_COMPLETE:t.success?c.startCall.resolve():c.startCall.reject(Kn(t.reason));break;case Oe.PULL_COMPLETE:t.success?c.pullCall.resolve():c.pullCall.reject(Kn(t.reason));break;case Oe.PULL:if(!d){o.postMessage({sourceName:s,targetName:r,stream:Oe.PULL_COMPLETE,streamId:e,success:!0});break}d.desiredSize<=0&&t.desiredSize>0&&d.sinkCapability.resolve(),d.desiredSize=t.desiredSize,new Promise(function(p){var g;p((g=d.onPull)==null?void 0:g.call(d))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:Oe.PULL_COMPLETE,streamId:e,success:!0})},function(p){o.postMessage({sourceName:s,targetName:r,stream:Oe.PULL_COMPLETE,streamId:e,reason:Kn(p)})});break;case Oe.ENQUEUE:if(Ue(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(t.chunk);break;case Oe.CLOSE:if(Ue(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),w(this,Ci,Pp).call(this,c,e);break;case Oe.ERROR:Ue(c,"error should have stream controller"),c.controller.error(Kn(t.reason)),w(this,Ci,Pp).call(this,c,e);break;case Oe.CANCEL_COMPLETE:t.success?c.cancelCall.resolve():c.cancelCall.reject(Kn(t.reason)),w(this,Ci,Pp).call(this,c,e);break;case Oe.CANCEL:if(!d)break;new Promise(function(p){var g;p((g=d.onCancel)==null?void 0:g.call(d,Kn(t.reason)))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:Oe.CANCEL_COMPLETE,streamId:e,success:!0})},function(p){o.postMessage({sourceName:s,targetName:r,stream:Oe.CANCEL_COMPLETE,streamId:e,reason:Kn(p)})}),d.sinkCapability.reject(Kn(t.reason)),d.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},Pp=async function(t,e){var s,r,o;await Promise.allSettled([(s=t.startCall)==null?void 0:s.promise,(r=t.pullCall)==null?void 0:r.promise,(o=t.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[e]};var xo,cd;class XD{constructor({parsedData:t,rawData:e}){x(this,xo);x(this,cd);E(this,xo,t),E(this,cd,e)}getRaw(){return h(this,cd)}get(t){return h(this,xo).get(t)??null}getAll(){return Yv(h(this,xo))}has(t){return h(this,xo).has(t)}}xo=new WeakMap,cd=new WeakMap;const ec=Symbol("INTERNAL");var ud,hd,dd,Tc;class YD{constructor(t,{name:e,intent:s,usage:r,rbGroups:o}){x(this,ud,!1);x(this,hd,!1);x(this,dd,!1);x(this,Tc,!0);E(this,ud,!!(t&ii.DISPLAY)),E(this,hd,!!(t&ii.PRINT)),this.name=e,this.intent=s,this.usage=r,this.rbGroups=o}get visible(){if(h(this,dd))return h(this,Tc);if(!h(this,Tc))return!1;const{print:t,view:e}=this.usage;return h(this,ud)?(e==null?void 0:e.viewState)!=="OFF":h(this,hd)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,s=!1){t!==ec&&ue("Internal method `_setVisible` called."),E(this,dd,s),E(this,Tc,e)}}ud=new WeakMap,hd=new WeakMap,dd=new WeakMap,Tc=new WeakMap;var cr,Qt,xc,Rc,fd,ev;class KD{constructor(t,e=ii.DISPLAY){x(this,fd);x(this,cr,null);x(this,Qt,new Map);x(this,xc,null);x(this,Rc,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,E(this,Rc,t.order);for(const s of t.groups)h(this,Qt).set(s.id,new YD(e,s));if(t.baseState==="OFF")for(const s of h(this,Qt).values())s._setVisible(ec,!1);for(const s of t.on)h(this,Qt).get(s)._setVisible(ec,!0);for(const s of t.off)h(this,Qt).get(s)._setVisible(ec,!1);E(this,xc,this.getHash())}}isVisible(t){if(h(this,Qt).size===0)return!0;if(!t)return Hg("Optional content group not defined."),!0;if(t.type==="OCG")return h(this,Qt).has(t.id)?h(this,Qt).get(t.id).visible:(Pt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return w(this,fd,ev).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!h(this,Qt).has(e))return Pt(`Optional content group not found: ${e}`),!0;if(h(this,Qt).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!h(this,Qt).has(e))return Pt(`Optional content group not found: ${e}`),!0;if(!h(this,Qt).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!h(this,Qt).has(e))return Pt(`Optional content group not found: ${e}`),!0;if(!h(this,Qt).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!h(this,Qt).has(e))return Pt(`Optional content group not found: ${e}`),!0;if(h(this,Qt).get(e).visible)return!1}return!0}return Pt(`Unknown optional content policy ${t.policy}.`),!0}return Pt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,s=!0){var o;const r=h(this,Qt).get(t);if(!r){Pt(`Optional content group not found: ${t}`);return}if(s&&e&&r.rbGroups.length)for(const c of r.rbGroups)for(const d of c)d!==t&&((o=h(this,Qt).get(d))==null||o._setVisible(ec,!1,!0));r._setVisible(ec,!!e,!0),E(this,cr,null)}setOCGState({state:t,preserveRB:e}){let s;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":s=r;continue}const o=h(this,Qt).get(r);if(o)switch(s){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!o.visible,e);break}}E(this,cr,null)}get hasInitialVisibility(){return h(this,xc)===null||this.getHash()===h(this,xc)}getOrder(){return h(this,Qt).size?h(this,Rc)?h(this,Rc).slice():[...h(this,Qt).keys()]:null}getGroups(){return h(this,Qt).size>0?Yv(h(this,Qt)):null}getGroup(t){return h(this,Qt).get(t)||null}getHash(){if(h(this,cr)!==null)return h(this,cr);const t=new Yw;for(const[e,s]of h(this,Qt))t.update(`${e}:${s.visible}`);return E(this,cr,t.hexdigest())}}cr=new WeakMap,Qt=new WeakMap,xc=new WeakMap,Rc=new WeakMap,fd=new WeakSet,ev=function(t){const e=t.length;if(e<2)return!0;const s=t[0];for(let r=1;r<e;r++){const o=t[r];let c;if(Array.isArray(o))c=w(this,fd,ev).call(this,o);else if(h(this,Qt).has(o))c=h(this,Qt).get(o).visible;else return Pt(`Optional content group not found: ${o}`),!0;switch(s){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return s==="And"};class $D{constructor(t,{disableRange:e=!1,disableStream:s=!1}){Ue(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:c,contentDispositionFilename:d}=t;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=d,(o==null?void 0:o.length)>0){const p=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(p)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!s,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((p,g)=>{this._onReceiveData({begin:p,chunk:g})}),t.addProgressListener((p,g)=>{this._onProgress({loaded:p,total:g})}),t.addProgressiveReadListener(p=>{this._onReceiveData({chunk:p})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const s=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const r=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(s),!0)});Ue(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,s,r,o;t.total===void 0?(s=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||s.call(e,{loaded:t.loaded}):(o=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||o.call(r,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Ue(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new WD(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new QD(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeReaders.slice(0))s.cancel(t);this._pdfDataRangeTransport.abort()}}class WD{constructor(t,e,s=!1,r=null){this._stream=t,this._done=s||!1,this._filename=Wv(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class QD{constructor(t,e,s){this._stream=t,this._begin=e,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function ZD(u){let t=!0,e=s("filename\\*","i").exec(u);if(e){e=e[1];let m=d(e);return m=unescape(m),m=p(m),m=g(m),o(m)}if(e=c(u),e){const m=g(e);return o(m)}if(e=s("filename","i").exec(u),e){e=e[1];let m=d(e);return m=g(m),o(m)}function s(m,y){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function r(m,y){if(m){if(!/^[\x00-\xFF]+$/.test(y))return y;try{const v=new TextDecoder(m,{fatal:!0}),S=jg(y);y=v.decode(S),t=!1}catch{}}return y}function o(m){return t&&/[\x80-\xff]/.test(m)&&(m=r("utf-8",m),t&&(m=r("iso-8859-1",m))),m}function c(m){const y=[];let v;const S=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=S.exec(m))!==null;){let[,T,M,C]=v;if(T=parseInt(T,10),T in y){if(T===0)break;continue}y[T]=[M,C]}const _=[];for(let T=0;T<y.length&&T in y;++T){let[M,C]=y[T];C=d(C),M&&(C=unescape(C),T===0&&(C=p(C))),_.push(C)}return _.join("")}function d(m){if(m.startsWith('"')){const y=m.slice(1).split('\\"');for(let v=0;v<y.length;++v){const S=y[v].indexOf('"');S!==-1&&(y[v]=y[v].slice(0,S),y.length=v+1),y[v]=y[v].replaceAll(/\\(.)/g,"$1")}m=y.join('"')}return m}function p(m){const y=m.indexOf("'");if(y===-1)return m;const v=m.slice(0,y),_=m.slice(y+1).replace(/^[^']*'/,"");return r(v,_)}function g(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,v,S,_){if(S==="q"||S==="Q")return _=_.replaceAll("_"," "),_=_.replaceAll(/=([0-9a-fA-F]{2})/g,function(T,M){return String.fromCharCode(parseInt(M,16))}),r(v,_);try{_=atob(_)}catch{}return r(v,_)})}return""}function e0(u,t){const e=new Headers;if(!u||!t||typeof t!="object")return e;for(const s in t){const r=t[s];r!==void 0&&e.append(s,r)}return e}function n0({responseHeaders:u,isHttp:t,rangeChunkSize:e,disableRange:s}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(u.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*e)||s||!t||u.get("Accept-Ranges")!=="bytes"||(u.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function i0(u){const t=u.get("Content-Disposition");if(t){let e=ZD(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Wv(e))return e}return null}function Ig(u,t){return u===404||u===0&&t.startsWith("file:")?new hl('Missing PDF "'+t+'".'):new zg(`Unexpected server response (${u}) while retrieving PDF "${t}".`,u)}function o1(u){return u===200||u===206}function l1(u,t,e){return{method:"GET",headers:u,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function c1(u){return u instanceof Uint8Array?u.buffer:u instanceof ArrayBuffer?u:(Pt(`getArrayBuffer - unexpected data format: ${u}`),new Uint8Array(u).buffer)}class LE{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=e0(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Ue(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new JD(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new tO(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class JD{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const s=new Headers(t.headers),r=e.url;fetch(r,l1(s,this._withCredentials,this._abortController)).then(o=>{if(!o1(o.status))throw Ig(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const c=o.headers,{allowRangeRequests:d,suggestedLength:p}=n0({responseHeaders:c,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=d,this._contentLength=p||this._contentLength,this._filename=i0(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new dl("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:c1(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class tO{constructor(t,e,s){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${e}-${s-1}`);const c=r.url;fetch(c,l1(o,this._withCredentials,this._abortController)).then(d=>{if(!o1(d.status))throw Ig(d.status,c);this._readCapability.resolve(),this._reader=d.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:c1(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const gy=200,my=206;function eO(u){const t=u.response;return typeof t!="string"?t:jg(t).buffer}class nO{constructor({url:t,httpHeaders:e,withCredentials:s}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=e0(this.isHttp,e),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,s){const r={begin:t,end:e};for(const o in s)r[o]=s[o];return this.request(r)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,s=this.currXhrId++,r=this.pendingRequests[s]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[o,c]of this.headers)e.setRequestHeader(o,c);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=my):r.expectedStatus=gy,e.responseType="arraybuffer",t.onError&&(e.onerror=function(o){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,s),e.onprogress=this.onProgress.bind(this,s),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),s}onProgress(t,e){var r;const s=this.pendingRequests[t];s&&((r=s.onProgress)==null||r.call(s,e))}onStateChange(t,e){var p,g,m;const s=this.pendingRequests[t];if(!s)return;const r=s.xhr;if(r.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){(p=s.onError)==null||p.call(s,r.status);return}const o=r.status||gy;if(!(o===gy&&s.expectedStatus===my)&&o!==s.expectedStatus){(g=s.onError)==null||g.call(s,r.status);return}const d=eO(r);if(o===my){const y=r.getResponseHeader("Content-Range"),v=/bytes (\d+)-(\d+)\/(\d+)/.exec(y);s.onDone({begin:parseInt(v[1],10),chunk:d})}else d?s.onDone({begin:0,chunk:d}):(m=s.onError)==null||m.call(s,r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class iO{constructor(t){this._source=t,this._manager=new nO(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Ue(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new sO(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const s=new aO(this._manager,t,e);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class sO{constructor(t,e){this._manager=t;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(s),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),s=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(c=>{const[d,...p]=c.split(": ");return[d,p.join(": ")]})),{allowRangeRequests:r,suggestedLength:o}=n0({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=i0(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Ig(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class aO{constructor(t,e,s){this._manager=t;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,s,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=Ig(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const rO=/^[a-z][a-z0-9\-+.]+:/i;function oO(u){if(rO.test(u))return new URL(u);const t=xr.get("url");return new URL(t.pathToFileURL(u))}function u1(u,t,e){return u.protocol==="http:"?xr.get("http").request(u,{headers:t},e):xr.get("https").request(u,{headers:t},e)}class lO{constructor(t){this.source=t,this.url=oO(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=e0(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Ue(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new hO(this):new cO(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=this.isFsUrl?new dO(this,t,e):new uO(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class h1{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new dl("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class d1{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class cO extends h1{constructor(t){super(t);const e=Object.fromEntries(t.headers),s=r=>{if(r.statusCode===404){const p=new hl(`Missing PDF "${this._url}".`);this._storedError=p,this._headersCapability.reject(p);return}this._headersCapability.resolve(),this._setReadableStream(r);const o=new Headers(this._readableStream.headers),{allowRangeRequests:c,suggestedLength:d}=n0({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=d||this._contentLength,this._filename=i0(o)};this._request=u1(this._url,e,s),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class uO extends d1{constructor(t,e,s){super(t);const r=Object.fromEntries(t.headers);r.Range=`bytes=${e}-${s-1}`;const o=c=>{if(c.statusCode===404){const d=new hl(`Missing PDF "${this._url}".`);this._storedError=d;return}this._setReadableStream(c)};this._request=u1(this._url,r,o),this._request.on("error",c=>{this._storedError=c}),this._request.end()}}class hO extends h1{constructor(t){super(t);const e=xr.get("fs");e.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new hl(`Missing PDF "${this._url}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class dO extends d1{constructor(t,e,s){super(t);const r=xr.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:s-1}))}}const fO=1e5,Nn=30,pO=.8;var YE,ur,Pn,pd,gd,Ro,ea,md,bd,Co,Cc,Mc,hr,Dc,yd,Oc,Mo,vd,Ad,_e,Do,Oo,Sd,dr,Lc,Ea,f1,p1,iv,ri,Hp,sv,g1,m1;let nv=(_e=class{constructor({textContentSource:t,container:e,viewport:s}){x(this,Ea);x(this,ur,Promise.withResolvers());x(this,Pn,null);x(this,pd,!1);x(this,gd,!!((YE=globalThis.FontInspector)!=null&&YE.enabled));x(this,Ro,null);x(this,ea,null);x(this,md,0);x(this,bd,0);x(this,Co,null);x(this,Cc,null);x(this,Mc,0);x(this,hr,0);x(this,Dc,Object.create(null));x(this,yd,[]);x(this,Oc,null);x(this,Mo,[]);x(this,vd,new WeakMap);x(this,Ad,null);var p;if(t instanceof ReadableStream)E(this,Oc,t);else if(typeof t=="object")E(this,Oc,new ReadableStream({start(g){g.enqueue(t),g.close()}}));else throw new Error('No "textContentSource" parameter specified.');E(this,Pn,E(this,Cc,e)),E(this,hr,s.scale*(globalThis.devicePixelRatio||1)),E(this,Mc,s.rotation),E(this,ea,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:o,pageX:c,pageY:d}=s.rawDims;E(this,Ad,[1,0,0,-1,-c,d+o]),E(this,bd,r),E(this,md,o),w(p=_e,ri,g1).call(p),al(e,s),h(this,ur).promise.finally(()=>{h(_e,Lc).delete(this),E(this,ea,null),E(this,Dc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=xn.platform;return qt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{h(this,Co).read().then(({value:e,done:s})=>{if(s){h(this,ur).resolve();return}h(this,Ro)??E(this,Ro,e.lang),Object.assign(h(this,Dc),e.styles),w(this,Ea,f1).call(this,e.items),t()},h(this,ur).reject)};return E(this,Co,h(this,Oc).getReader()),h(_e,Lc).add(this),t(),h(this,ur).promise}update({viewport:t,onBefore:e=null}){var o;const s=t.scale*(globalThis.devicePixelRatio||1),r=t.rotation;if(r!==h(this,Mc)&&(e==null||e(),E(this,Mc,r),al(h(this,Cc),{rotation:r})),s!==h(this,hr)){e==null||e(),E(this,hr,s);const c={div:null,properties:null,ctx:w(o=_e,ri,Hp).call(o,h(this,Ro))};for(const d of h(this,Mo))c.properties=h(this,vd).get(d),c.div=d,w(this,Ea,iv).call(this,c)}}cancel(){var e;const t=new dl("TextLayer task cancelled.");(e=h(this,Co))==null||e.cancel(t).catch(()=>{}),E(this,Co,null),h(this,ur).reject(t)}get textDivs(){return h(this,Mo)}get textContentItemsStr(){return h(this,yd)}static cleanup(){if(!(h(this,Lc).size>0)){h(this,Do).clear();for(const{canvas:t}of h(this,Oo).values())t.remove();h(this,Oo).clear()}}},ur=new WeakMap,Pn=new WeakMap,pd=new WeakMap,gd=new WeakMap,Ro=new WeakMap,ea=new WeakMap,md=new WeakMap,bd=new WeakMap,Co=new WeakMap,Cc=new WeakMap,Mc=new WeakMap,hr=new WeakMap,Dc=new WeakMap,yd=new WeakMap,Oc=new WeakMap,Mo=new WeakMap,vd=new WeakMap,Ad=new WeakMap,Do=new WeakMap,Oo=new WeakMap,Sd=new WeakMap,dr=new WeakMap,Lc=new WeakMap,Ea=new WeakSet,f1=function(t){var r,o;if(h(this,pd))return;(o=h(this,ea)).ctx??(o.ctx=w(r=_e,ri,Hp).call(r,h(this,Ro)));const e=h(this,Mo),s=h(this,yd);for(const c of t){if(e.length>fO){Pt("Ignoring additional textDivs for performance reasons."),E(this,pd,!0);return}if(c.str===void 0){if(c.type==="beginMarkedContentProps"||c.type==="beginMarkedContent"){const d=h(this,Pn);E(this,Pn,document.createElement("span")),h(this,Pn).classList.add("markedContent"),c.id!==null&&h(this,Pn).setAttribute("id",`${c.id}`),d.append(h(this,Pn))}else c.type==="endMarkedContent"&&E(this,Pn,h(this,Pn).parentNode);continue}s.push(c.str),w(this,Ea,p1).call(this,c)}},p1=function(t){var T;const e=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};h(this,Mo).push(e);const r=bt.transform(h(this,Ad),t.transform);let o=Math.atan2(r[1],r[0]);const c=h(this,Dc)[t.fontName];c.vertical&&(o+=Math.PI/2);let d=h(this,gd)&&c.fontSubstitution||c.fontFamily;d=_e.fontFamilyMap.get(d)||d;const p=Math.hypot(r[2],r[3]),g=p*w(T=_e,ri,m1).call(T,d,h(this,Ro));let m,y;o===0?(m=r[4],y=r[5]-g):(m=r[4]+g*Math.sin(o),y=r[5]-g*Math.cos(o));const v="calc(var(--scale-factor)*",S=e.style;h(this,Pn)===h(this,Cc)?(S.left=`${(100*m/h(this,bd)).toFixed(2)}%`,S.top=`${(100*y/h(this,md)).toFixed(2)}%`):(S.left=`${v}${m.toFixed(2)}px)`,S.top=`${v}${y.toFixed(2)}px)`),S.fontSize=`${v}${(h(_e,dr)*p).toFixed(2)}px)`,S.fontFamily=d,s.fontSize=p,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,h(this,gd)&&(e.dataset.fontName=c.fontSubstitutionLoadedName||t.fontName),o!==0&&(s.angle=o*(180/Math.PI));let _=!1;if(t.str.length>1)_=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const M=Math.abs(t.transform[0]),C=Math.abs(t.transform[3]);M!==C&&Math.max(M,C)/Math.min(M,C)>1.5&&(_=!0)}if(_&&(s.canvasWidth=c.vertical?t.height:t.width),h(this,vd).set(e,s),h(this,ea).div=e,h(this,ea).properties=s,w(this,Ea,iv).call(this,h(this,ea)),s.hasText&&h(this,Pn).append(e),s.hasEOL){const M=document.createElement("br");M.setAttribute("role","presentation"),h(this,Pn).append(M)}},iv=function(t){var d;const{div:e,properties:s,ctx:r}=t,{style:o}=e;let c="";if(h(_e,dr)>1&&(c=`scale(${1/h(_e,dr)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:p}=o,{canvasWidth:g,fontSize:m}=s;w(d=_e,ri,sv).call(d,r,m*h(this,hr),p);const{width:y}=r.measureText(e.textContent);y>0&&(c=`scaleX(${g*h(this,hr)/y}) ${c}`)}s.angle!==0&&(c=`rotate(${s.angle}deg) ${c}`),c.length>0&&(o.transform=c)},ri=new WeakSet,Hp=function(t=null){let e=h(this,Oo).get(t||(t=""));if(!e){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=t,document.body.append(s),e=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),h(this,Oo).set(t,e),h(this,Sd).set(e,{size:0,family:""})}return e},sv=function(t,e,s){const r=h(this,Sd).get(t);e===r.size&&s===r.family||(t.font=`${e}px ${s}`,r.size=e,r.family=s)},g1=function(){if(h(this,dr)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),E(this,dr,t.getBoundingClientRect().height),t.remove()},m1=function(t,e){const s=h(this,Do).get(t);if(s)return s;const r=w(this,ri,Hp).call(this,e);r.canvas.width=r.canvas.height=Nn,w(this,ri,sv).call(this,r,Nn,t);const o=r.measureText("");let c=o.fontBoundingBoxAscent,d=Math.abs(o.fontBoundingBoxDescent);if(c){const m=c/(c+d);return h(this,Do).set(t,m),r.canvas.width=r.canvas.height=0,m}r.strokeStyle="red",r.clearRect(0,0,Nn,Nn),r.strokeText("g",0,0);let p=r.getImageData(0,0,Nn,Nn).data;d=0;for(let m=p.length-1-3;m>=0;m-=4)if(p[m]>0){d=Math.ceil(m/4/Nn);break}r.clearRect(0,0,Nn,Nn),r.strokeText("A",0,Nn),p=r.getImageData(0,0,Nn,Nn).data,c=0;for(let m=0,y=p.length;m<y;m+=4)if(p[m]>0){c=Nn-Math.floor(m/4/Nn);break}r.canvas.width=r.canvas.height=0;const g=c?c/(c+d):pO;return h(this,Do).set(t,g),g},x(_e,ri),x(_e,Do,new Map),x(_e,Oo,new Map),x(_e,Sd,new WeakMap),x(_e,dr,null),x(_e,Lc,new Set),_e);class jh{static textContent(t){const e=[],s={items:e,styles:Object.create(null)};function r(o){var p;if(!o)return;let c=null;const d=o.name;if(d==="#text")c=o.value;else if(jh.shouldBuildText(d))(p=o==null?void 0:o.attributes)!=null&&p.textContent?c=o.attributes.textContent:o.value&&(c=o.value);else return;if(c!==null&&e.push({str:c}),!!o.children)for(const g of o.children)r(g)}return r(t),s}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const gO=65536,mO=100,bO=5e3,yO=vn?DD:RD,vO=vn?OD:Zw,AO=vn?MD:CD,SO=vn?LD:n1;function _O(u={}){typeof u=="string"||u instanceof URL?u={url:u}:(u instanceof ArrayBuffer||ArrayBuffer.isView(u))&&(u={data:u});const t=new av,{docId:e}=t,s=u.url?EO(u.url):null,r=u.data?wO(u.data):null,o=u.httpHeaders||null,c=u.withCredentials===!0,d=u.password??null,p=u.range instanceof b1?u.range:null,g=Number.isInteger(u.rangeChunkSize)&&u.rangeChunkSize>0?u.rangeChunkSize:gO;let m=u.worker instanceof oc?u.worker:null;const y=u.verbosity,v=typeof u.docBaseUrl=="string"&&!Bg(u.docBaseUrl)?u.docBaseUrl:null,S=typeof u.cMapUrl=="string"?u.cMapUrl:null,_=u.cMapPacked!==!1,T=u.CMapReaderFactory||vO,M=typeof u.standardFontDataUrl=="string"?u.standardFontDataUrl:null,C=u.StandardFontDataFactory||SO,O=u.stopAtErrors!==!0,N=Number.isInteger(u.maxImageSize)&&u.maxImageSize>-1?u.maxImageSize:-1,F=u.isEvalSupported!==!1,H=typeof u.isOffscreenCanvasSupported=="boolean"?u.isOffscreenCanvasSupported:!vn,U=typeof u.isChrome=="boolean"?u.isChrome:!xn.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),I=Number.isInteger(u.canvasMaxAreaInBytes)?u.canvasMaxAreaInBytes:-1,Y=typeof u.disableFontFace=="boolean"?u.disableFontFace:vn,V=u.fontExtraProperties===!0,et=u.enableXfa===!0,nt=u.ownerDocument||globalThis.document,ht=u.disableRange===!0,ut=u.disableStream===!0,ft=u.disableAutoFetch===!0,mt=u.pdfBug===!0,$=u.CanvasFactory||yO,Z=u.FilterFactory||AO,tt=u.enableHWA===!0,Ct=p?p.length:u.length??NaN,L=typeof u.useSystemFonts=="boolean"?u.useSystemFonts:!vn&&!Y,Q=typeof u.useWorkerFetch=="boolean"?u.useWorkerFetch:T===Zw&&C===n1&&S&&M&&yh(S,document.baseURI)&&yh(M,document.baseURI);u.canvasFactory&&AE("`canvasFactory`-instance option, please use `CanvasFactory` instead."),u.filterFactory&&AE("`filterFactory`-instance option, please use `FilterFactory` instead.");const lt=null;sD(y);const rt={canvasFactory:new $({ownerDocument:nt,enableHWA:tt}),filterFactory:new Z({docId:e,ownerDocument:nt}),cMapReaderFactory:Q?null:new T({baseUrl:S,isCompressed:_}),standardFontDataFactory:Q?null:new C({baseUrl:M})};if(!m){const pt={verbosity:y,port:va.workerPort};m=pt.port?oc.fromPort(pt):new oc(pt),t._worker=m}const st={docId:e,apiVersion:"4.8.69",data:r,password:d,disableAutoFetch:ft,rangeChunkSize:g,length:Ct,docBaseUrl:v,enableXfa:et,evaluatorOptions:{maxImageSize:N,disableFontFace:Y,ignoreErrors:O,isEvalSupported:F,isOffscreenCanvasSupported:H,isChrome:U,canvasMaxAreaInBytes:I,fontExtraProperties:V,useSystemFonts:L,cMapUrl:Q?S:null,standardFontDataUrl:Q?M:null}},_t={disableFontFace:Y,fontExtraProperties:V,ownerDocument:nt,pdfBug:mt,styleElement:lt,loadingParams:{disableAutoFetch:ft,enableXfa:et}};return m.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const pt=m.messageHandler.sendWithPromise("GetDocRequest",st,r?[r.buffer]:null);let Et;if(p)Et=new $D(p,{disableRange:ht,disableStream:ut});else if(!r){if(!s)throw new Error("getDocument - no `url` parameter provided.");let Ot;vn?Ot=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&yh(s)?LE:lO:Ot=yh(s)?LE:iO,Et=new Ot({url:s,length:Ct,httpHeaders:o,withCredentials:c,rangeChunkSize:g,disableRange:ht,disableStream:ut})}return pt.then(Ot=>{if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const Vt=new Th(e,Ot,m.port),St=new CO(Vt,t,Et,_t,rt);t._transport=St,Vt.send("Ready",null)})}).catch(t._capability.reject),t}function EO(u){if(u instanceof URL)return u.href;try{return new URL(u,window.location).href}catch{if(vn&&typeof u=="string")return u}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function wO(u){if(vn&&typeof Buffer<"u"&&u instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(u instanceof Uint8Array&&u.byteLength===u.buffer.byteLength)return u;if(typeof u=="string")return jg(u);if(u instanceof ArrayBuffer||ArrayBuffer.isView(u)||typeof u=="object"&&!isNaN(u==null?void 0:u.length))return new Uint8Array(u);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function NE(u){return typeof u=="object"&&Number.isInteger(u==null?void 0:u.num)&&u.num>=0&&Number.isInteger(u==null?void 0:u.gen)&&u.gen>=0}var Ag;const Sg=class Sg{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${_n(Sg,Ag)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,s;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(r){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Ag=new WeakMap,x(Sg,Ag,0);let av=Sg,b1=class{constructor(t,e,s=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=s,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const s of this._rangeListeners)s(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){ue("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class TO{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return qt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var fr,na,xi,nc,zp;class xO{constructor(t,e,s,r=!1){x(this,xi);x(this,fr,null);x(this,na,!1);this._pageIndex=t,this._pageInfo=e,this._transport=s,this._stats=r?new vE:null,this._pdfBug=r,this.commonObjs=s.commonObjs,this.objs=new y1,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:s=0,offsetY:r=0,dontFlip:o=!1}={}){return new sf({viewBox:this.view,scale:t,rotation:e,offsetX:s,offsetY:r,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return qt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:s="display",annotationMode:r=Qa.ENABLE,transform:o=null,background:c=null,optionalContentConfigPromise:d=null,annotationCanvasMap:p=null,pageColors:g=null,printAnnotationStorage:m=null,isEditing:y=!1}){var F,H;(F=this._stats)==null||F.time("Overall");const v=this._transport.getRenderingIntent(s,r,m,y),{renderingIntent:S,cacheKey:_}=v;E(this,na,!1),w(this,xi,zp).call(this),d||(d=this._transport.getOptionalContentConfig(S));let T=this._intentStates.get(_);T||(T=Object.create(null),this._intentStates.set(_,T)),T.streamReaderCancelTimeout&&(clearTimeout(T.streamReaderCancelTimeout),T.streamReaderCancelTimeout=null);const M=!!(S&ii.PRINT);T.displayReadyCapability||(T.displayReadyCapability=Promise.withResolvers(),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(H=this._stats)==null||H.time("Page Request"),this._pumpOperatorList(v));const C=U=>{var I;T.renderTasks.delete(O),(this._maybeCleanupAfterRender||M)&&E(this,na,!0),w(this,xi,nc).call(this,!M),U?(O.capability.reject(U),this._abortOperatorList({intentState:T,reason:U instanceof Error?U:new Error(U)})):O.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(I=globalThis.Stats)!=null&&I.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},O=new ov({callback:C,params:{canvasContext:t,viewport:e,transform:o,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:p,operatorList:T.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!M,pdfBug:this._pdfBug,pageColors:g});(T.renderTasks||(T.renderTasks=new Set)).add(O);const N=O.task;return Promise.all([T.displayReadyCapability.promise,d]).then(([U,I])=>{var Y;if(this.destroyed){C();return}if((Y=this._stats)==null||Y.time("Rendering"),!(I.renderingIntent&S))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");O.initializeGraphics({transparency:U,optionalContentConfig:I}),O.operatorListChanged()}).catch(C),N}getOperatorList({intent:t="display",annotationMode:e=Qa.ENABLE,printAnnotationStorage:s=null,isEditing:r=!1}={}){var g;function o(){d.operatorList.lastChunk&&(d.opListReadCapability.resolve(d.operatorList),d.renderTasks.delete(p))}const c=this._transport.getRenderingIntent(t,e,s,r,!0);let d=this._intentStates.get(c.cacheKey);d||(d=Object.create(null),this._intentStates.set(c.cacheKey,d));let p;return d.opListReadCapability||(p=Object.create(null),p.operatorListChanged=o,d.opListReadCapability=Promise.withResolvers(),(d.renderTasks||(d.renderTasks=new Set)).add(p),d.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(g=this._stats)==null||g.time("Page Request"),this._pumpOperatorList(c)),d.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>jh.textContent(s));const e=this.streamTextContent(t);return new Promise(function(s,r){function o(){c.read().then(function({value:p,done:g}){if(g){s(d);return}d.lang??(d.lang=p.lang),Object.assign(d.styles,p.styles),d.items.push(...p.items),o()},r)}const c=e.getReader(),d={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const s of e.renderTasks)t.push(s.completed),s.cancel();return this.objs.clear(),E(this,na,!1),w(this,xi,zp).call(this),Promise.all(t)}cleanup(t=!1){E(this,na,!0);const e=w(this,xi,nc).call(this,!1);return t&&e&&this._stats&&(this._stats=new vE),e}_startRenderPage(t,e){var r,o;const s=this._intentStates.get(e);s&&((r=this._stats)==null||r.timeEnd("Page Request"),(o=s.displayReadyCapability)==null||o.resolve(t))}_renderPageChunk(t,e){for(let s=0,r=t.length;s<r;s++)e.operatorList.fnArray.push(t.fnArray[s]),e.operatorList.argsArray.push(t.argsArray[s]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const s of e.renderTasks)s.operatorListChanged();t.lastChunk&&w(this,xi,nc).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:s,modifiedIds:r}){const{map:o,transfer:c}=s,p=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o,modifiedIds:r},c).getReader(),g=this._intentStates.get(e);g.streamReader=p;const m=()=>{p.read().then(({value:y,done:v})=>{if(v){g.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(y,g),m())},y=>{if(g.streamReader=null,!this._transport.destroyed){if(g.operatorList){g.operatorList.lastChunk=!0;for(const v of g.renderTasks)v.operatorListChanged();w(this,xi,nc).call(this,!0)}if(g.displayReadyCapability)g.displayReadyCapability.reject(y);else if(g.opListReadCapability)g.opListReadCapability.reject(y);else throw y}})};m()}_abortOperatorList({intentState:t,reason:e,force:s=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!s){if(t.renderTasks.size>0)return;if(e instanceof $v){let r=mO;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new dl(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}fr=new WeakMap,na=new WeakMap,xi=new WeakSet,nc=function(t=!1){if(w(this,xi,zp).call(this),!h(this,na)||this.destroyed)return!1;if(t)return E(this,fr,setTimeout(()=>{E(this,fr,null),w(this,xi,nc).call(this,!1)},bO)),!1;for(const{renderTasks:e,operatorList:s}of this._intentStates.values())if(e.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),E(this,na,!1),!0},zp=function(){h(this,fr)&&(clearTimeout(h(this,fr)),E(this,fr,null))};var ia,_g;class RO{constructor(){x(this,ia,new Map);x(this,_g,Promise.resolve())}postMessage(t,e){const s={data:structuredClone(t,e?{transfer:e}:null)};h(this,_g).then(()=>{for(const[r]of h(this,ia))r.call(this,s)})}addEventListener(t,e,s=null){let r=null;if((s==null?void 0:s.signal)instanceof AbortSignal){const{signal:o}=s;if(o.aborted){Pt("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(t,e);r=()=>o.removeEventListener("abort",c),o.addEventListener("abort",c)}h(this,ia).set(e,r)}removeEventListener(t,e){const s=h(this,ia).get(e);s==null||s(),h(this,ia).delete(e)}terminate(){for(const[,t]of h(this,ia))t==null||t();h(this,ia).clear()}}ia=new WeakMap,_g=new WeakMap;var Eg,Lo,No,Nc,jp,kc,Up;const he=class he{constructor({name:t=null,port:e=null,verbosity:s=aD()}={}){x(this,Nc);var r;if(this.name=t,this.destroyed=!1,this.verbosity=s,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((r=h(he,No))!=null&&r.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(h(he,No)||E(he,No,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return vn?Promise.all([xr.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new Th("main","worker",t),this._messageHandler.on("ready",function(){}),w(this,Nc,jp).call(this)}_initialize(){if(h(he,Lo)||h(he,kc,Up)){this._setupFakeWorker();return}let{workerSrc:t}=he;try{he._isSameOrigin(window.location.href,t)||(t=he._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),s=new Th("main","worker",e),r=()=>{o.abort(),s.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;e.addEventListener("error",()=>{this._webWorker||r()},{signal:o.signal}),s.on("test",d=>{if(o.abort(),this.destroyed||!d){r();return}this._messageHandler=s,this._port=e,this._webWorker=e,w(this,Nc,jp).call(this)}),s.on("ready",d=>{if(o.abort(),this.destroyed){r();return}try{c()}catch{this._setupFakeWorker()}});const c=()=>{const d=new Uint8Array;s.send("test",d,[d.buffer])};c();return}catch{Hg("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){h(he,Lo)||(Pt("Setting up fake worker."),E(he,Lo,!0)),he._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new RO;this._port=e;const s=`fake${_n(he,Eg)._++}`,r=new Th(s+"_worker",s,e);t.setup(r,e),this._messageHandler=new Th(s,s+"_worker",e),w(this,Nc,jp).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=h(he,No))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var s;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(s=h(this,No))==null?void 0:s.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new he(t)}static get workerSrc(){if(va.workerSrc)return va.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return qt(this,"_setupFakeWorkerGlobal",(async()=>h(this,kc,Up)?h(this,kc,Up):(await import(this.workerSrc)).WorkerMessageHandler)())}};Eg=new WeakMap,Lo=new WeakMap,No=new WeakMap,Nc=new WeakSet,jp=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},kc=new WeakSet,Up=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},x(he,kc),x(he,Eg,0),x(he,Lo,!1),x(he,No),vn&&(E(he,Lo,!0),va.workerSrc||(va.workerSrc="./pdf.worker.mjs")),he._isSameOrigin=(t,e)=>{let s;try{if(s=new URL(t),!s.origin||s.origin==="null")return!1}catch{return!1}const r=new URL(e,s);return s.origin===r.origin},he._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let oc=he;var sa,bs,Fc,Pc,ys,ko,xh;class CO{constructor(t,e,s,r,o){x(this,ko);x(this,sa,new Map);x(this,bs,new Map);x(this,Fc,new Map);x(this,Pc,new Map);x(this,ys,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new y1,this.fontLoader=new TD({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return qt(this,"annotationStorage",new Jv)}getRenderingIntent(t,e=Qa.ENABLE,s=null,r=!1,o=!1){let c=ii.DISPLAY,d=Yy;switch(t){case"any":c=ii.ANY;break;case"display":break;case"print":c=ii.PRINT;break;default:Pt(`getRenderingIntent - invalid intent: ${t}`)}const p=c&ii.PRINT&&s instanceof $w?s:this.annotationStorage;switch(e){case Qa.DISABLE:c+=ii.ANNOTATIONS_DISABLE;break;case Qa.ENABLE:break;case Qa.ENABLE_FORMS:c+=ii.ANNOTATIONS_FORMS;break;case Qa.ENABLE_STORAGE:c+=ii.ANNOTATIONS_STORAGE,d=p.serializable;break;default:Pt(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(c+=ii.IS_EDITING),o&&(c+=ii.OPLIST);const{ids:g,hash:m}=p.modifiedIds,y=[c,d.hash,m];return{renderingIntent:c,cacheKey:y.join("_"),annotationStorageSerializable:d,modifiedIds:g}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=h(this,ys))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of h(this,bs).values())t.push(r._destroy());h(this,bs).clear(),h(this,Fc).clear(),h(this,Pc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),h(this,sa).clear(),this.filterFactory.destroy(),nv.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new dl("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(s,r)=>{Ue(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:c}){if(c){r.close();return}Ue(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("ReaderHeadersReady",async s=>{var d;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:c}=this._fullReader;return(!r||!o)&&(this._lastProgress&&((d=e.onProgress)==null||d.call(e,this._lastProgress)),this._fullReader.onProgress=p=>{var g;(g=e.onProgress)==null||g.call(e,{loaded:p.loaded,total:p.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:c}}),t.on("GetRangeReader",(s,r)=>{Ue(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(s.begin,s.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:c,done:d}){if(d){r.close();return}Ue(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{r.error(c)})},r.onCancel=c=>{o.cancel(c),r.ready.catch(d=>{if(!this.destroyed)throw d})}}),t.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,e._capability.resolve(new TO(s,this))}),t.on("DocException",function(s){let r;switch(s.name){case"PasswordException":r=new Ty(s.message,s.code);break;case"InvalidPDFException":r=new Sw(s.message);break;case"MissingPDFException":r=new hl(s.message);break;case"UnexpectedResponseException":r=new zg(s.message,s.status);break;case"UnknownErrorException":r=new xy(s.message,s.details);break;default:ue("DocException - expected a valid Error.")}e._capability.reject(r)}),t.on("PasswordRequest",s=>{if(E(this,ys,Promise.withResolvers()),e.onPassword){const r=o=>{o instanceof Error?h(this,ys).reject(o):h(this,ys).resolve({password:o})};try{e.onPassword(r,s.code)}catch(o){h(this,ys).reject(o)}}else h(this,ys).reject(new Ty(s.message,s.code));return h(this,ys).promise}),t.on("DataLoaded",s=>{var r;(r=e.onProgress)==null||r.call(e,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),t.on("StartRenderPage",s=>{if(this.destroyed)return;h(this,bs).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),t.on("commonobj",([s,r,o])=>{var c;if(this.destroyed||this.commonObjs.has(s))return null;switch(r){case"Font":const{disableFontFace:d,fontExtraProperties:p,pdfBug:g}=this._params;if("error"in o){const S=o.error;Pt(`Error during font loading: ${S}`),this.commonObjs.resolve(s,S);break}const m=g&&((c=globalThis.FontInspector)!=null&&c.enabled)?(S,_)=>globalThis.FontInspector.fontAdded(S,_):null,y=new xD(o,{disableFontFace:d,inspectFont:m});this.fontLoader.bind(y).catch(()=>t.sendWithPromise("FontFallback",{id:s})).finally(()=>{!p&&y.data&&(y.data=null),this.commonObjs.resolve(s,y)});break;case"CopyLocalImage":const{imageRef:v}=o;Ue(v,"The imageRef must be defined.");for(const S of h(this,bs).values())for(const[,_]of S.objs)if((_==null?void 0:_.ref)===v)return _.dataLen?(this.commonObjs.resolve(s,structuredClone(_)),_.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([s,r,o,c])=>{var p;if(this.destroyed)return;const d=h(this,bs).get(r);if(!d.objs.has(s)){if(d._intentStates.size===0){(p=c==null?void 0:c.bitmap)==null||p.close();return}switch(o){case"Image":d.objs.resolve(s,c),(c==null?void 0:c.dataLen)>tD&&(d._maybeCleanupAfterRender=!0);break;case"Pattern":d.objs.resolve(s,c);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",s=>{var r;this.destroyed||(r=e.onProgress)==null||r.call(e,{loaded:s.loaded,total:s.total})}),t.on("FetchBuiltInCMap",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(s)}),t.on("FetchStandardFontData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&Pt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((s=this._fullReader)==null?void 0:s.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,s=h(this,Fc).get(e);if(s)return s;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&h(this,Pc).set(o.refStr,t);const c=new xO(e,o,this,this._params.pdfBug);return h(this,bs).set(e,c),c});return h(this,Fc).set(e,r),r}getPageIndex(t){return NE(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return w(this,ko,xh).call(this,"GetFieldObjects")}hasJSActions(){return w(this,ko,xh).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return w(this,ko,xh).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return w(this,ko,xh).call(this,"GetOptionalContentConfig").then(e=>new KD(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=h(this,sa).get(t);if(e)return e;const s=this.messageHandler.sendWithPromise(t,null).then(r=>{var o,c;return{info:r[0],metadata:r[1]?new XD(r[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((c=this._fullReader)==null?void 0:c.contentLength)??null}});return h(this,sa).set(t,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of h(this,bs).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),h(this,sa).clear(),this.filterFactory.destroy(!0),nv.cleanup()}}cachedPageNumber(t){if(!NE(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return h(this,Pc).get(e)??null}}sa=new WeakMap,bs=new WeakMap,Fc=new WeakMap,Pc=new WeakMap,ys=new WeakMap,ko=new WeakSet,xh=function(t,e=null){const s=h(this,sa).get(t);if(s)return s;const r=this.messageHandler.sendWithPromise(t,e);return h(this,sa).set(t,r),r};const Ep=Symbol("INITIAL_DATA");var Ii,_d,rv;class y1{constructor(){x(this,_d);x(this,Ii,Object.create(null))}get(t,e=null){if(e){const r=w(this,_d,rv).call(this,t);return r.promise.then(()=>e(r.data)),null}const s=h(this,Ii)[t];if(!s||s.data===Ep)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return s.data}has(t){const e=h(this,Ii)[t];return!!e&&e.data!==Ep}resolve(t,e=null){const s=w(this,_d,rv).call(this,t);s.data=e,s.resolve()}clear(){var t;for(const e in h(this,Ii)){const{data:s}=h(this,Ii)[e];(t=s==null?void 0:s.bitmap)==null||t.close()}E(this,Ii,Object.create(null))}*[Symbol.iterator](){for(const t in h(this,Ii)){const{data:e}=h(this,Ii)[t];e!==Ep&&(yield[t,e])}}}Ii=new WeakMap,_d=new WeakSet,rv=function(t){var e;return(e=h(this,Ii))[t]||(e[t]={...Promise.withResolvers(),data:Ep})};var pr;class MO{constructor(t){x(this,pr,null);E(this,pr,t),this.onContinue=null}get promise(){return h(this,pr).capability.promise}cancel(t=0){h(this,pr).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=h(this,pr).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=h(this,pr);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}pr=new WeakMap;var gr,Fo;const so=class so{constructor({callback:t,params:e,objs:s,commonObjs:r,annotationCanvasMap:o,operatorList:c,pageIndex:d,canvasFactory:p,filterFactory:g,useRequestAnimationFrame:m=!1,pdfBug:y=!1,pageColors:v=null}){x(this,gr,null);this.callback=t,this.params=e,this.objs=s,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=d,this.canvasFactory=p,this.filterFactory=g,this._pdfBug=y,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new MO(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var d,p;if(this.cancelled)return;if(this._canvas){if(h(so,Fo).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");h(so,Fo).add(this._canvas)}this._pdfBug&&((d=globalThis.StepperManager)!=null&&d.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:r,transform:o,background:c}=this.params;this.gfx=new rc(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:r,transparency:t,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,(p=this.graphicsReadyCallback)==null||p.call(this)}cancel(t=null,e=0){var s;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),h(this,gr)&&(window.cancelAnimationFrame(h(this,gr)),E(this,gr,null)),h(so,Fo).delete(this._canvas),this.callback(t||new $v(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?E(this,gr,window.requestAnimationFrame(()=>{E(this,gr,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),h(so,Fo).delete(this._canvas),this.callback())))}};gr=new WeakMap,Fo=new WeakMap,x(so,Fo,new WeakSet);let ov=so;const DO="4.8.69",OO="3634dab10";function kE(u){return Math.floor(Math.max(0,Math.min(1,u))*255).toString(16).padStart(2,"0")}function bh(u){return Math.max(0,Math.min(255,255*u))}class FE{static CMYK_G([t,e,s,r]){return["G",1-Math.min(1,.3*t+.59*s+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=bh(t),[t,t,t]}static G_HTML([t]){const e=kE(t);return`#${e}${e}${e}`}static RGB_G([t,e,s]){return["G",.3*t+.59*e+.11*s]}static RGB_rgb(t){return t.map(bh)}static RGB_HTML(t){return`#${t.map(kE).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,s,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,s+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,s,r]){return[bh(1-Math.min(1,t+r)),bh(1-Math.min(1,s+r)),bh(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,s]){const r=1-t,o=1-e,c=1-s,d=Math.min(r,o,c);return["CMYK",r,o,c,d]}}class LO{create(t,e,s=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),s||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){ue("Abstract method `_createSVG` called.")}}class s0 extends LO{_createSVG(t){return document.createElementNS(Xs,t)}}class v1{static setupStorage(t,e,s,r,o){const c=r.getValue(e,{value:null});switch(s.name){case"textarea":if(c.value!==null&&(t.textContent=c.value),o==="print")break;t.addEventListener("input",d=>{r.setValue(e,{value:d.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(c.value===s.attributes.xfaOn?t.setAttribute("checked",!0):c.value===s.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",d=>{r.setValue(e,{value:d.target.checked?d.target.getAttribute("xfaOn"):d.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&t.setAttribute("value",c.value),o==="print")break;t.addEventListener("input",d=>{r.setValue(e,{value:d.target.value})})}break;case"select":if(c.value!==null){t.setAttribute("value",c.value);for(const d of s.children)d.attributes.value===c.value?d.attributes.selected=!0:d.attributes.hasOwnProperty("selected")&&delete d.attributes.selected}t.addEventListener("input",d=>{const p=d.target.options,g=p.selectedIndex===-1?"":p[p.selectedIndex].value;r.setValue(e,{value:g})});break}}static setAttributes({html:t,element:e,storage:s=null,intent:r,linkService:o}){const{attributes:c}=e,d=t instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${r}`);for(const[p,g]of Object.entries(c))if(g!=null)switch(p){case"class":g.length&&t.setAttribute(p,g.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",g);break;case"style":Object.assign(t.style,g);break;case"textContent":t.textContent=g;break;default:(!d||p!=="href"&&p!=="newWindow")&&t.setAttribute(p,g)}d&&o.addLinkAttributes(t,c.href,c.newWindow),s&&c.dataId&&this.setupStorage(t,c.dataId,e,s)}static render(t){var y,v;const e=t.annotationStorage,s=t.linkService,r=t.xfaHtml,o=t.intent||"display",c=document.createElement(r.name);r.attributes&&this.setAttributes({html:c,element:r,intent:o,linkService:s});const d=o!=="richText",p=t.div;if(p.append(c),t.viewport){const S=`matrix(${t.viewport.transform.join(",")})`;p.style.transform=S}d&&p.setAttribute("class","xfaLayer xfaFont");const g=[];if(r.children.length===0){if(r.value){const S=document.createTextNode(r.value);c.append(S),d&&jh.shouldBuildText(r.name)&&g.push(S)}return{textDivs:g}}const m=[[r,-1,c]];for(;m.length>0;){const[S,_,T]=m.at(-1);if(_+1===S.children.length){m.pop();continue}const M=S.children[++m.at(-1)[1]];if(M===null)continue;const{name:C}=M;if(C==="#text"){const N=document.createTextNode(M.value);g.push(N),T.append(N);continue}const O=(y=M==null?void 0:M.attributes)!=null&&y.xmlns?document.createElementNS(M.attributes.xmlns,C):document.createElement(C);if(T.append(O),M.attributes&&this.setAttributes({html:O,element:M,storage:e,intent:o,linkService:s}),((v=M.children)==null?void 0:v.length)>0)m.push([M,-1,O]);else if(M.value){const N=document.createTextNode(M.value);d&&jh.shouldBuildText(C)&&g.push(N),O.append(N)}}for(const S of p.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))S.setAttribute("readOnly",!0);return{textDivs:g}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const rf=1e3,NO=9,ol=new WeakSet;function Aa(u){return{width:u[2]-u[0],height:u[3]-u[1]}}class kO{static create(t){switch(t.data.annotationType){case Pe.LINK:return new A1(t);case Pe.TEXT:return new FO(t);case Pe.WIDGET:switch(t.data.fieldType){case"Tx":return new PO(t);case"Btn":return t.data.radioButton?new E1(t):t.data.checkBox?new zO(t):new jO(t);case"Ch":return new UO(t);case"Sig":return new HO(t)}return new fl(t);case Pe.POPUP:return new cv(t);case Pe.FREETEXT:return new C1(t);case Pe.LINE:return new IO(t);case Pe.SQUARE:return new qO(t);case Pe.CIRCLE:return new GO(t);case Pe.POLYLINE:return new M1(t);case Pe.CARET:return new XO(t);case Pe.INK:return new a0(t);case Pe.POLYGON:return new VO(t);case Pe.HIGHLIGHT:return new D1(t);case Pe.UNDERLINE:return new YO(t);case Pe.SQUIGGLY:return new KO(t);case Pe.STRIKEOUT:return new $O(t);case Pe.STAMP:return new O1(t);case Pe.FILEATTACHMENT:return new WO(t);default:return new Re(t)}}}var Po,Hc,zc,Ed,lv;const c0=class c0{constructor(t,{isRenderable:e=!1,ignoreBorder:s=!1,createQuadrilaterals:r=!1}={}){x(this,Ed);x(this,Po,null);x(this,Hc,!1);x(this,zc,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(s)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:s}){return!!(t!=null&&t.str||e!=null&&e.str||s!=null&&s.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return c0._hasPopupData(this.data)}updateEdited(t){var s;if(!this.container)return;h(this,Po)||E(this,Po,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&w(this,Ed,lv).call(this,e),(s=h(this,zc))==null||s.popup.updateEdited(t)}resetEdited(){var t;h(this,Po)&&(w(this,Ed,lv).call(this,h(this,Po).rect),(t=h(this,zc))==null||t.popup.resetEdited(),E(this,Po,null))}_createContainer(t){const{data:e,parent:{page:s,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),this instanceof fl||(o.tabIndex=rf);const{style:c}=o;if(c.zIndex=this.parent.zIndex++,e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof cv){const{rotation:T}=e;return!e.hasOwnCanvas&&T!==0&&this.setRotation(T,o),o}const{width:d,height:p}=Aa(e.rect);if(!t&&e.borderStyle.width>0){c.borderWidth=`${e.borderStyle.width}px`;const T=e.borderStyle.horizontalCornerRadius,M=e.borderStyle.verticalCornerRadius;if(T>0||M>0){const O=`calc(${T}px * var(--scale-factor)) / calc(${M}px * var(--scale-factor))`;c.borderRadius=O}else if(this instanceof E1){const O=`calc(${d}px * var(--scale-factor)) / calc(${p}px * var(--scale-factor))`;c.borderRadius=O}switch(e.borderStyle.style){case gh.SOLID:c.borderStyle="solid";break;case gh.DASHED:c.borderStyle="dashed";break;case gh.BEVELED:Pt("Unimplemented border style: beveled");break;case gh.INSET:Pt("Unimplemented border style: inset");break;case gh.UNDERLINE:c.borderBottomStyle="solid";break}const C=e.borderColor||null;C?(E(this,Hc,!0),c.borderColor=bt.makeHexColor(C[0]|0,C[1]|0,C[2]|0)):c.borderWidth=0}const g=bt.normalizeRect([e.rect[0],s.view[3]-e.rect[1]+s.view[1],e.rect[2],s.view[3]-e.rect[3]+s.view[1]]),{pageWidth:m,pageHeight:y,pageX:v,pageY:S}=r.rawDims;c.left=`${100*(g[0]-v)/m}%`,c.top=`${100*(g[1]-S)/y}%`;const{rotation:_}=e;return e.hasOwnCanvas||_===0?(c.width=`${100*d/m}%`,c.height=`${100*p/y}%`):this.setRotation(_,o),o}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:r}=this.parent.viewport.rawDims,{width:o,height:c}=Aa(this.data.rect);let d,p;t%180===0?(d=100*o/s,p=100*c/r):(d=100*c/s,p=100*o/r),e.style.width=`${d}%`,e.style.height=`${p}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,s,r)=>{const o=r.detail[e],c=o[0],d=o.slice(1);r.target.style[s]=FE[`${c}_HTML`](d),this.annotationStorage.setValue(this.data.id,{[s]:FE[`${c}_rgb`](d)})};return qt(this,"_commonActions",{display:e=>{const{display:s}=e.detail,r=s%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:s===1||s===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:s}=e.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const s=e.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(t,e){const s=this._commonActions;for(const r of Object.keys(e.detail)){const o=t[r]||s[r];o==null||o(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const s=this._commonActions;for(const[r,o]of Object.entries(e)){const c=s[r];if(c){const d={detail:{[r]:o},target:t};c(d),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,s,r,o]=this.data.rect.map(T=>Math.fround(T));if(t.length===8){const[T,M,C,O]=t.subarray(2,6);if(r===T&&o===M&&e===C&&s===O)return}const{style:c}=this.container;let d;if(h(this,Hc)){const{borderColor:T,borderWidth:M}=c;c.borderWidth=0,d=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${T}" stroke-width="${M}">`],this.container.classList.add("hasBorder")}const p=r-e,g=o-s,{svgFactory:m}=this,y=m.createElement("svg");y.classList.add("quadrilateralsContainer"),y.setAttribute("width",0),y.setAttribute("height",0);const v=m.createElement("defs");y.append(v);const S=m.createElement("clipPath"),_=`clippath_${this.data.id}`;S.setAttribute("id",_),S.setAttribute("clipPathUnits","objectBoundingBox"),v.append(S);for(let T=2,M=t.length;T<M;T+=8){const C=t[T],O=t[T+1],N=t[T+2],F=t[T+3],H=m.createElement("rect"),U=(N-e)/p,I=(o-O)/g,Y=(C-N)/p,V=(O-F)/g;H.setAttribute("x",U),H.setAttribute("y",I),H.setAttribute("width",Y),H.setAttribute("height",V),S.append(H),d==null||d.push(`<rect vector-effect="non-scaling-stroke" x="${U}" y="${I}" width="${Y}" height="${V}"/>`)}h(this,Hc)&&(d.push("</g></svg>')"),c.backgroundImage=d.join("")),this.container.append(y),this.container.style.clipPath=`url(#${_})`}_createPopup(){const{data:t}=this,e=E(this,zc,new cv({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){ue("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const s=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:o,id:c,exportValues:d}of r){if(o===-1||c===e)continue;const p=typeof d=="string"?d:null,g=document.querySelector(`[data-element-id="${c}"]`);if(g&&!ol.has(g)){Pt(`_getElementsByName - element not allowed: ${c}`);continue}s.push({id:c,exportValue:p,domElement:g})}return s}for(const r of document.getElementsByName(t)){const{exportValue:o}=r,c=r.getAttribute("data-element-id");c!==e&&ol.has(r)&&s.push({id:c,exportValue:o,domElement:r})}return s}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};Po=new WeakMap,Hc=new WeakMap,zc=new WeakMap,Ed=new WeakSet,lv=function(t){const{container:{style:e},data:{rect:s,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:c,pageX:d,pageY:p}}}}=this;s==null||s.splice(0,4,...t);const{width:g,height:m}=Aa(t);e.left=`${100*(t[0]-d)/o}%`,e.top=`${100*(c-t[3]+p)/c}%`,r===0?(e.width=`${100*g/o}%`,e.height=`${100*m/c}%`):this.setRotation(r)};let Re=c0;var si,Jr,S1,_1;class A1 extends Re{constructor(e,s=null){super(e,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});x(this,si);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:s}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let o=!1;return e.url?(s.addLinkAttributes(r,e.url,e.newWindow),o=!0):e.action?(this._bindNamedAction(r,e.action),o=!0):e.attachment?(w(this,si,S1).call(this,r,e.attachment,e.attachmentDest),o=!0):e.setOCGState?(w(this,si,_1).call(this,r,e.setOCGState),o=!0):e.dest?(this._bindLink(r,e.dest),o=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),o=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(r,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(r),this.container}_bindLink(e,s){e.href=this.linkService.getDestinationHash(s),e.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&w(this,si,Jr).call(this)}_bindNamedAction(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(s),!1),w(this,si,Jr).call(this)}_bindJSAction(e,s){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(s.actions)){const c=r.get(o);c&&(e[c]=()=>{var d;return(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:o}}),!1})}e.onclick||(e.onclick=()=>!1),w(this,si,Jr).call(this)}_bindResetFormAction(e,s){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),w(this,si,Jr).call(this),!this._fieldObjects){Pt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{var y;r==null||r();const{fields:o,refs:c,include:d}=s,p=[];if(o.length!==0||c.length!==0){const v=new Set(c);for(const S of o){const _=this._fieldObjects[S]||[];for(const{id:T}of _)v.add(T)}for(const S of Object.values(this._fieldObjects))for(const _ of S)v.has(_.id)===d&&p.push(_)}else for(const v of Object.values(this._fieldObjects))p.push(...v);const g=this.annotationStorage,m=[];for(const v of p){const{id:S}=v;switch(m.push(S),v.type){case"text":{const T=v.defaultValue||"";g.setValue(S,{value:T});break}case"checkbox":case"radiobutton":{const T=v.defaultValue===v.exportValues;g.setValue(S,{value:T});break}case"combobox":case"listbox":{const T=v.defaultValue||"";g.setValue(S,{value:T});break}default:continue}const _=document.querySelector(`[data-element-id="${S}"]`);if(_){if(!ol.has(_)){Pt(`_bindResetFormAction - element not allowed: ${S}`);continue}}else continue;_.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:m,name:"ResetForm"}})),!1}}}si=new WeakSet,Jr=function(){this.container.setAttribute("data-internal-link","")},S1=function(e,s,r=null){e.href=this.linkService.getAnchorUrl(""),s.description&&(e.title=s.description),e.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(s.content,s.filename,r),!1},w(this,si,Jr).call(this)},_1=function(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(s),!1),w(this,si,Jr).call(this)};class FO extends Re{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class fl extends Re{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return xn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,s,r,o){s.includes("mouse")?t.addEventListener(s,c=>{var d;(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(s,c=>{var d;if(s==="blur"){if(!e.focused||!c.relatedTarget)return;e.focused=!1}else if(s==="focus"){if(e.focused)return;e.focused=!0}o&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(c)}}))})}_setEventListeners(t,e,s,r){var o,c,d;for(const[p,g]of s)(g==="Action"||(o=this.data.actions)!=null&&o[g])&&((g==="Focus"||g==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,p,g,r),g==="Focus"&&!((c=this.data.actions)!=null&&c.Blur)?this._setEventListener(t,e,"blur","Blur",null):g==="Blur"&&!((d=this.data.actions)!=null&&d.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":bt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||NO,o=t.style;let c;const d=2,p=g=>Math.round(10*g)/10;if(this.data.multiLine){const g=Math.abs(this.data.rect[3]-this.data.rect[1]-d),m=Math.round(g/(hy*r))||1,y=g/m;c=Math.min(r,p(y/hy))}else{const g=Math.abs(this.data.rect[3]-this.data.rect[1]-d);c=Math.min(r,p(g/hy))}o.fontSize=`calc(${c}px * var(--scale-factor))`,o.color=bt.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(o.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class PO extends fl{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,s,r){const o=this.annotationStorage;for(const c of this._getElementsByName(t.name,t.id))c.domElement&&(c.domElement[e]=s),o.setValue(c.id,{[r]:s})}render(){var r,o;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const c=t.getValue(e,{value:this.data.fieldValue});let d=c.value||"";const p=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;p&&d.length>p&&(d=d.slice(0,p));let g=c.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;g&&this.data.comb&&(g=g.replaceAll(/\s+/g,""));const m={userValue:d,formattedValue:g,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=g??d,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type="text",s.setAttribute("value",g??d),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),ol.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=rf,this._setRequired(s,this.data.required),p&&(s.maxLength=p),s.addEventListener("input",v=>{t.setValue(e,{value:v.target.value}),this.setPropertyOnSiblings(s,"value",v.target.value,"value"),m.formattedValue=null}),s.addEventListener("resetform",v=>{const S=this.data.defaultFieldValue??"";s.value=m.userValue=S,m.formattedValue=null});let y=v=>{const{formattedValue:S}=m;S!=null&&(v.target.value=S),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",S=>{var T;if(m.focused)return;const{target:_}=S;m.userValue&&(_.value=m.userValue),m.lastCommittedValue=_.value,m.commitKey=1,(T=this.data.actions)!=null&&T.Focus||(m.focused=!0)}),s.addEventListener("updatefromsandbox",S=>{this.showElementAndHideCanvas(S.target);const _={value(T){m.userValue=T.detail.value??"",t.setValue(e,{value:m.userValue.toString()}),T.target.value=m.userValue},formattedValue(T){const{formattedValue:M}=T.detail;m.formattedValue=M,M!=null&&T.target!==document.activeElement&&(T.target.value=M),t.setValue(e,{formattedValue:M})},selRange(T){T.target.setSelectionRange(...T.detail.selRange)},charLimit:T=>{var N;const{charLimit:M}=T.detail,{target:C}=T;if(M===0){C.removeAttribute("maxLength");return}C.setAttribute("maxLength",M);let O=m.userValue;!O||O.length<=M||(O=O.slice(0,M),C.value=m.userValue=O,t.setValue(e,{value:O}),(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:O,willCommit:!0,commitKey:1,selStart:C.selectionStart,selEnd:C.selectionEnd}}))}};this._dispatchEventFromSandbox(_,S)}),s.addEventListener("keydown",S=>{var M;m.commitKey=1;let _=-1;if(S.key==="Escape"?_=0:S.key==="Enter"&&!this.data.multiLine?_=2:S.key==="Tab"&&(m.commitKey=3),_===-1)return;const{value:T}=S.target;m.lastCommittedValue!==T&&(m.lastCommittedValue=T,m.userValue=T,(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,willCommit:!0,commitKey:_,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}}))});const v=y;y=null,s.addEventListener("blur",S=>{var T,M;if(!m.focused||!S.relatedTarget)return;(T=this.data.actions)!=null&&T.Blur||(m.focused=!1);const{value:_}=S.target;m.userValue=_,m.lastCommittedValue!==_&&((M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:_,willCommit:!0,commitKey:m.commitKey,selStart:S.target.selectionStart,selEnd:S.target.selectionEnd}})),v(S)}),(o=this.data.actions)!=null&&o.Keystroke&&s.addEventListener("beforeinput",S=>{var H;m.lastCommittedValue=null;const{data:_,target:T}=S,{value:M,selectionStart:C,selectionEnd:O}=T;let N=C,F=O;switch(S.inputType){case"deleteWordBackward":{const U=M.substring(0,C).match(/\w*[^\w]*$/);U&&(N-=U[0].length);break}case"deleteWordForward":{const U=M.substring(C).match(/^[^\w]*\w*/);U&&(F+=U[0].length);break}case"deleteContentBackward":C===O&&(N-=1);break;case"deleteContentForward":C===O&&(F+=1);break}S.preventDefault(),(H=this.linkService.eventBus)==null||H.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:M,change:_||"",willCommit:!1,selStart:N,selEnd:F}})}),this._setEventListeners(s,m,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],S=>S.target.value)}if(y&&s.addEventListener("blur",y),this.data.comb){const S=(this.data.rect[2]-this.data.rect[0])/p;s.classList.add("comb"),s.style.letterSpacing=`calc(${S}px * var(--scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class HO extends fl{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class zO extends fl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,s=e.id;let r=t.getValue(s,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(s,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return ol.add(o),o.setAttribute("data-element-id",s),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",e.exportValue),o.tabIndex=rf,o.addEventListener("change",c=>{const{name:d,checked:p}=c.target;for(const g of this._getElementsByName(d,s)){const m=p&&g.exportValue===e.exportValue;g.domElement&&(g.domElement.checked=m),t.setValue(g.id,{value:m})}t.setValue(s,{value:p})}),o.addEventListener("resetform",c=>{const d=e.defaultFieldValue||"Off";c.target.checked=d===e.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",c=>{const d={value(p){p.target.checked=p.detail.value!=="Off",t.setValue(s,{value:p.target.checked})}};this._dispatchEventFromSandbox(d,c)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class E1 extends fl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,s=e.id;let r=t.getValue(s,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(s,{value:r})),r)for(const c of this._getElementsByName(e.fieldName,s))t.setValue(c.id,{value:!1});const o=document.createElement("input");if(ol.add(o),o.setAttribute("data-element-id",s),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=rf,o.addEventListener("change",c=>{const{name:d,checked:p}=c.target;for(const g of this._getElementsByName(d,s))t.setValue(g.id,{value:!1});t.setValue(s,{value:p})}),o.addEventListener("resetform",c=>{const d=e.defaultFieldValue;c.target.checked=d!=null&&d===e.buttonValue}),this.enableScripting&&this.hasJSActions){const c=e.buttonValue;o.addEventListener("updatefromsandbox",d=>{const p={value:g=>{const m=c===g.detail.value;for(const y of this._getElementsByName(g.target.name)){const v=m&&y.id===s;y.domElement&&(y.domElement.checked=v),t.setValue(y.id,{value:v})}}};this._dispatchEventFromSandbox(p,d)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class jO extends A1{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),t}}class UO extends fl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,s=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");ol.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=rf;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",m=>{const y=this.data.defaultFieldValue;for(const v of r.options)v.selected=v.value===y});for(const m of this.data.options){const y=document.createElement("option");y.textContent=m.displayValue,y.value=m.exportValue,s.value.includes(m.exportValue)&&(y.setAttribute("selected",!0),o=!1),r.append(y)}let c=null;if(o){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),r.prepend(m),c=()=>{m.remove(),r.removeEventListener("input",c),c=null},r.addEventListener("input",c)}const d=m=>{const y=m?"value":"textContent",{options:v,multiple:S}=r;return S?Array.prototype.filter.call(v,_=>_.selected).map(_=>_[y]):v.selectedIndex===-1?null:v[v.selectedIndex][y]};let p=d(!1);const g=m=>{const y=m.target.options;return Array.prototype.map.call(y,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",m=>{const y={value(v){c==null||c();const S=v.detail.value,_=new Set(Array.isArray(S)?S:[S]);for(const T of r.options)T.selected=_.has(T.value);t.setValue(e,{value:d(!0)}),p=d(!1)},multipleSelection(v){r.multiple=!0},remove(v){const S=r.options,_=v.detail.remove;S[_].selected=!1,r.remove(_),S.length>0&&Array.prototype.findIndex.call(S,M=>M.selected)===-1&&(S[0].selected=!0),t.setValue(e,{value:d(!0),items:g(v)}),p=d(!1)},clear(v){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),p=d(!1)},insert(v){const{index:S,displayValue:_,exportValue:T}=v.detail.insert,M=r.children[S],C=document.createElement("option");C.textContent=_,C.value=T,M?M.before(C):r.append(C),t.setValue(e,{value:d(!0),items:g(v)}),p=d(!1)},items(v){const{items:S}=v.detail;for(;r.length!==0;)r.remove(0);for(const _ of S){const{displayValue:T,exportValue:M}=_,C=document.createElement("option");C.textContent=T,C.value=M,r.append(C)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:d(!0),items:g(v)}),p=d(!1)},indices(v){const S=new Set(v.detail.indices);for(const _ of v.target.options)_.selected=S.has(_.index);t.setValue(e,{value:d(!0)}),p=d(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(y,m)}),r.addEventListener("input",m=>{var S;const y=d(!0),v=d(!1);t.setValue(e,{value:y}),m.preventDefault(),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:p,change:v,changeEx:y,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):r.addEventListener("input",function(m){t.setValue(e,{value:d(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class cv extends Re{constructor(t){const{data:e,elements:s}=t;super(t,{isRenderable:Re._hasPopupData(e)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new BO({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const s of this.elements)s.popup=t,s.container.ariaHasPopup="dialog",e.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(s=>`${Kv}${s}`).join(",")),this.container}}var jc,wg,Tg,Uc,Ho,Se,aa,Bc,wd,Td,Ic,ra,qi,oa,xd,la,Rd,zo,jo,ne,Bp,uv,w1,T1,x1,R1,Ip,qp,hv;class BO{constructor({container:t,color:e,elements:s,titleObj:r,modificationDate:o,contentsObj:c,richText:d,parent:p,rect:g,parentRect:m,open:y}){x(this,ne);x(this,jc,w(this,ne,x1).bind(this));x(this,wg,w(this,ne,hv).bind(this));x(this,Tg,w(this,ne,qp).bind(this));x(this,Uc,w(this,ne,Ip).bind(this));x(this,Ho,null);x(this,Se,null);x(this,aa,null);x(this,Bc,null);x(this,wd,null);x(this,Td,null);x(this,Ic,null);x(this,ra,!1);x(this,qi,null);x(this,oa,null);x(this,xd,null);x(this,la,null);x(this,Rd,null);x(this,zo,null);x(this,jo,!1);var v;E(this,Se,t),E(this,Rd,r),E(this,aa,c),E(this,la,d),E(this,Td,p),E(this,Ho,e),E(this,xd,g),E(this,Ic,m),E(this,wd,s),E(this,Bc,Qv.toDateObject(o)),this.trigger=s.flatMap(S=>S.getElementsToTriggerPopup());for(const S of this.trigger)S.addEventListener("click",h(this,Uc)),S.addEventListener("mouseenter",h(this,Tg)),S.addEventListener("mouseleave",h(this,wg)),S.classList.add("popupTriggerArea");for(const S of s)(v=S.container)==null||v.addEventListener("keydown",h(this,jc));h(this,Se).hidden=!0,y&&w(this,ne,Ip).call(this)}render(){if(h(this,qi))return;const t=E(this,qi,document.createElement("div"));if(t.className="popup",h(this,Ho)){const o=t.style.outlineColor=bt.makeHexColor(...h(this,Ho));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:t.style.backgroundColor=bt.makeHexColor(...h(this,Ho).map(d=>Math.floor(.7*(255-d)+d)))}const e=document.createElement("span");e.className="header";const s=document.createElement("h1");if(e.append(s),{dir:s.dir,str:s.textContent}=h(this,Rd),t.append(e),h(this,Bc)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:h(this,Bc).valueOf()})),e.append(o)}const r=h(this,ne,Bp);if(r)v1.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(h(this,aa));t.append(o)}h(this,Se).append(t)}_formatContents({str:t,dir:e}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let o=0,c=r.length;o<c;++o){const d=r[o];s.append(document.createTextNode(d)),o<c-1&&s.append(document.createElement("br"))}return s}updateEdited({rect:t,popupContent:e}){var s;h(this,zo)||E(this,zo,{contentsObj:h(this,aa),richText:h(this,la)}),t&&E(this,oa,null),e&&(E(this,la,w(this,ne,T1).call(this,e)),E(this,aa,null)),(s=h(this,qi))==null||s.remove(),E(this,qi,null)}resetEdited(){var t;h(this,zo)&&({contentsObj:_n(this,aa)._,richText:_n(this,la)._}=h(this,zo),E(this,zo,null),(t=h(this,qi))==null||t.remove(),E(this,qi,null),E(this,oa,null))}forceHide(){E(this,jo,this.isVisible),h(this,jo)&&(h(this,Se).hidden=!0)}maybeShow(){h(this,jo)&&(h(this,qi)||w(this,ne,qp).call(this),E(this,jo,!1),h(this,Se).hidden=!1)}get isVisible(){return h(this,Se).hidden===!1}}jc=new WeakMap,wg=new WeakMap,Tg=new WeakMap,Uc=new WeakMap,Ho=new WeakMap,Se=new WeakMap,aa=new WeakMap,Bc=new WeakMap,wd=new WeakMap,Td=new WeakMap,Ic=new WeakMap,ra=new WeakMap,qi=new WeakMap,oa=new WeakMap,xd=new WeakMap,la=new WeakMap,Rd=new WeakMap,zo=new WeakMap,jo=new WeakMap,ne=new WeakSet,Bp=function(){const t=h(this,la),e=h(this,aa);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&h(this,la).html||null},uv=function(){var t,e,s;return((s=(e=(t=h(this,ne,Bp))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:s.fontSize)||0},w1=function(){var t,e,s;return((s=(e=(t=h(this,ne,Bp))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:s.color)||null},T1=function(t){const e=[],s={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:h(this,ne,w1),fontSize:h(this,ne,uv)?`calc(${h(this,ne,uv)}px * var(--scale-factor))`:""}};for(const o of t.split(`
`))e.push({name:"span",value:o,attributes:r});return s},x1=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&h(this,ra))&&w(this,ne,Ip).call(this)},R1=function(){if(h(this,oa)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:s,pageX:r,pageY:o}}}=h(this,Td);let c=!!h(this,Ic),d=c?h(this,Ic):h(this,xd);for(const _ of h(this,wd))if(!d||bt.intersect(_.data.rect,d)!==null){d=_.data.rect,c=!0;break}const p=bt.normalizeRect([d[0],t[3]-d[1]+t[1],d[2],t[3]-d[3]+t[1]]),m=c?d[2]-d[0]+5:0,y=p[0]+m,v=p[1];E(this,oa,[100*(y-r)/e,100*(v-o)/s]);const{style:S}=h(this,Se);S.left=`${h(this,oa)[0]}%`,S.top=`${h(this,oa)[1]}%`},Ip=function(){E(this,ra,!h(this,ra)),h(this,ra)?(w(this,ne,qp).call(this),h(this,Se).addEventListener("click",h(this,Uc)),h(this,Se).addEventListener("keydown",h(this,jc))):(w(this,ne,hv).call(this),h(this,Se).removeEventListener("click",h(this,Uc)),h(this,Se).removeEventListener("keydown",h(this,jc)))},qp=function(){h(this,qi)||this.render(),this.isVisible?h(this,ra)&&h(this,Se).classList.add("focused"):(w(this,ne,R1).call(this),h(this,Se).hidden=!1,h(this,Se).style.zIndex=parseInt(h(this,Se).style.zIndex)+1e3)},hv=function(){h(this,Se).classList.remove("focused"),!(h(this,ra)||!this.isVisible)&&(h(this,Se).hidden=!0,h(this,Se).style.zIndex=parseInt(h(this,Se).style.zIndex)-1e3)};class C1 extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Nt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const s=document.createElement("span");s.textContent=e,t.append(s)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Cd;class IO extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,Cd,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:s,height:r}=Aa(e.rect),o=this.svgFactory.create(s,r,!0),c=E(this,Cd,this.svgFactory.createElement("svg:line"));return c.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),c.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),c.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),c.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),c.setAttribute("stroke-width",e.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),o.append(c),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Cd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Cd=new WeakMap;var Md;class qO extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,Md,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:s,height:r}=Aa(e.rect),o=this.svgFactory.create(s,r,!0),c=e.borderStyle.width,d=E(this,Md,this.svgFactory.createElement("svg:rect"));return d.setAttribute("x",c/2),d.setAttribute("y",c/2),d.setAttribute("width",s-c),d.setAttribute("height",r-c),d.setAttribute("stroke-width",c||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),o.append(d),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Md)}addHighlightArea(){this.container.classList.add("highlightArea")}}Md=new WeakMap;var Dd;class GO extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,Dd,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:s,height:r}=Aa(e.rect),o=this.svgFactory.create(s,r,!0),c=e.borderStyle.width,d=E(this,Dd,this.svgFactory.createElement("svg:ellipse"));return d.setAttribute("cx",s/2),d.setAttribute("cy",r/2),d.setAttribute("rx",s/2-c/2),d.setAttribute("ry",r/2-c/2),d.setAttribute("stroke-width",c||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),o.append(d),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Dd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Dd=new WeakMap;var Od;class M1 extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,Od,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:s,borderStyle:r,popupRef:o}}=this;if(!s)return this.container;const{width:c,height:d}=Aa(e),p=this.svgFactory.create(c,d,!0);let g=[];for(let y=0,v=s.length;y<v;y+=2){const S=s[y]-e[0],_=e[3]-s[y+1];g.push(`${S},${_}`)}g=g.join(" ");const m=E(this,Od,this.svgFactory.createElement(this.svgElementName));return m.setAttribute("points",g),m.setAttribute("stroke-width",r.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),p.append(m),this.container.append(p),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Od)}addHighlightArea(){this.container.classList.add("highlightArea")}}Od=new WeakMap;class VO extends M1{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class XO extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Ld;class a0 extends Re{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,Ld,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Nt.HIGHLIGHT:Nt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:s,borderStyle:r,popupRef:o}}=this,{width:c,height:d}=Aa(e),p=this.svgFactory.create(c,d,!0);for(const g of s){let m=[];for(let v=0,S=g.length;v<S;v+=2){const _=g[v]-e[0],T=e[3]-g[v+1];m.push(`${_},${T}`)}m=m.join(" ");const y=this.svgFactory.createElement(this.svgElementName);h(this,Ld).push(y),y.setAttribute("points",m),y.setAttribute("stroke-width",r.width||1),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),p.append(y)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(p),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return h(this,Ld)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ld=new WeakMap;class D1 extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Nt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class YO extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class KO extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class $O extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class O1 extends Re{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Nt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Nd,kd,dv;class WO extends Re{constructor(e){var r;super(e,{isRenderable:!0});x(this,kd);x(this,Nd,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:s}=this;let r;s.hasAppearance||s.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),r.addEventListener("dblclick",w(this,kd,dv).bind(this)),E(this,Nd,r);const{isMac:o}=xn.platform;return e.addEventListener("keydown",c=>{c.key==="Enter"&&(o?c.metaKey:c.ctrlKey)&&w(this,kd,dv).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return h(this,Nd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Nd=new WeakMap,kd=new WeakSet,dv=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var Fd,Uo,Bo,Pd,cl,L1,fv,KE;let QO=(KE=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:s,annotationEditorUIManager:r,page:o,viewport:c,structTreeLayer:d}){x(this,cl);x(this,Fd,null);x(this,Uo,null);x(this,Bo,new Map);x(this,Pd,null);this.div=t,E(this,Fd,e),E(this,Uo,s),E(this,Pd,d||null),this.page=o,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return h(this,Bo).size>0}async render(t){var c;const{annotations:e}=t,s=this.div;al(s,this.viewport);const r=new Map,o={data:null,layer:s,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new s0,annotationStorage:t.annotationStorage||new Jv,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const d of e){if(d.noHTML)continue;const p=d.annotationType===Pe.POPUP;if(p){const y=r.get(d.id);if(!y)continue;o.elements=y}else{const{width:y,height:v}=Aa(d.rect);if(y<=0||v<=0)continue}o.data=d;const g=kO.create(o);if(!g.isRenderable)continue;if(!p&&d.popupRef){const y=r.get(d.popupRef);y?y.push(g):r.set(d.popupRef,[g])}const m=g.render();d.hidden&&(m.style.visibility="hidden"),await w(this,cl,L1).call(this,m,d.id),g._isEditable&&(h(this,Bo).set(g.data.id,g),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(g))}w(this,cl,fv).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,al(e,{rotation:t.rotation}),w(this,cl,fv).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(h(this,Bo).values())}getEditableAnnotation(t){return h(this,Bo).get(t)}},Fd=new WeakMap,Uo=new WeakMap,Bo=new WeakMap,Pd=new WeakMap,cl=new WeakSet,L1=async function(t,e){var c,d;const s=t.firstChild||t,r=s.id=`${Kv}${e}`,o=await((c=h(this,Pd))==null?void 0:c.getAriaAttributes(r));if(o)for(const[p,g]of o)s.setAttribute(p,g);this.div.append(t),(d=h(this,Fd))==null||d.moveElementInDOM(this.div,t,s,!1)},fv=function(){if(!h(this,Uo))return;const t=this.div;for(const[e,s]of h(this,Uo)){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;s.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(s):o.classList.contains("annotationContent")?o.after(s):o.before(s):r.append(s)}h(this,Uo).clear()},KE);const wp=/\r\n?|\n/g;var Gi,Qn,Hd,Io,Zn,Ne,N1,k1,F1,Gp,_a,Vp,Xp,P1,gv,H1;const oe=class oe extends Zt{constructor(e){super({...e,name:"freeTextEditor"});x(this,Ne);x(this,Gi);x(this,Qn,"");x(this,Hd,`${this.id}-editor`);x(this,Io,null);x(this,Zn);E(this,Gi,e.color||oe._defaultColor||Zt._defaultLineColor),E(this,Zn,e.fontSize||oe._defaultFontSize)}static get _keyboardManager(){const e=oe.prototype,s=c=>c.isEmpty(),r=rl.TRANSLATE_SMALL,o=rl.TRANSLATE_BIG;return qt(this,"_keyboardManager",new af([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-o,0],checker:s}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[o,0],checker:s}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-o],checker:s}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,o],checker:s}]]))}static initialize(e,s){Zt.initialize(e,s);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,s){switch(e){case Tt.FREETEXT_SIZE:oe._defaultFontSize=s;break;case Tt.FREETEXT_COLOR:oe._defaultColor=s;break}}updateParams(e,s){switch(e){case Tt.FREETEXT_SIZE:w(this,Ne,N1).call(this,s);break;case Tt.FREETEXT_COLOR:w(this,Ne,k1).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Tt.FREETEXT_SIZE,oe._defaultFontSize],[Tt.FREETEXT_COLOR,oe._defaultColor||Zt._defaultLineColor]]}get propertiesToUpdate(){return[[Tt.FREETEXT_SIZE,h(this,Zn)],[Tt.FREETEXT_COLOR,h(this,Gi)]]}_translateEmpty(e,s){this._uiManager.translateSelectedEditors(e,s,!0)}getInitialTranslation(){const e=this.parentScale;return[-oe._internalPadding*e,-(oe._internalPadding+h(this,Zn))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Nt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),E(this,Io,new AbortController);const e=this._uiManager.combinedSignal(h(this,Io));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",h(this,Hd)),this._isDraggable=!0,(e=h(this,Io))==null||e.abort(),E(this,Io,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=h(this,Qn),s=E(this,Qn,w(this,Ne,F1).call(this).trimEnd());if(e===s)return;const r=o=>{if(E(this,Qn,o),!o){this.remove();return}w(this,Ne,Xp).call(this),this._uiManager.rebuild(this),w(this,Ne,Gp).call(this)};this.addCommands({cmd:()=>{r(s)},undo:()=>{r(e)},mustExec:!1}),w(this,Ne,Gp).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){oe._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,s;this.width&&(e=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",h(this,Hd)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${h(this,Zn)}px * var(--scale-factor))`,r.color=h(this,Gi),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),rg(this,this.div,["dblclick","keydown"]),this.width){const[o,c]=this.parentDimensions;if(this.annotationElementId){const{position:d}=this._initialData;let[p,g]=this.getInitialTranslation();[p,g]=this.pageTranslationToScreen(p,g);const[m,y]=this.pageDimensions,[v,S]=this.pageTranslation;let _,T;switch(this.rotation){case 0:_=e+(d[0]-v)/m,T=s+this.height-(d[1]-S)/y;break;case 90:_=e+(d[0]-v)/m,T=s-(d[1]-S)/y,[p,g]=[g,-p];break;case 180:_=e-this.width+(d[0]-v)/m,T=s-(d[1]-S)/y,[p,g]=[-p,-g];break;case 270:_=e+(d[0]-v-this.height*y)/m,T=s+(d[1]-S-this.width*m)/y,[p,g]=[-g,p];break}this.setAt(_*o,T*c,p,g)}else this.setAt(e*o,s*c,this.width*o,this.height*c);w(this,Ne,Xp).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var _,T,M;const s=e.clipboardData||window.clipboardData,{types:r}=s;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const o=w(_=oe,_a,gv).call(_,s.getData("text")||"").replaceAll(wp,`
`);if(!o)return;const c=window.getSelection();if(!c.rangeCount)return;this.editorDiv.normalize(),c.deleteFromDocument();const d=c.getRangeAt(0);if(!o.includes(`
`)){d.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),c.collapseToStart();return}const{startContainer:p,startOffset:g}=d,m=[],y=[];if(p.nodeType===Node.TEXT_NODE){const C=p.parentElement;if(y.push(p.nodeValue.slice(g).replaceAll(wp,"")),C!==this.editorDiv){let O=m;for(const N of this.editorDiv.childNodes){if(N===C){O=y;continue}O.push(w(T=oe,_a,Vp).call(T,N))}}m.push(p.nodeValue.slice(0,g).replaceAll(wp,""))}else if(p===this.editorDiv){let C=m,O=0;for(const N of this.editorDiv.childNodes)O++===g&&(C=y),C.push(w(M=oe,_a,Vp).call(M,N))}E(this,Qn,`${m.join(`
`)}${o}${y.join(`
`)}`),w(this,Ne,Xp).call(this);const v=new Range;let S=m.reduce((C,O)=>C+O.length,0);for(const{firstChild:C}of this.editorDiv.childNodes)if(C.nodeType===Node.TEXT_NODE){const O=C.nodeValue.length;if(S<=O){v.setStart(C,S),v.setEnd(C,S);break}S-=O}c.removeAllRanges(),c.addRange(v)}get contentDiv(){return this.editorDiv}static async deserialize(e,s,r){var d;let o=null;if(e instanceof C1){const{data:{defaultAppearanceData:{fontSize:p,fontColor:g},rect:m,rotation:y,id:v,popupRef:S},textContent:_,textPosition:T,parent:{page:{pageNumber:M}}}=e;if(!_||_.length===0)return null;o=e={annotationType:Nt.FREETEXT,color:Array.from(g),fontSize:p,value:_.join(`
`),position:T,pageIndex:M-1,rect:m.slice(0),rotation:y,id:v,deleted:!1,popupRef:S}}const c=await super.deserialize(e,s,r);return E(c,Zn,e.fontSize),E(c,Gi,bt.makeHexColor(...e.color)),E(c,Qn,w(d=oe,_a,gv).call(d,e.value)),c.annotationElementId=e.id||null,c._initialData=o,c}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=oe._internalPadding*this.parentScale,r=this.getRect(s,s),o=Zt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:h(this,Gi)),c={annotationType:Nt.FREETEXT,color:o,fontSize:h(this,Zn),value:w(this,Ne,P1).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?c:this.annotationElementId&&!w(this,Ne,H1).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(e){const s=super.renderAnnotationElement(e);if(this.deleted)return s;const{style:r}=s;r.fontSize=`calc(${h(this,Zn)}px * var(--scale-factor))`,r.color=h(this,Gi),s.replaceChildren();for(const c of h(this,Qn).split(`
`)){const d=document.createElement("div");d.append(c?document.createTextNode(c):document.createElement("br")),s.append(d)}const o=oe._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(o,o),popupContent:h(this,Qn)}),s}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};Gi=new WeakMap,Qn=new WeakMap,Hd=new WeakMap,Io=new WeakMap,Zn=new WeakMap,Ne=new WeakSet,N1=function(e){const s=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-h(this,Zn))*this.parentScale),E(this,Zn,o),w(this,Ne,Gp).call(this)},r=h(this,Zn);this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},k1=function(e){const s=o=>{E(this,Gi,this.editorDiv.style.color=o)},r=h(this,Gi);this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},F1=function(){var r;const e=[];this.editorDiv.normalize();let s=null;for(const o of this.editorDiv.childNodes)(s==null?void 0:s.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(e.push(w(r=oe,_a,Vp).call(r,o)),s=o);return e.join(`
`)},Gp=function(){const[e,s]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:o,div:c}=this,d=c.style.display,p=c.classList.contains("hidden");c.classList.remove("hidden"),c.style.display="hidden",o.div.append(this.div),r=c.getBoundingClientRect(),c.remove(),c.style.display=d,c.classList.toggle("hidden",p)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/s):(this.width=r.height/e,this.height=r.width/s),this.fixAndSetPosition()},_a=new WeakSet,Vp=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(wp,"")},Xp=function(){if(this.editorDiv.replaceChildren(),!!h(this,Qn))for(const e of h(this,Qn).split(`
`)){const s=document.createElement("div");s.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(s)}},P1=function(){return h(this,Qn).replaceAll(" "," ")},gv=function(e){return e.replaceAll(" "," ")},H1=function(e){const{value:s,fontSize:r,color:o,pageIndex:c}=this._initialData;return this._hasBeenMoved||e.value!==s||e.fontSize!==r||e.color.some((d,p)=>d!==o[p])||e.pageIndex!==c},x(oe,_a),wt(oe,"_freeTextDefaultContent",""),wt(oe,"_internalPadding",0),wt(oe,"_defaultColor",null),wt(oe,"_defaultFontSize",10),wt(oe,"_type","freetext"),wt(oe,"_editorType",Nt.FREETEXT);let pv=oe;class z1{toSVGPath(){ue("Abstract method `toSVGPath` must be implemented.")}get box(){ue("Abstract getter `box` must be implemented.")}serialize(t,e){ue("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){ue("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){ue("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Jn,Vi,qc,Gc,vs,zt,qo,Go,zd,jd,Vc,Xc,mr,Ud,xg,Rg,Be,Rh,j1,U1,B1,I1,q1,G1;const Ks=class Ks{constructor({x:t,y:e},s,r,o,c,d=0){x(this,Be);x(this,Jn);x(this,Vi,[]);x(this,qc);x(this,Gc);x(this,vs,[]);x(this,zt,new Float64Array(18));x(this,qo);x(this,Go);x(this,zd);x(this,jd);x(this,Vc);x(this,Xc);x(this,mr,[]);E(this,Jn,s),E(this,Xc,o*r),E(this,Gc,c),h(this,zt).set([NaN,NaN,NaN,NaN,t,e],6),E(this,qc,d),E(this,jd,h(Ks,Ud)*r),E(this,zd,h(Ks,Rg)*r),E(this,Vc,r),h(this,mr).push(t,e)}isEmpty(){return isNaN(h(this,zt)[8])}add({x:t,y:e}){var V;E(this,qo,t),E(this,Go,e);const[s,r,o,c]=h(this,Jn);let[d,p,g,m]=h(this,zt).subarray(8,12);const y=t-g,v=e-m,S=Math.hypot(y,v);if(S<h(this,zd))return!1;const _=S-h(this,jd),T=_/S,M=T*y,C=T*v;let O=d,N=p;d=g,p=m,g+=M,m+=C,(V=h(this,mr))==null||V.push(t,e);const F=-C/_,H=M/_,U=F*h(this,Xc),I=H*h(this,Xc);return h(this,zt).set(h(this,zt).subarray(2,8),0),h(this,zt).set([g+U,m+I],4),h(this,zt).set(h(this,zt).subarray(14,18),12),h(this,zt).set([g-U,m-I],16),isNaN(h(this,zt)[6])?(h(this,vs).length===0&&(h(this,zt).set([d+U,p+I],2),h(this,vs).push(NaN,NaN,NaN,NaN,(d+U-s)/o,(p+I-r)/c),h(this,zt).set([d-U,p-I],14),h(this,Vi).push(NaN,NaN,NaN,NaN,(d-U-s)/o,(p-I-r)/c)),h(this,zt).set([O,N,d,p,g,m],6),!this.isEmpty()):(h(this,zt).set([O,N,d,p,g,m],6),Math.abs(Math.atan2(N-p,O-d)-Math.atan2(C,M))<Math.PI/2?([d,p,g,m]=h(this,zt).subarray(2,6),h(this,vs).push(NaN,NaN,NaN,NaN,((d+g)/2-s)/o,((p+m)/2-r)/c),[d,p,O,N]=h(this,zt).subarray(14,18),h(this,Vi).push(NaN,NaN,NaN,NaN,((O+d)/2-s)/o,((N+p)/2-r)/c),!0):([O,N,d,p,g,m]=h(this,zt).subarray(0,6),h(this,vs).push(((O+5*d)/6-s)/o,((N+5*p)/6-r)/c,((5*d+g)/6-s)/o,((5*p+m)/6-r)/c,((d+g)/2-s)/o,((p+m)/2-r)/c),[g,m,d,p,O,N]=h(this,zt).subarray(12,18),h(this,Vi).push(((O+5*d)/6-s)/o,((N+5*p)/6-r)/c,((5*d+g)/6-s)/o,((5*p+m)/6-r)/c,((d+g)/2-s)/o,((p+m)/2-r)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const t=h(this,vs),e=h(this,Vi);if(isNaN(h(this,zt)[6])&&!this.isEmpty())return w(this,Be,j1).call(this);const s=[];s.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?s.push(`L${t[r+4]} ${t[r+5]}`):s.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);w(this,Be,B1).call(this,s);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?s.push(`L${e[r+4]} ${e[r+5]}`):s.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return w(this,Be,U1).call(this,s),s.join(" ")}newFreeDrawOutline(t,e,s,r,o,c){return new V1(t,e,s,r,o,c)}getOutlines(){var y;const t=h(this,vs),e=h(this,Vi),s=h(this,zt),[r,o,c,d]=h(this,Jn),p=new Float64Array((((y=h(this,mr))==null?void 0:y.length)??0)+2);for(let v=0,S=p.length-2;v<S;v+=2)p[v]=(h(this,mr)[v]-r)/c,p[v+1]=(h(this,mr)[v+1]-o)/d;if(p[p.length-2]=(h(this,qo)-r)/c,p[p.length-1]=(h(this,Go)-o)/d,isNaN(s[6])&&!this.isEmpty())return w(this,Be,I1).call(this,p);const g=new Float64Array(h(this,vs).length+24+h(this,Vi).length);let m=t.length;for(let v=0;v<m;v+=2){if(isNaN(t[v])){g[v]=g[v+1]=NaN;continue}g[v]=t[v],g[v+1]=t[v+1]}m=w(this,Be,G1).call(this,g,m);for(let v=e.length-6;v>=6;v-=6)for(let S=0;S<6;S+=2){if(isNaN(e[v+S])){g[m]=g[m+1]=NaN,m+=2;continue}g[m]=e[v+S],g[m+1]=e[v+S+1],m+=2}return w(this,Be,q1).call(this,g,m),this.newFreeDrawOutline(g,p,h(this,Jn),h(this,Vc),h(this,qc),h(this,Gc))}};Jn=new WeakMap,Vi=new WeakMap,qc=new WeakMap,Gc=new WeakMap,vs=new WeakMap,zt=new WeakMap,qo=new WeakMap,Go=new WeakMap,zd=new WeakMap,jd=new WeakMap,Vc=new WeakMap,Xc=new WeakMap,mr=new WeakMap,Ud=new WeakMap,xg=new WeakMap,Rg=new WeakMap,Be=new WeakSet,Rh=function(){const t=h(this,zt).subarray(4,6),e=h(this,zt).subarray(16,18),[s,r,o,c]=h(this,Jn);return[(h(this,qo)+(t[0]-e[0])/2-s)/o,(h(this,Go)+(t[1]-e[1])/2-r)/c,(h(this,qo)+(e[0]-t[0])/2-s)/o,(h(this,Go)+(e[1]-t[1])/2-r)/c]},j1=function(){const[t,e,s,r]=h(this,Jn),[o,c,d,p]=w(this,Be,Rh).call(this);return`M${(h(this,zt)[2]-t)/s} ${(h(this,zt)[3]-e)/r} L${(h(this,zt)[4]-t)/s} ${(h(this,zt)[5]-e)/r} L${o} ${c} L${d} ${p} L${(h(this,zt)[16]-t)/s} ${(h(this,zt)[17]-e)/r} L${(h(this,zt)[14]-t)/s} ${(h(this,zt)[15]-e)/r} Z`},U1=function(t){const e=h(this,Vi);t.push(`L${e[4]} ${e[5]} Z`)},B1=function(t){const[e,s,r,o]=h(this,Jn),c=h(this,zt).subarray(4,6),d=h(this,zt).subarray(16,18),[p,g,m,y]=w(this,Be,Rh).call(this);t.push(`L${(c[0]-e)/r} ${(c[1]-s)/o} L${p} ${g} L${m} ${y} L${(d[0]-e)/r} ${(d[1]-s)/o}`)},I1=function(t){const e=h(this,zt),[s,r,o,c]=h(this,Jn),[d,p,g,m]=w(this,Be,Rh).call(this),y=new Float64Array(36);return y.set([NaN,NaN,NaN,NaN,(e[2]-s)/o,(e[3]-r)/c,NaN,NaN,NaN,NaN,(e[4]-s)/o,(e[5]-r)/c,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,(e[16]-s)/o,(e[17]-r)/c,NaN,NaN,NaN,NaN,(e[14]-s)/o,(e[15]-r)/c],0),this.newFreeDrawOutline(y,t,h(this,Jn),h(this,Vc),h(this,qc),h(this,Gc))},q1=function(t,e){const s=h(this,Vi);return t.set([NaN,NaN,NaN,NaN,s[4],s[5]],e),e+=6},G1=function(t,e){const s=h(this,zt).subarray(4,6),r=h(this,zt).subarray(16,18),[o,c,d,p]=h(this,Jn),[g,m,y,v]=w(this,Be,Rh).call(this);return t.set([NaN,NaN,NaN,NaN,(s[0]-o)/d,(s[1]-c)/p,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,y,v,NaN,NaN,NaN,NaN,(r[0]-o)/d,(r[1]-c)/p],e),e+=24},x(Ks,Ud,8),x(Ks,xg,2),x(Ks,Rg,h(Ks,Ud)+h(Ks,xg));let lg=Ks;var Yc,Vo,ca,Bd,ti,Id,Te,jn,Ch,Mh,X1;class V1 extends z1{constructor(e,s,r,o,c,d){super();x(this,jn);x(this,Yc);x(this,Vo,null);x(this,ca);x(this,Bd);x(this,ti);x(this,Id);x(this,Te);E(this,Te,e),E(this,ti,s),E(this,Yc,r),E(this,Id,o),E(this,ca,c),E(this,Bd,d),w(this,jn,X1).call(this,d);const{x:p,y:g,width:m,height:y}=h(this,Vo);for(let v=0,S=e.length;v<S;v+=2)e[v]=(e[v]-p)/m,e[v+1]=(e[v+1]-g)/y;for(let v=0,S=s.length;v<S;v+=2)s[v]=(s[v]-p)/m,s[v+1]=(s[v+1]-g)/y}toSVGPath(){const e=[`M${h(this,Te)[4]} ${h(this,Te)[5]}`];for(let s=6,r=h(this,Te).length;s<r;s+=6){if(isNaN(h(this,Te)[s])){e.push(`L${h(this,Te)[s+4]} ${h(this,Te)[s+5]}`);continue}e.push(`C${h(this,Te)[s]} ${h(this,Te)[s+1]} ${h(this,Te)[s+2]} ${h(this,Te)[s+3]} ${h(this,Te)[s+4]} ${h(this,Te)[s+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,s,r,o],c){const d=r-e,p=o-s;let g,m;switch(c){case 0:g=w(this,jn,Ch).call(this,h(this,Te),e,o,d,-p),m=w(this,jn,Ch).call(this,h(this,ti),e,o,d,-p);break;case 90:g=w(this,jn,Mh).call(this,h(this,Te),e,s,d,p),m=w(this,jn,Mh).call(this,h(this,ti),e,s,d,p);break;case 180:g=w(this,jn,Ch).call(this,h(this,Te),r,s,-d,p),m=w(this,jn,Ch).call(this,h(this,ti),r,s,-d,p);break;case 270:g=w(this,jn,Mh).call(this,h(this,Te),r,o,-d,-p),m=w(this,jn,Mh).call(this,h(this,ti),r,o,-d,-p);break}return{outline:Array.from(g),points:[Array.from(m)]}}get box(){return h(this,Vo)}newOutliner(e,s,r,o,c,d=0){return new lg(e,s,r,o,c,d)}getNewOutline(e,s){const{x:r,y:o,width:c,height:d}=h(this,Vo),[p,g,m,y]=h(this,Yc),v=c*m,S=d*y,_=r*m+p,T=o*y+g,M=this.newOutliner({x:h(this,ti)[0]*v+_,y:h(this,ti)[1]*S+T},h(this,Yc),h(this,Id),e,h(this,Bd),s??h(this,ca));for(let C=2;C<h(this,ti).length;C+=2)M.add({x:h(this,ti)[C]*v+_,y:h(this,ti)[C+1]*S+T});return M.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Yc=new WeakMap,Vo=new WeakMap,ca=new WeakMap,Bd=new WeakMap,ti=new WeakMap,Id=new WeakMap,Te=new WeakMap,jn=new WeakSet,Ch=function(e,s,r,o,c){const d=new Float64Array(e.length);for(let p=0,g=e.length;p<g;p+=2)d[p]=s+e[p]*o,d[p+1]=r+e[p+1]*c;return d},Mh=function(e,s,r,o,c){const d=new Float64Array(e.length);for(let p=0,g=e.length;p<g;p+=2)d[p]=s+e[p+1]*o,d[p+1]=r+e[p]*c;return d},X1=function(e){const s=h(this,Te);let r=s[4],o=s[5],c=r,d=o,p=r,g=o,m=r,y=o;const v=e?Math.max:Math.min;for(let C=6,O=s.length;C<O;C+=6){if(isNaN(s[C]))c=Math.min(c,s[C+4]),d=Math.min(d,s[C+5]),p=Math.max(p,s[C+4]),g=Math.max(g,s[C+5]),y<s[C+5]?(m=s[C+4],y=s[C+5]):y===s[C+5]&&(m=v(m,s[C+4]));else{const N=bt.bezierBoundingBox(r,o,...s.slice(C,C+6));c=Math.min(c,N[0]),d=Math.min(d,N[1]),p=Math.max(p,N[2]),g=Math.max(g,N[3]),y<N[3]?(m=N[2],y=N[3]):y===N[3]&&(m=v(m,N[2]))}r=s[C+4],o=s[C+5]}const S=c-h(this,ca),_=d-h(this,ca),T=p-c+2*h(this,ca),M=g-d+2*h(this,ca);E(this,Vo,{x:S,y:_,width:T,height:M,lastPoint:[m,y]})};var qd,br,Xi,Cn,Y1,Yp,K1,$1,mv;class PE{constructor(t,e=0,s=0,r=!0){x(this,Cn);x(this,qd);x(this,br,[]);x(this,Xi,[]);let o=1/0,c=-1/0,d=1/0,p=-1/0;const g=10**-4;for(const{x:M,y:C,width:O,height:N}of t){const F=Math.floor((M-e)/g)*g,H=Math.ceil((M+O+e)/g)*g,U=Math.floor((C-e)/g)*g,I=Math.ceil((C+N+e)/g)*g,Y=[F,U,I,!0],V=[H,U,I,!1];h(this,br).push(Y,V),o=Math.min(o,F),c=Math.max(c,H),d=Math.min(d,U),p=Math.max(p,I)}const m=c-o+2*s,y=p-d+2*s,v=o-s,S=d-s,_=h(this,br).at(r?-1:-2),T=[_[0],_[2]];for(const M of h(this,br)){const[C,O,N]=M;M[0]=(C-v)/m,M[1]=(O-S)/y,M[2]=(N-S)/y}E(this,qd,{x:v,y:S,width:m,height:y,lastPoint:T})}getOutlines(){h(this,br).sort((e,s)=>e[0]-s[0]||e[1]-s[1]||e[2]-s[2]);const t=[];for(const e of h(this,br))e[3]?(t.push(...w(this,Cn,mv).call(this,e)),w(this,Cn,K1).call(this,e)):(w(this,Cn,$1).call(this,e),t.push(...w(this,Cn,mv).call(this,e)));return w(this,Cn,Y1).call(this,t)}}qd=new WeakMap,br=new WeakMap,Xi=new WeakMap,Cn=new WeakSet,Y1=function(t){const e=[],s=new Set;for(const c of t){const[d,p,g]=c;e.push([d,p,c],[d,g,c])}e.sort((c,d)=>c[1]-d[1]||c[0]-d[0]);for(let c=0,d=e.length;c<d;c+=2){const p=e[c][2],g=e[c+1][2];p.push(g),g.push(p),s.add(p),s.add(g)}const r=[];let o;for(;s.size>0;){const c=s.values().next().value;let[d,p,g,m,y]=c;s.delete(c);let v=d,S=p;for(o=[d,g],r.push(o);;){let _;if(s.has(m))_=m;else if(s.has(y))_=y;else break;s.delete(_),[d,p,g,m,y]=_,v!==d&&(o.push(v,S,d,S===p?p:g),v=d),S=S===p?g:p}o.push(v,S)}return new ZO(r,h(this,qd))},Yp=function(t){const e=h(this,Xi);let s=0,r=e.length-1;for(;s<=r;){const o=s+r>>1,c=e[o][0];if(c===t)return o;c<t?s=o+1:r=o-1}return r+1},K1=function([,t,e]){const s=w(this,Cn,Yp).call(this,t);h(this,Xi).splice(s,0,[t,e])},$1=function([,t,e]){const s=w(this,Cn,Yp).call(this,t);for(let r=s;r<h(this,Xi).length;r++){const[o,c]=h(this,Xi)[r];if(o!==t)break;if(o===t&&c===e){h(this,Xi).splice(r,1);return}}for(let r=s-1;r>=0;r--){const[o,c]=h(this,Xi)[r];if(o!==t)break;if(o===t&&c===e){h(this,Xi).splice(r,1);return}}},mv=function(t){const[e,s,r]=t,o=[[e,s,r]],c=w(this,Cn,Yp).call(this,r);for(let d=0;d<c;d++){const[p,g]=h(this,Xi)[d];for(let m=0,y=o.length;m<y;m++){const[,v,S]=o[m];if(!(g<=v||S<=p)){if(v>=p){if(S>g)o[m][1]=g;else{if(y===1)return[];o.splice(m,1),m--,y--}continue}o[m][2]=p,S>g&&o.push([e,g,S])}}}return o};var Gd,Kc;class ZO extends z1{constructor(e,s){super();x(this,Gd);x(this,Kc);E(this,Kc,e),E(this,Gd,s)}toSVGPath(){const e=[];for(const s of h(this,Kc)){let[r,o]=s;e.push(`M${r} ${o}`);for(let c=2;c<s.length;c+=2){const d=s[c],p=s[c+1];d===r?(e.push(`V${p}`),o=p):p===o&&(e.push(`H${d}`),r=d)}e.push("Z")}return e.join(" ")}serialize([e,s,r,o],c){const d=[],p=r-e,g=o-s;for(const m of h(this,Kc)){const y=new Array(m.length);for(let v=0;v<m.length;v+=2)y[v]=e+m[v]*p,y[v+1]=o-m[v+1]*g;d.push(y)}return d}get box(){return h(this,Gd)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Gd=new WeakMap,Kc=new WeakMap;class bv extends lg{newFreeDrawOutline(t,e,s,r,o,c){return new JO(t,e,s,r,o,c)}get classNamesForDrawing(){return["highlight","free"]}}class JO extends V1{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,e,s,r,o,c=0){return new bv(t,e,s,r,o,c)}}var Yi,Xo,$c,ze,Vd,Wc,Xd,Yd,yr,Ki,Qc,Kd,ee,yv,vv,Av,to,W1,Wa;const kn=class kn{constructor({editor:t=null,uiManager:e=null}){x(this,ee);x(this,Yi,null);x(this,Xo,null);x(this,$c);x(this,ze,null);x(this,Vd,!1);x(this,Wc,!1);x(this,Xd,null);x(this,Yd);x(this,yr,null);x(this,Ki,null);x(this,Qc);var s;t?(E(this,Wc,!1),E(this,Qc,Tt.HIGHLIGHT_COLOR),E(this,Xd,t)):(E(this,Wc,!0),E(this,Qc,Tt.HIGHLIGHT_DEFAULT_COLOR)),E(this,Ki,(t==null?void 0:t._uiManager)||e),E(this,Yd,h(this,Ki)._eventBus),E(this,$c,(t==null?void 0:t.color)||((s=h(this,Ki))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),h(kn,Kd)||E(kn,Kd,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return qt(this,"_keyboardManager",new af([[["Escape","mac+Escape"],kn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],kn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],kn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],kn.prototype._moveToPrevious],[["Home","mac+Home"],kn.prototype._moveToBeginning],[["End","mac+End"],kn.prototype._moveToEnd]]))}renderButton(){const t=E(this,Yi,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=h(this,Ki)._signal;t.addEventListener("click",w(this,ee,to).bind(this),{signal:e}),t.addEventListener("keydown",w(this,ee,Av).bind(this),{signal:e});const s=E(this,Xo,document.createElement("span"));return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=h(this,$c),t.append(s),t}renderMainDropdown(){const t=E(this,ze,w(this,ee,yv).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===h(this,Yi)){w(this,ee,to).call(this,t);return}const e=t.target.getAttribute("data-color");e&&w(this,ee,vv).call(this,e,t)}_moveToNext(t){var e,s;if(!h(this,ee,Wa)){w(this,ee,to).call(this,t);return}if(t.target===h(this,Yi)){(e=h(this,ze).firstChild)==null||e.focus();return}(s=t.target.nextSibling)==null||s.focus()}_moveToPrevious(t){var e,s;if(t.target===((e=h(this,ze))==null?void 0:e.firstChild)||t.target===h(this,Yi)){h(this,ee,Wa)&&this._hideDropdownFromKeyboard();return}h(this,ee,Wa)||w(this,ee,to).call(this,t),(s=t.target.previousSibling)==null||s.focus()}_moveToBeginning(t){var e;if(!h(this,ee,Wa)){w(this,ee,to).call(this,t);return}(e=h(this,ze).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!h(this,ee,Wa)){w(this,ee,to).call(this,t);return}(e=h(this,ze).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=h(this,ze))==null||t.classList.add("hidden"),(e=h(this,yr))==null||e.abort(),E(this,yr,null)}_hideDropdownFromKeyboard(){var t;if(!h(this,Wc)){if(!h(this,ee,Wa)){(t=h(this,Xd))==null||t.unselect();return}this.hideDropdown(),h(this,Yi).focus({preventScroll:!0,focusVisible:h(this,Vd)})}}updateColor(t){if(h(this,Xo)&&(h(this,Xo).style.backgroundColor=t),!h(this,ze))return;const e=h(this,Ki).highlightColors.values();for(const s of h(this,ze).children)s.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=h(this,Yi))==null||t.remove(),E(this,Yi,null),E(this,Xo,null),(e=h(this,ze))==null||e.remove(),E(this,ze,null)}};Yi=new WeakMap,Xo=new WeakMap,$c=new WeakMap,ze=new WeakMap,Vd=new WeakMap,Wc=new WeakMap,Xd=new WeakMap,Yd=new WeakMap,yr=new WeakMap,Ki=new WeakMap,Qc=new WeakMap,Kd=new WeakMap,ee=new WeakSet,yv=function(){const t=document.createElement("div"),e=h(this,Ki)._signal;t.addEventListener("contextmenu",Mi,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,r]of h(this,Ki).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=s,o.setAttribute("data-l10n-id",h(kn,Kd)[s]);const c=document.createElement("span");o.append(c),c.className="swatch",c.style.backgroundColor=r,o.setAttribute("aria-selected",r===h(this,$c)),o.addEventListener("click",w(this,ee,vv).bind(this,r),{signal:e}),t.append(o)}return t.addEventListener("keydown",w(this,ee,Av).bind(this),{signal:e}),t},vv=function(t,e){e.stopPropagation(),h(this,Yd).dispatch("switchannotationeditorparams",{source:this,type:h(this,Qc),value:t})},Av=function(t){kn._keyboardManager.exec(this,t)},to=function(t){if(h(this,ee,Wa)){this.hideDropdown();return}if(E(this,Vd,t.detail===0),h(this,yr)||(E(this,yr,new AbortController),window.addEventListener("pointerdown",w(this,ee,W1).bind(this),{signal:h(this,Ki).combinedSignal(h(this,yr))})),h(this,ze)){h(this,ze).classList.remove("hidden");return}const e=E(this,ze,w(this,ee,yv).call(this));h(this,Yi).append(e)},W1=function(t){var e;(e=h(this,ze))!=null&&e.contains(t.target)||this.hideDropdown()},Wa=function(){return h(this,ze)&&!h(this,ze).classList.contains("hidden")},x(kn,Kd,null);let cg=kn;var Zc,$d,ua,Yo,Jc,Ei,Wd,Qd,Ko,$i,gn,Hn,tu,ha,je,eu,wi,Zd,Dt,Sv,Kp,Q1,Z1,J1,_v,eo,Ri,ic,tT,$p,Dh,eT,nT,iT,sT,aT;const Kt=class Kt extends Zt{constructor(e){super({...e,name:"highlightEditor"});x(this,Dt);x(this,Zc,null);x(this,$d,0);x(this,ua);x(this,Yo,null);x(this,Jc,null);x(this,Ei,null);x(this,Wd,null);x(this,Qd,0);x(this,Ko,null);x(this,$i,null);x(this,gn,null);x(this,Hn,!1);x(this,tu,null);x(this,ha);x(this,je,null);x(this,eu,"");x(this,wi);x(this,Zd,"");this.color=e.color||Kt._defaultColor,E(this,wi,e.thickness||Kt._defaultThickness),E(this,ha,e.opacity||Kt._defaultOpacity),E(this,ua,e.boxes||null),E(this,Zd,e.methodOfCreation||""),E(this,eu,e.text||""),this._isDraggable=!1,e.highlightId>-1?(E(this,Hn,!0),w(this,Dt,Kp).call(this,e),w(this,Dt,eo).call(this)):h(this,ua)&&(E(this,Zc,e.anchorNode),E(this,$d,e.anchorOffset),E(this,Wd,e.focusNode),E(this,Qd,e.focusOffset),w(this,Dt,Sv).call(this),w(this,Dt,eo).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=Kt.prototype;return qt(this,"_keyboardManager",new af([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:h(this,Hn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:h(this,wi),methodOfCreation:h(this,Zd)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,s){var r;Zt.initialize(e,s),Kt._defaultColor||(Kt._defaultColor=((r=s.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(e,s){switch(e){case Tt.HIGHLIGHT_DEFAULT_COLOR:Kt._defaultColor=s;break;case Tt.HIGHLIGHT_THICKNESS:Kt._defaultThickness=s;break}}translateInPage(e,s){}get toolbarPosition(){return h(this,tu)}updateParams(e,s){switch(e){case Tt.HIGHLIGHT_COLOR:w(this,Dt,Q1).call(this,s);break;case Tt.HIGHLIGHT_THICKNESS:w(this,Dt,Z1).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Tt.HIGHLIGHT_DEFAULT_COLOR,Kt._defaultColor],[Tt.HIGHLIGHT_THICKNESS,Kt._defaultThickness]]}get propertiesToUpdate(){return[[Tt.HIGHLIGHT_COLOR,this.color||Kt._defaultColor],[Tt.HIGHLIGHT_THICKNESS,h(this,wi)||Kt._defaultThickness],[Tt.HIGHLIGHT_FREE,h(this,Hn)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(E(this,Jc,new cg({editor:this})),e.addColorPicker(h(this,Jc))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(w(this,Dt,Dh).call(this))}getBaseTranslation(){return[0,0]}getRect(e,s){return super.getRect(e,s,w(this,Dt,Dh).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){w(this,Dt,_v).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(w(this,Dt,eo).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let s=!1;this.parent&&!e?w(this,Dt,_v).call(this):e&&(w(this,Dt,eo).call(this,e),s=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),s&&this.select()}rotate(e){var o,c,d;const{drawLayer:s}=this.parent;let r;h(this,Hn)?(e=(e-this.rotation+360)%360,r=w(o=Kt,Ri,ic).call(o,h(this,$i).box,e)):r=w(c=Kt,Ri,ic).call(c,this,e),s.rotate(h(this,gn),e),s.rotate(h(this,je),e),s.updateBox(h(this,gn),r),s.updateBox(h(this,je),w(d=Kt,Ri,ic).call(d,h(this,Ei).box,e))}render(){if(this.div)return this.div;const e=super.render();h(this,eu)&&(e.setAttribute("aria-label",h(this,eu)),e.setAttribute("role","mark")),h(this,Hn)?e.classList.add("free"):this.div.addEventListener("keydown",w(this,Dt,tT).bind(this),{signal:this._uiManager._signal});const s=E(this,Ko,document.createElement("div"));e.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=h(this,Yo);const[r,o]=this.parentDimensions;return this.setDims(this.width*r,this.height*o),rg(this,h(this,Ko),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(h(this,je),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(h(this,je),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:w(this,Dt,$p).call(this,!0);break;case 1:case 3:w(this,Dt,$p).call(this,!1);break}}select(){var e,s;super.select(),h(this,je)&&((e=this.parent)==null||e.drawLayer.removeClass(h(this,je),"hovered"),(s=this.parent)==null||s.drawLayer.addClass(h(this,je),"selected"))}unselect(){var e;super.unselect(),h(this,je)&&((e=this.parent)==null||e.drawLayer.removeClass(h(this,je),"selected"),h(this,Hn)||w(this,Dt,$p).call(this,!1))}get _mustFixPosition(){return!h(this,Hn)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(h(this,gn),e),this.parent.drawLayer.show(h(this,je),e))}static startHighlighting(e,s,{target:r,x:o,y:c}){const{x:d,y:p,width:g,height:m}=r.getBoundingClientRect(),y=new AbortController,v=e.combinedSignal(y),S=T=>{T.preventDefault(),T.stopPropagation()},_=T=>{y.abort(),w(this,Ri,sT).call(this,e,T)};window.addEventListener("blur",_,{signal:v}),window.addEventListener("pointerup",_,{signal:v}),window.addEventListener("pointerdown",S,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",Mi,{signal:v}),r.addEventListener("pointermove",w(this,Ri,iT).bind(this,e),{signal:v}),this._freeHighlight=new bv({x:o,y:c},[d,p,g,m],e.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(e,s,r){var T,M,C,O;let o=null;if(e instanceof D1){const{data:{quadPoints:N,rect:F,rotation:H,id:U,color:I,opacity:Y,popupRef:V},parent:{page:{pageNumber:et}}}=e;o=e={annotationType:Nt.HIGHLIGHT,color:Array.from(I),opacity:Y,quadPoints:N,boxes:null,pageIndex:et-1,rect:F.slice(0),rotation:H,id:U,deleted:!1,popupRef:V}}else if(e instanceof a0){const{data:{inkLists:N,rect:F,rotation:H,id:U,color:I,borderStyle:{rawWidth:Y},popupRef:V},parent:{page:{pageNumber:et}}}=e;o=e={annotationType:Nt.HIGHLIGHT,color:Array.from(I),thickness:Y,inkLists:N,boxes:null,pageIndex:et-1,rect:F.slice(0),rotation:H,id:U,deleted:!1,popupRef:V}}const{color:c,quadPoints:d,inkLists:p,opacity:g}=e,m=await super.deserialize(e,s,r);m.color=bt.makeHexColor(...c),E(m,ha,g||1),p&&E(m,wi,e.thickness),m.annotationElementId=e.id||null,m._initialData=o;const[y,v]=m.pageDimensions,[S,_]=m.pageTranslation;if(d){const N=E(m,ua,[]);for(let F=0;F<d.length;F+=8)N.push({x:(d[F]-S)/y,y:1-(d[F+1]-_)/v,width:(d[F+2]-d[F])/y,height:(d[F+1]-d[F+5])/v});w(T=m,Dt,Sv).call(T),w(M=m,Dt,eo).call(M),m.rotate(m.rotation)}else if(p){E(m,Hn,!0);const N=p[0],F={x:N[0]-S,y:v-(N[1]-_)},H=new bv(F,[0,0,y,v],1,h(m,wi)/2,!0,.001);for(let Y=0,V=N.length;Y<V;Y+=2)F.x=N[Y]-S,F.y=v-(N[Y+1]-_),H.add(F);const{id:U,clipPathId:I}=s.drawLayer.draw(H,m.color,m._defaultOpacity,!0);w(C=m,Dt,Kp).call(C,{highlightOutlines:H.getOutlines(),highlightId:U,clipPathId:I}),w(O=m,Dt,eo).call(O)}return m}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const s=this.getRect(0,0),r=Zt._colorManager.convert(this.color),o={annotationType:Nt.HIGHLIGHT,color:r,opacity:h(this,ha),thickness:h(this,wi),quadPoints:w(this,Dt,eT).call(this),outlines:w(this,Dt,nT).call(this,s),pageIndex:this.pageIndex,rect:s,rotation:w(this,Dt,Dh).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!w(this,Dt,aT).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Zc=new WeakMap,$d=new WeakMap,ua=new WeakMap,Yo=new WeakMap,Jc=new WeakMap,Ei=new WeakMap,Wd=new WeakMap,Qd=new WeakMap,Ko=new WeakMap,$i=new WeakMap,gn=new WeakMap,Hn=new WeakMap,tu=new WeakMap,ha=new WeakMap,je=new WeakMap,eu=new WeakMap,wi=new WeakMap,Zd=new WeakMap,Dt=new WeakSet,Sv=function(){const e=new PE(h(this,ua),.001);E(this,$i,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=h(this,$i).box;const s=new PE(h(this,ua),.0025,.001,this._uiManager.direction==="ltr");E(this,Ei,s.getOutlines());const{lastPoint:r}=h(this,Ei).box;E(this,tu,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},Kp=function({highlightOutlines:e,highlightId:s,clipPathId:r}){var y,v;if(E(this,$i,e),E(this,Ei,e.getNewOutline(h(this,wi)/2+1.5,.0025)),s>=0)E(this,gn,s),E(this,Yo,r),this.parent.drawLayer.finalizeLine(s,e),E(this,je,this.parent.drawLayer.drawOutline(h(this,Ei)));else if(this.parent){const S=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(h(this,gn),e),this.parent.drawLayer.updateBox(h(this,gn),w(y=Kt,Ri,ic).call(y,h(this,$i).box,(S-this.rotation+360)%360)),this.parent.drawLayer.updateLine(h(this,je),h(this,Ei)),this.parent.drawLayer.updateBox(h(this,je),w(v=Kt,Ri,ic).call(v,h(this,Ei).box,S))}const{x:c,y:d,width:p,height:g}=e.box;switch(this.rotation){case 0:this.x=c,this.y=d,this.width=p,this.height=g;break;case 90:{const[S,_]=this.parentDimensions;this.x=d,this.y=1-c,this.width=p*_/S,this.height=g*S/_;break}case 180:this.x=1-c,this.y=1-d,this.width=p,this.height=g;break;case 270:{const[S,_]=this.parentDimensions;this.x=1-d,this.y=c,this.width=p*_/S,this.height=g*S/_;break}}const{lastPoint:m}=h(this,Ei).box;E(this,tu,[(m[0]-c)/p,(m[1]-d)/g])},Q1=function(e){const s=(c,d)=>{var p,g,m;this.color=c,(p=this.parent)==null||p.drawLayer.changeColor(h(this,gn),c),(g=h(this,Jc))==null||g.updateColor(c),E(this,ha,d),(m=this.parent)==null||m.drawLayer.changeOpacity(h(this,gn),d)},r=this.color,o=h(this,ha);this.addCommands({cmd:s.bind(this,e,Kt._defaultOpacity),undo:s.bind(this,r,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},Z1=function(e){const s=h(this,wi),r=o=>{E(this,wi,o),w(this,Dt,J1).call(this,o)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},J1=function(e){if(!h(this,Hn))return;w(this,Dt,Kp).call(this,{highlightOutlines:h(this,$i).getNewOutline(e/2)}),this.fixAndSetPosition();const[s,r]=this.parentDimensions;this.setDims(this.width*s,this.height*r)},_v=function(){h(this,gn)===null||!this.parent||(this.parent.drawLayer.remove(h(this,gn)),E(this,gn,null),this.parent.drawLayer.remove(h(this,je)),E(this,je,null))},eo=function(e=this.parent){h(this,gn)===null&&({id:_n(this,gn)._,clipPathId:_n(this,Yo)._}=e.drawLayer.draw(h(this,$i),this.color,h(this,ha)),E(this,je,e.drawLayer.drawOutline(h(this,Ei))),h(this,Ko)&&(h(this,Ko).style.clipPath=h(this,Yo)))},Ri=new WeakSet,ic=function({x:e,y:s,width:r,height:o},c){switch(c){case 90:return{x:1-s-o,y:e,width:o,height:r};case 180:return{x:1-e-r,y:1-s-o,width:r,height:o};case 270:return{x:s,y:1-e-r,width:o,height:r}}return{x:e,y:s,width:r,height:o}},tT=function(e){Kt._keyboardManager.exec(this,e)},$p=function(e){if(!h(this,Zc))return;const s=window.getSelection();e?s.setPosition(h(this,Zc),h(this,$d)):s.setPosition(h(this,Wd),h(this,Qd))},Dh=function(){return h(this,Hn)?this.rotation:0},eT=function(){if(h(this,Hn))return null;const[e,s]=this.pageDimensions,[r,o]=this.pageTranslation,c=h(this,ua),d=new Float32Array(c.length*8);let p=0;for(const{x:g,y:m,width:y,height:v}of c){const S=g*e+r,_=(1-m-v)*s+o;d[p]=d[p+4]=S,d[p+1]=d[p+3]=_,d[p+2]=d[p+6]=S+y*e,d[p+5]=d[p+7]=_+v*s,p+=8}return d},nT=function(e){return h(this,$i).serialize(e,w(this,Dt,Dh).call(this))},iT=function(e,s){this._freeHighlight.add(s)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},sT=function(e,s){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},aT=function(e){const{color:s}=this._initialData;return e.color.some((r,o)=>r!==s[o])},x(Kt,Ri),wt(Kt,"_defaultColor",null),wt(Kt,"_defaultOpacity",1),wt(Kt,"_defaultThickness",12),wt(Kt,"_type","highlight"),wt(Kt,"_editorType",Nt.HIGHLIGHT),wt(Kt,"_freeHighlightId",-1),wt(Kt,"_freeHighlight",null),wt(Kt,"_freeHighlightClipId","");let ug=Kt;var $o,Wo,As,da,Ti,Qo,Zo,Jo,fa,nu,tl,el,vr,at,rT,oT,lT,cT,wv,uT,Tv,hT,dT,fT,pT,gT,no,xv,Rv,Cv,Wp,Qp,sc,Mv,Zp,wa,mT,Dv,bT,yT,Ov,Jp,Oh;const pe=class pe extends Zt{constructor(e){super({...e,name:"inkEditor"});x(this,at);x(this,$o,0);x(this,Wo,0);x(this,As,null);x(this,da,new Path2D);x(this,Ti,!1);x(this,Qo,null);x(this,Zo,!1);x(this,Jo,!1);x(this,fa,null);x(this,nu,null);x(this,tl,0);x(this,el,0);x(this,vr,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,s){Zt.initialize(e,s)}static updateDefaultParams(e,s){switch(e){case Tt.INK_THICKNESS:pe._defaultThickness=s;break;case Tt.INK_COLOR:pe._defaultColor=s;break;case Tt.INK_OPACITY:pe._defaultOpacity=s/100;break}}updateParams(e,s){switch(e){case Tt.INK_THICKNESS:w(this,at,rT).call(this,s);break;case Tt.INK_COLOR:w(this,at,oT).call(this,s);break;case Tt.INK_OPACITY:w(this,at,lT).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Tt.INK_THICKNESS,pe._defaultThickness],[Tt.INK_COLOR,pe._defaultColor||Zt._defaultLineColor],[Tt.INK_OPACITY,Math.round(pe._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Tt.INK_THICKNESS,this.thickness||pe._defaultThickness],[Tt.INK_COLOR,this.color||pe._defaultColor||Zt._defaultLineColor],[Tt.INK_OPACITY,Math.round(100*(this.opacity??pe._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(w(this,at,Wp).call(this),w(this,at,Qp).call(this)),this.isAttachedToDOM||(this.parent.add(this),w(this,at,sc).call(this)),w(this,at,Oh).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,h(this,As)&&(clearTimeout(h(this,As)),E(this,As,null)),(e=h(this,fa))==null||e.disconnect(),E(this,fa,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,s]=this.parentDimensions,r=this.width*e,o=this.height*s;this.setDimensions(r,o)}enableEditMode(){h(this,Ti)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,w(this,at,xv).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),w(this,at,Rv).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){h(this,Ti)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),E(this,Ti,!0),this.div.classList.add("disabled"),w(this,at,Oh).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||h(this,Ti)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),w(this,at,uT).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),w(this,at,Tv).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),w(this,at,Cv).call(this,e)}canvasPointerleave(e){w(this,at,Cv).call(this,e)}get isResizable(){return!this.isEmpty()&&h(this,Ti)}render(){if(this.div)return this.div;let e,s;this.width&&(e=this.x,s=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,o,c,d]=w(this,at,cT).call(this);if(this.setAt(r,o,0,0),this.setDims(c,d),w(this,at,Wp).call(this),this.width){const[p,g]=this.parentDimensions;this.setAspectRatio(this.width*p,this.height*g),this.setAt(e*p,s*g,this.width*p,this.height*g),E(this,Jo,!0),w(this,at,sc).call(this),this.setDims(this.width*p,this.height*g),w(this,at,no).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return w(this,at,Qp).call(this),this.div}setDimensions(e,s){const r=Math.round(e),o=Math.round(s);if(h(this,tl)===r&&h(this,el)===o)return;E(this,tl,r),E(this,el,o),this.canvas.style.visibility="hidden";const[c,d]=this.parentDimensions;this.width=e/c,this.height=s/d,this.fixAndSetPosition(),h(this,Ti)&&w(this,at,Mv).call(this,e,s),w(this,at,sc).call(this),w(this,at,no).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,s,r){var M,C,O;if(e instanceof a0)return null;const o=await super.deserialize(e,s,r);o.thickness=e.thickness,o.color=bt.makeHexColor(...e.color),o.opacity=e.opacity;const[c,d]=o.pageDimensions,p=o.width*c,g=o.height*d,m=o.parentScale,y=e.thickness/2;E(o,Ti,!0),E(o,tl,Math.round(p)),E(o,el,Math.round(g));const{paths:v,rect:S,rotation:_}=e;for(let{bezier:N}of v){N=w(M=pe,wa,bT).call(M,N,S,_);const F=[];o.paths.push(F);let H=m*(N[0]-y),U=m*(N[1]-y);for(let Y=2,V=N.length;Y<V;Y+=6){const et=m*(N[Y]-y),nt=m*(N[Y+1]-y),ht=m*(N[Y+2]-y),ut=m*(N[Y+3]-y),ft=m*(N[Y+4]-y),mt=m*(N[Y+5]-y);F.push([[H,U],[et,nt],[ht,ut],[ft,mt]]),H=ft,U=mt}const I=w(this,wa,mT).call(this,F);o.bezierPath2D.push(I)}const T=w(C=o,at,Ov).call(C);return E(o,Wo,Math.max(Zt.MIN_SIZE,T[2]-T[0])),E(o,$o,Math.max(Zt.MIN_SIZE,T[3]-T[1])),w(O=o,at,Mv).call(O,p,g),o}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),s=Zt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Nt.INK,color:s,thickness:this.thickness,opacity:this.opacity,paths:w(this,at,yT).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};$o=new WeakMap,Wo=new WeakMap,As=new WeakMap,da=new WeakMap,Ti=new WeakMap,Qo=new WeakMap,Zo=new WeakMap,Jo=new WeakMap,fa=new WeakMap,nu=new WeakMap,tl=new WeakMap,el=new WeakMap,vr=new WeakMap,at=new WeakSet,rT=function(e){const s=o=>{this.thickness=o,w(this,at,Oh).call(this)},r=this.thickness;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},oT=function(e){const s=o=>{this.color=o,w(this,at,no).call(this)},r=this.color;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},lT=function(e){const s=o=>{this.opacity=o,w(this,at,no).call(this)};e/=100;const r=this.opacity;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Tt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},cT=function(){const{parentRotation:e,parentDimensions:[s,r]}=this;switch(e){case 90:return[0,r,r,s];case 180:return[s,r,s,r];case 270:return[s,0,r,s];default:return[0,0,s,r]}},wv=function(){const{ctx:e,color:s,opacity:r,thickness:o,parentScale:c,scaleFactor:d}=this;e.lineWidth=o*c/d,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${s}${SD(r)}`},uT=function(e,s){this.canvas.addEventListener("contextmenu",Mi,{signal:this._uiManager._signal}),w(this,at,Rv).call(this),E(this,Qo,new AbortController);const r=this._uiManager.combinedSignal(h(this,Qo));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,h(this,Jo)||(E(this,Jo,!0),w(this,at,sc).call(this),this.thickness||(this.thickness=pe._defaultThickness),this.color||(this.color=pe._defaultColor||Zt._defaultLineColor),this.opacity??(this.opacity=pe._defaultOpacity)),this.currentPath.push([e,s]),E(this,Zo,!1),w(this,at,wv).call(this),E(this,vr,()=>{w(this,at,fT).call(this),h(this,vr)&&window.requestAnimationFrame(h(this,vr))}),window.requestAnimationFrame(h(this,vr))},Tv=function(e,s){const[r,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===r&&s===o)return;const c=this.currentPath;let d=h(this,da);if(c.push([e,s]),E(this,Zo,!0),c.length<=2){d.moveTo(...c[0]),d.lineTo(e,s);return}c.length===3&&(E(this,da,d=new Path2D),d.moveTo(...c[0])),w(this,at,pT).call(this,d,...c.at(-3),...c.at(-2),e,s)},hT=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);h(this,da).lineTo(...e)},dT=function(e,s){E(this,vr,null),e=Math.min(Math.max(e,0),this.canvas.width),s=Math.min(Math.max(s,0),this.canvas.height),w(this,at,Tv).call(this,e,s),w(this,at,hT).call(this);let r;if(this.currentPath.length!==1)r=w(this,at,gT).call(this);else{const g=[e,s];r=[[g,g.slice(),g.slice(),g]]}const o=h(this,da),c=this.currentPath;this.currentPath=[],E(this,da,new Path2D);const d=()=>{this.allRawPaths.push(c),this.paths.push(r),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},p=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(w(this,at,Wp).call(this),w(this,at,Qp).call(this)),w(this,at,Oh).call(this))};this.addCommands({cmd:d,undo:p,mustExec:!0})},fT=function(){if(!h(this,Zo))return;E(this,Zo,!1);const e=Math.ceil(this.thickness*this.parentScale),s=this.currentPath.slice(-3),r=s.map(d=>d[0]),o=s.map(d=>d[1]);Math.min(...r)-e,Math.max(...r)+e,Math.min(...o)-e,Math.max(...o)+e;const{ctx:c}=this;c.save(),c.clearRect(0,0,this.canvas.width,this.canvas.height);for(const d of this.bezierPath2D)c.stroke(d);c.stroke(h(this,da)),c.restore()},pT=function(e,s,r,o,c,d,p){const g=(s+o)/2,m=(r+c)/2,y=(o+d)/2,v=(c+p)/2;e.bezierCurveTo(g+2*(o-g)/3,m+2*(c-m)/3,y+2*(o-y)/3,v+2*(c-v)/3,y,v)},gT=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const s=[];let r,[o,c]=e[0];for(r=1;r<e.length-2;r++){const[S,_]=e[r],[T,M]=e[r+1],C=(S+T)/2,O=(_+M)/2,N=[o+2*(S-o)/3,c+2*(_-c)/3],F=[C+2*(S-C)/3,O+2*(_-O)/3];s.push([[o,c],N,F,[C,O]]),[o,c]=[C,O]}const[d,p]=e[r],[g,m]=e[r+1],y=[o+2*(d-o)/3,c+2*(p-c)/3],v=[g+2*(d-g)/3,m+2*(p-m)/3];return s.push([[o,c],y,v,[g,m]]),s},no=function(){if(this.isEmpty()){w(this,at,Zp).call(this);return}w(this,at,wv).call(this);const{canvas:e,ctx:s}=this;s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,e.width,e.height),w(this,at,Zp).call(this);for(const r of this.bezierPath2D)s.stroke(r)},xv=function(){if(h(this,nu))return;E(this,nu,new AbortController);const e=this._uiManager.combinedSignal(h(this,nu));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})},Rv=function(){var e;(e=this.pointerdownAC)==null||e.abort(),this.pointerdownAC=null},Cv=function(e){var s;(s=h(this,Qo))==null||s.abort(),E(this,Qo,null),w(this,at,xv).call(this),h(this,As)&&clearTimeout(h(this,As)),E(this,As,setTimeout(()=>{E(this,As,null),this.canvas.removeEventListener("contextmenu",Mi)},10)),w(this,at,dT).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Wp=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Qp=function(){E(this,fa,new ResizeObserver(e=>{const s=e[0].contentRect;s.width&&s.height&&this.setDimensions(s.width,s.height)})),h(this,fa).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=h(this,fa))==null||e.disconnect(),E(this,fa,null)},{once:!0})},sc=function(){if(!h(this,Jo))return;const[e,s]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*s),w(this,at,Zp).call(this)},Mv=function(e,s){const r=w(this,at,Jp).call(this),o=(e-r)/h(this,Wo),c=(s-r)/h(this,$o);this.scaleFactor=Math.min(o,c)},Zp=function(){const e=w(this,at,Jp).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},wa=new WeakSet,mT=function(e){const s=new Path2D;for(let r=0,o=e.length;r<o;r++){const[c,d,p,g]=e[r];r===0&&s.moveTo(...c),s.bezierCurveTo(d[0],d[1],p[0],p[1],g[0],g[1])}return s},Dv=function(e,s,r){const[o,c,d,p]=s;switch(r){case 0:for(let g=0,m=e.length;g<m;g+=2)e[g]+=o,e[g+1]=p-e[g+1];break;case 90:for(let g=0,m=e.length;g<m;g+=2){const y=e[g];e[g]=e[g+1]+o,e[g+1]=y+c}break;case 180:for(let g=0,m=e.length;g<m;g+=2)e[g]=d-e[g],e[g+1]+=c;break;case 270:for(let g=0,m=e.length;g<m;g+=2){const y=e[g];e[g]=d-e[g+1],e[g+1]=p-y}break;default:throw new Error("Invalid rotation")}return e},bT=function(e,s,r){const[o,c,d,p]=s;switch(r){case 0:for(let g=0,m=e.length;g<m;g+=2)e[g]-=o,e[g+1]=p-e[g+1];break;case 90:for(let g=0,m=e.length;g<m;g+=2){const y=e[g];e[g]=e[g+1]-c,e[g+1]=y-o}break;case 180:for(let g=0,m=e.length;g<m;g+=2)e[g]=d-e[g],e[g+1]-=c;break;case 270:for(let g=0,m=e.length;g<m;g+=2){const y=e[g];e[g]=p-e[g+1],e[g+1]=d-y}break;default:throw new Error("Invalid rotation")}return e},yT=function(e,s,r,o){var m,y;const c=[],d=this.thickness/2,p=e*s+d,g=e*r+d;for(const v of this.paths){const S=[],_=[];for(let T=0,M=v.length;T<M;T++){const[C,O,N,F]=v[T];if(C[0]===F[0]&&C[1]===F[1]&&M===1){const ut=e*C[0]+p,ft=e*C[1]+g;S.push(ut,ft),_.push(ut,ft);break}const H=e*C[0]+p,U=e*C[1]+g,I=e*O[0]+p,Y=e*O[1]+g,V=e*N[0]+p,et=e*N[1]+g,nt=e*F[0]+p,ht=e*F[1]+g;T===0&&(S.push(H,U),_.push(H,U)),S.push(I,Y,V,et,nt,ht),_.push(I,Y),T===M-1&&_.push(nt,ht)}c.push({bezier:w(m=pe,wa,Dv).call(m,S,o,this.rotation),points:w(y=pe,wa,Dv).call(y,_,o,this.rotation)})}return c},Ov=function(){let e=1/0,s=-1/0,r=1/0,o=-1/0;for(const c of this.paths)for(const[d,p,g,m]of c){const y=bt.bezierBoundingBox(...d,...p,...g,...m);e=Math.min(e,y[0]),r=Math.min(r,y[1]),s=Math.max(s,y[2]),o=Math.max(o,y[3])}return[e,r,s,o]},Jp=function(){return h(this,Ti)?Math.ceil(this.thickness*this.parentScale):0},Oh=function(e=!1){if(this.isEmpty())return;if(!h(this,Ti)){w(this,at,no).call(this);return}const s=w(this,at,Ov).call(this),r=w(this,at,Jp).call(this);E(this,Wo,Math.max(Zt.MIN_SIZE,s[2]-s[0])),E(this,$o,Math.max(Zt.MIN_SIZE,s[3]-s[1]));const o=Math.ceil(r+h(this,Wo)*this.scaleFactor),c=Math.ceil(r+h(this,$o)*this.scaleFactor),[d,p]=this.parentDimensions;this.width=o/d,this.height=c/p,this.setAspectRatio(o,c);const g=this.translationX,m=this.translationY;this.translationX=-s[0],this.translationY=-s[1],w(this,at,sc).call(this),w(this,at,no).call(this),E(this,tl,o),E(this,el,c),this.setDims(o,c);const y=e?r/this.scaleFactor/2:0;this.translate(g-this.translationX-y,m-this.translationY-y)},x(pe,wa),wt(pe,"_defaultColor",null),wt(pe,"_defaultOpacity",1),wt(pe,"_defaultThickness",1),wt(pe,"_type","ink"),wt(pe,"_editorType",Nt.INK);let Ev=pe;var me,an,Ar,pa,Sr,iu,Ss,ga,_s,ei,su,Ut,Lh,Nh,tg,Nv,vT,eg,kv,ng,AT,ST;const Ph=class Ph extends Zt{constructor(e){super({...e,name:"stampEditor"});x(this,Ut);x(this,me,null);x(this,an,null);x(this,Ar,null);x(this,pa,null);x(this,Sr,null);x(this,iu,"");x(this,Ss,null);x(this,ga,null);x(this,_s,null);x(this,ei,!1);x(this,su,!1);E(this,pa,e.bitmapUrl),E(this,Sr,e.bitmapFile)}static initialize(e,s){Zt.initialize(e,s)}static get supportedTypes(){return qt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(s=>`image/${s}`))}static get supportedTypesStr(){return qt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,s){s.pasteEditor(Nt.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const s=e.get("hasAltText");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}async mlGuessAltText(e=null,s=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:c,height:d}=e||this.copyCanvas(null,null,!0).imageData,p=await r.guess({name:"altText",request:{data:o,width:c,height:d,channels:o.length/(c*d)}});if(!p)throw new Error("No response from the AI service.");if(p.error)throw new Error("Error from the AI service.");if(p.cancel)return null;if(!p.output)throw new Error("No valid response from the AI service.");const g=p.output;return await this.setGuessedAltText(g),s&&!this.hasAltTextData()&&(this.altTextData={alt:g,decorative:!1}),g}remove(){var e,s;h(this,an)&&(E(this,me,null),this._uiManager.imageManager.deleteId(h(this,an)),(e=h(this,Ss))==null||e.remove(),E(this,Ss,null),(s=h(this,ga))==null||s.disconnect(),E(this,ga,null),h(this,_s)&&(clearTimeout(h(this,_s)),E(this,_s,null))),super.remove()}rebuild(){if(!this.parent){h(this,an)&&w(this,Ut,tg).call(this);return}super.rebuild(),this.div!==null&&(h(this,an)&&h(this,Ss)===null&&w(this,Ut,tg).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(h(this,Ar)||h(this,me)||h(this,pa)||h(this,Sr)||h(this,an))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,s;if(this.width&&(e=this.x,s=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),h(this,me)?w(this,Ut,Nv).call(this):w(this,Ut,tg).call(this),this.width&&!this.annotationElementId){const[r,o]=this.parentDimensions;this.setAt(e*r,s*o,this.width*r,this.height*o)}return this.div}copyCanvas(e,s,r=!1){var S;e||(e=224);const{width:o,height:c}=h(this,me),d=new Cy;let p=h(this,me),g=o,m=c,y=null;if(s){if(o>s||c>s){const Y=Math.min(s/o,s/c);g=Math.floor(o*Y),m=Math.floor(c*Y)}y=document.createElement("canvas");const _=y.width=Math.ceil(g*d.sx),T=y.height=Math.ceil(m*d.sy);h(this,ei)||(p=w(this,Ut,eg).call(this,_,T));const M=y.getContext("2d");M.filter=this._uiManager.hcmFilter;let C="white",O="#cfcfd8";this._uiManager.hcmFilter!=="none"?O="black":(S=window.matchMedia)!=null&&S.call(window,"(prefers-color-scheme: dark)").matches&&(C="#8f8f9d",O="#42414d");const N=15,F=N*d.sx,H=N*d.sy,U=new OffscreenCanvas(F*2,H*2),I=U.getContext("2d");I.fillStyle=C,I.fillRect(0,0,F*2,H*2),I.fillStyle=O,I.fillRect(0,0,F,H),I.fillRect(F,H,F,H),M.fillStyle=M.createPattern(U,"repeat"),M.fillRect(0,0,_,T),M.drawImage(p,0,0,p.width,p.height,0,0,_,T)}let v=null;if(r){let _,T;if(d.symmetric&&p.width<e&&p.height<e)_=p.width,T=p.height;else if(p=h(this,me),o>e||c>e){const O=Math.min(e/o,e/c);_=Math.floor(o*O),T=Math.floor(c*O),h(this,ei)||(p=w(this,Ut,eg).call(this,_,T))}const C=new OffscreenCanvas(_,T).getContext("2d",{willReadFrequently:!0});C.drawImage(p,0,0,p.width,p.height,0,0,_,T),v={width:_,height:T,data:C.getImageData(0,0,_,T).data}}return{canvas:y,width:g,height:m,imageData:v}}getImageForAltText(){return h(this,Ss)}static async deserialize(e,s,r){var T;let o=null;if(e instanceof O1){const{data:{rect:M,rotation:C,id:O,structParent:N,popupRef:F},container:H,parent:{page:{pageNumber:U}}}=e,I=H.querySelector("canvas"),Y=r.imageManager.getFromCanvas(H.id,I);I.remove();const V=((T=await s._structTree.getAriaAttributes(`${Kv}${O}`))==null?void 0:T.get("aria-label"))||"";o=e={annotationType:Nt.STAMP,bitmapId:Y.id,bitmap:Y.bitmap,pageIndex:U-1,rect:M.slice(0),rotation:C,id:O,deleted:!1,accessibilityData:{decorative:!1,altText:V},isSvg:!1,structParent:N,popupRef:F}}const c=await super.deserialize(e,s,r),{rect:d,bitmap:p,bitmapUrl:g,bitmapId:m,isSvg:y,accessibilityData:v}=e;m&&r.imageManager.isValidId(m)?(E(c,an,m),p&&E(c,me,p)):E(c,pa,g),E(c,ei,y);const[S,_]=c.pageDimensions;return c.width=(d[2]-d[0])/S,c.height=(d[3]-d[1])/_,c.annotationElementId=e.id||null,v&&(c.altTextData=v),c._initialData=o,E(c,su,!!o),c}serialize(e=!1,s=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Nt.STAMP,bitmapId:h(this,an),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:h(this,ei),structTreeParentId:this._structTreeParentId};if(e)return r.bitmapUrl=w(this,Ut,ng).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:o,altText:c}=this.serializeAltText(!1);if(!o&&c&&(r.accessibilityData={type:"Figure",alt:c}),this.annotationElementId){const p=w(this,Ut,ST).call(this,r);if(p.isSame)return null;p.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,s===null)return r;s.stamps||(s.stamps=new Map);const d=h(this,ei)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!s.stamps.has(h(this,an)))s.stamps.set(h(this,an),{area:d,serialized:r}),r.bitmap=w(this,Ut,ng).call(this,!1);else if(h(this,ei)){const p=s.stamps.get(h(this,an));d>p.area&&(p.area=d,p.serialized.bitmap.close(),p.serialized.bitmap=w(this,Ut,ng).call(this,!1))}return r}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};me=new WeakMap,an=new WeakMap,Ar=new WeakMap,pa=new WeakMap,Sr=new WeakMap,iu=new WeakMap,Ss=new WeakMap,ga=new WeakMap,_s=new WeakMap,ei=new WeakMap,su=new WeakMap,Ut=new WeakSet,Lh=function(e,s=!1){if(!e){this.remove();return}E(this,me,e.bitmap),s||(E(this,an,e.id),E(this,ei,e.isSvg)),e.file&&E(this,iu,e.file.name),w(this,Ut,Nv).call(this)},Nh=function(){if(E(this,Ar,null),this._uiManager.enableWaiting(!1),!!h(this,Ss)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,me)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,me)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},tg=function(){if(h(this,an)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(h(this,an)).then(r=>w(this,Ut,Lh).call(this,r,!0)).finally(()=>w(this,Ut,Nh).call(this));return}if(h(this,pa)){const r=h(this,pa);E(this,pa,null),this._uiManager.enableWaiting(!0),E(this,Ar,this._uiManager.imageManager.getFromUrl(r).then(o=>w(this,Ut,Lh).call(this,o)).finally(()=>w(this,Ut,Nh).call(this)));return}if(h(this,Sr)){const r=h(this,Sr);E(this,Sr,null),this._uiManager.enableWaiting(!0),E(this,Ar,this._uiManager.imageManager.getFromFile(r).then(o=>w(this,Ut,Lh).call(this,o)).finally(()=>w(this,Ut,Nh).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=Ph.supportedTypesStr;const s=this._uiManager._signal;E(this,Ar,new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),w(this,Ut,Lh).call(this,o)}r()},{signal:s}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:s})}).finally(()=>w(this,Ut,Nh).call(this))),e.click()},Nv=function(){const{div:e}=this;let{width:s,height:r}=h(this,me);const[o,c]=this.pageDimensions,d=.75;if(this.width)s=this.width*o,r=this.height*c;else if(s>d*o||r>d*c){const y=Math.min(d*o/s,d*c/r);s*=y,r*=y}const[p,g]=this.parentDimensions;this.setDims(s*p/o,r*g/c),this._uiManager.enableWaiting(!1);const m=E(this,Ss,document.createElement("canvas"));m.setAttribute("role","img"),this.addContainer(m),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),w(this,Ut,kv).call(this,s,r),w(this,Ut,AT).call(this),h(this,su)||(this.parent.addUndoableEditor(this),E(this,su,!0)),this._reportTelemetry({action:"inserted_image"}),h(this,iu)&&m.setAttribute("aria-label",h(this,iu))},vT=function(e,s){var d;const[r,o]=this.parentDimensions;this.width=e/r,this.height=s/o,(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,h(this,_s)!==null&&clearTimeout(h(this,_s)),E(this,_s,setTimeout(()=>{E(this,_s,null),w(this,Ut,kv).call(this,e,s)},200))},eg=function(e,s){const{width:r,height:o}=h(this,me);let c=r,d=o,p=h(this,me);for(;c>2*e||d>2*s;){const g=c,m=d;c>2*e&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2)),d>2*s&&(d=d>=16384?Math.floor(d/2)-1:Math.ceil(d/2));const y=new OffscreenCanvas(c,d);y.getContext("2d").drawImage(p,0,0,g,m,0,0,c,d),p=y.transferToImageBitmap()}return p},kv=function(e,s){const r=new Cy,o=Math.ceil(e*r.sx),c=Math.ceil(s*r.sy),d=h(this,Ss);if(!d||d.width===o&&d.height===c)return;d.width=o,d.height=c;const p=h(this,ei)?h(this,me):w(this,Ut,eg).call(this,o,c),g=d.getContext("2d");g.filter=this._uiManager.hcmFilter,g.drawImage(p,0,0,p.width,p.height,0,0,o,c)},ng=function(e){if(e){if(h(this,ei)){const o=this._uiManager.imageManager.getSvgUrl(h(this,an));if(o)return o}const s=document.createElement("canvas");return{width:s.width,height:s.height}=h(this,me),s.getContext("2d").drawImage(h(this,me),0,0),s.toDataURL()}if(h(this,ei)){const[s,r]=this.pageDimensions,o=Math.round(this.width*s*Tr.PDF_TO_CSS_UNITS),c=Math.round(this.height*r*Tr.PDF_TO_CSS_UNITS),d=new OffscreenCanvas(o,c);return d.getContext("2d").drawImage(h(this,me),0,0,h(this,me).width,h(this,me).height,0,0,o,c),d.transferToImageBitmap()}return structuredClone(h(this,me))},AT=function(){this._uiManager._signal&&(E(this,ga,new ResizeObserver(e=>{const s=e[0].contentRect;s.width&&s.height&&w(this,Ut,vT).call(this,s.width,s.height)})),h(this,ga).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=h(this,ga))==null||e.disconnect(),E(this,ga,null)},{once:!0}))},ST=function(e){var g;const{rect:s,pageIndex:r,accessibilityData:{altText:o}}=this._initialData,c=e.rect.every((m,y)=>Math.abs(m-s[y])<1),d=e.pageIndex===r,p=(((g=e.accessibilityData)==null?void 0:g.alt)||"")===o;return{isSame:c&&d&&p,isSameAltText:p}},wt(Ph,"_type","stamp"),wt(Ph,"_editorType",Nt.STAMP);let Lv=Ph;var nl,au,Es,_r,ma,ni,Er,ru,ou,mn,ba,vt,wr,rn,_T,Pv,Hv,zv,ig;const Fi=class Fi{constructor({uiManager:t,pageIndex:e,div:s,structTreeLayer:r,accessibilityManager:o,annotationLayer:c,drawLayer:d,textLayer:p,viewport:g,l10n:m}){x(this,rn);x(this,nl);x(this,au,!1);x(this,Es,null);x(this,_r,null);x(this,ma,null);x(this,ni,new Map);x(this,Er,!1);x(this,ru,!1);x(this,ou,!1);x(this,mn,null);x(this,ba,null);x(this,vt);const y=[...h(Fi,wr).values()];if(!Fi._initialized){Fi._initialized=!0;for(const v of y)v.initialize(m,t)}t.registerEditorTypes(y),E(this,vt,t),this.pageIndex=e,this.div=s,E(this,nl,o),E(this,Es,c),this.viewport=g,E(this,mn,p),this.drawLayer=d,this._structTree=r,h(this,vt).addLayer(this)}get isEmpty(){return h(this,ni).size===0}get isInvisible(){return this.isEmpty&&h(this,vt).getMode()===Nt.NONE}updateToolbar(t){h(this,vt).updateToolbar(t)}updateMode(t=h(this,vt).getMode()){switch(w(this,rn,ig).call(this),t){case Nt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Nt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Nt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const s of h(Fi,wr).values())e.toggle(`${s._type}Editing`,t===s._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=h(this,mn))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(h(this,vt).getMode()!==Nt.INK)return;if(!t){for(const s of h(this,ni).values())if(s.isEmpty()){s.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){h(this,vt).setEditingState(t)}addCommands(t){h(this,vt).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=h(this,Es))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const s of h(this,ni).values())s.enableEditing(),s.show(!0),s.annotationElementId&&(h(this,vt).removeChangedExistingAnnotation(s),t.add(s.annotationElementId));if(!h(this,Es))return;const e=h(this,Es).getEditableAnnotations();for(const s of e){if(s.hide(),h(this,vt).isDeletedAnnotationElement(s.data.id)||t.has(s.data.id))continue;const r=await this.deserialize(s);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;E(this,ou,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const o of h(this,ni).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){t.set(o.annotationElementId,o);continue}else e.set(o.annotationElementId,o);(r=this.getEditableAnnotation(o.annotationElementId))==null||r.show(),o.remove()}if(h(this,Es)){const o=h(this,Es).getEditableAnnotations();for(const c of o){const{id:d}=c.data;if(h(this,vt).isDeletedAnnotationElement(d))continue;let p=e.get(d);if(p){p.resetAnnotationElement(c),p.show(!1),c.show();continue}p=t.get(d),p&&(h(this,vt).addChangedExistingAnnotation(p),p.renderAnnotationElement(c)&&p.show(!1)),c.show()}}w(this,rn,ig).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const o of h(Fi,wr).values())s.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),E(this,ou,!1)}getEditableAnnotation(t){var e;return((e=h(this,Es))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){h(this,vt).getActive()!==t&&h(this,vt).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=h(this,mn))!=null&&t.div&&!h(this,ba)){E(this,ba,new AbortController);const e=h(this,vt).combinedSignal(h(this,ba));h(this,mn).div.addEventListener("pointerdown",w(this,rn,_T).bind(this),{signal:e}),h(this,mn).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=h(this,mn))!=null&&t.div&&h(this,ba)&&(h(this,ba).abort(),E(this,ba,null),h(this,mn).div.classList.remove("highlighting"))}enableClick(){if(h(this,_r))return;E(this,_r,new AbortController);const t=h(this,vt).combinedSignal(h(this,_r));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=h(this,_r))==null||t.abort(),E(this,_r,null)}attach(t){h(this,ni).set(t.id,t);const{annotationElementId:e}=t;e&&h(this,vt).isDeletedAnnotationElement(e)&&h(this,vt).removeDeletedAnnotationElement(t)}detach(t){var e;h(this,ni).delete(t.id),(e=h(this,nl))==null||e.removePointerInTextLayer(t.contentDiv),!h(this,ou)&&t.annotationElementId&&h(this,vt).addDeletedAnnotationElement(t)}remove(t){this.detach(t),h(this,vt).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,h(this,ru)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(h(this,vt).addDeletedAnnotationElement(t.annotationElementId),Zt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),h(this,vt).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),h(this,vt).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var s;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!h(this,ma)&&(t._focusEventsAllowed=!1,E(this,ma,setTimeout(()=>{E(this,ma,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:h(this,vt)._signal}),e.focus())},0))),t._structTreeParentId=(s=h(this,nl))==null?void 0:s.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),s=()=>{t.remove()};this.addCommands({cmd:e,undo:s,mustExec:!1})}getNextId(){return h(this,vt).getId()}combinedSignal(t){return h(this,vt).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=h(this,rn,Pv))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){h(this,vt).updateToolbar(t),h(this,vt).updateMode(t);const{offsetX:s,offsetY:r}=w(this,rn,zv).call(this),o=this.getNextId(),c=w(this,rn,Hv).call(this,{parent:this,id:o,x:s,y:r,uiManager:h(this,vt),isCentered:!0,...e});c&&this.add(c)}async deserialize(t){var e;return await((e=h(Fi,wr).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,h(this,vt)))||null}createAndAddNewEditor(t,e,s={}){const r=this.getNextId(),o=w(this,rn,Hv).call(this,{parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:h(this,vt),isCentered:e,...s});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(w(this,rn,zv).call(this),!0)}setSelected(t){h(this,vt).setSelected(t)}toggleSelected(t){h(this,vt).toggleSelected(t)}unselect(t){h(this,vt).unselect(t)}pointerup(t){const{isMac:e}=xn.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&h(this,Er)){if(E(this,Er,!1),!h(this,au)){E(this,au,!0);return}if(h(this,vt).getMode()===Nt.STAMP){h(this,vt).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(h(this,vt).getMode()===Nt.HIGHLIGHT&&this.enableTextSelection(),h(this,Er)){E(this,Er,!1);return}const{isMac:e}=xn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;E(this,Er,!0);const s=h(this,vt).getActive();E(this,au,!s||s.isEmpty())}findNewParent(t,e,s){const r=h(this,vt).findParent(e,s);return r===null||r===this?!1:(r.changeParent(t),!0)}destroy(){var t,e;((t=h(this,vt).getActive())==null?void 0:t.parent)===this&&(h(this,vt).commitOrRemove(),h(this,vt).setActiveEditor(null)),h(this,ma)&&(clearTimeout(h(this,ma)),E(this,ma,null));for(const s of h(this,ni).values())(e=h(this,nl))==null||e.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,h(this,ni).clear(),h(this,vt).removeLayer(this)}render({viewport:t}){this.viewport=t,al(this.div,t);for(const e of h(this,vt).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){h(this,vt).commitOrRemove(),w(this,rn,ig).call(this);const e=this.viewport.rotation,s=t.rotation;if(this.viewport=t,al(this.div,{rotation:s}),e!==s)for(const r of h(this,ni).values())r.rotate(s);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return h(this,vt).viewParameters.realScale}};nl=new WeakMap,au=new WeakMap,Es=new WeakMap,_r=new WeakMap,ma=new WeakMap,ni=new WeakMap,Er=new WeakMap,ru=new WeakMap,ou=new WeakMap,mn=new WeakMap,ba=new WeakMap,vt=new WeakMap,wr=new WeakMap,rn=new WeakSet,_T=function(t){h(this,vt).unselectAll();const{target:e}=t;if(e===h(this,mn).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&h(this,mn).div.contains(e)){const{isMac:s}=xn.platform;if(t.button!==0||t.ctrlKey&&s)return;h(this,vt).showAllEditors("highlight",!0,!0),h(this,mn).div.classList.add("free"),this.toggleDrawing(),ug.startHighlighting(this,h(this,vt).direction==="ltr",{target:h(this,mn).div,x:t.x,y:t.y}),h(this,mn).div.addEventListener("pointerup",()=>{h(this,mn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:h(this,vt)._signal}),t.preventDefault()}},Pv=function(){return h(Fi,wr).get(h(this,vt).getMode())},Hv=function(t){const e=h(this,rn,Pv);return e?new e.prototype.constructor(t):null},zv=function(){const{x:t,y:e,width:s,height:r}=this.div.getBoundingClientRect(),o=Math.max(0,t),c=Math.max(0,e),d=Math.min(window.innerWidth,t+s),p=Math.min(window.innerHeight,e+r),g=(o+d)/2-t,m=(c+p)/2-e,[y,v]=this.viewport.rotation%180===0?[g,m]:[m,g];return{offsetX:y,offsetY:v}},ig=function(){E(this,ru,!0);for(const t of h(this,ni).values())t.isEmpty()&&t.remove();E(this,ru,!1)},wt(Fi,"_initialized",!1),x(Fi,wr,new Map([pv,Ev,Lv,ug].map(t=>[t._editorType,t])));let Fv=Fi;var ws,Jd,Le,ya,tf,Uv,ul,Bv,ET;const en=class en{constructor({pageIndex:t}){x(this,ul);x(this,ws,null);x(this,Jd,0);x(this,Le,new Map);x(this,ya,new Map);this.pageIndex=t}setParent(t){if(!h(this,ws)){E(this,ws,t);return}if(h(this,ws)!==t){if(h(this,Le).size>0)for(const e of h(this,Le).values())e.remove(),t.append(e);E(this,ws,t)}}static get _svgFactory(){return qt(this,"_svgFactory",new s0)}draw(t,e,s,r=!1){const o=_n(this,Jd)._++,c=w(this,ul,Bv).call(this,t.box);c.classList.add(...t.classNamesForDrawing);const d=en._svgFactory.createElement("defs");c.append(d);const p=en._svgFactory.createElement("path");d.append(p);const g=`path_p${this.pageIndex}_${o}`;p.setAttribute("id",g),p.setAttribute("d",t.toSVGPath()),r&&h(this,ya).set(o,p);const m=w(this,ul,ET).call(this,d,g),y=en._svgFactory.createElement("use");return c.append(y),c.setAttribute("fill",e),c.setAttribute("fill-opacity",s),y.setAttribute("href",`#${g}`),h(this,Le).set(o,c),{id:o,clipPathId:`url(#${m})`}}drawOutline(t){const e=_n(this,Jd)._++,s=w(this,ul,Bv).call(this,t.box);s.classList.add(...t.classNamesForOutlining);const r=en._svgFactory.createElement("defs");s.append(r);const o=en._svgFactory.createElement("path");r.append(o);const c=`path_p${this.pageIndex}_${e}`;o.setAttribute("id",c),o.setAttribute("d",t.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let d;if(t.mustRemoveSelfIntersections){const m=en._svgFactory.createElement("mask");r.append(m),d=`mask_p${this.pageIndex}_${e}`,m.setAttribute("id",d),m.setAttribute("maskUnits","objectBoundingBox");const y=en._svgFactory.createElement("rect");m.append(y),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("fill","white");const v=en._svgFactory.createElement("use");m.append(v),v.setAttribute("href",`#${c}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const p=en._svgFactory.createElement("use");s.append(p),p.setAttribute("href",`#${c}`),d&&p.setAttribute("mask",`url(#${d})`);const g=p.cloneNode();return s.append(g),p.classList.add("mainOutline"),g.classList.add("secondaryOutline"),h(this,Le).set(e,s),e}finalizeLine(t,e){const s=h(this,ya).get(t);h(this,ya).delete(t),this.updateBox(t,e.box),s.setAttribute("d",e.toSVGPath())}updateLine(t,e){h(this,Le).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(t,e){h(this,ya).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var s;w(s=en,tf,Uv).call(s,h(this,Le).get(t),e)}show(t,e){h(this,Le).get(t).classList.toggle("hidden",!e)}rotate(t,e){h(this,Le).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){h(this,Le).get(t).setAttribute("fill",e)}changeOpacity(t,e){h(this,Le).get(t).setAttribute("fill-opacity",e)}addClass(t,e){h(this,Le).get(t).classList.add(e)}removeClass(t,e){h(this,Le).get(t).classList.remove(e)}getSVGRoot(t){return h(this,Le).get(t)}remove(t){h(this,ya).delete(t),h(this,ws)!==null&&(h(this,Le).get(t).remove(),h(this,Le).delete(t))}destroy(){E(this,ws,null);for(const t of h(this,Le).values())t.remove();h(this,Le).clear(),h(this,ya).clear()}};ws=new WeakMap,Jd=new WeakMap,Le=new WeakMap,ya=new WeakMap,tf=new WeakSet,Uv=function(t,{x:e=0,y:s=0,width:r=1,height:o=1}={}){const{style:c}=t;c.top=`${100*s}%`,c.left=`${100*e}%`,c.width=`${100*r}%`,c.height=`${100*o}%`},ul=new WeakSet,Bv=function(t){var s;const e=en._svgFactory.create(1,1,!0);return h(this,ws).append(e),e.setAttribute("aria-hidden",!0),w(s=en,tf,Uv).call(s,e,t),e},ET=function(t,e){const s=en._svgFactory.createElement("clipPath");t.append(s);const r=`clip_${e}`;s.setAttribute("id",r),s.setAttribute("clipPathUnits","objectBoundingBox");const o=en._svgFactory.createElement("use");return s.append(o),o.setAttribute("href",`#${e}`),o.classList.add("clip"),r},x(en,tf);let jv=en;var tL=Rt.AbortException,eL=Rt.AnnotationEditorLayer,nL=Rt.AnnotationEditorParamsType,iL=Rt.AnnotationEditorType,sL=Rt.AnnotationEditorUIManager,wT=Rt.AnnotationLayer,TT=Rt.AnnotationMode,aL=Rt.ColorPicker,rL=Rt.DOMSVGFactory,oL=Rt.DrawLayer,lL=Rt.FeatureTest,r0=Rt.GlobalWorkerOptions,cL=Rt.ImageKind,uL=Rt.InvalidPDFException,hL=Rt.MissingPDFException,dL=Rt.OPS,fL=Rt.OutputScale,pL=Rt.PDFDataRangeTransport,gL=Rt.PDFDateString,mL=Rt.PDFWorker,bL=Rt.PasswordResponses,yL=Rt.PermissionFlag,vL=Rt.PixelsPerInch,AL=Rt.RenderingCancelledException,xT=Rt.TextLayer,SL=Rt.UnexpectedResponseException,_L=Rt.Util,EL=Rt.VerbosityLevel,wL=Rt.XfaLayer,TL=Rt.build,xL=Rt.createValidAbsoluteUrl,RL=Rt.fetchData,RT=Rt.getDocument,CL=Rt.getFilenameFromUrl,ML=Rt.getPdfFilenameFromUrl,DL=Rt.getXfaPageViewport,OL=Rt.isDataScheme,LL=Rt.isPdfFile,NL=Rt.noContextMenu,kL=Rt.normalizeUnicode,FL=Rt.setLayerDimensions,PL=Rt.shadow,CT=Rt.version;const HL=Object.freeze(Object.defineProperty({__proto__:null,AbortException:tL,AnnotationEditorLayer:eL,AnnotationEditorParamsType:nL,AnnotationEditorType:iL,AnnotationEditorUIManager:sL,AnnotationLayer:wT,AnnotationMode:TT,ColorPicker:aL,DOMSVGFactory:rL,DrawLayer:oL,FeatureTest:lL,GlobalWorkerOptions:r0,ImageKind:cL,InvalidPDFException:uL,MissingPDFException:hL,OPS:dL,OutputScale:fL,PDFDataRangeTransport:pL,PDFDateString:gL,PDFWorker:mL,PasswordResponses:bL,PermissionFlag:yL,PixelsPerInch:vL,RenderingCancelledException:AL,TextLayer:xT,UnexpectedResponseException:SL,Util:_L,VerbosityLevel:EL,XfaLayer:wL,build:TL,createValidAbsoluteUrl:xL,fetchData:RL,getDocument:RT,getFilenameFromUrl:CL,getPdfFilenameFromUrl:ML,getXfaPageViewport:DL,isDataScheme:OL,isPdfFile:LL,noContextMenu:NL,normalizeUnicode:kL,setLayerDimensions:FL,shadow:PL,version:CT},Symbol.toStringTag,{value:"Module"}));var Xe=function(u,t,e){if(e||arguments.length===2)for(var s=0,r=t.length,o;s<r;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return u.concat(o||Array.prototype.slice.call(t))},zL=["onCopy","onCut","onPaste"],jL=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],UL=["onFocus","onBlur"],BL=["onInput","onInvalid","onReset","onSubmit"],IL=["onLoad","onError"],qL=["onKeyDown","onKeyPress","onKeyUp"],GL=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],VL=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],XL=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],YL=["onSelect"],KL=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],$L=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],WL=["onScroll"],QL=["onWheel"],ZL=["onAnimationStart","onAnimationEnd","onAnimationIteration"],JL=["onTransitionEnd"],t2=["onToggle"],e2=["onChange"],n2=Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe([],zL,!0),jL,!0),UL,!0),BL,!0),IL,!0),qL,!0),GL,!0),VL,!0),XL,!0),YL,!0),KL,!0),$L,!0),WL,!0),QL,!0),ZL,!0),JL,!0),e2,!0),t2,!0);function MT(u,t){var e={};return n2.forEach(function(s){var r=u[s];r&&(t?e[s]=function(o){return r(o,t(s))}:e[s]=r)}),e}function of(u){var t=!1,e=new Promise(function(s,r){u.then(function(o){return!t&&s(o)}).catch(function(o){return!t&&r(o)})});return{promise:e,cancel:function(){t=!0}}}function DT(u){var t,e,s="";if(typeof u=="string"||typeof u=="number")s+=u;else if(typeof u=="object")if(Array.isArray(u)){var r=u.length;for(t=0;t<r;t++)u[t]&&(e=DT(u[t]))&&(s&&(s+=" "),s+=e)}else for(e in u)u[e]&&(s&&(s+=" "),s+=e);return s}function qg(){for(var u,t,e=0,s="",r=arguments.length;e<r;e++)(u=arguments[e])&&(t=DT(u))&&(s&&(s+=" "),s+=t);return s}var i2="Invariant failed";function se(u,t){if(!u)throw new Error(i2)}var by,HE;function s2(){if(HE)return by;HE=1;var u=function(){};return by=u,by}var a2=s2();const yn=$E(a2);var zE=Object.prototype.hasOwnProperty;function jE(u,t,e){for(e of u.keys())if(lc(e,t))return e}function lc(u,t){var e,s,r;if(u===t)return!0;if(u&&t&&(e=u.constructor)===t.constructor){if(e===Date)return u.getTime()===t.getTime();if(e===RegExp)return u.toString()===t.toString();if(e===Array){if((s=u.length)===t.length)for(;s--&&lc(u[s],t[s]););return s===-1}if(e===Set){if(u.size!==t.size)return!1;for(s of u)if(r=s,r&&typeof r=="object"&&(r=jE(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(u.size!==t.size)return!1;for(s of u)if(r=s[0],r&&typeof r=="object"&&(r=jE(t,r),!r)||!lc(s[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)u=new Uint8Array(u),t=new Uint8Array(t);else if(e===DataView){if((s=u.byteLength)===t.byteLength)for(;s--&&u.getInt8(s)===t.getInt8(s););return s===-1}if(ArrayBuffer.isView(u)){if((s=u.byteLength)===t.byteLength)for(;s--&&u[s]===t[s];);return s===-1}if(!e||typeof u=="object"){s=0;for(e in u)if(zE.call(u,e)&&++s&&!zE.call(t,e)||!(e in t)||!lc(u[e],t[e]))return!1;return Object.keys(t).length===s}}return u!==u&&t!==t}const OT=it.createContext(null);function cc({children:u,type:t}){return q.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:u})}const r2="noopener noreferrer nofollow";class o2{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return se(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){se(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{se(this.pdfDocument),se(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{se(Array.isArray(e));const s=e[0];new Promise(r=>{se(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(o=>{r(o)}).catch(()=>{se(!1)}):typeof s=="number"?r(s):se(!1)}).then(r=>{const o=r+1;se(this.pdfViewer),se(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:o})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;se(this.pdfViewer),se(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,s){t.href=e,t.rel=this.externalLinkRel||r2,t.target=s?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const UE={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Gg=typeof window<"u",LT=Gg&&window.location.protocol==="file:";function l2(u){return typeof u<"u"}function Zr(u){return l2(u)&&u!==null}function c2(u){return typeof u=="string"}function u2(u){return u instanceof ArrayBuffer}function h2(u){return se(Gg),u instanceof Blob}function Iv(u){return c2(u)&&/^data:/.test(u)}function BE(u){se(Iv(u));const[t="",e=""]=u.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function d2(){return Gg&&window.devicePixelRatio||1}const NT="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function IE(){yn(!LT,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${NT}`)}function f2(){yn(!LT,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${NT}`)}function ll(u){u!=null&&u.cancel&&u.cancel()}function qv(u,t){return Object.defineProperty(u,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(u,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(u,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(u,"originalHeight",{get(){return this.view[3]},configurable:!0}),u}function p2(u){return u.name==="RenderingCancelledException"}function g2(u){return new Promise((t,e)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return e(new Error("Error while reading a file."));t(s.result)},s.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:o}=r.target;if(!o)return e(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},s.readAsArrayBuffer(u)})}function m2(u,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return u}}function lu(){return it.useReducer(m2,{value:void 0,error:void 0})}var b2=function(u,t,e,s){function r(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function d(m){try{g(s.next(m))}catch(y){c(y)}}function p(m){try{g(s.throw(m))}catch(y){c(y)}}function g(m){m.done?o(m.value):r(m.value).then(d,p)}g((s=s.apply(u,t||[])).next())})},qE=function(u,t){var e={};for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&t.indexOf(s)<0&&(e[s]=u[s]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(u);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(u,s[r])&&(e[s[r]]=u[s[r]]);return e};const{PDFDataRangeTransport:y2}=HL,v2=(u,t)=>{switch(t){case UE.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");u(e);break}case UE.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");u(e);break}}};function GE(u){return typeof u=="object"&&u!==null&&("data"in u||"range"in u||"url"in u)}const A2=it.forwardRef(function(t,e){var{children:s,className:r,error:o="Failed to load PDF file.",externalLinkRel:c,externalLinkTarget:d,file:p,inputRef:g,imageResourcesPath:m,loading:y="Loading PDF…",noData:v="No PDF file specified.",onItemClick:S,onLoadError:_,onLoadProgress:T,onLoadSuccess:M,onPassword:C=v2,onSourceError:O,onSourceSuccess:N,options:F,renderMode:H,rotate:U}=t,I=qE(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[Y,V]=lu(),{value:et,error:nt}=Y,[ht,ut]=lu(),{value:ft,error:mt}=ht,$=it.useRef(new o2),Z=it.useRef([]),tt=it.useRef(void 0),Ct=it.useRef(void 0);p&&p!==tt.current&&GE(p)&&(yn(!lc(p,tt.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),tt.current=p),F&&F!==Ct.current&&(yn(!lc(F,Ct.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Ct.current=F);const L=it.useRef({scrollPageIntoView:Bt=>{const{dest:le,pageNumber:Ee,pageIndex:ce=Ee-1}=Bt;if(S){S({dest:le,pageIndex:ce,pageNumber:Ee});return}const Zi=Z.current[ce];if(Zi){Zi.scrollIntoView();return}yn(!1,`An internal link leading to page ${Ee} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});it.useImperativeHandle(e,()=>({linkService:$,pages:Z,viewer:L}),[]);function Q(){N&&N()}function lt(){nt&&(yn(!1,nt.toString()),O&&O(nt))}function rt(){V({type:"RESET"})}it.useEffect(rt,[p,V]);const st=it.useCallback(()=>b2(this,void 0,void 0,function*(){if(!p)return null;if(typeof p=="string")return Iv(p)?{data:BE(p)}:(IE(),{url:p});if(p instanceof y2)return{range:p};if(u2(p))return{data:p};if(Gg&&h2(p))return{data:yield g2(p)};if(se(typeof p=="object"),se(GE(p)),"url"in p&&typeof p.url=="string"){if(Iv(p.url)){const{url:Bt}=p,le=qE(p,["url"]),Ee=BE(Bt);return Object.assign({data:Ee},le)}IE()}return p}),[p]);it.useEffect(()=>{const Bt=of(st());return Bt.promise.then(le=>{V({type:"RESOLVE",value:le})}).catch(le=>{V({type:"REJECT",error:le})}),()=>{ll(Bt)}},[st,V]),it.useEffect(()=>{if(!(typeof et>"u")){if(et===!1){lt();return}Q()}},[et]);function _t(){ft&&(M&&M(ft),Z.current=new Array(ft.numPages),$.current.setDocument(ft))}function pt(){mt&&(yn(!1,mt.toString()),_&&_(mt))}it.useEffect(function(){ut({type:"RESET"})},[ut,et]),it.useEffect(function(){if(!et)return;const le=F?Object.assign(Object.assign({},et),F):et,Ee=RT(le);T&&(Ee.onProgress=T),C&&(Ee.onPassword=C);const ce=Ee,Zi=ce.promise.then(Ji=>{ut({type:"RESOLVE",value:Ji})}).catch(Ji=>{ce.destroyed||ut({type:"REJECT",error:Ji})});return()=>{Zi.finally(()=>ce.destroy())}},[F,ut,et]),it.useEffect(()=>{if(!(typeof ft>"u")){if(ft===!1){pt();return}_t()}},[ft]),it.useEffect(function(){$.current.setViewer(L.current),$.current.setExternalLinkRel(c),$.current.setExternalLinkTarget(d)},[c,d]);const Et=it.useCallback((Bt,le)=>{Z.current[Bt]=le},[]),Ot=it.useCallback(Bt=>{delete Z.current[Bt]},[]),Vt=it.useMemo(()=>({imageResourcesPath:m,linkService:$.current,onItemClick:S,pdf:ft,registerPage:Et,renderMode:H,rotate:U,unregisterPage:Ot}),[m,S,ft,Et,H,U,Ot]),St=it.useMemo(()=>MT(I,()=>ft),[I,ft]);function on(){return q.jsx(OT.Provider,{value:Vt,children:s})}function Di(){return p?ft==null?q.jsx(cc,{type:"loading",children:typeof y=="function"?y():y}):ft===!1?q.jsx(cc,{type:"error",children:typeof o=="function"?o():o}):on():q.jsx(cc,{type:"no-data",children:typeof v=="function"?v():v})}return q.jsx("div",Object.assign({className:qg("react-pdf__Document",r),ref:g,style:{"--scale-factor":"1"}},St,{children:Di()}))});function kT(){return it.useContext(OT)}function FT(){for(var u=[],t=0;t<arguments.length;t++)u[t]=arguments[t];var e=u.filter(Boolean);if(e.length<=1){var s=e[0];return s||null}return function(o){e.forEach(function(c){typeof c=="function"?c(o):c&&(c.current=o)})}}const PT=it.createContext(null),HT={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},S2=/^H(\d+)$/;function _2(u){return u in HT}function Vg(u){return"children"in u}function zT(u){return Vg(u)?u.children.length===1&&0 in u.children&&"id"in u.children[0]:!1}function E2(u){const t={};if(Vg(u)){const{role:e}=u,s=e.match(S2);if(s)t.role="heading",t["aria-level"]=Number(s[1]);else if(_2(e)){const r=HT[e];r&&(t.role=r)}}return t}function jT(u){const t={};if(Vg(u)){if(u.alt!==void 0&&(t["aria-label"]=u.alt),u.lang!==void 0&&(t.lang=u.lang),zT(u)){const[e]=u.children;if(e){const s=jT(e);return Object.assign(Object.assign({},t),s)}}}else"id"in u&&(t["aria-owns"]=u.id);return t}function w2(u){return u?Object.assign(Object.assign({},E2(u)),jT(u)):null}function UT({className:u,node:t}){const e=it.useMemo(()=>w2(t),[t]),s=it.useMemo(()=>!Vg(t)||zT(t)?null:t.children.map((r,o)=>q.jsx(UT,{node:r},o)),[t]);return q.jsx("span",Object.assign({className:u},e,{children:s}))}function Xg(){return it.useContext(PT)}function T2(){const u=Xg();se(u);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=u,[s,r]=lu(),{value:o,error:c}=s,{customTextRenderer:d,page:p}=u;function g(){o&&e&&e(o)}function m(){c&&(yn(!1,c.toString()),t&&t(c))}return it.useEffect(function(){r({type:"RESET"})},[r,p]),it.useEffect(function(){if(d||!p)return;const v=of(p.getStructTree()),S=v;return v.promise.then(_=>{r({type:"RESOLVE",value:_})}).catch(_=>{r({type:"REJECT",error:_})}),()=>ll(S)},[d,p,r]),it.useEffect(()=>{if(o!==void 0){if(o===!1){m();return}g()}},[o]),o?q.jsx(UT,{className:"react-pdf__Page__structTree structTree",node:o}):null}const VE=TT;function x2(u){const t=Xg();se(t);const e=Object.assign(Object.assign({},t),u),{_className:s,canvasBackground:r,devicePixelRatio:o=d2(),onRenderError:c,onRenderSuccess:d,page:p,renderForms:g,renderTextLayer:m,rotate:y,scale:v}=e,{canvasRef:S}=u;se(p);const _=it.useRef(null);function T(){p&&d&&d(qv(p,v))}function M(F){p2(F)||(yn(!1,F.toString()),c&&c(F))}const C=it.useMemo(()=>p.getViewport({scale:v*o,rotation:y}),[o,p,y,v]),O=it.useMemo(()=>p.getViewport({scale:v,rotation:y}),[p,y,v]);it.useEffect(function(){if(!p)return;p.cleanup();const{current:H}=_;if(!H)return;H.width=C.width,H.height=C.height,H.style.width=`${Math.floor(O.width)}px`,H.style.height=`${Math.floor(O.height)}px`,H.style.visibility="hidden";const U={annotationMode:g?VE.ENABLE_FORMS:VE.ENABLE,canvasContext:H.getContext("2d",{alpha:!1}),viewport:C};r&&(U.background=r);const I=p.render(U),Y=I;return I.promise.then(()=>{H.style.visibility="",T()}).catch(M),()=>ll(Y)},[r,p,g,C,O]);const N=it.useCallback(()=>{const{current:F}=_;F&&(F.width=0,F.height=0)},[]);return it.useEffect(()=>N,[N]),q.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:FT(S,_),style:{display:"block",userSelect:"none"},children:m?q.jsx(T2,{}):null})}function R2(u){return"str"in u}function C2(){const u=Xg();se(u);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:s,onRenderTextLayerError:r,onRenderTextLayerSuccess:o,page:c,pageIndex:d,pageNumber:p,rotate:g,scale:m}=u;se(c);const[y,v]=lu(),{value:S,error:_}=y,T=it.useRef(null);yn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function M(){S&&s&&s(S)}function C(){_&&(yn(!1,_.toString()),e&&e(_))}it.useEffect(function(){v({type:"RESET"})},[c,v]),it.useEffect(function(){if(!c)return;const Y=of(c.getTextContent()),V=Y;return Y.promise.then(et=>{v({type:"RESOLVE",value:et})}).catch(et=>{v({type:"REJECT",error:et})}),()=>ll(V)},[c,v]),it.useEffect(()=>{if(S!==void 0){if(S===!1){C();return}M()}},[S]);const O=it.useCallback(()=>{o&&o()},[o]),N=it.useCallback(I=>{yn(!1,I.toString()),r&&r(I)},[r]);function F(){const I=T.current;I&&I.classList.add("selecting")}function H(){const I=T.current;I&&I.classList.remove("selecting")}const U=it.useMemo(()=>c.getViewport({scale:m,rotation:g}),[c,g,m]);return it.useLayoutEffect(function(){if(!c||!S)return;const{current:Y}=T;if(!Y)return;Y.innerHTML="";const V=c.streamTextContent({includeMarkedContent:!0}),et={container:Y,textContentSource:V,viewport:U},nt=new xT(et),ht=nt;return nt.render().then(()=>{const ut=document.createElement("div");ut.className="endOfContent",Y.append(ut);const ft=Y.querySelectorAll('[role="presentation"]');if(t){let mt=0;S.items.forEach(($,Z)=>{if(!R2($))return;const tt=ft[mt];if(!tt)return;const Ct=t(Object.assign({pageIndex:d,pageNumber:p,itemIndex:Z},$));tt.innerHTML=Ct,mt+=$.str&&$.hasEOL?2:1})}O()}).catch(N),()=>ll(ht)},[t,N,O,c,d,p,S,U]),q.jsx("div",{className:qg("react-pdf__Page__textContent","textLayer"),onMouseUp:H,onMouseDown:F,ref:T})}function M2(){const u=kT(),t=Xg();se(t);const e=Object.assign(Object.assign({},u),t),{imageResourcesPath:s,linkService:r,onGetAnnotationsError:o,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:d,onRenderAnnotationLayerSuccess:p,page:g,pdf:m,renderForms:y,rotate:v,scale:S=1}=e;se(m),se(g),se(r);const[_,T]=lu(),{value:M,error:C}=_,O=it.useRef(null);yn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function N(){M&&c&&c(M)}function F(){C&&(yn(!1,C.toString()),o&&o(C))}it.useEffect(function(){T({type:"RESET"})},[T,g]),it.useEffect(function(){if(!g)return;const V=of(g.getAnnotations()),et=V;return V.promise.then(nt=>{T({type:"RESOLVE",value:nt})}).catch(nt=>{T({type:"REJECT",error:nt})}),()=>{ll(et)}},[T,g]),it.useEffect(()=>{if(M!==void 0){if(M===!1){F();return}N()}},[M]);function H(){p&&p()}function U(Y){yn(!1,`${Y}`),d&&d(Y)}const I=it.useMemo(()=>g.getViewport({scale:S,rotation:v}),[g,v,S]);return it.useEffect(function(){if(!m||!g||!r||!M)return;const{current:V}=O;if(!V)return;const et=I.clone({dontFlip:!0}),nt={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:V,l10n:null,page:g,structTreeLayer:null,viewport:et},ht={annotations:M,annotationStorage:m.annotationStorage,div:V,imageResourcesPath:s,linkService:r,page:g,renderForms:y,viewport:et};V.innerHTML="";try{new wT(nt).render(ht),H()}catch(ut){U(ut)}return()=>{}},[M,s,r,g,m,y,I]),q.jsx("div",{className:qg("react-pdf__Page__annotations","annotationLayer"),ref:O})}var D2=function(u,t){var e={};for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&t.indexOf(s)<0&&(e[s]=u[s]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(u);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(u,s[r])&&(e[s[r]]=u[s[r]]);return e};const XE=1;function O2(u){const t=kT(),e=Object.assign(Object.assign({},t),u),{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:o,canvasRef:c,children:d,className:p,customRenderer:g,customTextRenderer:m,devicePixelRatio:y,error:v="Failed to load the page.",height:S,inputRef:_,loading:T="Loading page…",noData:M="No page specified.",onGetAnnotationsError:C,onGetAnnotationsSuccess:O,onGetStructTreeError:N,onGetStructTreeSuccess:F,onGetTextError:H,onGetTextSuccess:U,onLoadError:I,onLoadSuccess:Y,onRenderAnnotationLayerError:V,onRenderAnnotationLayerSuccess:et,onRenderError:nt,onRenderSuccess:ht,onRenderTextLayerError:ut,onRenderTextLayerSuccess:ft,pageIndex:mt,pageNumber:$,pdf:Z,registerPage:tt,renderAnnotationLayer:Ct=!0,renderForms:L=!1,renderMode:Q="canvas",renderTextLayer:lt=!0,rotate:rt,scale:st=XE,unregisterPage:_t,width:pt}=e,Et=D2(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Ot,Vt]=lu(),{value:St,error:on}=Ot,Di=it.useRef(null);se(Z);const Bt=Zr($)?$-1:mt??null,le=$??(Zr(mt)?mt+1:null),Ee=rt??(St?St.rotate:null),ce=it.useMemo(()=>{if(!St)return null;let Ts=1;const xs=st??XE;if(pt||S){const pl=St.getViewport({scale:1,rotation:Ee});pt?Ts=pt/pl.width:S&&(Ts=S/pl.height)}return xs*Ts},[S,St,Ee,st,pt]);it.useEffect(function(){return()=>{Zr(Bt)&&r&&_t&&_t(Bt)}},[r,Z,Bt,_t]);function Zi(){if(Y){if(!St||!ce)return;Y(qv(St,ce))}if(r&&tt){if(!Zr(Bt)||!Di.current)return;tt(Bt,Di.current)}}function Ji(){on&&(yn(!1,on.toString()),I&&I(on))}it.useEffect(function(){Vt({type:"RESET"})},[Vt,Z,Bt]),it.useEffect(function(){if(!Z||!le)return;const xs=of(Z.getPage(le)),pl=xs;return xs.promise.then(gl=>{Vt({type:"RESOLVE",value:gl})}).catch(gl=>{Vt({type:"REJECT",error:gl})}),()=>ll(pl)},[Vt,Z,le]),it.useEffect(()=>{if(St!==void 0){if(St===!1){Ji();return}Zi()}},[St,ce]);const hu=it.useMemo(()=>St&&Zr(Bt)&&le&&Zr(Ee)&&Zr(ce)?{_className:s,canvasBackground:o,customTextRenderer:m,devicePixelRatio:y,onGetAnnotationsError:C,onGetAnnotationsSuccess:O,onGetStructTreeError:N,onGetStructTreeSuccess:F,onGetTextError:H,onGetTextSuccess:U,onRenderAnnotationLayerError:V,onRenderAnnotationLayerSuccess:et,onRenderError:nt,onRenderSuccess:ht,onRenderTextLayerError:ut,onRenderTextLayerSuccess:ft,page:St,pageIndex:Bt,pageNumber:le,renderForms:L,renderTextLayer:lt,rotate:Ee,scale:ce}:null,[s,o,m,y,C,O,N,F,H,U,V,et,nt,ht,ut,ft,St,Bt,le,L,lt,Ee,ce]),du=it.useMemo(()=>MT(Et,()=>St&&(ce?qv(St,ce):void 0)),[Et,St,ce]),Ta=`${Bt}@${ce}/${Ee}`;function Yg(){switch(Q){case"custom":return se(g),q.jsx(g,{},`${Ta}_custom`);case"none":return null;case"canvas":default:return q.jsx(x2,{canvasRef:c},`${Ta}_canvas`)}}function Kg(){return lt?q.jsx(C2,{},`${Ta}_text`):null}function oi(){return Ct?q.jsx(M2,{},`${Ta}_annotations`):null}function $g(){return q.jsxs(PT.Provider,{value:hu,children:[Yg(),Kg(),oi(),d]})}function lf(){return le?Z===null||St===void 0||St===null?q.jsx(cc,{type:"loading",children:typeof T=="function"?T():T}):Z===!1||St===!1?q.jsx(cc,{type:"error",children:typeof v=="function"?v():v}):$g():q.jsx(cc,{type:"no-data",children:typeof M=="function"?M():M})}return q.jsx("div",Object.assign({className:qg(s,p),"data-page-number":le,ref:FT(_,Di),style:{"--scale-factor":`${ce}`,backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},du,{children:lf()}))}f2();r0.workerSrc="pdf.worker.mjs";r0.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${CT}/pdf.worker.min.mjs`;function L2({deployment:u,setResume:t,resume:e,setResumeUrl:s,resumeUrl:r}){const[o,c]=it.useState(""),[d,p]=it.useState(null),[g,m]=it.useState(!1),[y,v]=it.useState(!1),S=async I=>{const Y=URL.createObjectURL(I);localStorage.setItem("resume",I.name),localStorage.setItem("resumeUrl",Y),t(I),s(Y)},_=async()=>{c(null),m(!0);const I=new FormData;I.append("resume",e);const Y=await fetch(u+"/summarize-resume",{method:"POST",body:I});if(Y.ok){const V=await Y.json();c(V.summary)}m(!1)},T=async()=>{p(null),v(!0);const I=new FormData;I.append("resume",e);const Y=await fetch(u+"/improve-resume",{method:"POST",body:I});if(Y.ok){const V=await Y.json();p(V.improvements)}v(!1)},M=()=>{r?window.open(r,"_blank"):alert("No resume found in cache.")},C=()=>{if(window.confirm("Are you sure you want to update the resume? This will clear the current resume.")){localStorage.removeItem("resume"),localStorage.removeItem("resumeUrl"),t(null),s(null);const I=document.createElement("input");I.type="file",I.accept="application/pdf",I.onchange=Y=>S(Y.target.files[0]),I.click()}},O=()=>q.jsx("div",{id:"resume-upload-button",children:r?q.jsx("button",{onClick:C,children:"Update Resume"}):q.jsx("input",{type:"file",accept:"application/pdf",onChange:I=>S(I.target.files[0])})}),N=()=>r?q.jsx("div",{id:"resume-preview",children:q.jsx(A2,{file:r,children:q.jsx(O2,{pageNumber:1,renderAnnotationLayer:!1,renderTextLayer:!1})})}):null,F=()=>q.jsxs("div",{id:"resume-summary",children:[(o||g)&&q.jsx("h3",{children:"Resume Summary"}),o?q.jsx("p",{children:o}):q.jsx(zh,{loading:g,message:"Summarizing resume..."})]}),H=()=>q.jsxs("div",{id:"resume-improvements",children:[(d||y)&&q.jsx("h3",{children:"Resume Improvements"}),d?q.jsx("ul",{children:d.map((I,Y)=>q.jsx("li",{class:"resume-improvement",children:I},Y))}):q.jsx(zh,{loading:y,message:"Suggesting improvements..."})]}),U=()=>r?q.jsxs("div",{id:"resume-action-buttons",children:[q.jsx("button",{onClick:M,children:"Show Resume"}),q.jsx("button",{onClick:_,children:"Summarize Resume"}),q.jsx("button",{onClick:T,children:"Suggest Improvements"})]}):null;return q.jsxs("div",{id:"resume-section",children:[q.jsxs("div",{id:"resume-upload-section",children:[q.jsx(O,{}),q.jsx(F,{}),q.jsx(N,{})]})," ",q.jsxs("div",{id:"resume-operations-section",children:[q.jsx(U,{}),q.jsx(H,{})]})]})}function N2({resume:u,jobDescription:t,jobTitle:e,jobCompany:s,deployment:r}){const[o,c]=it.useState(null),[d,p]=it.useState(null),[g,m]=it.useState(null),[y,v]=it.useState(!1),S=async()=>{if(c(null),p(null),u===null){alert("Please upload a resume first.");return}else if(t===""){alert("Please enter a job description and process it first.");return}else if(e===""||s===""){alert("Please process the job description first");return}v(!0);const _=new FormData;_.append("resume",u),_.append("jd",t),_.append("position",e),_.append("company",s),_.append("context",g);const T=await fetch(r+"/generate-additional-msg",{method:"POST",body:_});if(T.ok){const M=await T.json();console.log("Additional message generated:",M.additional_msg),c(M.additional_msg),p(M.improvements)}else console.log("Error generating additional message"),console.log(T.json().then(M=>console.log(M.error)));v(!1)};return q.jsxs("div",{children:[q.jsx("h3",{children:"Additional message with your application"}),q.jsxs("div",{children:[q.jsx("h4",{children:"Context (optional)"}),q.jsx("textarea",{rows:5,id:"additional-msg-context",placeholder:"Additional Message context",onChange:_=>m(_.target.value)})]})," ",q.jsx("button",{id:"gen-additional-msg",onClick:S,children:"Generate Additional Message"})," ",q.jsx(zh,{loading:y,message:"Generating Additional Message"}),o&&q.jsx("div",{id:"additional-msg",children:q.jsx("p",{children:o})}),o&&q.jsxs("p",{id:"additional-msg-characters-count",children:[o.length," characters"]}),d&&q.jsxs("div",{children:[q.jsx("u",{children:"Improvements for final version:"}),q.jsx("ul",{children:d.map((_,T)=>q.jsx("li",{children:_},T))})]})]})}function k2({resume:u,jobDescription:t,jobTitle:e,jobCompany:s,deployment:r}){const[o,c]=it.useState(null),[d,p]=it.useState(null),[g,m]=it.useState(null),[y,v]=it.useState(!1),S=async()=>{if(c(null),p(null),u===null){alert("Please upload a resume first.");return}else if(t===""){alert("Please enter a job description and process it first.");return}else if(e===""||s===""){alert("Please process the job description first");return}v(!0);const _=new FormData;_.append("resume",u),_.append("jd",t),_.append("position",e),_.append("company",s),_.append("context",g);const T=await fetch(r+"/generate-cover-letter",{method:"POST",body:_});if(T.ok){const M=await T.json();console.log("Cover Letter generated:",M.cover_letter),c(M.cover_letter),p(M.improvements)}else console.log("Error generating cover letter"),console.log(T.json().then(M=>console.log(M.error)));v(!1)};return q.jsxs("div",{children:[q.jsx("h3",{children:"Cover Letter"}),q.jsxs("div",{children:[q.jsx("h4",{children:"Context for your cover letter (optional)"}),q.jsx("textarea",{rows:5,id:"cover-letter-context",placeholder:"Cover letter context",onChange:_=>m(_.target.value)})]})," ",q.jsx("button",{id:"gen-cover-letter",onClick:S,children:"Generate Cover Letter"})," ",q.jsx(zh,{loading:y,message:g?"Generating Cover Letter using JB, Resume and User context":"Generating Cover Letter using the Job Description and your resume"}),o&&q.jsxs("div",{id:"cover-letter",children:[q.jsx("p",{id:"cover-letter-greeting",children:o.greeting}),q.jsxs("div",{id:"cover-letter-body",children:[q.jsx("p",{children:o.opening_paragraph}),q.jsx("p",{children:o.body_paragraph}),q.jsx("p",{children:o.closing_paragraph})]}),q.jsxs("div",{id:"cover-letter-signature",children:[q.jsx("p",{children:o.sign_off}),q.jsx("p",{children:o.signature})]})]}),d&&q.jsxs("div",{children:[q.jsx("u",{children:"Improvements for final version:"}),q.jsx("ul",{children:d.map((_,T)=>q.jsx("li",{children:_},T))})]})]})}function F2({resume:u,jobDescription:t,jobTitle:e,jobCompany:s,deployment:r}){return q.jsxs("div",{id:"additional-docs",className:"section-heading",children:[q.jsx("h2",{children:"Additional Documents"}),q.jsxs("p",{children:["Please note, you ",q.jsx("strong",{children:"MUST NOT"})," use this generated document directly. It has been generated based on your resume and job description via a Generative AI and it bound to have a lot of issues and will lack the personal touch of a human. Recruiters and Hiring Managers are capable of easily identifying AI generated documents.",q.jsx("br",{}),"Instead, use it as a starting point for your own document. There will be some suggestions on how to start to improve this generated document. Use them as your guide to make them your own."]}),q.jsx(k2,{resume:u,jobDescription:t,jobTitle:e,jobCompany:s,deployment:r}),q.jsx(N2,{resume:u,jobDescription:t,jobTitle:e,jobCompany:s,deployment:r})]})}function P2({deployment:u}){const[t,e]=it.useState(null),[s,r]=it.useState(null),[o,c]=it.useState(""),[d,p]=it.useState(t),g="https://cdn.brandfetch.io/";it.useEffect(()=>{const T=async()=>{const C=await fetch(u+"/get-apply-data",{method:"GET"});if(C.ok){const O=await C.json();e(O),p(O)}};(async()=>{const C=await fetch(u+"/get-logo-client-id",{method:"GET"});if(C.ok){const O=await C.text();r(O)}})().then(()=>T())},[u]);function m(T){c(T.target.value)}const y=T=>{if(!t)return;T=T.toLowerCase();const M=t.map(C=>{const O=C.data.filter(N=>N.name.toLowerCase().includes(T)||N.portal_link.toLowerCase().includes(T)||N.domain.toLowerCase().includes(T));return O.length>0||C.category.toLowerCase().includes(T)?{...C,data:O.length>0?O:C.data}:null}).filter(Boolean);p(M)};if(it.useEffect(()=>{y(o)},[o]),!t)return q.jsx("div",{children:"Loading the list..."});function v(T){return T=T.company,q.jsxs("a",{className:"apply-button",href:T.portal_link,target:"_blank",rel:"noopener noreferrer",children:[q.jsx("img",{className:"company-logo",src:`${g}${T.domain}?c=${s}`,alt:T.name}),q.jsx("div",{className:"company-name",children:T.name})]})}function S(T){return T=T.category,q.jsxs("div",{className:"apply-category",children:[q.jsx("h2",{className:"category-name",children:T.category}),q.jsx("div",{className:"company-list",children:T.data.map((M,C)=>q.jsx(v,{company:M},C))})]})}function _(T){return T.map((M,C)=>q.jsx(S,{category:M},C))}return q.jsxs("div",{id:"apply-section",children:[q.jsx("h2",{class:"section-heading",children:"APPLY DIRECTLY THROUGH THEIR PORTAL"}),q.jsx("p",{children:"I felt by the time a role was advertised on universal job portals like LinkedIn or Glassdoor, it would be too late to apply. With the current job market, it has become very competitive and a little late is a little too late. Hence, I used to apply directly through each company's portal. The problem was that it was not a structured effort and I used to apply to any company that came to my mind and resonated with me. This section would hence help to improve this process."}),q.jsx("p",{children:"I had also tried to research to find out if there are any data endpoints or public APIs that I could leverage so that I could accumulate all jobs in a single place but unfortunately that wasn't possible. It struck me later that if that would have been possible, most universal job portals would have not been competing for the applicants' attention."}),q.jsx("p",{children:"In some cases, I too felt like going to these universal job portals. Hence I have included them at the end of this section as well."}),q.jsx("h4",{children:"Please Note, there is no affiliation between RaDAR and any of these companies. These are just the direct links to the list of job opportunties there."}),q.jsx("h3",{children:"Happy Applying!"}),q.jsx("input",{type:"text",placeholder:"Search company ...",value:o,onChange:m,id:"search-company"}),o==""?_(t):_(d)]})}function H2({serverStatus:u}){return q.jsxs("div",{id:"introduction-section",children:[q.jsx("div",{id:"website-title",children:"RaDAR"}),q.jsx("div",{id:"server-status",children:u}),q.jsx("h3",{id:"website-subtitle",children:"Resume and Description Analysis Resource"}),q.jsx("p",{children:"Job Search can be a very daunting journey, one filled with a lot of failures. I, myself, am currently (as of March 2025) going through the same journey. With the current job market, the competition has become very tough. From layoffs going on one side of the industry, to even experienced candidates applying for entry level roles, getting an opportunity has never felt short of a battle."}),q.jsx("p",{children:"Anything help or guidance at this instance can be a blessing in disguise. Any suggestion for resume improvement, any suggestion for job hunting strategy improvement, anything could be your edge against other candidates out there. So I decided to create a tool that can help you in your job search journey."}),q.jsx("p",{children:"RaDAR is a tool I came up with which incorporates all the suggestions I have ever been given to optimize my job search, improve my resume, and improve my job hunting strategy."})]})}function z2({deployment:u,setJobDescription:t,jobDescription:e,setJobTitle:s,setJobCompany:r,jobCompany:o,jobTitle:c}){const[d,p]=it.useState(null),[g,m]=it.useState(null),[y,v]=it.useState(""),[S,_]=it.useState(!1),T=async()=>{if(y===""){alert("Please enter a job description.");return}_(!0),t(y);const F=await fetch(u+"/process-job-description",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jd:y})});if(F.ok){const H=await F.json();console.log(y),console.log("Job Description Processed:",H),s(H.title),r(H.company),p(H.keywords),m(H.notes)}_(!1)},M=()=>q.jsx("textarea",{id:"jd-input",rows:20,value:y,onChange:F=>v(F.target.value),placeholder:"Paste job description here...",wrap:"soft"}),C=()=>!c||!o?null:q.jsxs("p",{children:[q.jsx("b",{children:"Job Details:"}),q.jsx("br",{}),c&&q.jsx("span",{children:c})," at ",o&&q.jsx("span",{children:o})]}),O=()=>d?q.jsxs("div",{children:[q.jsx("b",{children:"Suggested keywords"})," to be included in the application:",q.jsx("ul",{id:"jd-keywords-section",children:d.map((F,H)=>q.jsx("li",{class:"jd-keyword",children:F},H))})]}):null,N=()=>g?q.jsxs("div",{children:[q.jsx("u",{children:"Note:"}),q.jsx("ul",{children:g.map((F,H)=>q.jsx("li",{children:F},H))})]}):null;return q.jsxs("div",{id:"jd-section",children:[q.jsx("h2",{className:"section-heading",children:"Job Description"}),q.jsx(M,{})," ",q.jsx("button",{onClick:T,children:"Process Job Description"})," ",q.jsx(zh,{loading:S,message:"Processing the Job Description"}),q.jsx(C,{}),q.jsx(O,{}),q.jsx(N,{})]})}function j2(){const[u,t]=it.useState("🟡 Initialising..."),[e,s]=it.useState(null),[r,o]=it.useState(null),[c,d]=it.useState(""),[p,g]=it.useState(null),[m,y]=it.useState(null),v="https://radar-backend-o1yd.onrender.com";return it.useEffect(()=>{async function S(){try{(await xe.get(v+"/hello-server")).status===200&&(t("🟢 Online"),console.log("RaDAR Online!"))}catch(_){t("🔴 Offline"),alert("Server response: "+_+". Report back to the developer.")}}S()},[]),q.jsxs("div",{children:[q.jsx(H2,{serverStatus:u}),q.jsx(L2,{deployment:v,setResume:s,resume:e,setResumeUrl:o,resumeUrl:r}),q.jsx(z2,{deployment:v,setJobDescription:d,jobDescription:c,setJobTitle:g,jobTitle:p,setJobCompany:y,jobCompany:m})," ",q.jsx(F2,{resume:e,jobDescription:c,jobTitle:p,jobCompany:m,deployment:v}),"   ",q.jsx(P2,{deployment:v})]})}mC.createRoot(document.getElementById("root")).render(q.jsx(it.StrictMode,{children:q.jsx(j2,{})}));
